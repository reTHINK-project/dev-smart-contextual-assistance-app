webpackJsonp([1],{0:function(n,e,l){n.exports=l("cDNt")},"8Sw2":function(n,e,l){function t(n){return l(o(n))}function o(n){var e=u[n];if(!(e+1))throw new Error("Cannot find module '"+n+"'.");return e}var u={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bm":"mH+W","./bm.js":"mH+W","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es-us":"RJPF","./es-us.js":"RJPF","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./gu":"yUwm","./gu.js":"yUwm","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};t.keys=function(){return Object.keys(u)},t.resolve=o,n.exports=t,t.id="8Sw2"},"8mL/":function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t={alert:'\n        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">\n            <path d="M0 0h24v24H0z" fill="none"/>\n            <path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>\n        </svg>\n    ',error:'\n        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">\n            <path d="M0 0h24v24H0V0z" fill="none"/>\n            <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>\n        </svg>\n    ',info:'\n        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">\n            <path d="M0 0h24v24H0z" fill="none"/>\n            <path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/>\n        </svg>\n    ',success:'\n        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">\n            <path d="M0 0h24v24H0z" fill="none"/>\n            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>\n        </svg>\n    ',warn:'\n        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="64" viewBox="0 0 64 64" height="64">\n          <circle cx="32.086" cy="50.142" r="2.256"/>\n          <path d="M30.08 25.012V42.32c0 1.107.897 2.005 2.006 2.005s2.006-.897 2.006-2.005V25.012c0-1.107-.897-2.006-2.006-2.006s-2.006.898-2.006 2.006z"/>\n          <path d="M63.766 59.234L33.856 3.082c-.697-1.308-2.844-1.308-3.54 0L.407 59.234c-.331.622-.312 1.372.051 1.975.362.605 1.015.975 1.72.975h59.816c.705 0 1.357-.369 1.721-.975.361-.603.381-1.353.051-1.975zM5.519 58.172L32.086 8.291l26.568 49.881H5.519z"/>\n        </svg>\n    ',custom:function(n){return'<img alt="'+n+'" class="rounded-circle w-100" src='+n+">"}}},TxpZ:function(n,e,l){"use strict";l.d(e,"NotificationsModule",function(){return i});var t=l("qZel"),o=l("lWXr");l.n(o);l.o(o,"NotificationsService")&&l.d(e,"NotificationsService",function(){return o.NotificationsService});var u=l("oH8m");l.n(u);l.o(u,"NotificationsService")&&l.d(e,"NotificationsService",function(){return u.NotificationsService});l("8mL/"),l("nuyq"),l("tqUc"),l("r1P6");l.d(e,"NotificationsService",function(){return t.a});var i=function(){function n(){}return n.forRoot=function(){return{ngModule:n,providers:[t.a]}},n}()},cDNt:function(n,e,l){"use strict";function t(n){var e=Object.create(null);return n.forEach(function(n,l){e[l]=n}),e}function o(n){return new Promise(function(e,l){navigator.mediaDevices.getUserMedia(n).then(function(n){e(n)}).catch(function(n){l(n)})})}function u(n){console.log("isAnUser - name:",n);var e=[];-1!==n.indexOf("-")?e=n.split("-"):e.push(n),console.log("isAnUser - users:",e);var l=e.map(function(n){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/;return console.log("isAnUser:",e.test(n)),e.test(n)});return console.log(l),l[0]&&l[1]}function i(n,e){var l=Ae.appPrefix,t=Ae.splitChar,o=new RegExp(/%40/g);-1!==n.indexOf("?")&&(n=n.substring(0,n.lastIndexOf("?"))),n=n.toLowerCase(),n=n.replace(o,"@");var i={},r=[];if(-1!==n.indexOf("/")?(r=n.split("/"),r[0]=l):(e||r.push(l),r.push(n)),e){e.split(t).reduceRight(function(n,e){return n.unshift(e),n},r)}console.log("Splited: ",n,e,r);var s="user"===r[3]?r[4]:r[3],a="user"!==r[2]||!u(r[3]);a||(s=r[3]);var c=r[0]+t+r[1],d=a?r[2]:null,m=s||null;return c&&(i.id=c,i.name=r[1],i.parent=null),d&&(i.id=c+t+d,i.name=d,i.parent=c),m&&(i.id=c+t+(d?d+t:"")+m,i.name=m,i.parent=c+(d?t+d:"")),console.log("Normalized Path:",i),i}function r(n,e){var l=Ae.splitChar,t=n.split(l),o={},u=t[1],i=t[2],r=t[3];if(u&&(o.context=u),i&&(o.context=u,o.task=i),r&&(o.context=u,o.task=i,r.includes("@")&&r.includes("-"))){var s=r.split("-");e&&s.splice(s.indexOf(e),1),o.user=s[0]}return o}function s(n,e){var l=Ae.splitChar,t=new RegExp(/%40/g);n=n.replace(t,"@"),-1!==n.indexOf("?")&&(n=n.substring(0,n.lastIndexOf("?")));var o=n.split("/");if(o[0]=Ae.appPrefix,n.includes("@")&&e){var u=o.length-1,i=o[u],r=i;i.includes(e)||(r=i+"-"+e),o[u]=r}var s=o.join(l);return console.log("AQUI:",n,e,o,s),s}function a(n){var e=Ae.appPrefix,l=Ae.splitChar,t="";return n.includes(e)&&(t=n.replace(e+l,"")),console.log("ObjectToPath: ",n," | ",t),t}function c(n,e){return-1!==n.indexOf("-")&&-1!==n.indexOf("@")&&n.includes(e)?n.replace(e,"").replace("-",""):n}function d(n,e){if(n.includes("@")){var l=n.split("-"),t=l[0],o=l[1],u=t+"-"+o,i=o+"-"+t;e.name===u?n=u:e.name===i&&(n=i)}return console.log("[ContextualCommData Service] - getting Context By Name: ",e.name,n,e.name===n),e.name===n}function m(n){return new RegExp(/([a-zA-Z]+):\/\//,"i").test(n)}function p(n){return JSON.parse(JSON.stringify(n))}function f(n){if(null==n)return!0;if(n.length>0)return!1;if(0===n.length)return!0;if("object"!=typeof n)return!0;for(var e in n)if(je.call(n,e))return!1;return!0}function v(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,16,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](2,0,null,null,1,"span",[],[[8,"hidden",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["This context name already taken"])),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](5,0,null,null,1,"span",[],[[8,"hidden",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Don't forget the context name."])),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](8,0,null,null,1,"span",[],[[8,"hidden",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Contexts names can't contain spaces, periods, or most punctuation."])),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](11,0,null,null,1,"span",[],[[8,"hidden",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Name must be at least 4 characters long."])),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](14,0,null,null,1,"span",[],[[8,"hidden",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Name cannot be more than 22 characters long."])),(n()(),ge["\u0275ted"](-1,null,["\n                "]))],null,function(n,e){var l=e.component;n(e,2,0,!l.complexForm.controls.name.errors.exist),n(e,5,0,!l.complexForm.controls.name.errors.required),n(e,8,0,!l.complexForm.controls.name.errors.pattern),n(e,11,0,!l.complexForm.controls.name.errors.minlength),n(e,14,0,!l.complexForm.controls.name.errors.maxlength)})}function h(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,7,"label",[["class","btn btn-primary mt-1 mb-1"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),ge["\u0275did"](1,16384,null,0,vl.a,[],null,null),(n()(),ge["\u0275ted"](-1,null,["\n                    "])),(n()(),ge["\u0275eld"](3,0,null,null,1,"input",[["autocomplete","off"],["name","icon"],["ngbButton",""],["type","radio"]],[[8,"id",0],[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(n,e,l){var t=!0;if("change"===e){t=!1!==ge["\u0275nov"](n,4).onChange()&&t}if("focus"===e){t=!1!=(ge["\u0275nov"](n,4).focused=!0)&&t}if("blur"===e){t=!1!=(ge["\u0275nov"](n,4).focused=!1)&&t}return t},null,null)),ge["\u0275did"](4,147456,null,0,hl.a,[hl.b,vl.a,ge.Renderer2,ge.ElementRef],{name:[0,"name"],value:[1,"value"]},null),(n()(),ge["\u0275ted"](-1,null,["\n                    "])),(n()(),ge["\u0275eld"](6,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "]))],function(n,e){n(e,4,0,"icon",ge["\u0275inlineInterpolate"](1,"",e.context.$implicit,""))},function(n,e){n(e,0,0,!0,ge["\u0275nov"](e,1).active,ge["\u0275nov"](e,1).disabled,ge["\u0275nov"](e,1).focused),n(e,3,0,ge["\u0275inlineInterpolate"](1,"icon-",e.context.$implicit,""),ge["\u0275nov"](e,4).checked,ge["\u0275nov"](e,4).disabled,ge["\u0275nov"](e,4).nameAttr),n(e,6,0,ge["\u0275inlineInterpolate"](1,"fa fa-",e.context.$implicit,""))})}function g(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),ge["\u0275did"](1,147456,null,0,gl.p,[ge.ElementRef,ge.Renderer2,[2,gl.s]],{value:[0,"value"]},null),ge["\u0275did"](2,147456,null,0,gl.x,[ge.ElementRef,ge.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),ge["\u0275ted"](3,null,["",""]))],function(n,e){n(e,1,0,e.context.$implicit.id),n(e,2,0,e.context.$implicit.id)},function(n,e){n(e,3,0,e.context.$implicit.name)})}function y(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,4,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](2,0,null,null,1,"span",[],[[8,"hidden",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Main context is required"])),(n()(),ge["\u0275ted"](-1,null,["\n                "]))],null,function(n,e){n(e,2,0,!e.component.complexForm.controls.parent.errors.required)})}function C(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,25,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](2,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Select the main context"])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275eld"](5,0,null,null,16,"select",[["class","form-control"],["formControlName","parent"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,e,l){var t=!0;if("change"===e){t=!1!==ge["\u0275nov"](n,6).onChange(l.target.value)&&t}if("blur"===e){t=!1!==ge["\u0275nov"](n,6).onTouched()&&t}return t},null,null)),ge["\u0275did"](6,16384,null,0,gl.s,[ge.Renderer2,ge.ElementRef],null,null),ge["\u0275prd"](1024,null,gl.j,function(n){return[n]},[gl.s]),ge["\u0275did"](8,671744,null,0,gl.f,[[3,gl.b],[8,null],[8,null],[2,gl.j]],{name:[0,"name"]},null),ge["\u0275prd"](2048,null,gl.k,null,[gl.f]),ge["\u0275did"](10,16384,null,0,gl.l,[gl.k],null,null),ge["\u0275did"](11,540672,null,0,gl.e,[[8,null],[8,null],[2,gl.j]],{form:[0,"form"]},null),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](13,0,null,null,3,"option",[["selected",""],["value","null"]],null,null,null,null,null)),ge["\u0275did"](14,147456,null,0,gl.p,[ge.ElementRef,ge.Renderer2,[2,gl.s]],{value:[0,"value"]},null),ge["\u0275did"](15,147456,null,0,gl.x,[ge.ElementRef,ge.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),ge["\u0275ted"](-1,null,["Choose..."])),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275and"](16777216,null,null,2,null,g)),ge["\u0275did"](19,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),ge["\u0275pid"](131072,ll.b,[ge.ChangeDetectorRef]),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,y)),ge["\u0275did"](24,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n              "]))],function(n,e){var l=e.component;n(e,8,0,"parent"),n(e,11,0,l.complexForm.controls.parent);n(e,14,0,"null");n(e,15,0,"null"),n(e,19,0,ge["\u0275unv"](e,19,0,ge["\u0275nov"](e,20).transform(l.contextualComms))),n(e,24,0,l.complexForm.controls.parent.errors)},function(n,e){var l=e.component;n(e,0,0,ge["\u0275inlineInterpolate"](1,"form-group ",l.complexForm.controls.parent.errors?"is-invalid":"is-valid","")),n(e,5,0,ge["\u0275nov"](e,10).ngClassUntouched,ge["\u0275nov"](e,10).ngClassTouched,ge["\u0275nov"](e,10).ngClassPristine,ge["\u0275nov"](e,10).ngClassDirty,ge["\u0275nov"](e,10).ngClassValid,ge["\u0275nov"](e,10).ngClassInvalid,ge["\u0275nov"](e,10).ngClassPending)})}function x(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](1,0,null,null,81,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](3,0,null,null,78,"div",[["class","col-12 col-md-10 col-lg-5"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](5,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](7,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalLabel"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](8,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275eld"](10,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.dismiss("Cross click")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](12,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\xd7"])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275eld"](17,0,null,null,54,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275eld"](19,0,null,null,51,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275eld"](21,0,null,null,48,"form",[["class","w-100 text-left"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0,o=n.component;if("submit"===e){t=!1!==ge["\u0275nov"](n,23).onSubmit(l)&&t}if("reset"===e){t=!1!==ge["\u0275nov"](n,23).onReset()&&t}if("ngSubmit"===e){t=!1!==o.submitForm(o.complexForm.value)&&t}if("submit"===e){t=!1!==n.context.dismiss("success")&&t}return t},null,null)),ge["\u0275did"](22,16384,null,0,gl.v,[],null,null),ge["\u0275did"](23,540672,[["createContextForm",4]],0,gl.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),ge["\u0275prd"](2048,null,gl.b,null,[gl.g]),ge["\u0275did"](25,16384,null,0,gl.m,[gl.b],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](27,0,null,null,20,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](29,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Context Name"])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275eld"](32,0,null,null,6,"input",[["aria-describedby","nameHelp"],["formControlName","name"],["id","name"],["placeholder","Context name"],["type","text"]],[[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,o=n.component;if("input"===e){t=!1!==ge["\u0275nov"](n,33)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==ge["\u0275nov"](n,33).onTouched()&&t}if("compositionstart"===e){t=!1!==ge["\u0275nov"](n,33)._compositionStart()&&t}if("compositionend"===e){t=!1!==ge["\u0275nov"](n,33)._compositionEnd(l.target.value)&&t}if("keyup"===e){t=!1!==o.onTextChange(l)&&t}if("blur"===e){t=!1!==o.onLostFocus(l)&&t}return t},null,null)),ge["\u0275did"](33,16384,null,0,gl.c,[ge.Renderer2,ge.ElementRef,[2,gl.a]],null,null),ge["\u0275prd"](1024,null,gl.j,function(n){return[n]},[gl.c]),ge["\u0275did"](35,671744,null,0,gl.f,[[3,gl.b],[8,null],[8,null],[2,gl.j]],{name:[0,"name"]},null),ge["\u0275prd"](2048,null,gl.k,null,[gl.f]),ge["\u0275did"](37,16384,null,0,gl.l,[gl.k],null,null),ge["\u0275did"](38,540672,null,0,gl.e,[[8,null],[8,null],[2,gl.j]],{form:[0,"form"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,v)),ge["\u0275did"](42,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](45,0,null,null,1,"small",[["class","form-text text-muted"],["id","nameHelp"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Contexts names must be lowercase, without spaces or periods, and shorter than 22 characters"])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](49,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](51,0,null,null,1,"label",[["for","icon"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Icons"])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275eld"](54,0,null,null,10,"div",[["class","form-control btn-group"],["data-toggle","buttons"],["formControlName","icon"],["id","icons"],["name","icon"],["ngbRadioGroup",""],["role","group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),ge["\u0275did"](55,16384,null,0,hl.b,[],{name:[0,"name"]},null),ge["\u0275prd"](1024,null,gl.j,function(n){return[n]},[hl.b]),ge["\u0275did"](57,671744,null,0,gl.f,[[3,gl.b],[8,null],[8,null],[2,gl.j]],{name:[0,"name"]},null),ge["\u0275prd"](2048,null,gl.k,null,[gl.f]),ge["\u0275did"](59,16384,null,0,gl.l,[gl.k],null,null),ge["\u0275did"](60,540672,null,0,gl.e,[[8,null],[8,null],[2,gl.j]],{form:[0,"form"]},null),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,h)),ge["\u0275did"](63,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,C)),ge["\u0275did"](68,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275eld"](73,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](75,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.close("Close click")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["Close"])),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](78,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,23).ngSubmit.emit()&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["Save changes"])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n"]))],function(n,e){var l=e.component;n(e,23,0,l.complexForm);n(e,35,0,"name"),n(e,38,0,l.complexForm.controls.name),n(e,42,0,l.complexForm.controls.name.errors);n(e,55,0,"icon");n(e,57,0,"icon"),n(e,60,0,l.complexForm.controls.icon),n(e,63,0,l.icons),n(e,68,0,l.complexForm.controls.parent.value)},function(n,e){var l=e.component;n(e,8,0,l.title),n(e,21,0,ge["\u0275nov"](e,25).ngClassUntouched,ge["\u0275nov"](e,25).ngClassTouched,ge["\u0275nov"](e,25).ngClassPristine,ge["\u0275nov"](e,25).ngClassDirty,ge["\u0275nov"](e,25).ngClassValid,ge["\u0275nov"](e,25).ngClassInvalid,ge["\u0275nov"](e,25).ngClassPending),n(e,32,0,ge["\u0275inlineInterpolate"](1,"form-control ",l.complexForm.controls.name.errors?"is-invalid":"is-valid",""),ge["\u0275nov"](e,37).ngClassUntouched,ge["\u0275nov"](e,37).ngClassTouched,ge["\u0275nov"](e,37).ngClassPristine,ge["\u0275nov"](e,37).ngClassDirty,ge["\u0275nov"](e,37).ngClassValid,ge["\u0275nov"](e,37).ngClassInvalid,ge["\u0275nov"](e,37).ngClassPending),n(e,54,0,ge["\u0275nov"](e,59).ngClassUntouched,ge["\u0275nov"](e,59).ngClassTouched,ge["\u0275nov"](e,59).ngClassPristine,ge["\u0275nov"](e,59).ngClassDirty,ge["\u0275nov"](e,59).ngClassValid,ge["\u0275nov"](e,59).ngClassInvalid,ge["\u0275nov"](e,59).ngClassPending),n(e,78,0,!l.complexForm.valid)})}function b(n){return ge["\u0275vid"](0,[ge["\u0275qud"](402653184,1,{el:0}),(n()(),ge["\u0275and"](0,[[1,2],["content",2]],null,0,null,x)),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](4,0,null,null,3,"a",[["class","w-100 float-left"],["href","javascript:;"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.open(ge["\u0275nov"](n,1))&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["new context\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],null,null)}function w(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"add-contextualcomm-view",[],[[8,"className",0]],null,null,b,Sl)),ge["\u0275did"](1,245760,null,0,xl,[be.m,gl.d,be.a,bl.a,Ke,ol,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function S(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](1,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](3,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](4,null,["DELETE ","?"])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](6,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.dismiss("Cross click")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](8,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\xd7"])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](13,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n     "])),(n()(),ge["\u0275eld"](15,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Do you really want to "])),(n()(),ge["\u0275eld"](17,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["delete"])),(n()(),ge["\u0275ted"](19,null,[" the "," context?"])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](22,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](24,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.close("no")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["No"])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](27,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.close("yes")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["Yes"])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],null,function(n,e){var l=e.component;n(e,4,0,l.context.name),n(e,19,0,l.context.name)})}function R(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275and"](0,[["content",2]],null,0,null,S)),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275eld"](2,0,null,null,1,"a",[["class","remove float-right"],["href","javascript:;"]],[[8,"title",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.open(ge["\u0275nov"](n,0))&&t}return t},null,null)),(n()(),ge["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-remove"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n"]))],null,function(n,e){var l=e.component;n(e,2,0,ge["\u0275inlineInterpolate"](1,"Delete the ",l.context.name,""))})}function k(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"remove-contextualcomm-view",[],null,null,null,R,El)),ge["\u0275did"](1,114688,null,0,Rl,[bl.a],null,null)],function(n,e){n(e,1,0)},null)}function E(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,8,"div",[["class","user-status float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](2,0,null,null,0,"img",[["class","rounded-circle"]],[[8,"alt",0],[8,"src",4]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](4,0,null,null,3,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](6,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](10,0,null,null,7,"div",[["class","user-profile float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](12,0,null,null,1,"h3",[["class","contact-name"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](13,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](15,0,null,null,1,"span",[["class","extra-info text-truncate"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](16,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],null,function(n,e){var l=e.component;n(e,2,0,ge["\u0275inlineInterpolate"](1,"",l.model.avatar,""),ge["\u0275inlineInterpolate"](1,"",l.model.avatar,"")),n(e,4,0,ge["\u0275inlineInterpolate"](1,"status ",l.model.status,"")),n(e,6,0,ge["\u0275inlineInterpolate"](1,"fa fa-circle","unavailable"===l.model.status?"-o":"","")),n(e,13,0,l.model.cn),n(e,16,0,l.model.domain)})}function I(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"user-identity",[],[[8,"className",0]],null,null,E,Al)),ge["\u0275did"](1,114688,null,0,Il,[],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function O(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](1,0,null,null,1,"user-identity",[],[[8,"className",0]],null,null,E,Al)),ge["\u0275did"](2,114688,null,0,Il,[],{model:[0,"model"]},null),(n()(),ge["\u0275ted"](-1,null,["\n              "]))],function(n,e){n(e,2,0,e.context.result)},function(n,e){n(e,1,0,ge["\u0275nov"](e,2).hostClass)})}function A(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](1,0,null,null,120,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](3,0,null,null,117,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](5,0,null,null,9,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](7,0,null,null,0,"h5",[["class","modal-title"],["id","modalTitle"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](9,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.dismiss("Cross click")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](11,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\xd7"])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](16,0,null,null,103,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](18,0,null,null,100,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](20,0,null,null,97,"div",[["class","row"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275eld"](22,0,null,null,41,"div",[["class","col-sm-12 col-md-6"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](24,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](26,0,null,null,1,"h5",[["class","modal-title"],["id","addUserTitle"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Add User"])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275and"](0,[["rt",2]],null,0,null,O)),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](32,0,null,null,17,"div",[["class","form-group search-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](34,0,null,null,14,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](36,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocomplete","off"],["autocorrect","off"],["class","form-control"],["id","typeahead-template"],["placeholder","Type the name of the user"],["role","combobox"],["type","text"]],[[2,"open",null],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],["document","click"],[null,"keydown"]],function(n,e,l){var t=!0,o=n.component;if("input"===e){t=!1!==ge["\u0275nov"](n,37)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==ge["\u0275nov"](n,37).onTouched()&&t}if("compositionstart"===e){t=!1!==ge["\u0275nov"](n,37)._compositionStart()&&t}if("compositionend"===e){t=!1!==ge["\u0275nov"](n,37)._compositionEnd(l.target.value)&&t}if("blur"===e){t=!1!==ge["\u0275nov"](n,38).handleBlur()&&t}if("document:click"===e){t=!1!==ge["\u0275nov"](n,38).dismissPopup()&&t}if("keydown"===e){t=!1!==ge["\u0275nov"](n,38).handleKeyDown(l)&&t}if("ngModelChange"===e){t=!1!==(o.searchResultModel=l)&&t}return t},null,null)),ge["\u0275did"](37,16384,null,0,gl.c,[ge.Renderer2,ge.ElementRef,[2,gl.a]],null,null),ge["\u0275did"](38,212992,null,0,Pl.a,[ge.ElementRef,ge.ViewContainerRef,ge.Renderer2,ge.Injector,ge.ComponentFactoryResolver,Ul.a,ge.NgZone],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultTemplate:[2,"resultTemplate"]},null),ge["\u0275prd"](1024,null,gl.j,function(n,e){return[n,e]},[gl.c,Pl.a]),ge["\u0275did"](40,671744,null,0,gl.o,[[8,null],[8,null],[8,null],[2,gl.j]],{model:[0,"model"]},{update:"ngModelChange"}),ge["\u0275prd"](2048,null,gl.k,null,[gl.o]),ge["\u0275did"](42,16384,null,0,gl.l,[gl.k],null,null),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](44,0,null,null,3,"span",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                    "])),(n()(),ge["\u0275eld"](46,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](51,0,null,null,5,"ngb-progressbar",[["type","info"]],[[4,"display",null]],null,null,jl.b,jl.a)),ge["\u0275did"](52,49152,null,0,Tl.a,[Ml.a],{animated:[0,"animated"],striped:[1,"striped"],type:[2,"type"],value:[3,"value"]},null),(n()(),ge["\u0275ted"](-1,0,["\n                "])),(n()(),ge["\u0275eld"](54,0,null,0,1,"i",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Inviting"])),(n()(),ge["\u0275ted"](-1,0,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](58,0,null,null,4,"div",[["class","fx-login-submit"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](60,0,null,null,1,"button",[["class","btn btn-success float-right"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.addUser()&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["Add user"])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275eld"](65,0,null,null,51,"div",[["class","col-sm-12 col-md-6"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](67,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](69,0,null,null,1,"h5",[["class","modal-title"],["id","inviteUserTitle"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Invite Users"])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](73,0,[["inviteForm",1]],null,42,"form",[["class","invite"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0,o=n.component;if("submit"===e){t=!1!==ge["\u0275nov"](n,75).onSubmit(l)&&t}if("reset"===e){t=!1!==ge["\u0275nov"](n,75).onReset()&&t}if("submit"===e){t=!1!==o.submitEvent(ge["\u0275nov"](n,73).value)&&t}return t},null,null)),ge["\u0275did"](74,16384,null,0,gl.v,[],null,null),ge["\u0275did"](75,16384,null,0,gl.n,[[8,null],[8,null]],null,null),ge["\u0275prd"](2048,null,gl.b,null,[gl.n]),ge["\u0275did"](77,16384,null,0,gl.m,[gl.b],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275eld"](79,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](81,0,null,null,7,"input",[["class","form-control"],["name","email"],["ngControl","email"],["placeholder","someone@mail.com"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,o=n.component;if("input"===e){t=!1!==ge["\u0275nov"](n,82)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==ge["\u0275nov"](n,82).onTouched()&&t}if("compositionstart"===e){t=!1!==ge["\u0275nov"](n,82)._compositionStart()&&t}if("compositionend"===e){t=!1!==ge["\u0275nov"](n,82)._compositionEnd(l.target.value)&&t}if("ngModelChange"===e){t=!1!==(o.model.email=l)&&t}return t},null,null)),ge["\u0275did"](82,16384,null,0,gl.c,[ge.Renderer2,ge.ElementRef,[2,gl.a]],null,null),ge["\u0275did"](83,16384,null,0,gl.r,[],{required:[0,"required"]},null),ge["\u0275prd"](1024,null,gl.i,function(n){return[n]},[gl.r]),ge["\u0275prd"](1024,null,gl.j,function(n){return[n]},[gl.c]),ge["\u0275did"](86,671744,null,0,gl.o,[[2,gl.b],[2,gl.i],[8,null],[2,gl.j]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ge["\u0275prd"](2048,null,gl.k,null,[gl.o]),ge["\u0275did"](88,16384,null,0,gl.l,[gl.k],null,null),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275eld"](91,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](93,0,null,null,7,"input",[["class","form-control"],["name","domain"],["ngControl","domain"],["placeholder","some.domain.com"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,o=n.component;if("input"===e){t=!1!==ge["\u0275nov"](n,94)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==ge["\u0275nov"](n,94).onTouched()&&t}if("compositionstart"===e){t=!1!==ge["\u0275nov"](n,94)._compositionStart()&&t}if("compositionend"===e){t=!1!==ge["\u0275nov"](n,94)._compositionEnd(l.target.value)&&t}if("ngModelChange"===e){t=!1!==(o.model.domain=l)&&t}return t},null,null)),ge["\u0275did"](94,16384,null,0,gl.c,[ge.Renderer2,ge.ElementRef,[2,gl.a]],null,null),ge["\u0275did"](95,16384,null,0,gl.r,[],{required:[0,"required"]},null),ge["\u0275prd"](1024,null,gl.i,function(n){return[n]},[gl.r]),ge["\u0275prd"](1024,null,gl.j,function(n){return[n]},[gl.c]),ge["\u0275did"](98,671744,null,0,gl.o,[[2,gl.b],[2,gl.i],[8,null],[2,gl.j]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ge["\u0275prd"](2048,null,gl.k,null,[gl.o]),ge["\u0275did"](100,16384,null,0,gl.l,[gl.k],null,null),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275eld"](103,0,null,null,5,"ngb-progressbar",[["type","info"]],[[4,"display",null]],null,null,jl.b,jl.a)),ge["\u0275did"](104,49152,null,0,Tl.a,[Ml.a],{animated:[0,"animated"],striped:[1,"striped"],type:[2,"type"],value:[3,"value"]},null),(n()(),ge["\u0275ted"](-1,0,["\n                  "])),(n()(),ge["\u0275eld"](106,0,null,0,1,"i",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Inviting"])),(n()(),ge["\u0275ted"](-1,0,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n\n                "])),(n()(),ge["\u0275eld"](110,0,null,null,4,"div",[["class","fx-login-submit"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](112,0,null,null,1,"button",[["class","btn btn-success float-right"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Invite"])),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n            "])),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n"]))],function(n,e){var l=e.component;n(e,38,0,l.formatter,l.search,ge["\u0275nov"](e,30)),n(e,40,0,l.searchResultModel);n(e,52,0,!0,!0,"info",100);n(e,83,0,"");n(e,86,0,"email",l.busy,l.model.email);n(e,95,0,"");n(e,98,0,"domain",l.busy,l.model.domain);n(e,104,0,!0,!0,"info",100)},function(n,e){var l=e.component;n(e,1,0,ge["\u0275inlineInterpolate"](1,"row justify-content-md-center add-user-view fade ",l.ready?"visible":"","")),n(e,36,1,[ge["\u0275nov"](e,38).isPopupOpen(),ge["\u0275nov"](e,38).showHint?"both":"list",ge["\u0275nov"](e,38).activeDescendant,ge["\u0275nov"](e,38).isPopupOpen()?ge["\u0275nov"](e,38).popupId:null,ge["\u0275nov"](e,38).isPopupOpen(),ge["\u0275nov"](e,42).ngClassUntouched,ge["\u0275nov"](e,42).ngClassTouched,ge["\u0275nov"](e,42).ngClassPristine,ge["\u0275nov"](e,42).ngClassDirty,ge["\u0275nov"](e,42).ngClassValid,ge["\u0275nov"](e,42).ngClassInvalid,ge["\u0275nov"](e,42).ngClassPending]),n(e,51,0,l.busy?"block":"none"),n(e,60,0,l.busy),n(e,73,0,ge["\u0275nov"](e,77).ngClassUntouched,ge["\u0275nov"](e,77).ngClassTouched,ge["\u0275nov"](e,77).ngClassPristine,ge["\u0275nov"](e,77).ngClassDirty,ge["\u0275nov"](e,77).ngClassValid,ge["\u0275nov"](e,77).ngClassInvalid,ge["\u0275nov"](e,77).ngClassPending),n(e,81,0,ge["\u0275nov"](e,83).required?"":null,ge["\u0275nov"](e,88).ngClassUntouched,ge["\u0275nov"](e,88).ngClassTouched,ge["\u0275nov"](e,88).ngClassPristine,ge["\u0275nov"](e,88).ngClassDirty,ge["\u0275nov"](e,88).ngClassValid,ge["\u0275nov"](e,88).ngClassInvalid,ge["\u0275nov"](e,88).ngClassPending),n(e,93,0,ge["\u0275nov"](e,95).required?"":null,ge["\u0275nov"](e,100).ngClassUntouched,ge["\u0275nov"](e,100).ngClassTouched,ge["\u0275nov"](e,100).ngClassPristine,ge["\u0275nov"](e,100).ngClassDirty,ge["\u0275nov"](e,100).ngClassValid,ge["\u0275nov"](e,100).ngClassInvalid,ge["\u0275nov"](e,100).ngClassPending),n(e,103,0,l.busy?"block":"none"),n(e,112,0,l.busy)})}function L(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275and"](0,[["addUserContent",2]],null,0,null,A)),(n()(),ge["\u0275ted"](-1,null,["\n\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](3,0,null,null,3,"a",[["class","float-left"],["href","javascript:;"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.open(ge["\u0275nov"](n,0))&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Add Contact\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],null,null)}function P(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"add-user-view",[],[[8,"className",0]],null,null,L,Vl)),ge["\u0275did"](1,114688,null,0,Dl,[be.m,bl.a,Qe,Ke,Nl.a,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function U(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"add-contextualcomm-view",[],[[8,"className",0]],null,null,b,Sl)),ge["\u0275did"](1,245760,null,0,xl,[be.m,gl.d,be.a,bl.a,Ke,ol,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function j(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(n,e){n(e,0,0,ge["\u0275inlineInterpolate"](1,"fa fa-",e.parent.context.$implicit.icon,""))})}function T(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"remove-contextualcomm-view",[],null,[[null,"removeEvent"]],function(n,e,l){var t=!0,o=n.component;if("removeEvent"===e){t=!1!==o.removeContext(l,n.parent.context.$implicit)&&t}return t},R,El)),ge["\u0275did"](1,114688,null,0,Rl,[bl.a],{context:[0,"context"]},{removeEvent:"removeEvent"})],function(n,e){n(e,1,0,e.parent.context.$implicit)},null)}function M(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,18,"li",[["class","item p-0 m-0"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](2,0,null,null,12,"a",[["class","link action"],["routerLinkActive","active"]],[[8,"title",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](3,671744,[[3,4]],0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),ge["\u0275pad"](4,1),ge["\u0275did"](5,1720320,null,2,be.n,[be.m,ge.ElementRef,ge.Renderer2,ge.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),ge["\u0275qud"](603979776,2,{links:1}),ge["\u0275qud"](603979776,3,{linksWithHrefs:1}),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,j)),ge["\u0275did"](10,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](12,0,null,null,1,"span",[["class","name"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](13,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,T)),ge["\u0275did"](17,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n      "]))],function(n,e){var l=e.component;n(e,3,0,n(e,4,0,e.context.$implicit.name));n(e,5,0,"active"),n(e,10,0,e.context.$implicit.icon),n(e,17,0,l.allowAddUser)},function(n,e){n(e,2,0,ge["\u0275inlineInterpolate"](1,"Open ",e.context.$implicit.name," context"),ge["\u0275nov"](e,3).target,ge["\u0275nov"](e,3).href),n(e,13,0,e.context.$implicit.name)})}function D(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"add-user-view",[],[[8,"className",0]],null,null,L,Vl)),ge["\u0275did"](1,114688,null,0,Dl,[be.m,bl.a,Qe,Ke,Nl.a,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function N(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"user-identity",[],[[8,"className",0]],null,null,E,Al)),ge["\u0275did"](1,114688,null,0,Il,[],{model:[0,"model"]},null)],function(n,e){n(e,1,0,e.parent.context.$implicit)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function _(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,6,"div",[["class","alert"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](2,0,null,null,1,"span",[["class","new-message"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](3,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-comment-o"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "]))],null,function(n,e){n(e,3,0,e.parent.context.$implicit.unread)})}function V(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,21,"li",[["class","item m-0"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](2,0,null,null,18,"a",[["class","link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](3,671744,[[5,4]],0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),ge["\u0275pad"](4,3),ge["\u0275did"](5,1720320,null,2,be.n,[be.m,ge.ElementRef,ge.Renderer2,ge.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),ge["\u0275qud"](603979776,4,{links:1}),ge["\u0275qud"](603979776,5,{linksWithHrefs:1}),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,N)),ge["\u0275did"](10,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,_)),ge["\u0275did"](13,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](15,0,null,null,4,"div",[["class","pointer"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](17,0,null,null,1,"span",[["class","action chat"]],null,null,null,null,null)),(n()(),ge["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-angle-right"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n      "]))],function(n,e){n(e,3,0,n(e,4,0,e.component.basePath,"user",e.context.$implicit.username));n(e,5,0,"active"),n(e,10,0,e.context.$implicit),n(e,13,0,e.context.$implicit.unread)},function(n,e){n(e,2,0,ge["\u0275nov"](e,3).target,ge["\u0275nov"](e,3).href)})}function F(n){return ge["\u0275vid"](0,[ge["\u0275qud"](402653184,1,{sidebar:0}),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](2,0,null,null,12,"div",[["class","search-bar"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](4,0,null,null,9,"form",[["class","filter"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0;if("submit"===e){t=!1!==ge["\u0275nov"](n,6).onSubmit(l)&&t}if("reset"===e){t=!1!==ge["\u0275nov"](n,6).onReset()&&t}return t},null,null)),ge["\u0275did"](5,16384,null,0,gl.v,[],null,null),ge["\u0275did"](6,16384,null,0,gl.n,[[8,null],[8,null]],null,null),ge["\u0275prd"](2048,null,gl.b,null,[gl.n]),ge["\u0275did"](8,16384,null,0,gl.m,[gl.b],null,null),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](10,0,null,null,0,"span",[["class","fa fa-search"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](12,0,null,null,0,"input",[["class","search push-left"],["placeholder","type a name"],["type","text"]],null,[[null,"keyup"]],function(n,e,l){var t=!0,o=n.component;if("keyup"===e){t=!1!==o.onFilterKey(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275eld"](16,0,null,null,33,"div",[["class","sidebar-content"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](18,0,null,null,13,"div",[["class","contexts float-left w-100 pb-3"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](20,0,null,null,1,"h4",[["class","title float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Contexts"])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,U)),ge["\u0275did"](24,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](26,0,null,null,4,"ul",[["class","context-list p-0"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,M)),ge["\u0275did"](29,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](33,0,null,null,15,"div",[["class","users float-left w-100 pb-3 pt-3"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](35,0,null,null,1,"h4",[["class","title float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Users"])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,D)),ge["\u0275did"](39,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](41,0,null,null,6,"ul",[["class","contact-list"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275and"](16777216,null,null,2,null,V)),ge["\u0275did"](45,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),ge["\u0275pid"](131072,ll.b,[ge.ChangeDetectorRef]),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275eld"](51,0,null,null,1,"footer",[["class","alt-foot"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    Copyright 2016 \xa9 Altice Labs - All rights reserved\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,24,0,l.allowAddUser),n(e,29,0,l.contexts),n(e,39,0,l.allowAddUser),n(e,45,0,ge["\u0275unv"](e,45,0,ge["\u0275nov"](e,46).transform(l.contactsFilter)))},function(n,e){n(e,4,0,ge["\u0275nov"](e,8).ngClassUntouched,ge["\u0275nov"](e,8).ngClassTouched,ge["\u0275nov"](e,8).ngClassPristine,ge["\u0275nov"](e,8).ngClassDirty,ge["\u0275nov"](e,8).ngClassValid,ge["\u0275nov"](e,8).ngClassInvalid,ge["\u0275nov"](e,8).ngClassPending)})}function z(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"context-user-view",[],[[8,"className",0]],null,null,F,Bl)),ge["\u0275did"](1,245760,null,0,Fl,[be.m,be.a,Nl.a,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function B(n){return ge["\u0275vid"](0,[ge["\u0275qud"](402653184,1,{content:0}),ge["\u0275qud"](402653184,2,{sidebar:0}),ge["\u0275qud"](402653184,3,{addUserComponent:0}),(n()(),ge["\u0275eld"](3,16777216,[[2,3],["sidebar",1]],null,5,"div",[["class","col-sm-4 col-lg-3 col-xl-2 sidebar d-xs-none"],["id","sidebar"],["showSidebar",""]],null,null,null,null,null)),ge["\u0275did"](4,4210688,null,0,fl,[ge.ElementRef,ge.Renderer],null,null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](6,0,null,null,1,"context-user-view",[],[[8,"className",0]],null,null,F,Bl)),ge["\u0275did"](7,245760,null,0,Fl,[be.m,be.a,Nl.a,tl],{users:[0,"users"],allowAddUser:[1,"allowAddUser"]},null),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275eld"](10,0,null,null,7,"div",[["class","col-12 col-sm-8 push-sm-4 col-lg-9 push-lg-3 col-xl-10 push-xl-2 main-content"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](12,16777216,[[1,3],["content",1]],null,4,"div",[["class","content-panel"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](14,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ge["\u0275did"](15,212992,null,0,be.q,[be.b,ge.ViewContainerRef,ge.ComponentFactoryResolver,[8,null],ge.ChangeDetectorRef],null,null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,7,0,l.userList,l.allowAddUser),n(e,15,0)},function(n,e){n(e,6,0,ge["\u0275nov"](e,7).hostClass)})}function H(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"context-view",[],[[8,"className",0]],[["window","resize"]],function(n,e,l){var t=!0;if("window:resize"===e){t=!1!==ge["\u0275nov"](n,1).onResize(l)&&t}return t},B,ql)),ge["\u0275did"](1,4440064,null,0,ml,[be.m,be.a,Ge,tl,Ke],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function q(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,3,"span",[["class","chat"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-keyboard-o"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Wrote a Message\n  "]))],null,null)}function K(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,5,"div",[["class","float-right align-right"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](2,0,null,null,2,"span",[["class","date"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](3,null,["",""])),ge["\u0275pid"](131072,Wl.TimeAgoPipe,[ge.ChangeDetectorRef,ge.NgZone]),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](8,0,null,null,23,"div",[["class","user-identity"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](10,0,null,null,8,"div",[["class","user-status float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](12,0,null,null,0,"img",[["class","rounded-circle"]],[[8,"alt",0],[8,"src",4]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](14,0,null,null,3,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](16,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](20,0,null,null,10,"div",[["class","user-profile"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](22,0,null,null,4,"h3",[["class","contact-name"]],null,null,null,null,null)),(n()(),ge["\u0275eld"](23,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,24).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](24,671744,null,0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),ge["\u0275pad"](25,2),(n()(),ge["\u0275ted"](26,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](28,0,null,null,1,"span",[["class","extra-info"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](29,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](35,0,null,null,4,"p",[["class","message"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,q)),ge["\u0275did"](38,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](39,null,["","\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,24,0,n(e,25,0,"user",l.message.user.username)),n(e,38,0,l.isAnEvent)},function(n,e){var l=e.component;n(e,3,0,ge["\u0275unv"](e,3,0,ge["\u0275nov"](e,4).transform(l.message.date))),n(e,12,0,ge["\u0275inlineInterpolate"](1,"",l.message.user.avatar,""),ge["\u0275inlineInterpolate"](1,"",l.message.user.avatar,"")),n(e,14,0,ge["\u0275inlineInterpolate"](1,"status ",l.message.user.status,"")),n(e,16,0,ge["\u0275inlineInterpolate"](1,"fa fa-circle","unavailable"===l.message.user.status?"-o":"","")),n(e,23,0,ge["\u0275nov"](e,24).target,ge["\u0275nov"](e,24).href),n(e,26,0,l.message.user.cn),n(e,29,0,l.message.user.domain),n(e,39,0,l.message.message)})}function G(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"chat-event",[],null,null,null,K,Jl)),ge["\u0275did"](1,114688,null,0,$l,[],null,null)],function(n,e){n(e,1,0)},null)}function W(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,3,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](2,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](3,null,["Shared a ","\n  "]))],null,function(n,e){var l=e.component;n(e,0,0,ge["\u0275inlineInterpolate"](1,"",l.message.type,"")),n(e,2,0,ge["\u0275inlineInterpolate"](1,"fa fa-",l.message.type,"-o")),n(e,3,0,l.message.type)})}function $(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null))],null,null)}function Z(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-arrow-right"]],null,null,null,null,null))],null,null)}function J(n){return ge["\u0275vid"](0,[ge["\u0275pid"](0,Xl,[]),ge["\u0275qud"](402653184,1,{fileTranfer:0}),(n()(),ge["\u0275eld"](2,0,null,null,5,"div",[["class","float-right align-right"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](4,0,null,null,2,"span",[["class","date"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](5,null,["",""])),ge["\u0275pid"](131072,Wl.TimeAgoPipe,[ge.ChangeDetectorRef,ge.NgZone]),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](10,0,null,null,23,"div",[["class","user-identity"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](12,0,null,null,8,"div",[["class","user-status float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](14,0,null,null,0,"img",[["class","rounded-circle"]],[[8,"alt",0],[8,"src",4]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](16,0,null,null,3,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](18,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](22,0,null,null,10,"div",[["class","user-profile"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](24,0,null,null,4,"h3",[["class","contact-name"]],null,null,null,null,null)),(n()(),ge["\u0275eld"](25,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,26).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](26,671744,null,0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),ge["\u0275pad"](27,2),(n()(),ge["\u0275ted"](28,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](30,0,null,null,1,"span",[["class","extra-info"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](31,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](37,0,null,null,23,"p",[["class","message"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,W)),ge["\u0275did"](40,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](42,0,null,null,17,"span",[["class","file-info"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](44,0,null,null,1,"a",[["class","name"],["href","javascript:;"]],[[1,"data-url",0],[8,"title",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onViewImage(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](45,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](47,0,null,null,2,"span",[["class","size"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](48,null,["(",")"])),ge["\u0275ppd"](49,1),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](51,0,null,null,7,"a",[["class","action"],["href","javascript:;"],["role","button"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onOpenResource(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,$)),ge["\u0275did"](54,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Z)),ge["\u0275did"](57,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](63,16777216,[[1,3],["filetransfer",1]],null,4,"div",[["class","filetransfer"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](65,0,null,null,1,"a",[["href","javascript:;"]],[[1,"data-url",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onViewImage(l)&&t}return t},null,null)),(n()(),ge["\u0275eld"](66,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,26,0,n(e,27,0,"user",l.message.user.username)),n(e,40,0,l.isAnEvent),n(e,54,0,l.previewOpen),n(e,57,0,!l.previewOpen)},function(n,e){var l=e.component;n(e,5,0,ge["\u0275unv"](e,5,0,ge["\u0275nov"](e,6).transform(l.message.date))),n(e,14,0,ge["\u0275inlineInterpolate"](1,"",l.message.user.avatar,""),ge["\u0275inlineInterpolate"](1,"",l.message.user.avatar,"")),n(e,16,0,ge["\u0275inlineInterpolate"](1,"status ",l.message.user.status,"")),n(e,18,0,ge["\u0275inlineInterpolate"](1,"fa fa-circle","unavailable"===l.message.user.status?"-o":"","")),n(e,25,0,ge["\u0275nov"](e,26).target,ge["\u0275nov"](e,26).href),n(e,28,0,l.message.user.cn),n(e,31,0,l.message.user.domain),n(e,44,0,ge["\u0275inlineInterpolate"](1,"",l.message.message.url,""),ge["\u0275inlineInterpolate"](1,"",l.message.message.name,"")),n(e,45,0,l.message.message.name),n(e,48,0,ge["\u0275unv"](e,48,0,n(e,49,0,ge["\u0275nov"](e,0),l.message.message.size))),n(e,65,0,ge["\u0275inlineInterpolate"](1,"",l.message.message.url,"")),n(e,66,0,ge["\u0275inlineInterpolate"](1,"",l.message.message.preview,""))})}function Y(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"file-event",[],null,null,null,J,et)),ge["\u0275did"](1,4308992,null,0,Ql,[],null,null)],function(n,e){n(e,1,0)},null)}function X(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"chat-event",[],null,null,null,K,Jl)),ge["\u0275did"](1,114688,null,0,$l,[],{message:[0,"message"],isAnEvent:[1,"isAnEvent"]},null)],function(n,e){var l=e.component;n(e,1,0,e.parent.context.$implicit,l.eventMode)},null)}function Q(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"file-event",[],null,[[null,"viewImageEvent"]],function(n,e,l){var t=!0,o=n.component;if("viewImageEvent"===e){t=!1!==o.onViewImageEvent(l)&&t}return t},J,et)),ge["\u0275did"](1,4308992,null,0,Ql,[],{message:[0,"message"],isAnEvent:[1,"isAnEvent"]},{viewImageEvent:"viewImageEvent"})],function(n,e){var l=e.component;n(e,1,0,e.parent.context.$implicit,l.eventMode)},null)}function nn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit)})}function en(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,11,"li",[],[[8,"className",0]],null,null,null,null)),ge["\u0275did"](1,16384,null,0,ll.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,X)),ge["\u0275did"](4,278528,null,0,ll.q,[ge.ViewContainerRef,ge.TemplateRef,ll.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Q)),ge["\u0275did"](7,278528,null,0,ll.q,[ge.ViewContainerRef,ge.TemplateRef,ll.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,nn)),ge["\u0275did"](10,16384,null,0,ll.r,[ge.ViewContainerRef,ge.TemplateRef,ll.p],null,null),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,1,0,e.context.$implicit.type),n(e,4,0,l.hypertyResourceType.Chat),n(e,7,0,l.hypertyResourceType.File)},function(n,e){n(e,0,0,ge["\u0275inlineInterpolate"](1,"list-item ",e.context.$implicit.type,""))})}function ln(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275and"](16777216,null,null,2,null,en)),ge["\u0275did"](1,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),ge["\u0275pid"](131072,ll.b,[ge.ChangeDetectorRef]),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,1,0,ge["\u0275unv"](e,1,0,ge["\u0275nov"](e,2).transform(l.mergedResources)))},null)}function tn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"context-activity-list",[],[[8,"className",0]],null,null,ln,ut)),ge["\u0275did"](1,4833280,null,0,tt,[ge.ElementRef,lt,Ke,Qe],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function on(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null))],null,null)}function un(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-arrow-right"]],null,null,null,null,null))],null,null)}function rn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,41,"li",[["class","list-item"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](2,0,null,null,5,"div",[["class","float-right align-right"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](4,0,null,null,2,"span",[["class","date"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](5,null,["",""])),ge["\u0275pid"](131072,rt.CalendarPipe,[ge.ChangeDetectorRef,ge.NgZone]),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](9,0,null,null,3,"div",[["class","file-info"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](11,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](12,null,[""," uploaded\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](14,0,null,null,17,"div",[["class","file"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](16,0,null,null,1,"a",[["class","name specs"],["href","javascript:;"]],[[1,"data-url",0],[8,"title",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onViewImageEvent(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](17,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](19,0,null,null,2,"span",[["class","specs"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](20,null,["",""])),ge["\u0275ppd"](21,1),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](23,0,null,null,7,"a",[["class","action"],["href","javascript:;"],["role","button"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onOpenResource(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,on)),ge["\u0275did"](26,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,un)),ge["\u0275did"](29,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](34,16777216,[[1,3],["filetransfer",1]],null,6,"div",[["class","filetransfer"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](36,0,null,null,3,"a",[["href","javascript:;"]],[[1,"data-url",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onViewImageEvent(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](38,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "]))],function(n,e){var l=e.component;n(e,26,0,l.previewOpen),n(e,29,0,!l.previewOpen)},function(n,e){n(e,5,0,ge["\u0275unv"](e,5,0,ge["\u0275nov"](e,6).transform(e.parent.context.$implicit.content.created))),n(e,11,0,ge["\u0275inlineInterpolate"](1,"fa fa-",e.parent.context.$implicit.type,"-o")),n(e,12,0,e.parent.context.$implicit.type),n(e,16,0,ge["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.content.url,""),ge["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.content.name,"")),n(e,17,0,e.parent.context.$implicit.content.name),n(e,20,0,ge["\u0275unv"](e,20,0,n(e,21,0,ge["\u0275nov"](e.parent.parent,0),e.parent.context.$implicit.size))),n(e,36,0,ge["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.content.url,"")),n(e,38,0,ge["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.content.preview,""))})}function sn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,rn)),ge["\u0275did"](3,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){n(e,3,0,e.context.$implicit.content)},null)}function an(n){return ge["\u0275vid"](0,[ge["\u0275pid"](0,Xl,[]),ge["\u0275qud"](671088640,1,{fileTranfer:0}),(n()(),ge["\u0275and"](16777216,null,null,2,null,sn)),ge["\u0275did"](3,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),ge["\u0275pid"](131072,ll.b,[ge.ChangeDetectorRef]),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,3,0,ge["\u0275unv"](e,3,0,ge["\u0275nov"](e,4).transform(l.resources)))},null)}function cn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"shared-resources",[],null,null,null,an,ct)),ge["\u0275did"](1,4308992,null,0,st,[Qe,Ke,lt],null,null)],function(n,e){n(e,1,0)},null)}function dn(n){return ge["\u0275vid"](0,[ge["\u0275qud"](671088640,1,{formFile:1}),(n()(),ge["\u0275eld"](1,0,null,null,36,"form",[["class","w-100 row no-gutters float-left"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0,o=n.component;if("submit"===e){t=!1!==ge["\u0275nov"](n,3).onSubmit(l)&&t}if("reset"===e){t=!1!==ge["\u0275nov"](n,3).onReset()&&t}if("submit"===e){t=!1!==o.onSubmit(ge["\u0275nov"](n,3).value)&&t}return t},null,null)),ge["\u0275did"](2,16384,null,0,gl.v,[],null,null),ge["\u0275did"](3,16384,[["sendForm",4]],0,gl.n,[[8,null],[8,null]],null,null),ge["\u0275prd"](2048,null,gl.b,null,[gl.n]),ge["\u0275did"](5,16384,null,0,gl.m,[gl.b],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](7,0,null,null,10,"div",[["class","message col-12 col-md-7 col-lg-8 float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](9,0,null,null,5,"input",[["class","form-control w-100 chat-sender"],["name","message"],["ngControl","message"],["placeholder","your message goes here"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,l){var t=!0,o=n.component;if("input"===e){t=!1!==ge["\u0275nov"](n,10)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==ge["\u0275nov"](n,10).onTouched()&&t}if("compositionstart"===e){t=!1!==ge["\u0275nov"](n,10)._compositionStart()&&t}if("compositionend"===e){t=!1!==ge["\u0275nov"](n,10)._compositionEnd(l.target.value)&&t}if("ngModelChange"===e){t=!1!==(o.model.message=l)&&t}return t},null,null)),ge["\u0275did"](10,16384,null,0,gl.c,[ge.Renderer2,ge.ElementRef,[2,gl.a]],null,null),ge["\u0275prd"](1024,null,gl.j,function(n){return[n]},[gl.c]),ge["\u0275did"](12,671744,null,0,gl.o,[[2,gl.b],[8,null],[8,null],[2,gl.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ge["\u0275prd"](2048,null,gl.k,null,[gl.o]),ge["\u0275did"](14,16384,null,0,gl.l,[gl.k],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275eld"](16,0,null,null,0,"span",[["class","line mt-3 d-md-none"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](19,0,null,null,17,"ul",[["class","uploader col-12 col-md-5 col-lg-4 float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](21,0,null,null,7,"li",[["class","send-file w-50 float-left text-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](23,0,[[1,0],["formControlFile",1]],null,0,"input",[["class","form-control-file send-file d-none"],["type","file"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](25,0,null,null,2,"a",[["class","send-file"],["href","javascript:;"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.uploadFile(l)&&t}return t},null,null)),(n()(),ge["\u0275eld"](26,0,null,null,0,"i",[["class","fa fa-file-o"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,[" add file"])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](30,0,null,null,5,"li",[["class","take-pic w-50 float-left text-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](32,0,null,null,2,"a",[["class","snap"],["hre","javascript:;"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.uploadFile(l)&&t}return t},null,null)),(n()(),ge["\u0275eld"](33,0,null,null,0,"i",[["class","fa fa-camera-retro"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,[" take a photo"])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){n(e,12,0,"message",e.component.model.message)},function(n,e){n(e,1,0,ge["\u0275nov"](e,5).ngClassUntouched,ge["\u0275nov"](e,5).ngClassTouched,ge["\u0275nov"](e,5).ngClassPristine,ge["\u0275nov"](e,5).ngClassDirty,ge["\u0275nov"](e,5).ngClassValid,ge["\u0275nov"](e,5).ngClassInvalid,ge["\u0275nov"](e,5).ngClassPending),n(e,9,0,ge["\u0275nov"](e,14).ngClassUntouched,ge["\u0275nov"](e,14).ngClassTouched,ge["\u0275nov"](e,14).ngClassPristine,ge["\u0275nov"](e,14).ngClassDirty,ge["\u0275nov"](e,14).ngClassValid,ge["\u0275nov"](e,14).ngClassInvalid,ge["\u0275nov"](e,14).ngClassPending)})}function mn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"chat-view",[],[[8,"className",0]],null,null,dn,pt)),ge["\u0275did"](1,4440064,null,0,dt,[Qe,Ie,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function pn(n){return ge["\u0275vid"](0,[ge["\u0275qud"](402653184,1,{contextualCommActivityComponent:0}),(n()(),ge["\u0275eld"](1,0,null,null,28,"div",[["class","overflow-content w-100 h-100"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](3,0,null,null,25,"div",[["class","row h-100 no-gutters"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](5,0,null,null,10,"div",[["class","activity-wrapper col-12 col-md-7 col-lg-8 float-left h-100 d-flex flex-column"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](7,0,null,null,1,"h3",[["class","pl-3 pr-4 pt-4"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Recent Activity"])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](10,0,null,null,4,"div",[["class","v-scroll h-100"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](12,0,null,null,1,"context-activity-list",[],[[8,"className",0]],null,null,ln,ut)),ge["\u0275did"](13,4833280,[[1,4]],0,tt,[ge.ElementRef,lt,Ke,Qe],{messages:[0,"messages"],resources:[1,"resources"],eventMode:[2,"eventMode"]},null),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](17,0,null,null,10,"div",[["class","resources-wrapper col-12 col-md-5 col-lg-4 mb-0 pt-3 pt-md-0 float-left h-100 d-flex flex-column"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](19,0,null,null,1,"h3",[["class","pl-3 pr-4 pt-4"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Shared Files"])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](22,0,null,null,4,"div",[["class","v-scroll h-100"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](24,0,null,null,1,"shared-resources",[],null,null,null,an,ct)),ge["\u0275did"](25,4308992,null,0,st,[Qe,Ke,lt],{resources:[0,"resources"]},null),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275eld"](31,0,null,null,1,"chat-view",[],[[8,"className",0]],null,null,dn,pt)),ge["\u0275did"](32,4440064,null,0,dt,[Qe,Ie,tl],null,null),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,13,0,l.messages,l.resources,!0),n(e,25,0,l.resources),n(e,32,0)},function(n,e){n(e,12,0,ge["\u0275nov"](e,13).hostClass),n(e,31,0,ge["\u0275nov"](e,32).hostClass)})}function fn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"activity-view",[],[[8,"className",0]],null,null,pn,ht)),ge["\u0275did"](1,114688,null,0,ft,[be.a,Qe,Xe],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function vn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,[["remote",1]],null,0,"video",[["autoplay",""],["class","player"]],[[8,"srcObject",0]],null,null,null,null))],null,function(n,e){n(e,0,0,e.component.stream)})}function hn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,[["local",1]],null,0,"video",[["autoplay",""],["class","player"],["muted",""]],[[8,"srcObject",0]],null,null,null,null))],null,function(n,e){n(e,0,0,e.component.myStream)})}function gn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,4,"div",[["class","video-wall my-video-wall"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\t\t"])),(n()(),ge["\u0275and"](16777216,null,null,1,null,hn)),ge["\u0275did"](3,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\t"]))],function(n,e){n(e,3,0,e.component.myStream)},null)}function yn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,6,"span",[["class","action video push-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==ge["\u0275nov"](n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}if("click"===e){t=!1!==o.enableVideo()&&t}return t},null,null)),ge["\u0275did"](3,671744,null,0,be.o,[be.m,be.a,ll.h],{queryParams:[0,"queryParams"]},null),ge["\u0275pod"](4,{action:0}),(n()(),ge["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-video-camera"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){n(e,3,0,n(e,4,0,"video"))},function(n,e){n(e,2,0,ge["\u0275nov"](e,3).target,ge["\u0275nov"](e,3).href)})}function Cn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,6,"span",[["class","action audio push-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==ge["\u0275nov"](n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}if("click"===e){t=!1!==o.disableVideo()&&t}return t},null,null)),ge["\u0275did"](3,671744,null,0,be.o,[be.m,be.a,ll.h],{queryParams:[0,"queryParams"]},null),ge["\u0275pod"](4,{action:0}),(n()(),ge["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){n(e,3,0,n(e,4,0,"audio"))},function(n,e){n(e,2,0,ge["\u0275nov"](e,3).target,ge["\u0275nov"](e,3).href)})}function xn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,5,"span",[["class","action audio hangup push-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](3,671744,null,0,be.o,[be.m,be.a,ll.h],{queryParams:[0,"queryParams"]},null),(n()(),ge["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){n(e,3,0,ge["\u0275EMPTY_MAP"])},function(n,e){n(e,2,0,ge["\u0275nov"](e,3).target,ge["\u0275nov"](e,3).href)})}function bn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,5,"span",[["class","action video hangup push-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](3,671744,null,0,be.o,[be.m,be.a,ll.h],{queryParams:[0,"queryParams"]},null),(n()(),ge["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-video-camera"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){n(e,3,0,ge["\u0275EMPTY_MAP"])},function(n,e){n(e,2,0,ge["\u0275nov"](e,3).target,ge["\u0275nov"](e,3).href)})}function wn(n){return ge["\u0275vid"](0,[ge["\u0275qud"](402653184,1,{fullscreen:0}),(n()(),ge["\u0275eld"](1,0,null,null,54,"div",[["fullscreen",""]],[[8,"className",0]],null,null,null,null)),ge["\u0275did"](2,4210688,[[1,4]],0,Ct,[ge.ElementRef,ge.Renderer2],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](4,0,[["test",1]],null,0,"video",[["autoplay",""],["class","player"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n\t"])),(n()(),ge["\u0275eld"](6,0,null,null,4,"div",[["class","video-wall"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\t\t"])),(n()(),ge["\u0275and"](16777216,null,null,1,null,vn)),ge["\u0275did"](9,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\t"])),(n()(),ge["\u0275ted"](-1,null,["\n\n\t"])),(n()(),ge["\u0275and"](16777216,null,null,1,null,gn)),ge["\u0275did"](13,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n\t"])),(n()(),ge["\u0275eld"](15,0,null,null,39,"div",[["class","contact-me text-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](17,0,null,null,2,"span",[["class","counter d-sm-none w-100"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](18,null,["",""])),ge["\u0275pid"](131072,bt,[ge.ChangeDetectorRef,ge.NgZone]),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](21,0,null,null,4,"span",[["class","action audio mute float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\t\t\t"])),(n()(),ge["\u0275eld"](23,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onMute()&&t}return t},null,null)),(n()(),ge["\u0275eld"](24,0,null,null,0,"i",[["class","fa fa-microphone-slash"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,yn)),ge["\u0275did"](28,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Cn)),ge["\u0275did"](31,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,xn)),ge["\u0275did"](34,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,bn)),ge["\u0275did"](37,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](39,0,null,null,2,"span",[["class","counter d-xs-none"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](40,null,["",""])),ge["\u0275pid"](131072,bt,[ge.ChangeDetectorRef,ge.NgZone]),(n()(),ge["\u0275ted"](-1,null,["\n\n\t\t"])),(n()(),ge["\u0275eld"](43,0,null,null,4,"span",[["class","action volume float-right float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\t\t\t"])),(n()(),ge["\u0275eld"](45,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onVolume()&&t}return t},null,null)),(n()(),ge["\u0275eld"](46,0,null,null,0,"i",[["class","fa fa-volume-up"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\t\t"])),(n()(),ge["\u0275ted"](-1,null,["\n\n\t\t"])),(n()(),ge["\u0275eld"](49,0,null,null,4,"span",[["class","action full-screen float-right"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\t\t\t"])),(n()(),ge["\u0275eld"](51,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onFullscreen()&&t}return t},null,null)),(n()(),ge["\u0275eld"](52,0,null,null,0,"i",[["class","fa fa-arrows-alt"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\t\t"])),(n()(),ge["\u0275ted"](-1,null,["\n\t"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,9,0,l.stream),n(e,13,0,"video"===l.mode),n(e,28,0,"audio"===l.mode),n(e,31,0,"video"===l.mode),n(e,34,0,"audio"===l.mode),n(e,37,0,"video"===l.mode)},function(n,e){var l=e.component;n(e,1,0,ge["\u0275inlineInterpolate"](1,"",l.mode,"-call col-12 col-lg-7 h-100")),n(e,18,0,ge["\u0275unv"](e,18,0,ge["\u0275nov"](e,19).transform(l.duration))),n(e,40,0,ge["\u0275unv"](e,40,0,ge["\u0275nov"](e,41).transform(l.duration)))})}function Sn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,16777216,null,null,1,"media-view",[],[[8,"className",0]],null,null,wn,Rt)),ge["\u0275did"](1,4440064,null,0,wt,[ge.Renderer2,ge.ElementRef,be.m,be.a,ge.ViewContainerRef,Ke,Je,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function Rn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,5,"div",[["class","float-right"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](2,0,null,null,2,"span",[["class","close"]],null,null,null,null,null)),(n()(),ge["\u0275eld"](3,0,null,null,1,"a",[["href","javascript:;"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onCloseClick()&&t}return t},null,null)),(n()(),ge["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](8,0,null,null,20,"div",[["class","user-identity"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](10,0,null,null,8,"div",[["class","user-status float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](12,0,null,null,0,"img",[["class","rounded-circle"]],[[8,"alt",0],[8,"src",4]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](14,0,null,null,3,"span",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](16,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](20,0,null,null,7,"div",[["class","user-profile float-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](22,0,null,null,1,"h3",[["class","contact-name"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](23,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](25,0,null,null,1,"span",[["class","extra-info"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](26,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275eld"](31,0,null,null,13,"div",[["class","contact-me ml-3 mt-3"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](33,0,null,null,4,"span",[["class","action audio"]],null,null,null,null,null)),(n()(),ge["\u0275eld"](34,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==ge["\u0275nov"](n,35).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}if("click"===e){t=!1!==o.makeAudioCall(l)&&t}return t},null,null)),ge["\u0275did"](35,671744,null,0,be.o,[be.m,be.a,ll.h],{queryParams:[0,"queryParams"]},null),ge["\u0275pod"](36,{action:0}),(n()(),ge["\u0275eld"](37,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](39,0,null,null,4,"span",[["class","action video"]],null,null,null,null,null)),(n()(),ge["\u0275eld"](40,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==ge["\u0275nov"](n,41).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}if("click"===e){t=!1!==o.makeVideoCall(l)&&t}return t},null,null)),ge["\u0275did"](41,671744,null,0,be.o,[be.m,be.a,ll.h],{queryParams:[0,"queryParams"]},null),ge["\u0275pod"](42,{action:0}),(n()(),ge["\u0275eld"](43,0,null,null,0,"i",[["class","fa fa-video-camera"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){n(e,35,0,n(e,36,0,"audio")),n(e,41,0,n(e,42,0,"video"))},function(n,e){var l=e.component;n(e,12,0,ge["\u0275inlineInterpolate"](1,"",l.user.avatar,""),ge["\u0275inlineInterpolate"](1,"",l.user.avatar,"")),n(e,14,0,ge["\u0275inlineInterpolate"](1,"status ",l.user.status,"")),n(e,16,0,ge["\u0275inlineInterpolate"](1,"fa fa-circle","unavailable"===l.user.status?"-o":"","")),n(e,23,0,l.user.cn),n(e,26,0,l.user.domain),n(e,34,0,ge["\u0275nov"](e,35).target,ge["\u0275nov"](e,35).href),n(e,40,0,ge["\u0275nov"](e,41).target,ge["\u0275nov"](e,41).href)})}function kn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"contact-box",[],[[8,"className",0]],null,null,Rn,It)),ge["\u0275did"](1,49152,null,0,kt,[],null,null)],null,function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function En(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,16777216,null,null,1,"media-view",[],[[8,"className",0]],[[null,"itIsReady"]],function(n,e,l){var t=!0,o=n.component;if("itIsReady"===e){t=!1!==o.mediaComponentReady(l)&&t}return t},wn,Rt)),ge["\u0275did"](1,4440064,[[1,4]],0,wt,[ge.Renderer2,ge.ElementRef,be.m,be.a,ge.ViewContainerRef,Ke,Je,tl],{user:[0,"user"],mode:[1,"mode"]},{itIsReady:"itIsReady"}),(n()(),ge["\u0275and"](0,null,null,0))],function(n,e){var l=e.component;n(e,1,0,l.user,l.action)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function In(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"contact-box",[],[[8,"className",0]],[[null,"callEvent"],[null,"closeEvent"]],function(n,e,l){var t=!0,o=n.component;if("callEvent"===e){t=!1!==o.onCallEvent(l)&&t}if("closeEvent"===e){t=!1!==o.onCloseEvent()&&t}return t},Rn,It)),ge["\u0275did"](1,49152,null,0,kt,[],{user:[0,"user"]},{callEvent:"callEvent",closeEvent:"closeEvent"})],function(n,e){n(e,1,0,e.component.user)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function On(n){return ge["\u0275vid"](0,[ge["\u0275qud"](671088640,1,{mediaComponent:0}),ge["\u0275qud"](402653184,2,{contextualCommActivityComponent:0}),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275and"](16777216,null,null,1,null,En)),ge["\u0275did"](4,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275and"](16777216,null,null,1,null,In)),ge["\u0275did"](7,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n\n"])),(n()(),ge["\u0275eld"](9,0,null,null,28,"div",[["class","overflow-content w-100 h-100"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](11,0,null,null,25,"div",[["class","row h-100 no-gutters"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](13,0,null,null,10,"div",[["class","activity-wrapper col-12 col-md-7 col-lg-8 float-left h-100 d-flex flex-column"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](15,0,null,null,1,"h3",[["class","pl-3 pr-4 pt-4"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Recent Activity"])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](18,0,null,null,4,"div",[["class","v-scroll h-100"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](20,0,null,null,1,"context-activity-list",[],[[8,"className",0]],null,null,ln,ut)),ge["\u0275did"](21,4833280,[[2,4]],0,tt,[ge.ElementRef,lt,Ke,Qe],{messages:[0,"messages"],resources:[1,"resources"]},null),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](25,0,null,null,10,"div",[["class","resources-wrapper col-12 col-md-5 col-lg-4 mb-0 pt-3 pt-md-0 float-left h-100 d-flex flex-column"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](27,0,null,null,1,"h3",[["class","pl-3 pr-4 pt-4"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Shared Files"])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](30,0,null,null,4,"div",[["class","v-scroll h-100"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](32,0,null,null,1,"shared-resources",[],null,null,null,an,ct)),ge["\u0275did"](33,4308992,null,0,st,[Qe,Ke,lt],{resources:[0,"resources"]},null),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n\n"])),(n()(),ge["\u0275eld"](39,0,null,null,1,"chat-view",[],[[8,"className",0]],null,null,dn,pt)),ge["\u0275did"](40,4440064,null,0,dt,[Qe,Ie,tl],null,null),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,4,0,"video"===l.action||"audio"===l.action),n(e,7,0,!l.action),n(e,21,0,l.messages,l.resources),n(e,33,0,l.resources),n(e,40,0)},function(n,e){n(e,20,0,ge["\u0275nov"](e,21).hostClass),n(e,39,0,ge["\u0275nov"](e,40).hostClass)})}function An(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"user-view",[],[[8,"className",0]],null,null,On,Ut)),ge["\u0275did"](1,4440064,null,0,Lt,[be.m,be.a,Ot,Ke,Xe,Qe],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function Ln(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(n,e){n(e,0,0,ge["\u0275inlineInterpolate"](1,"pr-3 fa fa-",e.parent.context.$implicit.icon,""))})}function Pn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"remove-contextualcomm-view",[],null,[[null,"removeEvent"]],function(n,e,l){var t=!0,o=n.component;if("removeEvent"===e){t=!1!==o.removeContext(l,n.parent.context.$implicit)&&t}return t},R,El)),ge["\u0275did"](1,114688,null,0,Rl,[bl.a],{context:[0,"context"]},{removeEvent:"removeEvent"})],function(n,e){n(e,1,0,e.parent.context.$implicit)},null)}function Un(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,18,"div",[["class","list-group-item d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](2,0,null,null,9,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](3,671744,[[2,4]],0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),ge["\u0275ppd"](4,1),ge["\u0275did"](5,1720320,null,2,be.n,[be.m,ge.ElementRef,ge.Renderer2,ge.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),ge["\u0275qud"](603979776,1,{links:1}),ge["\u0275qud"](603979776,2,{linksWithHrefs:1}),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Ln)),ge["\u0275did"](10,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](11,null,["","\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](13,0,null,null,1,"span",[["class","badge badge-default badge-pill"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](14,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Pn)),ge["\u0275did"](17,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n            "]))],function(n,e){n(e,3,0,ge["\u0275inlineInterpolate"](1,"",ge["\u0275unv"](e,3,0,n(e,4,0,ge["\u0275nov"](e.parent,0),e.context.$implicit.name)),""));n(e,5,0,"active"),n(e,10,0,e.context.$implicit.icon),n(e,17,0,e.context.$implicit.reporter)},function(n,e){n(e,2,0,ge["\u0275nov"](e,3).target,ge["\u0275nov"](e,3).href),n(e,11,0,e.context.$implicit.name),n(e,14,0,e.context.$implicit.contexts.length)})}function jn(n){return ge["\u0275vid"](0,[ge["\u0275pid"](0,ll.i,[]),(n()(),ge["\u0275eld"](1,0,null,null,34,"div",[["class","main-content"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](3,0,null,null,31,"div",[["class","content-panel"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](5,0,null,null,28,"div",[["class","pt-3 pb-3"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](7,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Dashboard"])),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](10,0,null,null,22,"div",[["class","pt-3 row"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275eld"](12,0,null,null,19,"div",[["class","col-12 col-sm-6"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](14,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Contexts List"])),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275eld"](17,0,null,null,5,"div",[["class","pt-3 pb-3"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n            "])),(n()(),ge["\u0275eld"](19,0,null,null,2,"a",[["class","btn btn-outline-primary"],["href","javascript:;"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onCreateEvent()&&t}return t},null,null)),(n()(),ge["\u0275eld"](20,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["new context"])),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275eld"](24,0,null,null,6,"div",[["class","list-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275and"](16777216,null,null,2,null,Un)),ge["\u0275did"](27,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),ge["\u0275pid"](131072,ll.b,[ge.ChangeDetectorRef]),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,27,0,ge["\u0275unv"](e,27,0,ge["\u0275nov"](e,28).transform(l.contextualComms)))},null)}function Tn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"home-view",[],[[8,"className",0]],null,null,jn,Ht)),ge["\u0275did"](1,245760,null,0,zt,[be.a,Ge,ol,Nl.a,tl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function Mn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,58,"div",[["class","current-user"],["ngbDropdown",""]],[[2,"show",null]],[[null,"keyup.esc"],["document","click"]],function(n,e,l){var t=!0;if("keyup.esc"===e){t=!1!==ge["\u0275nov"](n,1).closeFromOutsideEsc()&&t}if("document:click"===e){t=!1!==ge["\u0275nov"](n,1).closeFromClick(l)&&t}return t},null,null)),ge["\u0275did"](1,212992,[["myDrop",4]],2,Kt.a,[Gt.a,ge.NgZone],null,null),ge["\u0275qud"](335544320,1,{_menu:0}),ge["\u0275qud"](335544320,2,{_toggle:0}),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](5,0,null,null,5,"div",[["aria-haspopup","true"],["class","d-flex justify-content-around align-items-center user-area dropdown-toggle"],["id","dropdownConfig"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,6).toggleOpen()&&t}return t},null,null)),ge["\u0275did"](6,16384,[[2,4]],0,Kt.c,[Kt.a,ge.ElementRef],null,null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](8,0,null,null,1,"user-identity",[],[[8,"className",0]],null,null,E,Al)),ge["\u0275did"](9,114688,null,0,Il,[],{model:[0,"model"]},null),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](12,0,null,null,45,"div",[["aria-labelledby","dropdownConfig"],["class","dropdown-menu-right"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null]],null,null,null,null)),ge["\u0275did"](13,16384,[[1,4]],0,Kt.b,[Kt.a,ge.ElementRef,ge.Renderer2],null,null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](15,0,null,null,1,"h6",[["class","dropdown-header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["User Availability"])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](18,0,null,null,33,"div",[["class","dropdown-item dropdown-item-action"],["href","#"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](20,0,null,null,1,"span",[["class","d-block pb-1"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Availability:"])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](23,0,null,null,27,"div",[["class","btn-group-vertical w-100"],["data-toggle","buttons"],["name","status"],["ngbRadioGroup",""],["role","group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0,o=n.component;if("ngModelChange"===e){t=!1!==(o.model.status=l)&&t}return t},null,null)),ge["\u0275did"](24,16384,null,0,hl.b,[],{name:[0,"name"]},null),ge["\u0275prd"](1024,null,gl.j,function(n){return[n]},[hl.b]),ge["\u0275did"](26,671744,null,0,gl.o,[[8,null],[8,null],[8,null],[2,gl.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ge["\u0275prd"](2048,null,gl.k,null,[gl.o]),ge["\u0275did"](28,16384,null,0,gl.l,[gl.k],null,null),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](30,0,null,null,5,"label",[["ngbButtonLabel",""]],[[8,"className",0],[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),ge["\u0275did"](31,16384,null,0,vl.a,[],null,null),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](33,0,null,null,1,"input",[["autocomplete","off"],["ngbButton",""],["type","radio"],["value","available"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"click"],[null,"change"],[null,"focus"],[null,"blur"]],function(n,e,l){var t=!0,o=n.component;if("change"===e){t=!1!==ge["\u0275nov"](n,34).onChange()&&t}if("focus"===e){t=!1!=(ge["\u0275nov"](n,34).focused=!0)&&t}if("blur"===e){t=!1!=(ge["\u0275nov"](n,34).focused=!1)&&t}if("click"===e){t=!1!==o.onChangeEvent("available")&&t}return t},null,null)),ge["\u0275did"](34,147456,null,0,hl.a,[hl.b,vl.a,ge.Renderer2,ge.ElementRef],{value:[0,"value"]},null),(n()(),ge["\u0275ted"](-1,null,["On\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](37,0,null,null,5,"label",[["ngbButtonLabel",""]],[[8,"className",0],[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),ge["\u0275did"](38,16384,null,0,vl.a,[],null,null),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](40,0,null,null,1,"input",[["autocomplete","off"],["ngbButton",""],["type","radio"],["value","busy"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"click"],[null,"change"],[null,"focus"],[null,"blur"]],function(n,e,l){var t=!0,o=n.component;if("change"===e){t=!1!==ge["\u0275nov"](n,41).onChange()&&t}if("focus"===e){t=!1!=(ge["\u0275nov"](n,41).focused=!0)&&t}if("blur"===e){t=!1!=(ge["\u0275nov"](n,41).focused=!1)&&t}if("click"===e){t=!1!==o.onChangeEvent("busy")&&t}return t},null,null)),ge["\u0275did"](41,147456,null,0,hl.a,[hl.b,vl.a,ge.Renderer2,ge.ElementRef],{value:[0,"value"]},null),(n()(),ge["\u0275ted"](-1,null,["Busy\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](44,0,null,null,5,"label",[["ngbButtonLabel",""]],[[8,"className",0],[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),ge["\u0275did"](45,16384,null,0,vl.a,[],null,null),(n()(),ge["\u0275ted"](-1,null,["\n          "])),(n()(),ge["\u0275eld"](47,0,null,null,1,"input",[["autocomplete","off"],["ngbButton",""],["type","radio"],["value","unavailable"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"click"],[null,"change"],[null,"focus"],[null,"blur"]],function(n,e,l){var t=!0,o=n.component;if("change"===e){t=!1!==ge["\u0275nov"](n,48).onChange()&&t}if("focus"===e){t=!1!=(ge["\u0275nov"](n,48).focused=!0)&&t}if("blur"===e){t=!1!=(ge["\u0275nov"](n,48).focused=!1)&&t}if("click"===e){t=!1!==o.onChangeEvent("unavailable")&&t}return t},null,null)),ge["\u0275did"](48,147456,null,0,hl.a,[hl.b,vl.a,ge.Renderer2,ge.ElementRef],{value:[0,"value"]},null),(n()(),ge["\u0275ted"](-1,null,["Off\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](53,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](55,0,null,null,1,"button",[["class","dropdown-item"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["soon"])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,1,0),n(e,9,0,l.model);n(e,24,0,"status");n(e,26,0,"status",l.model.status);n(e,34,0,"available");n(e,41,0,"busy");n(e,48,0,"unavailable")},function(n,e){var l=e.component;n(e,0,0,ge["\u0275nov"](e,1).isOpen()),n(e,5,0,ge["\u0275nov"](e,6).dropdown.isOpen()),n(e,8,0,ge["\u0275nov"](e,9).hostClass);n(e,12,0,!0,ge["\u0275nov"](e,13).dropdown.isOpen()),n(e,23,0,ge["\u0275nov"](e,28).ngClassUntouched,ge["\u0275nov"](e,28).ngClassTouched,ge["\u0275nov"](e,28).ngClassPristine,ge["\u0275nov"](e,28).ngClassDirty,ge["\u0275nov"](e,28).ngClassValid,ge["\u0275nov"](e,28).ngClassInvalid,ge["\u0275nov"](e,28).ngClassPending);n(e,30,0,ge["\u0275inlineInterpolate"](1,"btn btn-sm mb-0 text-left ","available"===l.model.status?"btn-success":"btn-outline-secondary",""),!0,ge["\u0275nov"](e,31).active,ge["\u0275nov"](e,31).disabled,ge["\u0275nov"](e,31).focused),n(e,33,0,ge["\u0275nov"](e,34).checked,ge["\u0275nov"](e,34).disabled,ge["\u0275nov"](e,34).nameAttr);n(e,37,0,ge["\u0275inlineInterpolate"](1,"btn btn-sm mb-0 text-left ","busy"===l.model.status?"btn-danger":"btn-outline-secondary",""),!0,ge["\u0275nov"](e,38).active,ge["\u0275nov"](e,38).disabled,ge["\u0275nov"](e,38).focused),n(e,40,0,ge["\u0275nov"](e,41).checked,ge["\u0275nov"](e,41).disabled,ge["\u0275nov"](e,41).nameAttr);n(e,44,0,ge["\u0275inlineInterpolate"](1,"btn btn-sm mb-0 text-left ","unavailable"===l.model.status?"btn-secondary":"btn-outline-secondary",""),!0,ge["\u0275nov"](e,45).active,ge["\u0275nov"](e,45).disabled,ge["\u0275nov"](e,45).focused),n(e,47,0,ge["\u0275nov"](e,48).checked,ge["\u0275nov"](e,48).disabled,ge["\u0275nov"](e,48).nameAttr)})}function Dn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"my-self",[],[[8,"className",0]],null,null,Mn,Zt)),ge["\u0275did"](1,114688,null,0,Wt,[Gt.a,We],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function Nn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,7,"a",[["class","name"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](1,671744,[[2,4]],0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),ge["\u0275did"](2,1720320,null,2,be.n,[be.m,ge.ElementRef,ge.Renderer2,ge.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),ge["\u0275qud"](603979776,1,{links:1}),ge["\u0275qud"](603979776,2,{linksWithHrefs:1}),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](7,null,["\n      ","\n    "]))],function(n,e){n(e,1,0,ge["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit,""));n(e,2,0,"active")},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).target,ge["\u0275nov"](e,1).href),n(e,7,0,e.parent.context.$implicit)})}function _n(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,3,"span",[["class","name"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](3,null,["\n      ","\n    "]))],null,function(n,e){n(e,3,0,e.parent.context.$implicit)})}function Vn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,11,"li",[["class","breadcrumb-path"]],[[2,"first",null],[2,"last",null]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](2,0,null,null,8,"h3",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Nn)),ge["\u0275did"](5,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,_n)),ge["\u0275did"](9,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){n(e,5,0,!e.context.last),n(e,9,0,e.context.last)},function(n,e){n(e,0,0,e.context.first,e.context.last),n(e,2,0,ge["\u0275inlineInterpolate"](1,"level-",e.context.index,""))})}function Fn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,8,"li",[["class","breadcrumb-trigger d-sm-none"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](2,0,null,null,5,"a",[["class","menu-trigger"],["href","javascript:;"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onClickEvent(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](4,0,null,null,0,"i",[["class","icon-ellipsis fa fa-ellipsis-v"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](6,0,null,null,0,"i",[["class","icon-back fa fa-chevron-left"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275and"](16777216,null,null,2,null,Vn)),ge["\u0275did"](11,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),ge["\u0275pid"](131072,ll.b,[ge.ChangeDetectorRef]),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,11,0,ge["\u0275unv"](e,11,0,ge["\u0275nov"](e,12).transform(l.breadcrumb)))},null)}function zn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"ul",[["context-breadcrumb",""]],[[8,"className",0]],null,null,Fn,Xt)),ge["\u0275did"](1,4440064,null,0,Jt,[be.m,sl],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function Bn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](1,0,null,null,6,"div",[["class","content-panel mx-auto text-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-cog fa-spin fa-4x"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275eld"](5,0,null,null,1,"span",[["class","mt-2 d-block text-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](6,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],null,function(n,e){n(e,6,0,e.component.status)})}function Hn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"loading",[],[[8,"className",0]],null,null,Bn,lo)),ge["\u0275did"](1,114688,null,0,no,[],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function qn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"div",[["class","icon"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,e){n(e,0,0,e.component.safeSvg)})}function Kn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,1,"div",[["class","sn-title"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](3,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](5,0,null,null,2,"div",[["class","sn-content"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](6,null,["",""])),ge["\u0275ppd"](7,2),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,qn)),ge["\u0275did"](10,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){n(e,10,0,"bare"!==e.component.item.icon)},function(n,e){var l=e.component;n(e,3,0,l.item.title),n(e,6,0,ge["\u0275unv"](e,6,0,n(e,7,0,ge["\u0275nov"](e.parent,0),l.item.content,l.maxLength)))})}function Gn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,e){n(e,0,0,e.component.item.html)})}function Wn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,5,"div",[["class","sn-progress-loader"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,2,"span",[],null,null,null,null,null)),ge["\u0275did"](3,278528,null,0,ll.o,[ge.KeyValueDiffers,ge.ElementRef,ge.Renderer],{ngStyle:[0,"ngStyle"]},null),ge["\u0275pod"](4,{width:0}),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){n(e,3,0,n(e,4,0,e.component.progressWidth+"%"))},null)}function $n(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,7,"div",[["class","sn-actions"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-sm btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onAcceptClick(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["Accept"])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-sm btn-warning"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onRejectClick(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["Reject"])),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],null,null)}function Zn(n){return ge["\u0275vid"](0,[ge["\u0275pid"](0,oo.a,[]),(n()(),ge["\u0275eld"](1,0,null,null,15,"div",[["class","notification"]],[[24,"@enterLeave",0]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onClick(l)&&t}if("mouseenter"===e){t=!1!==o.onEnter()&&t}if("mouseleave"===e){t=!1!==o.onLeave()&&t}return t},null,null)),ge["\u0275did"](2,278528,null,0,ll.j,[ge.IterableDiffers,ge.KeyValueDiffers,ge.ElementRef,ge.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ge["\u0275pod"](3,{alert:0,error:1,warn:2,success:3,info:4,bare:5,"rtl-mode":6}),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Kn)),ge["\u0275did"](6,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Gn)),ge["\u0275did"](9,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Wn)),ge["\u0275did"](12,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,$n)),ge["\u0275did"](15,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n"]))],function(n,e){var l=e.component;n(e,2,0,l.theClass,n(e,3,0,"alert"===l.item.type,"error"===l.item.type,"warn"===l.item.type,"success"===l.item.type,"info"===l.item.type,"bare"===l.item.type,l.rtl)),n(e,6,0,!l.item.html),n(e,9,0,l.item.html),n(e,12,0,l.showProgressBar),n(e,15,0,l.haveActions)},function(n,e){n(e,1,0,e.component.item.state)})}function Jn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"notification",[],null,null,null,Zn,ro)),ge["\u0275did"](1,245760,null,0,uo.a,[Nl.a,xe.c,ge.NgZone],null,null)],function(n,e){n(e,1,0)},null)}function Yn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,2,"notification",[],null,null,null,Zn,ro)),ge["\u0275did"](1,245760,null,0,uo.a,[Nl.a,xe.c,ge.NgZone],{timeOut:[0,"timeOut"],showProgressBar:[1,"showProgressBar"],pauseOnHover:[2,"pauseOnHover"],clickToClose:[3,"clickToClose"],maxLength:[4,"maxLength"],theClass:[5,"theClass"],rtl:[6,"rtl"],animate:[7,"animate"],position:[8,"position"],item:[9,"item"],haveActions:[10,"haveActions"]},null),(n()(),ge["\u0275ted"](-1,null,["\n            "]))],function(n,e){var l=e.component;n(e,1,1,[l.timeOut,l.showProgressBar,l.pauseOnHover,l.clickToClose,l.maxLength,l.theClass,l.rtl,l.animate,e.context.index,e.context.$implicit,l.actions])},null)}function Xn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](1,0,null,null,5,"div",[["class","notification-wrapper"]],null,null,null,null,null)),ge["\u0275did"](2,278528,null,0,ll.j,[ge.IterableDiffers,ge.KeyValueDiffers,ge.ElementRef,ge.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),ge["\u0275ted"](-1,null,["\n            "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,Yn)),ge["\u0275did"](5,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){var l=e.component;n(e,2,0,"notification-wrapper",l.position),n(e,5,0,l.notifications)},null)}function Qn(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"notifications",[],null,null,null,Xn,co)),ge["\u0275did"](1,245760,null,0,so.a,[Nl.a],null,null)],function(n,e){n(e,1,0)},null)}function ne(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null))],null,function(n,e){n(e,0,0,e.component.modalData.mediaContentURL)})}function ee(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,3,"video",[["autoplay",""],["class","img-fluid"],["controls",""]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](2,0,null,null,0,"source",[],[[8,"src",4],[8,"type",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      Your browser does not support the video tag.\n    "]))],null,function(n,e){var l=e.component;n(e,2,0,l.modalData.mediaContentURL,ge["\u0275inlineInterpolate"](1,"",l.modalData.mimetype,""))})}function le(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"a",[["class","btn btn-outline-info"],["target","_blank"]],[[8,"title",0],[8,"href",4]],null,null,null,null)),(n()(),ge["\u0275ted"](1,null,["",""]))],null,function(n,e){var l=e.component;n(e,0,0,ge["\u0275inlineInterpolate"](1,"",l.modalData.title,""),l.modalData.mediaContentURL),n(e,1,0,l.modalData.title)})}function te(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](1,0,null,null,25,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](3,0,null,null,4,"div",[["class","user"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](6,0,null,null,0,"img",[["class","rounded"]],[[8,"src",4],[8,"alt",0],[8,"title",0]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](9,0,null,null,10,"div",[["class","info"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](11,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](12,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](14,0,null,null,4,"span",[["class","modal-description"]],null,null,null,null,null)),(n()(),ge["\u0275eld"](15,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),ge["\u0275ted"](16,null,["",""])),(n()(),ge["\u0275ted"](17,null,[" | "," - ",""])),ge["\u0275ppd"](18,1),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](21,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.dismiss("Cross click")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](23,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\xd7"])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](28,0,null,null,11,"div",[["class","modal-body v-center"]],null,null,null,null,null)),ge["\u0275did"](29,16384,null,0,ll.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,ne)),ge["\u0275did"](32,278528,null,0,ll.q,[ge.ViewContainerRef,ge.TemplateRef,ll.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,ee)),ge["\u0275did"](35,278528,null,0,ll.q,[ge.ViewContainerRef,ge.TemplateRef,ll.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,le)),ge["\u0275did"](38,278528,null,0,ll.q,[ge.ViewContainerRef,ge.TemplateRef,ll.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](41,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](43,0,null,null,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.context.close("Close click")&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["Close"])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){n(e,29,0,e.component.modalData.type);n(e,32,0,"image");n(e,35,0,"video");n(e,38,0,"file")},function(n,e){var l=e.component;n(e,6,0,ge["\u0275inlineInterpolate"](1,"",l.modalData.user.avatar,""),ge["\u0275inlineInterpolate"](1,"",l.modalData.user.cn,""),ge["\u0275inlineInterpolate"](1,"",l.modalData.user.cn,"")),n(e,12,0,l.modalData.title),n(e,16,0,l.modalData.user.cn),n(e,17,0,ge["\u0275unv"](e,17,0,n(e,18,0,ge["\u0275nov"](e.parent,0),l.modalData.size)),l.modalData.mimetype)})}function oe(n){return ge["\u0275vid"](0,[ge["\u0275pid"](0,Xl,[]),ge["\u0275qud"](402653184,1,{content:0}),(n()(),ge["\u0275and"](0,[[1,2],["content",2]],null,0,null,te)),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],null,null)}function ue(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"media-modal-view",[],null,null,null,oe,vo)),ge["\u0275did"](1,4308992,null,0,po,[bl.a,xe.c,lt],null,null)],function(n,e){n(e,1,0)},null)}function ie(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,10,"a",[["class","list-group-item"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](1,671744,[[2,4]],0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),ge["\u0275ppd"](2,1),ge["\u0275did"](3,1720320,null,2,be.n,[be.m,ge.ElementRef,ge.Renderer2,ge.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),ge["\u0275qud"](603979776,1,{links:1}),ge["\u0275qud"](603979776,2,{linksWithHrefs:1}),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](7,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),ge["\u0275eld"](8,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](9,null,["",""])),(n()(),ge["\u0275ted"](-1,null,["\n    "]))],function(n,e){n(e,1,0,ge["\u0275inlineInterpolate"](1,"",ge["\u0275unv"](e,1,0,n(e,2,0,ge["\u0275nov"](e.parent,0),e.context.$implicit.name)),""));n(e,3,0,"active")},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).target,ge["\u0275nov"](e,1).href),n(e,7,0,ge["\u0275inlineInterpolate"](1,"fa fa-",e.context.$implicit.icon,"")),n(e,9,0,e.context.$implicit.name)})}function re(n){return ge["\u0275vid"](0,[ge["\u0275pid"](0,ll.i,[]),(n()(),ge["\u0275eld"](1,0,null,null,31,"div",[["class","mp-level"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](3,0,null,null,1,"h2",[["class","p-3"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["Contexts"])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](6,0,null,null,21,"div",[["class","list-group"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275eld"](8,0,null,null,14,"div",[["class","list-group-item border-0 list-group-item-action flex-column align-items-start search-bar"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275eld"](10,0,null,null,11,"form",[["class","filter d-flex w-100 justify-content-between"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,e,l){var t=!0;if("submit"===e){t=!1!==ge["\u0275nov"](n,12).onSubmit(l)&&t}if("reset"===e){t=!1!==ge["\u0275nov"](n,12).onReset()&&t}return t},null,null)),ge["\u0275did"](11,16384,null,0,gl.v,[],null,null),ge["\u0275did"](12,16384,null,0,gl.n,[[8,null],[8,null]],null,null),ge["\u0275prd"](2048,null,gl.b,null,[gl.n]),ge["\u0275did"](14,16384,null,0,gl.m,[gl.b],null,null),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](16,0,null,null,0,"span",[["class","fa fa-search"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](18,0,null,null,0,"label",[["for","search-field"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](20,0,null,null,0,"input",[["class","search float-left"],["id","search-field"],["name","search-field"],["placeholder","type a team's name"],["type","text"],["value",""]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275and"](16777216,null,null,2,null,ie)),ge["\u0275did"](25,802816,null,0,ll.k,[ge.ViewContainerRef,ge.TemplateRef,ge.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),ge["\u0275pid"](131072,ll.b,[ge.ChangeDetectorRef]),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n\n\t"])),(n()(),ge["\u0275eld"](30,0,null,null,1,"add-contextualcomm-view",[],[[8,"className",0]],null,null,b,Sl)),ge["\u0275did"](31,245760,null,0,xl,[be.m,gl.d,be.a,bl.a,Ke,ol,tl],null,null),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,25,0,ge["\u0275unv"](e,25,0,ge["\u0275nov"](e,26).transform(l.contextualComm))),n(e,31,0)},function(n,e){n(e,10,0,ge["\u0275nov"](e,14).ngClassUntouched,ge["\u0275nov"](e,14).ngClassTouched,ge["\u0275nov"](e,14).ngClassPristine,ge["\u0275nov"](e,14).ngClassDirty,ge["\u0275nov"](e,14).ngClassValid,ge["\u0275nov"](e,14).ngClassInvalid,ge["\u0275nov"](e,14).ngClassPending),n(e,30,0,ge["\u0275nov"](e,31).hostClass)})}function se(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"context-menu",[],[[8,"className",0]],null,null,re,yo)),ge["\u0275did"](1,49152,null,0,ho,[tl],null,null)],null,function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function ae(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,0,"div",[["class","alert alert-warning m-0 rounded-0"],["role","alert"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,e){n(e,0,0,e.component.notificationStatus)})}function ce(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"my-self",[["class","my-self"]],[[8,"className",0]],null,null,Mn,Zt)),ge["\u0275did"](1,114688,null,0,Wt,[Gt.a,We],{model:[0,"model"]},null)],function(n,e){n(e,1,0,e.component.myIdentity)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function de(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"ul",[["context-breadcrumb",""]],[[8,"className",0]],[[null,"openContext"]],function(n,e,l){var t=!0,o=n.component;if("openContext"===e){t=!1!==o.openSecondaryContext(l)&&t}return t},Fn,Xt)),ge["\u0275did"](1,4440064,null,0,Jt,[be.m,sl],null,{openContext:"openContext"})],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function me(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,8,"div",[["class","secondary-menu row no-gutters"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](3,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,de)),ge["\u0275did"](6,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n            "]))],function(n,e){n(e,6,0,e.component.ready)},null)}function pe(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"loading",[],[[8,"className",0]],null,null,Bn,lo)),ge["\u0275did"](1,114688,null,0,no,[],{status:[0,"status"]},null)],function(n,e){n(e,1,0,e.component.status)},function(n,e){n(e,0,0,ge["\u0275nov"](e,1).hostClass)})}function fe(n){return ge["\u0275vid"](0,[ge["\u0275qud"](402653184,1,{section:0}),(n()(),ge["\u0275eld"](1,0,null,null,1,"notifications",[],null,null,null,Xn,co)),ge["\u0275did"](2,245760,null,0,so.a,[Nl.a],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275eld"](4,0,null,null,1,"media-modal-view",[],null,null,null,oe,vo)),ge["\u0275did"](5,4308992,null,0,po,[bl.a,xe.c,lt],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275eld"](8,0,null,null,67,"div",[["class","container-fluid"],["screen",""]],null,[["window","resize"]],function(n,e,l){var t=!0;if("window:resize"===e){t=!1!==ge["\u0275nov"](n,9).onResize(l)&&t}return t},null,null)),ge["\u0275did"](9,5259264,null,0,Ot,[ge.ElementRef,ge.Renderer2],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275eld"](11,0,null,null,62,"div",[["class","row"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275eld"](14,0,null,null,58,"div",[["id","mp-pusher"]],[[8,"className",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onClickOutside(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](16,0,null,null,1,"context-menu",[],[[8,"className",0]],null,null,re,yo)),ge["\u0275did"](17,49152,null,0,ho,[tl],null,null),(n()(),ge["\u0275ted"](-1,null,["\n\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275eld"](20,0,null,null,50,"div",[["class","scroller"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275eld"](23,0,[[1,0],["section",1]],null,45,"div",[["class","scroller-inner d-flex flex-column align-items-stretch"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,ae)),ge["\u0275did"](26,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275eld"](28,0,null,null,33,"header",[["class","header"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n            "])),(n()(),ge["\u0275eld"](30,0,null,null,27,"div",[["class","primary-menu row no-gutters"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](33,0,null,null,9,"div",[["class","col-5 text-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](35,0,null,null,6,"nav",[["class","navbar navbar-dark"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275eld"](37,0,null,null,3,"a",[["aria-expanded","false"],["aria-label","Toggle navigation"]],[[8,"className",0]],[[null,"click"]],function(n,e,l){var t=!0,o=n.component;if("click"===e){t=!1!==o.onOpenContext(l)&&t}return t},null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                    "])),(n()(),ge["\u0275eld"](39,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-bars"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                  "])),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275eld"](44,0,null,null,5,"div",[["class","col-2 text-center"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275eld"](46,0,null,null,2,"a",[["alt","go to the reTHINK home"],["class","open-context"],["routerLink","/"],["title","go to the reTHINK home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==ge["\u0275nov"](n,47).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&t}return t},null,null)),ge["\u0275did"](47,671744,null,0,be.o,[be.m,be.a,ll.h],{routerLink:[0,"routerLink"]},null),(n()(),ge["\u0275eld"](48,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275eld"](52,0,null,null,4,"div",[["class","col-5"]],null,null,null,null,null)),(n()(),ge["\u0275ted"](-1,null,["\n                "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,ce)),ge["\u0275did"](55,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n              "])),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275ted"](-1,null,["\n\n            "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,me)),ge["\u0275did"](60,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275eld"](63,16777216,null,null,1,"router-outlet",[],null,[[null,"activate"]],function(n,e,l){var t=!0,o=n.component;if("activate"===e){t=!1!==o.onActivate(l)&&t}return t},null,null)),ge["\u0275did"](64,212992,null,0,be.q,[be.b,ge.ViewContainerRef,ge.ComponentFactoryResolver,[8,null],ge.ChangeDetectorRef],null,{activateEvents:"activate"}),(n()(),ge["\u0275ted"](-1,null,["\n\n          "])),(n()(),ge["\u0275and"](16777216,null,null,1,null,pe)),ge["\u0275did"](67,16384,null,0,ll.l,[ge.ViewContainerRef,ge.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),ge["\u0275ted"](-1,null,["\n\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n        "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n      "])),(n()(),ge["\u0275ted"](-1,null,["\n    "])),(n()(),ge["\u0275ted"](-1,null,["\n\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n  "])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"])),(n()(),ge["\u0275ted"](-1,null,["\n"]))],function(n,e){var l=e.component;n(e,2,0),n(e,5,0),n(e,26,0,l.showAlert);n(e,47,0,"/"),n(e,55,0,l.myIdentity&&l.ready),n(e,60,0,l.showBreadcrumb),n(e,64,0),n(e,67,0,!l.ready)},function(n,e){var l=e.component;n(e,14,0,ge["\u0275inlineInterpolate"](1,"mp-pusher wrapper ",l.contextOpened?"mp-pushed":"","")),n(e,16,0,ge["\u0275nov"](e,17).hostClass),n(e,37,0,ge["\u0275inlineInterpolate"](1,"navbar-toggler open-context ",l.contextOpened?"open":"","")),n(e,46,0,ge["\u0275nov"](e,47).target,ge["\u0275nov"](e,47).href),n(e,48,0,ge["\u0275inlineInterpolate"](1,"",l.assetsConfig.images,"/rethink-logo.png"))})}function ve(n){return ge["\u0275vid"](0,[(n()(),ge["\u0275eld"](0,0,null,null,1,"rethink-app",[],null,[["window","blur"],["window","focus"]],function(n,e,l){var t=!0;if("window:blur"===e){t=!1!==ge["\u0275nov"](n,1).onBlurEvent(l)&&t}if("window:focus"===e){t=!1!==ge["\u0275nov"](n,1).onFocusEvent(l)&&t}return t},fe,xo)),ge["\u0275did"](1,4308992,null,0,pl,[be.m,xe.j,be.a,Qe,Ge,Ke,al,Je,sl,Nl.a,ol,Xe,We,Ie,tl],null,null)],function(n,e){n(e,1,0)},null)}Object.defineProperty(e,"__esModule",{value:!0});var he,ge=l("/oeL"),ye={production:!0,host:"hysmart.rethink.ptinovacao.pt",images:"./assets/img",sounds:"./assets/sounds"},Ce=function(){function n(){}return n}(),xe=l("fc+i"),be=l("BkNc"),we=l("TxpZ"),Se=l("v/zH");!function(n){n[n.NONE=0]="NONE",n[n.NEW_MESSAGE="new-message"]="NEW_MESSAGE",n[n.INCOMING_CALL="incoming-call"]="INCOMING_CALL",n[n.NEW_CONTEXT="new-context"]="NEW_CONTEXT"}(he||(he={}));var Re;!function(n){n[n.NEW_MESSAGE=[200,100,200,100,200,100,200]]="NEW_MESSAGE",n[n.INCOMING_CALL=[200,10,200,10,200,10,200]]="INCOMING_CALL",n[n.NEW_CONTEXT=[200,100,200,100,200,100,200]]="NEW_CONTEXT"}(Re||(Re={}));var ke,Ee=l("AP4T"),Ie=function(){function n(){this.permission=this.isSupported()?Notification.permission:"denied",this.audio=new Audio}return n.prototype.requestPermission=function(){var n=this;return new Ee.a(function(e){"Notification"in window||(e.error("Notifications are not available in this environment"),e.complete()),"Notification"in window&&Notification.requestPermission(function(l){n.permission=l,"granted"!==n.permission&&(e.error("You hasn't granted permission to send Native notifications"),e.complete())})})},n.prototype.isSupported=function(){return"Notification"in window},n.prototype.create=function(n,e){var l=this;return this.haveFocus?new Ee.a(function(n){n.complete()}):new Ee.a(function(t){if(!("Notification"in window))return t.error("Notifications are not available in this environment"),void t.complete();if("granted"!==l.permission)return t.error("The user hasn't granted you permission to send Native notifications"),void t.complete();if(console.log("ServiceWorker Registration:",l.permission,e),e.persistent)console.log("ServiceWorker Registration:",navigator.serviceWorker.onmessage),navigator.serviceWorker.ready.then(function(o){console.log("ServiceWorker Registration:",o);var u=e;e.data&&e.data.hasOwnProperty("actions")&&(u.actions=e.data.actions),o.showNotification(n,u).then(function(){console.log("ServiceWorker Registration - show Notification:",n,e),e.sound&&(l.audio.src=e.sound,l.audio.load(),l.audio.play())}).catch(function(n){t.error({event:n}),t.complete()})}),navigator.serviceWorker.onmessage=function(n){t.next({event:n}),t.complete()};else{var o=new Notification(n,e);e.sound&&(l.audio.src=e.sound,l.audio.load(),l.audio.play()),o.onshow=function(n){return t.next({notification:o,event:n})},o.onclick=function(n){return t.next({notification:o,event:n})},o.onerror=function(n){return t.error({notification:o,event:n})},o.onclose=function(){return t.complete()}}})},n.ctorParameters=function(){return[]},n}(),Oe=function(){function n(){}return n}(),Ae={pageTitlePrefix:"reThink Project - ",appPrefix:"sca",splitChar:"/",domain:ye.host,images:ye.images,sounds:ye.sounds};!function(n){n[n.SUCCESS="success"]="SUCCESS",n[n.INFO="info"]="INFO",n[n.DANGER="danger"]="DANGER",n[n.WARNING="Warning"]="WARNING",n[n.QUESTION="question"]="QUESTION"}(ke||(ke={}));var Le;!function(n){n[n.OpenContextMenu="open-context"]="OpenContextMenu",n[n.OpenContextMenuCreator="open-context-creation"]="OpenContextMenuCreator"}(Le||(Le={}));var Pe;!function(n){n[n.Remove="remove"]="Remove",n[n.Dismissed="dismissed"]="Dismissed",n[n.Error="error"]="Error"}(Pe||(Pe={}));var Ue,je=(this&&this.__values,Object.prototype.hasOwnProperty),Te=l("eoFs");!function(n){n[n.Chat="chat"]="Chat",n[n.Audio="audio"]="Audio",n[n.Video="video"]="Video",n[n.AV="av"]="AV",n[n.Screen="screen"]="Screen",n[n.File="file"]="File",n[n.MIDI="midi"]="MIDI",n[n.ActivityContext="activity_context"]="ActivityContext",n[n.AvailabilityContext="availability_context"]="AvailabilityContext",n[n.LocationContext="location_context"]="LocationContext",n[n.HeartRateContext="heart_rate_context"]="HeartRateContext",n[n.UserStepsContext="user_steps_context"]="UserStepsContext",n[n.BatteryContext="battery_context"]="BatteryContext",n[n.SleepContext="sleep_context"]="SleepContext",n[n.LightContext="light_context"]="LightContext",n[n.HumidityContext="humidity_context"]="HumidityContext",n[n.Power="power"]="Power",n[n.UserActivityContext="user_activity_context"]="UserActivityContext",n[n.UserCommunicationContext="user_communication_context"]="UserCommunicationContext"}(Ue||(Ue={}));var Me;!function(n){n[n.IN="in"]="IN",n[n.OUT="out"]="OUT",n[n.IN_OUT="inout"]="IN_OUT"}(Me||(Me={}));var De,Ne=function(){function n(n){this.username=n&&n.username,this.cn=n&&n.cn,this.avatar=n&&n.avatar,this.locale=n&&n.locale,this.userURL=n&&n.userURL,this.status=n&&n.status||"unavailable",this.unread=n&&n.unread||0,this.domain=n&&n.domain||Ae.domain,this.isLegacy=!1,this.identifiers="",this.username.includes("@")||(this.isLegacy=!0),this.guid=this.username}return n.prototype.startStatusObservation=function(n){var e=this;console.log("[UserModel.startStatusObservation] ",n),this.statustUrl=n.url,this.status=n.data.values[0].value,n.onChange("*",function(l){console.log("[UserModel] Availability change",l.data),e.status=n.data.values[0].value,console.log("[UserModel] Availability change",e)})},n}(),_e=function(){function n(n){this.isRead=!1,this.type=n&&n.type,this.message=n&&n.message,this.user=n&&n.user,this.date=n&&n.date||(new Date).toISOString()}return n}(),Ve=function(){function n(n){try{this.type=n.type,this.direction=n.direction?n.direction:Me.IN,n.author&&(this.author=n.author),n.content&&(this.content=n.content),n.contentURL&&(this.contentURL=n.contentURL),n.preview&&(this.preview=n.preview),n.mimetype&&(this.mimetype=n.mimetype),n.size&&(this.size=n.size),n.player&&(this.player=n.player)}catch(n){throw n}}return n}(),Fe=function(){function n(n){this.id=n&&String(n.id).toLowerCase(),this.url=n&&n.url,this.name=n&&String(n.name).toLowerCase(),this.description=n&&n.description,this.communication=n&&n.communication,this.context=n&&n.context,this.contexts=n&&n.contexts||[],this.users=n&&n.users||[],this.messages=n&&n.messages||[],this.resources=n&&n.resources||[],this.icon=n&&n.icon||"",this.reporter=n&&n.reporter||!1,this.parent=n&&n.parent,console.log("[Models - ContextualComm] - constructor: ",this.users),this.users=this.users.map(function(n){return new Ne(n)})}return n.prototype.addUser=function(n){console.log("[Models - ContextualComm] - addUser: ",this.users.indexOf(n)),-1===this.users.indexOf(n)&&this.users.push(n)},n.prototype.addMessage=function(n){console.log("[Models - ContextualComm] - addMessage: ",this.messages,n),this.messages.push(n)},n.prototype.addResource=function(n){console.log("[Models - ContextualComm] - addMessage: ",this.resources,n),this.resources.push(n)},n.prototype.removeContexts=function(n){var e=this;n.forEach(function(n){return e.removeContext(n)})},n.prototype.removeContext=function(n){this.contexts.splice(this.contexts.findIndex(function(e){return e.url===n}),1)},n}(),ze=function(){function n(n){Object.assign(this,n)}return n}(),Be=l("TO51"),He=(l("GQSG"),l("OBUk"),l("pOAs"),function(){function n(){if(!localStorage)throw new Error("Current browser does not support Local Storage");this.localStorage=localStorage}return n.prototype.set=function(n,e){this.localStorage[n]=e},n.prototype.get=function(n){return this.localStorage[n]||!1},n.prototype.setObject=function(n,e){this.localStorage[n]=JSON.stringify(e)},n.prototype.getObject=function(n){return JSON.parse(this.localStorage[n]||"{}")},n.prototype.remove=function(n){this.localStorage.removeItem(n)},n.prototype.hasObject=function(n){return this.localStorage.hasOwnProperty(n)},n}()),qe=this&&this.__values||function(n){var e="function"==typeof Symbol&&n[Symbol.iterator],l=0;return e?e.call(n):{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}}},Ke=function(){function n(n){var e=this;this.localStorage=n,this._userList=new Map,this._create=new Be.a,this._updates=new Be.a,this._newUser=new Be.a;var l=[];if(this.localStorage.hasObject("me")){var o=this.localStorage.getObject("me");this._sessionUser=new Ne(o)}if(this.localStorage.hasObject("contacts")){var u=this.localStorage.getObject("contacts");try{for(var i=qe(Object.keys(u)),r=i.next();!r.done;r=i.next()){var s=r.value,a=new Ne(u[s]);this._userList.set(s,a),a.userURL!==this._sessionUser.userURL&&l.push(a)}}catch(n){c={error:n}}finally{try{r&&!r.done&&(d=i.return)&&d.call(i)}finally{if(c)throw c.error}}}this._users=this._updates.scan(function(n,e){return e(n)},l).startWith(l).publishReplay(1).refCount(),this._create.map(function(n){return console.log("[Contact Service] - create user:",n),e._userList.has(n.userURL)?n=e._userList.get(n.userURL):(e._userList.set(n.userURL,n),e.localStorage.setObject("contacts",t(e._userList))),function(e){return-1!==e.indexOf(n)?e:(e[e.indexOf(n)]=n,e.concat(n))}}).subscribe(this._updates),this._newUser.subscribe(this._create),this._users.subscribe(function(n){console.log("LIST USERS:",n)});var c,d}return Object.defineProperty(n.prototype,"sessionUser",{get:function(){return this._sessionUser},set:function(n){this._sessionUser=n,this.localStorage.setObject("me",n)},enumerable:!0,configurable:!0}),n.prototype.addUser=function(n){console.log("[Contact Service - AddUser] - ",n),this._newUser.next(n)},n.prototype.updateUser=function(n){this._updates.next(n)},n.prototype.removeUser=function(){},n.prototype.getUsers=function(){var n=this;return this._users.map(function(e){return e.filter(function(e){return e.username!==n.sessionUser.username})})},n.prototype.getUserList=function(){var n=[];try{for(var e=qe(this._userList.values()),l=e.next();!l.done;l=e.next()){var t=l.value;n.push(t)}}catch(n){o={error:n}}finally{try{l&&!l.done&&(u=e.return)&&u.call(e)}finally{if(o)throw o.error}}return Ee.a.of(n);var o,u},n.prototype.getUser=function(n){return console.log("[Contact Service - get user: ",this._userList,n),this._userList.get(n)},n.prototype.getByUserName=function(n){console.log("[Contact Service - get user: ",this._userList,n);var e;return this._userList.forEach(function(l){l.username===n&&(e=l)}),e},n.ctorParameters=function(){return[{type:He}]},n}(),Ge=function(){function n(n,e){this.localstorage=n,this.contactService=e,this.domain=Ae.domain,this.runtimeURL="https://catalogue."+this.domain+"/.well-known/runtime/Runtime",this.config={domain:this.domain,runtimeURL:this.runtimeURL,development:!0},this.progress=new Te.a(""),this.status=new Te.a(!1)}return n.prototype.loadRuntime=function(){var n=this;return new Promise(function(e,l){console.log("[Loading Rethink Runtime at] ",n.config,rethink),rethink.default.install(n.config).then(function(l){console.log("[Runtime Loaded]"),n.runtime=l,e(l)}).catch(function(n){console.error("[Error Loading Runtime] ",n)})})},n.prototype.getHyperty=function(n){var e=this;return new Promise(function(l,t){e.runtime.requireHyperty(n,!0).then(function(n){console.log("[Hyperty Loaded]",n),l(n)}).catch(function(n){console.error("[Hyperty Load Error]",n),t(n)})})},n.prototype.getIdentity=function(n){var e=this;return console.log("[Get my Identity]:",n),new Promise(function(l,t){n.instance.identityManager.discoverUserRegistered().then(function(n){var t=new Ne(n);e.contactService.sessionUser=t,e.contactService.addUser(t),console.info("Getting the registed user",t),e.localstorage.setObject("me",t),l(t)}).catch(function(n){console.info("Error getting the register user, using fake information",n),l(n)})})},n.ctorParameters=function(){return[{type:He},{type:Ke}]},n}(),We=function(){function n(n,e,l,t){this.router=n,this.route=e,this.rethinkService=l,this.contactService=t,this.domain=this.rethinkService.domain}return n.prototype.getHyperty=function(){var n=this;return new Promise(function(e,l){console.log("[UserAvailability Service - get hyperty reporter] - ");var t="hyperty-catalogue://catalogue."+n.domain+"/.well-known/hyperty/UserAvailabilityReporter";n.rethinkService.getHyperty(t).then(function(l){n.myAvailabilityReporter=l.instance,console.log("[UserAvailability Service - getHyperty] Reporter hyperty was instantiated ",n.myAvailabilityReporter),n.myAvailabilityReporter.start().then(function(l){n.myAvailability=l,n.contactService.sessionUser.statustUrl=l.url,n.contactService.sessionUser.status="available",n.myAvailabilityReporter.setStatus("available"),n.startObservation(),e(n.myAvailabilityReporter)})}).catch(function(n){l(n)})})},n.prototype.stopObservation=function(n){console.log("[UserAvailability service. stop observing] ",n),this.availabilityObserver.unobserve(n)},n.prototype.startObservation=function(){var n=this;console.log("[UserAvailability service. start observation] ");var e="hyperty-catalogue://catalogue."+this.domain+"/.well-known/hyperty/UserAvailabilityObserver";this.rethinkService.getHyperty(e).then(function(e){n.availabilityObserver=e.instance,console.log("[UserAvailability Service - getHyperty] Observer hyperty was instantiated ",n.availabilityObserver),n.availabilityObserver.start().then(function(e){n.contactService.getUsers().subscribe(function(l){console.log("[UserAvailability Service - startObservation] users to be observed:",l);var t=[];l.forEach(function(l){l.statustUrl&&e[l.statustUrl]?l.startStatusObservation(e[l.statustUrl]):l.username!==n.contactService.sessionUser.username&&t.push(l)}),t.length>=0&&n.subscribeUsers(t)})})})},n.prototype.subscribeUsers=function(n){var e=this;n.forEach(function(n){e.discoverUserAvailability(n).then(function(l){e.availabilityObserver.observe(l).then(function(e){n.startStatusObservation(e)})})})},n.prototype.discoverUserAvailability=function(n){var e=this;return new Promise(function(l,t){e.availabilityObserver.discoverUsers(n.username,e.rethinkService.domain).then(function(n){l(e.getLastModifiedAvailability(n))})})},n.prototype.getLastModifiedAvailability=function(n){var e=n[0];return n.forEach(function(n){new Date(n.lastModified).getTime()>new Date(e.lastModified).getTime()&&(e=n)}),e},n.prototype.setStatus=function(n){console.log("[UserAvailability service. setStatus]",n),this.myAvailabilityReporter.setStatus(n)},n.ctorParameters=function(){return[{type:be.m},{type:be.a},{type:Ge},{type:Ke}]},n}(),$e=l("5q5V"),Ze={INPROGRESS:"in-progress",END:"end"},Je=function(){function n(n,e,l,t,o){var u=this;this.router=n,this.route=e,this.sanitizer=l,this.contactService=t,this.rethinkService=o,this.hypertyURL="hyperty-catalogue://catalogue."+this.rethinkService.domain+"/.well-known/hyperty/Connector",this.controllers={},this.callInProgress=!1,this._webrtcMode="offer",this._localStream=new $e.a,this._remoteStream=new $e.a,this._connectorStatus=new Be.a,this.onInvitation=new ge.EventEmitter,this.onDisconnect=new ge.EventEmitter,console.log("[Connector Service] - constructor",this.router),this.paramsSubscription=this.router.events.subscribe(function(n){n instanceof be.d&&(console.log("[Connector Service] - query params changes:",n,n.action,u.mode,u.callInProgress),u.callInProgress||u.acceptCall())})}return Object.defineProperty(n.prototype,"connectorMode",{get:function(){return this._webrtcMode},set:function(n){this._webrtcMode=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getControllers",{get:function(){return this.controllers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mode",{get:function(){return this._mode},set:function(n){console.log("[Connector Service] - set mode: ",n),this._mode=n},enumerable:!0,configurable:!0}),n.prototype.getHyperty=function(){var n=this;return new Promise(function(e,l){n.hypertyVideo?e(n.hyperty):n.rethinkService.getHyperty(n.hypertyURL).then(function(l){n.hypertyVideo=l.instance,n.hyperty=l,n.prepareHyperty(),e(n.hyperty)}).catch(function(n){console.error(n),l(n)})})},n.prototype.acceptCall=function(){var n=this;if(console.log("[Connector Service] - AcceptCall: ",this.controllers,this.controllers.hasOwnProperty("ansewer")),console.log("[Connector Service] - AcceptCall: ",this.connectorMode),this.controllers&&this.controllers.hasOwnProperty("answer")&&"answer"===this.connectorMode){o({video:!0,audio:!0}).then(function(e){return n._localStream.next(e),n.controllers[n.connectorMode].accept(e)}).then(function(e){n.callInProgress=!0,n._connectorStatus.next(Ze.INPROGRESS),console.log("[Connector Service] - accept response:",n.mode),"audio"===n.mode&&n.controllers[n.connectorMode].disableVideo()}).catch(function(n){console.error(n)})}},n.prototype.prepareHyperty=function(){var n=this;this.hypertyVideo.onInvitation(function(e,l){console.log("[Connector Service] - on Invitation:",e,l);var t=e.dataObjectObserver.metadata;n.mode=e.dataObjectObserver.data.mode,n.connectorMode="answer",n.prepareController(e);var o=n.contactService.getUser(l.userURL);n.onInvitation.emit({metadata:t,user:o,mode:n.mode})})},n.prototype.connect=function(n,e,l,t){var u=this;return this.connectorMode="offer",o(e).then(function(e){return u._localStream.next(e),u.hypertyVideo.connect(n,e,l,t)}).then(function(n){return console.log("[Connector Service] - connect:",n),u.callInProgress=!0,u.prepareController(n),n}).catch(function(n){console.error("reason:",n)})},n.prototype.prepareController=function(n){var e=this;console.log("[Connector Service - Prepare Controller] - mode: "+this.connectorMode+" Controllers: ",this.controllers),this.controllers[this.connectorMode]=n,n.onAddStream(function(n){console.log("[Connector Service - Add Stream] - Remote Stream:",n),e._remoteStream.next(n.stream)}),n.onDisconnect(function(n){console.log("[Connector Service - onDisconnect] - onDisconnect:",n);var l={queryParams:{},relativeTo:e.route};e.router.navigate([],l),e._connectorStatus.next(Ze.END),e.onDisconnect.emit({user:n.identity,url:n.url})})},n.prototype.getRemoteStream=function(){return this._remoteStream.map(function(n){return n}).publishReplay(1).refCount()},n.prototype.getLocalStream=function(){return this._localStream.map(function(n){return n}).publishReplay(1).refCount()},n.prototype.connectorStatus=function(){return this._connectorStatus},n.prototype.enableVideo=function(){this.controllers[this.connectorMode].disableVideo(!0)},n.prototype.disableVideo=function(){this.controllers[this.connectorMode].disableVideo(!1)},n.prototype.disableAudio=function(){this.controllers[this.connectorMode].disableAudio()},n.prototype.mute=function(){this.controllers[this.connectorMode].mute()},n.prototype.hangup=function(){console.log("[Connector Service - hangup]: ",this),this.callInProgress=!1,this.controllers[this.connectorMode].disconnect(),this._localStream=new $e.a,this._remoteStream=new $e.a,this._connectorStatus.next(Ze.END),this.connectorMode="offer"},n.ctorParameters=function(){return[{type:be.m},{type:be.a},{type:xe.c},{type:Ke},{type:Ge}]},n}(),Ye=(l("HECM"),l("Wi6i"),l("RXa1"),this&&this.__values||function(n){var e="function"==typeof Symbol&&n[Symbol.iterator],l=0;return e?e.call(n):{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}}}),Xe=function(){function n(n,e){var l=this;if(this.localStorage=n,this.contactService=e,this.cxtList=new Map,this._contextualCommUpdates=new Be.a,this._newContextualComm=new Be.a,this._currentContext=new Be.a,this.contextualCommEvent=new ge.EventEmitter,this._contextualCommList=this._contextualCommUpdates.scan(function(n,e){var t;if(console.log("[Context Service - contextualCommUpdates] - scan",e,l.currentActiveContext),"add"===e.type&&(t=e.context),"remove"===e.type){t=e.context;var o=t.parent,u=l._searchByURL(o);if(u)u.removeContext(t.url);else{console.log("Contexts:",t.contexts);var i=t.contexts.map(function(n){return n.url});console.log("Contexts:",i),t.removeContexts(i)}var r=n.findIndex(function(n){return n.url===t.url});n.splice(r,1);return l.cxtList.delete(t.url),l.updateStorage(),n}if(l.currentActiveContext&&l.currentActiveContext.url===t.url)t.messages=t.messages.map(function(n){return n.isRead=!0,n.user.unread=0,n}),l._currentContext.next(t);else{var s=0;t.messages.forEach(function(n){var e;n.user.userURL!==l.contactService.sessionUser.userURL&&(e=l.contactService.getUser(n.user.userURL),!1===n.isRead&&s++,e.unread=s)})}return l.updateContexts(t.url,t),-1===n.indexOf(t)?n.concat(t):n},[]).startWith([]).publishReplay(1).refCount(),this._newContextualComm.map(function(n){return n.users=n.users.map(function(n){return l.contactService.getUser(n.userURL)}).filter(function(n){return n.userURL!==l.contactService.sessionUser.userURL}),n.messages=n.messages.map(function(n){var e=new _e(n);return e.user=l.contactService.getUser(e.user.userURL),e}),n.resources=n.resources.map(function(n){var e=new Ve(n);return e.author=e.author,e}),console.log("[Context Service - contextualCommUpdates] - map",n.url,n),{type:"add",context:n}}).subscribe(this._contextualCommUpdates),this._contextualCommList.subscribe(function(n){return console.log("LIST: ",n)}),this.localStorage.hasObject("contexts")){var t=this.localStorage.getObject("contexts");try{for(var o=Ye(Object.keys(t)),u=o.next();!u.done;u=o.next()){var i=u.value,r=new Fe(t[i]);this.cxtList.set(i,r),this._newContextualComm.next(r)}}catch(n){s={error:n}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}}var s,a}return Object.defineProperty(n.prototype,"getActiveContext",{get:function(){return this.currentActiveContext},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setActiveContext",{set:function(n){console.log("[Context Service] - setActiveContext: ",n,this.cxtList.get(n)),this.currentActiveContext=this.cxtList.get(n),this._currentContext.next(this.currentActiveContext)},enumerable:!0,configurable:!0}),n.prototype._filterByName=function(n){var e;return this.cxtList.forEach(function(l){console.log("[Contextual Comm Service] - ",l,n),e||(e=l.id===n?l:null)}),e},n.prototype._searchByURL=function(n){var e;return this.cxtList.forEach(function(l){console.log("[Contextual Comm Service] - search by URL",l,n),e||(e=l.url===n?l:null)}),e},n.prototype.create=function(n,e,l,t){var o=this;return new Promise(function(u,i){var r,s=o._filterByName(l),a=e.url;if(console.log("[Contextual Comm Service] -  create: ",n,s,l,a),s){if(!s.contexts.find(function(n){return n&&n.url===a})){var c=o.createContextualComm(n,e,s,t);s.contexts.push(c),r=c,o.updateContexts(s.url,s)}}else if(!o.cxtList.has(a)){var c=o.createContextualComm(n,e,void 0,t);r=c,o.updateContexts(r.url,r)}o._newContextualComm.next(r),u(r)})},n.prototype.removeContextualComm=function(n){this._contextualCommUpdates.next({type:"remove",context:n})},n.prototype.createContextualComm=function(n,e,l,t){var o=this,u=JSON.parse(JSON.stringify(e.data)),i=JSON.parse(JSON.stringify(e.metadata)),r=!(!t||!t.reporter)&&t.reporter,s=e.metadata&&e.metadata.icon?e.metadata.icon:"";console.log("[Contextual Comm Service] -  createContextualComm: ",n,u,i,l,e);var a=new Fe({icon:s,name:n,url:i.url,id:i.name,parent:l?l.url:"",description:i.description||"",reporter:r}),c=u.participants||{};Object.keys(c).forEach(function(n){console.log("MAP:",n,c[n]);var e=o.contactService.getUser(n);e||(e=new Ne(c[n].identity.userProfile),o.contactService.addUser(e),console.log("[Context Service - update users] - create new user: ",e)),a.addUser(e)});var d=i;return d.resources=[Ue.Chat],a.communication=d,console.log("[Context Service - createContextualComm] - New ContextualComm:",a),this.contextualCommEvent.emit({type:"add",contextualComm:JSON.parse(JSON.stringify(a))}),a},n.prototype.updateContexts=function(n,e){this.cxtList.set(n,e),this.updateStorage()},n.prototype.updateStorage=function(){this.localStorage.setObject("contexts",t(this.cxtList))},n.prototype.updateContextMessages=function(n,e){console.log("[Context Service - Update Context Message:",n,e),console.log("[Context Service - Active Context:",this.cxtList.get(e));var l=this.cxtList.get(e);l.addMessage(n),this._newContextualComm.next(l),console.log("[Context Service - update messages]",l.name,l.url,l)},n.prototype.updateContextResources=function(n,e){console.log("[Context Service - Update Context Resource:",n,e),console.log("[Context Service - Active Context:",this.cxtList.get(e));var l=this.cxtList.get(e);l.addResource(n),this._newContextualComm.next(l),console.log("[Context Service - update messages]",l.name,l.url,l)},n.prototype.updateContextUsers=function(n,e){console.log("[Context Service - Update Context User:",n,e),console.log("[Context Service - Active Context:",this.cxtList,this.cxtList.get(e));var l=this.cxtList.get(e);l.addUser(n),this.contactService.addUser(n),this._newContextualComm.next(l),console.log("[Context Service - Update contacts]",l.name,l.url,l)},n.prototype.getContextByName=function(n){var e=this;return new Promise(function(l,t){var o;e.cxtList.forEach(function(t){if(n.includes("@")){var u=n.split("-"),i=u[0],r=u[1],s=i+"-"+r,a=r+"-"+i;t.name===s?n=s:t.name===a&&(n=a)}if(console.log("[Context Service] - getting Context By Name: ",t,t.name,n),t.name===n)return o=t,console.log("[context service] - found",n,o),e._newContextualComm.next(t),l(o)}),t("No context found")})},n.prototype.getContextByResource=function(n){var e=this;return new Promise(function(l,t){var o=e.cxtList.get(n);o?l(o):t("No context found")})},n.prototype.getContextUsers=function(n){return console.log("this.contactService.getUsers(): "),this.contactService.getUsers().subscribe({next:function(n){return console.log("List of contacts:",n)}}),this.contactService.getUsers()},n.prototype.currentContext=function(){return this._currentContext},n.prototype.getContextualComms=function(){return this._contextualCommList},n.prototype.getContextualCommList=function(){var n=[];try{for(var e=Ye(this.cxtList.values()),l=e.next();!l.done;l=e.next()){var t=l.value;n.push(t)}}catch(n){o={error:n}}finally{try{l&&!l.done&&(u=e.return)&&u.call(e)}finally{if(o)throw o.error}}return Ee.a.of(n);var o,u},n.ctorParameters=function(){return[{type:He},{type:Ke}]},n}(),Qe=function(){function n(n,e,l){this.rethinkService=n,this.contextualCommService=e,this.contactService=l,this.controllerList=new Map,this.resourceList=new Map,this.onMessageEvent=new ge.EventEmitter,this.onUserAdded=new ge.EventEmitter,this.onInvitation=new ge.EventEmitter,this.onCloseEvent=new ge.EventEmitter}return Object.defineProperty(n.prototype,"activeDataObjectURL",{get:function(){return this._activeDataObjectURL},set:function(n){console.log("[Chat Service] - setActiveController:",n,this.controllerList),this._activeDataObjectURL=n,this.chatControllerActive=this.controllerList.get(n),console.info("[Chat Service] - active controller: ",this.chatControllerActive)},enumerable:!0,configurable:!0}),n.prototype._updateControllersList=function(n,e){this.prepareController(e),this.controllerList.set(n,e),console.log("[Chat Service - Update Controller List] - ",e,this.controllerList)},n.prototype.getHyperty=function(){var n=this;return new Promise(function(e,l){n.hypertyURL="hyperty-catalogue://catalogue."+n.rethinkService.domain+"/.well-known/hyperty/GroupChatManager",console.log("[Chat Service - getHyperty] - ",n.chatGroupManager),n.chatGroupManager?e(n.hyperty):n.rethinkService.getHyperty(n.hypertyURL).then(function(l){n.chatGroupManager=l.instance,n._discovery=n.chatGroupManager.discovery,n.hyperty=l,n.prepareHyperty(),e(n.hyperty)}).catch(function(n){console.error(n),l(n)})})},n.prototype.prepareHyperty=function(){var n=this;console.log("[Chat Service - prepareHyperty]",this.chatGroupManager),this.chatGroupManager.onResumeReporter(function(e){return n._processResume(e)}),this.chatGroupManager.onResumeObserver(function(e){return n._processResume(e)}),this.chatGroupManager.onInvitation(function(e){console.log("[Chat Service - OnInvitation] - ",e),n.onInvitation.emit(e)})},n.prototype._processResume=function(n){var e=this;console.log("[Chat Service - prepareHyperty] - onResume dataObjects: ",n),Object.keys(n).forEach(function(l){var t=n[l],o=t.messages;f(o)||e._processResources(o),e.controllerList.set(l,t),e._updateControllersList(l,t)})},n.prototype._processResources=function(n){var e=this;Object.keys(n).forEach(function(l){return e.resourceList.set(l,n[l])})},n.prototype.prepareController=function(n){var e=this;console.log("[Chat Service - prepareController]",n),n.onUserAdded(function(l){e.controllerUserAdded(n,l)}),n.onMessage(function(l){console.log("[Chat Service - prepareController] - onMessage",l,e.chatControllerActive);var t=n.dataObject.url,o=e.contactService.getUser(l.identity.userProfile.userURL);if(o){var u=void 0;if(l.child.metadata.resourceType===Ue.File){u={type:Ue.File,message:l.child.metadata,user:o};var i={type:l.child.metadata.resourceType,direction:Me.IN,content:l.child.metadata,contentURL:l.child.metadata.contentURL,mimetype:l.child.metadata.mimetype,size:l.child.metadata.size,preview:l.child.metadata.preview,author:l.identity.userProfile.userURL};e.resourceList.set(l.child.childId,l.child);var r=new Ve(i);e.contextualCommService.updateContextResources(r,t)}else u={type:Ue.Chat,message:l.value.content,user:o};var s=new _e(u);e.contextualCommService.updateContextMessages(s,t),e.onMessageEvent.emit(s)}else console.info("The message was rejected because the user "+l.identity.userProfile.userURL+" is unknown")}),n.onClose(function(n){e.onCloseEvent.emit(n)})},n.prototype.create=function(n,e,l){var t=this;return new Promise(function(o,u){t.chatGroupManager.create(n,e,l).then(function(n){console.log("[Chat Created]",n),t._updateControllersList(n.dataObject.url,n),t.prepareHyperty(),o(n)}).catch(function(n){u(n)})})},n.prototype.controllerUserAdded=function(n,e){var l=n.dataObject.url;console.log("[Chat Service - prepareController] - onUserAdded",n,e,l);var t,o={};e.hasOwnProperty("data")?(t=this.contactService.getUser(e.data.identity.userProfile.userURL),o.domain=e.data.domain,o.idp=e.data.identity.idp,Object.assign(o,e.data.identity.userProfile)):(t=this.contactService.getUser(e.identity.userProfile.userURL),o.domain=e.domain,o.idp=e.identity.idp,Object.assign(o,e.identity.userProfile)),t||(t=new Ne(o)),console.log("[Chat Service - prepareController] - current user:",o,t),this.contextualCommService.updateContextUsers(t,l)},n.prototype.join=function(n){var e=this;return new Promise(function(l,t){console.log("[Chat Service - Join] - event: ",event),e.chatGroupManager.join(n).then(function(n){var t=n.dataObject;e._updateControllersList(t.url,n),l(t)})})},n.prototype.invite=function(n,e){var l=this;return new Promise(function(t,o){console.log("[Invite]",e),console.log("[Chat Service - invite]: ",l.controllerList,n,l.controllerList.get(n));var u=l.controllerList.get(n);return u.addUser(e).then(function(n){console.log("[Chat Service - invite]: ",n),t(u)}).catch(function(n){console.log("[Chat Service - invite]: ",n),o(n)})})},n.prototype.send=function(n){var e=this;return new Promise(function(l,t){console.log("[Chat Service - Send Message]",e.chatControllerActive,n),e.chatControllerActive.send(n).then(function(t){console.log("[Chat Service - Sended Message]",n,t,e.chatControllerActive);var o=e.contactService.getUser(t.identity.userProfile.userURL);console.log("[Chat Service] - user:",o,t.identity.userProfile.userURL);var u={type:Ue.Chat,message:t.value.content,user:o},i=new _e(u);e.contextualCommService.updateContextMessages(i,e.chatControllerActive.dataObject.url),l(i)}).catch(t)})},n.prototype.sendFile=function(n){var e=this;return new Promise(function(l,t){console.log("[Chat Service - Send File]",e.chatControllerActive,n),e.chatControllerActive.sendFile(n).then(function(t){console.log("[Chat Service - Sended File]",n,t,e.chatControllerActive);var o=e.contactService.getUser(t.identity.userProfile.userURL);console.log("[Chat Service] - user:",o,t.identity.userProfile.userURL);var u={type:t.value.metadata.resourceType,direction:Me.OUT,content:t.value.metadata,contentURL:t.value.metadata.contentURL,mimetype:t.value.metadata.mimetype,size:t.value.metadata.size,preview:t.value.metadata.preview,author:t.identity.userProfile.userURL};e.resourceList.set(t.resource.childId,t.resource);var i={type:t.value.metadata.resourceType,message:t.value.metadata,user:o},r=new _e(i);e.contextualCommService.updateContextMessages(r,e.chatControllerActive.dataObject.url);var s=new Ve(u);e.contextualCommService.updateContextResources(s,e.chatControllerActive.dataObject.url),l(s)}).catch(t)})},n.prototype.close=function(n){var e=this,l=this.controllerList.get(n);return console.log(this.controllerList),l.close().then(function(l){return e.controllerList.delete(n)})},n.prototype.discovery=function(){return this._discovery},n.ctorParameters=function(){return[{type:Ge},{type:Xe},{type:Ke}]},n}(),nl=this&&this.__values||function(n){var e="function"==typeof Symbol&&n[Symbol.iterator],l=0;return e?e.call(n):{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}}},el=function(){function n(n){if(this.localStorage=n,this.cxtTrigger=new Map,this._contextualCommTriggerUpdate=new Be.a,this._contextualCommTrigger=new Be.a,this._contextualCommTriggerList=this._contextualCommTriggerUpdate.scan(function(n,e){return console.log("[ContextualCommTriggerService - scan] - ",n,e),-1===n.indexOf(e)?n.concat(e):n},[]).publishReplay(1).refCount(),this._contextualCommTrigger.subscribe(this._contextualCommTriggerUpdate),this._contextualCommTriggerList.subscribe(function(n){console.log("[ContextualCommTriggerService - list] - ",n)}),this.localStorage.hasObject("context-triggers")){var e=this.localStorage.getObject("context-triggers");try{for(var l=nl(Object.keys(e)),t=l.next();!t.done;t=l.next()){var o=t.value,u=new ze(e[o]);console.log("[ContextualCommTriggerService - storage]",e[o],u),this.cxtTrigger.set(o,u),this._contextualCommTrigger.next(u)}}catch(n){i={error:n}}finally{try{t&&!t.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}var i,r}return n.prototype.createContextTrigger=function(n){var e=this;return new Promise(function(l,t){console.log("[ContextualCommTriggerService - Get Localstorage] ",n);var o,u="trigger-"+n;if(e.cxtTrigger.has(u))console.info("[Get the exist ContextualTrigger]",n),o=e.cxtTrigger.get(u);else{console.info("[Create a new ContextualTrigger]",n);var i={contextName:n,contextScheme:"context",contextResource:[Ue.Video,Ue.Audio,Ue.Chat],values:[],trigger:[]};o=new ze(i)}e.activeContextTrigger=o,e.updateContextTrigger(u,o),e._contextualCommTrigger.next(o),console.info("[ContextualCommTriggerService - create]",o),l(o)})},n.prototype.updateContextTrigger=function(n,e){var l;l=n.includes("trigger")?n:"trigger-"+n,this.cxtTrigger.set(l,e),this.localStorage.setObject("context-triggers",t(this.cxtTrigger)),console.info("[ContextualCommTriggerService - updateContextTrigger]",n,e),this._contextualCommTrigger.next(e)},n.prototype.getContextualCommTriggers=function(){return this._contextualCommTriggerList},n.ctorParameters=function(){return[{type:He}]},n}(),ll=l("qbdv"),tl=(l("NzBy"),function(){function n(n,e,l,t,o){this.router=e,this.chatService=l,this.contactService=t,this.contextualCommService=o,this.location=n}return n.prototype.createContext=function(n,e,l){var t=this;return new Promise(function(o,u){t.contextualCommService.getContextByName(n).then(function(n){console.info("[ContextualCommData Service] - context found: ",n),o(n)}).catch(function(u){var r=i(n,e);console.info("[ContextualCommData Service] - no contexts was found: ",u),console.info("[ContextualCommData Service] - creating new context: ",n,r),t.chatService.create(r.id,[],l).then(function(e){return console.info("[ContextualCommData Service] - communication objects was created successfully: ",e),console.info("[ContextualCommData Service] - creating new contexts: ",e,r.parent),t.contextualCommService.create(n,e.dataObject,r.parent,l)}).then(function(n){console.info("[ContextualCommData Service] -  ContextualComm created: ",n),o(n)}).catch(function(n){console.warn("Context not found",n)})})})},n.prototype.joinContext=function(n,e,l,t){var o=this;return new Promise(function(u,i){console.info("[ContextualCommData Service] - join: ",n,e),o.getContextById(e).toPromise().then(function(n){console.info("[ContextualCommData Service] - communication objects was created successfully: ",l),console.info("[ContextualCommData Service] - creating new contexts: ",l,t),u(n)}).catch(function(e){return o.contextualCommService.create(n,l,t)}).then(function(n){u(n)})})},n.prototype.createAtomicContext=function(n,e,l,t){var o=this;return new Promise(function(u,i){var r=o.contextualCommService.getActiveContext;console.log("[ContextualCommData Service] - normalizedName:",e,l,t),o.getContextById(l).subscribe(function(n){u(n)},function(s){o.chatService.create(l,n).then(function(n){return console.info("[ContextualCommData Service] - communication objects was created successfully: ",n),console.info("[ContextualCommData Service] - creating new contexts: ",n,r),o.contextualCommService.create(e,n.dataObject,t)}).then(function(n){console.info("[ContextualCommData Service] -  ContextualComm created: ",n),u(n)}).catch(function(n){console.error("Reason:",n),i(n)})})})},n.prototype.removeContext=function(n){var e=this;return Ee.a.fromPromise(new Promise(function(l,t){var o=n.contexts.map(function(n){return e.chatService.close(n.url)}),u=n.contexts.map(function(n){return e.contextualCommService.removeContextualComm(n)});return o.push(e.chatService.close(n.url)),u.push(e.contextualCommService.removeContextualComm(n)),console.log("Childs to remove:",o,u),Promise.all([o]).then(function(n){return Promise.all(u)}).then(function(){l(!0),e._redirect(n)}).catch(function(n){return t(n)})}))},n.prototype._redirect=function(n){var e=this.router.url,l=i(n.id),t=i(e);l.id===t.id&&(console.log("Navigate to the parent object path: ",l),this.router.navigate([a(l.parent)]))},n.prototype.getContexts=function(){return this.contextualCommService.getContextualComms().map(function(n){return n.filter(function(n){return""===n.parent})})},n.prototype.activeContext=function(){var n=this.contextualCommService.getActiveContext;if(n)return n;throw new Error("No Contextual Comm Active")},n.prototype.getContext=function(n){return this.contextualCommService.getContextualCommList().map(function(e){var l=e.filter(function(e){return d(n,e)})[0];if(console.log("[ContextualCommData Service] - found: ",l),!l)throw new Error("Context not found");return l})},n.prototype.getContextTask=function(n){return this.contextualCommService.getContextualComms().map(function(e){return e.filter(function(e){return e.id===n})[0].contexts.filter(function(n){return!n.id.includes("@")})})},n.prototype.getContextById=function(n){var e=this;return this.contextualCommService.getContextualCommList().map(function(l){var t=l.filter(function(l){return e.filterContextsById(n,l)})[0];if(!t)throw new Error("Context not found");return t})},n.prototype.getContextByResource=function(n){return this.contextualCommService.getContextualCommList().map(function(e){return e.filter(function(e){return e.url===n})[0]})},n.prototype.currentContext=function(){return this.contextualCommService.currentContext()},n.prototype.filterContextsById=function(n,e){if(n.includes("@")){var l=n.substr(0,n.lastIndexOf("/")+1),t=n.substr(n.lastIndexOf("/")+1),o=t.split("-"),u=l+o[0]+"-"+o[1],i=l+o[1]+"-"+o[0];e.id===u?n=u:e.id===i&&(n=i)}return console.log("[ContextualCommData Service] - getting Context By Id: ",e.id,n,e.id===n),e.id===n},n.ctorParameters=function(){return[{type:ll.g},{type:be.m},{type:Qe},{type:Ke},{type:Xe}]},n}()),ol=function(){function n(){this.triggerAction=new Be.a}return n.prototype.trigger=function(n){this.triggerAction.next(n)},n.prototype.action=function(){return this.triggerAction},n.ctorParameters=function(){return[]},n}(),ul=function(){function n(n,e,l,t,o){this.router=n,this.contactService=e,this.triggerActionService=l,this.contextualCommService=t,this.contextualCommDataService=o}return n.prototype.resolve=function(n,e){var l=this;return new Promise(function(t,o){var r=n.params.context,a=n.params.task,c=n.params.user,d=e.url,m="";r&&(m=r),a&&(m=a),c&&(m=c),m=s(d,l.contactService.sessionUser.username);var p=i(m);console.log("[ContextualCommData - Resolve] - normalized name:",m,a,p,d,c),u(p.name)?l.contextualCommDataService.getContextById(p.id).subscribe({next:function(n){return t(n)},error:function(n){console.log("[ContextualCommData - Resolve] - user:",n),o(n),l.goHome()}}):l.contextualCommDataService.getContextById(p.id).subscribe({next:function(n){return t(n)},error:function(n){console.log("[ContextualCommData - Resolve] - task or context:",n),o(n),l.goHome()}})})},n.prototype.goHome=function(){console.log("[ContextualCommData - Resolve] - Can not resolve - Home "),this.router.navigate(["/"])},n.ctorParameters=function(){return[{type:be.m},{type:Ke},{type:ol},{type:Xe},{type:tl}]},n}(),il=function(){function n(n,e,l,t,o,u){this.router=n,this.chatService=e,this.rethinkService=l,this.contactService=t,this.contextualCommService=o,this.contextualCommDataService=u}return n.prototype.canActivate=function(n,e){var l=this;return new Promise(function(t,o){l.rethinkService.status.subscribe({next:function(o){if(o){var u=e.url,r=n.params.context,a=n.params.task,c=s(u,l.contactService.sessionUser.username);console.log("[Activate Task Guard] - ",r,a,e,c);var d=i(c);console.log("[Activate Task Guard - Activate] - normalized path: ",c),console.log("[Activate Task Guard - Activate] - normalized name: ",d),l.contextualCommDataService.getContextById(d.id).subscribe(function(n){l.activateContext(n),t(!0)},function(n){console.log("[Activate Task Guard - Activate] - Can not activate - reason: ",n),l.goHome(),t(!1)})}}})})},n.prototype.goHome=function(){console.log("[Activate Task Guard - Activate] - Can not activate - Home "),this.router.navigate(["/"])},n.prototype.activateContext=function(n){console.log("[Activate Task Guard - Activate] - Can Activate Route - ",n.url),this.chatService.activeDataObjectURL=n.url,this.contextualCommService.setActiveContext=n.url},n.ctorParameters=function(){return[{type:be.m},{type:Qe},{type:Ge},{type:Ke},{type:Xe},{type:tl}]},n}(),rl=function(){function n(n,e,l,t,o,u){this.router=n,this.chatService=e,this.contactService=l,this.rethinkService=t,this.contextualCommService=o,this.contextualCommDataService=u}return n.prototype.canActivate=function(n,e){var l=this;return new Promise(function(t,o){l.rethinkService.status.subscribe({next:function(u){if(u){var r=e.url,a=n.params.context,c=n.params.user,d=s(r,l.contactService.sessionUser.username);console.log("[Activate User Guard] - ",a,c,e,d);var m=i(d);console.log("[Activate User Guard - Activate] - normalized path: ",d),console.log("[Activate User Guard - Activate] - normalized name: ",m),l.contextualCommDataService.getContextById(m.id).subscribe(function(n){l.activateContext(n),t(!0)},function(n){l.contextualCommDataService.getContextById(m.parent).subscribe(function(n){console.log("[Activate User Guard - Activate] - parent context and user found: ",d),console.log("[Activate User Guard - Activate] - parent context and user found: ",n,c),n&&c?(l.activateContext(n),t(!0)):(console.log("[Activate User Guard - Activate] - Can Not Activate Route:","Parent context not found"),l.goHome(),t(!1))},function(n){var e=l.contactService.getByUserName(c);c&&e&&e.isLegacy?o("This kind of user do not allow private messages"):(console.log("[Activate User Guard - Activate] - Can Not Activate Route:",n),l.goHome(),t(!1))})})}}})})},n.prototype.goHome=function(){console.log("[Activate User Guard - Activate] - Can not activate - Home "),this.router.navigate(["/"])},n.prototype.activateContext=function(n){console.log("[Activate User Guard - Activate] - Can Activate Route - ",n.url),this.chatService.activeDataObjectURL=n.url,this.contextualCommService.setActiveContext=n.url},n.ctorParameters=function(){return[{type:be.m},{type:Qe},{type:Ke},{type:Ge},{type:Xe},{type:tl}]},n}(),sl=(l("iBt5"),l("03bB"),function(){function n(n){var e=this;this.router=n,this.paths=new Be.a,this.breadcrumb=new Te.a([]),this.paths.subscribe(this.breadcrumb),console.log("[Breadcrumb Service] - router events:",this.router),this._urls=new Array,this.router.events.subscribe(function(n){console.log("[Breadcrumb Service] - router events:",n),e._urls.length=0,n instanceof be.d&&(e.generateBreadcrumbTrail(n.urlAfterRedirects?n.urlAfterRedirects:n.url),e.paths.next(e._urls))})}return n.prototype.generateBreadcrumbTrail=function(n){this._urls.unshift(decodeURIComponent(n)),n.lastIndexOf("/")>0&&this.generateBreadcrumbTrail(n.substr(0,n.lastIndexOf("/")))},n.ctorParameters=function(){return[{type:be.m}]},n}()),al=(l("+DIC"),function(){function n(n,e,l){var t=this;this.titleService=n,this.router=e,this.activatedRoute=l,this.routingChanges=new ge.EventEmitter,console.log("[Routing Service] - "),e.events.filter(function(n){return n instanceof be.d}).map(function(){return t.activatedRoute}).map(function(n){for(;n.firstChild;)n=n.firstChild;return n}).filter(function(n){return"primary"===n.outlet}).mergeMap(function(n){return n.data}).subscribe(function(n){var e="",l="";console.log("[Routing Service] - params: ",n),n.hasOwnProperty("context")?(e="context",l=n.context.name):(e=n.pageSection||"home",l=n.pageTitle||"Home"),t.titleService.setTitle(Ae.pageTitlePrefix+l),t.routingChanges.emit({section:e,title:l})})}return n.ctorParameters=function(){return[{type:xe.j},{type:be.m},{type:be.a}]},n}()),cl=function(){function n(n,e){this.rethinkService=n,this.router=e}return n.prototype.canActivate=function(n,e){var l=this;return new Promise(function(n){l.rethinkService.status.subscribe({next:function(e){e&&(console.log("CAN ACTIVATE:",e),n(e))}})})},n.ctorParameters=function(){return[{type:Ge},{type:be.m}]},n}(),dl=function(){function n(n,e){this.contactService=n,this.router=e}return n.prototype.resolve=function(n){var e=this;return new Promise(function(l,t){var o=decodeURIComponent(n.params.user);console.log(o);var u=e.contactService.getByUserName(o);console.log("[User Resolver] - ",u),u?l(u):t("no user found")})},n.ctorParameters=function(){return[{type:Ke},{type:be.m}]},n}(),ml=function(){function n(n,e,l,t,o){var u=this;this.router=n,this.route=e,this.appService=l,this.contextualCommDataService=t,this.contactService=o,this.hostClass="context-view row no-gutters",this.allowAddUser=!1,this.userList=new Te.a([]),this.routeData=this.route.data.subscribe(function(n){u.updateCurrentContext(n.context)}),this.currentContext=this.contextualCommDataService.currentContext().subscribe(function(n){console.log("[ContextualComm View - active context change]:",n),u.updateCurrentContext(n)})}return n.prototype.onResize=function(n){this.updateView()},n.prototype.updateCurrentContext=function(n){var e=this;if(console.log("[ContextualComm View - active context change]:",n),this.allowAddUser=!!n.reporter,n.id.includes("@")){var l=s(this.router.url,this.contactService.sessionUser.username),t=i(l);console.log("[ContextualComm View - get parent active context]:",l),console.log("[ContextualComm View - get parent active context]:",t);var o=void 0;o=this.contextualCommDataService.getContextById(t.id),o.subscribe(function(n){console.log("[ContextualComm View - get parent context]:",n),e.userList.next(n.users)}),this.allowAddUser=!1}else console.log("[ContextualComm View - is not an Atomic Context]:",n),this.userList.next(n.users)},n.prototype.ngOnInit=function(){console.log("[ContextualComm View - onInit]",this.content)},n.prototype.ngAfterViewInit=function(){this.updateView()},n.prototype.ngOnDestroy=function(){this.currentContext.unsubscribe(),this.routeData.unsubscribe()},n.prototype.updateView=function(){var n=document.getElementById("sidebar");n.classList.contains("opened")&&n.classList.remove("opened")},n.prototype.onInviteEvent=function(n){console.log("Invite some one: ",n)},n.prototype.onCloseEvent=function(){},n.prototype.onContactClick=function(){},n.ctorParameters=function(){return[{type:be.m},{type:be.a},{type:Ge},{type:tl},{type:Ke}]},n}(),pl=function(){function n(n,e,l,t,o,u,i,r,s,a,c,d,m,p,f){var v=this;this.router=n,this.titleService=e,this.route=l,this.chatService=t,this.rethinkService=o,this.contactService=u,this.routingService=i,this.connectorService=r,this.breadcrumbService=s,this.notificationsService=a,this.triggerActionService=c,this.contextualCommService=d,this.userAvailabilityService=m,this.natNotificationsService=p,this.contextualCommDataService=f,this.actionResult=new ge.EventEmitter,this.showBreadcrumb=!1,this.showAlert=!1,this.contextOpened=!1,this.ready=!1,this.assetsConfig=Ae,this.natNotFeedback=this.natNotificationsService.requestPermission().subscribe(function(n){v.notificationStatus=n},function(n){v.showAlert=!0,v.notificationStatus='<span class="font-weight-bold">Warning!</span> '+n}),this.rethinkService.progress.subscribe({next:function(n){v.status=n,v.titleService.setTitle(Ae.pageTitlePrefix+n)}}),this.actionService=this.triggerActionService.action().subscribe(function(n){console.log("[App Component - TriggerActionService] - action: ",n),n===Le.OpenContextMenu&&v.onOpenContext()}),this.contextualCommEvent=this.contextualCommService.contextualCommEvent.subscribe(function(n){var e="New communication channel",l="You have a new communication channel "+n.contextualComm.name;v.notificationsService.success(e,l,{showProgressBar:!1,timeOut:5e3,pauseOnHover:!1,haveActions:!1}),v.natNotificationsService.create(e,{body:l,tag:he.INCOMING_CALL,vibrate:Re.INCOMING_CALL,persistent:!0,sound:Ae.sounds+"/successful.mp3"})})}return n.prototype.onBlurEvent=function(n){this.natNotificationsService.haveFocus=!1},n.prototype.onFocusEvent=function(n){this.natNotificationsService.haveFocus=!0},n.prototype.ngOnInit=function(){var n=this;this.rethinkService.progress.next("Loading runtime"),this.rethinkService.loadRuntime().then(function(e){return n.rethinkService.progress.next("Loading chat service"),n.chatService.getHyperty()},function(e){return console.log("Error: ",e),n.rethinkService.progress.error(e),null}).then(function(e){return n.rethinkService.progress.next("Loading connector service"),n.connectorService.getHyperty()},function(e){return console.log("Error: ",e),n.rethinkService.progress.error(e),null}).then(function(e){return n.rethinkService.progress.next("Getting your identity"),n.rethinkService.getIdentity(e)},function(e){n.rethinkService.progress.error(e)}).then(function(e){return n.myIdentity=n.contactService.getUser(e.userURL),n.rethinkService.progress.next("Loading user status availability service"),n.userAvailabilityService.getHyperty()}).then(function(e){n.rethinkService.progress.next("The app is ready to be used"),n.rethinkService.progress.complete(),n.rethinkService.status.next(!0),n.ready=!0,n.hypertiesReady()},function(e){return console.log("Error: ",e),n.rethinkService.progress.error(e),null})},n.prototype.ngAfterViewInit=function(){var n=this;this.routerEvent=this.router.events.subscribe(function(e){if(console.log("[App Component] - navigation: ",e),e instanceof be.d){n.toggleSideBar();var l=e.url;l.includes("@")&&(l=l.substr(0,l.lastIndexOf("/")))}}),this.routeData=this.routingService.routingChanges.subscribe(function(e){console.log("[Routing Service Output] - ",e),"home"!==e.section?n.showBreadcrumb=!0:n.showBreadcrumb=!1,n.section.nativeElement.setAttribute("data-section",e.section)})},n.prototype.hypertiesReady=function(){var n=this;this.chatInvitation=this.chatService.onInvitation.subscribe(function(e){console.log("[App View View - chatService onInvitation] - event:",e),n.processEvent(e).then(function(n){console.log("[App View View - chatService onInvitation] - event processed:",n)}).catch(function(n){console.error("[App View View - chatService onInvitation] - event not processed:",n)})}),this.closeEvent=this.chatService.onCloseEvent.subscribe(function(e){console.log("Context to be removed: ",e,e.url),n.contextualCommDataService.getContextByResource(e.url).subscribe(function(e){n.contextualCommDataService.removeContext(e).subscribe(function(l){n.notificationsService.info("Context Removed","The context "+e.name+" was been removed",{showProgressBar:!1,timeOut:5e3,pauseOnHover:!1,haveActions:!1})},function(e){n.notificationsService.error("Error removing context",e,{showProgressBar:!1,timeOut:5e3,pauseOnHover:!1,haveActions:!1})})})}),this.connectorInvitation=this.connectorService.onInvitation.subscribe(function(e){console.log("[Media Communication Component] - event",e);var l="A "+e.mode+" call is Incoming from "+e.user.username,t=e.user.avatar;n.natNotificationsService.create("Incoming call",{body:l,icon:t,sound:Ae.sounds+"/classic-ringer.mp3",tag:he.INCOMING_CALL,vibrate:Re.INCOMING_CALL,persistent:!0,data:{metadata:e}}).subscribe(function(n){console.log("notification:",n)},function(n){console.warn("warning:",n)}),n.notificationsService.create("Incoming call",l,"info",{showProgressBar:!1,pauseOnHover:!1,haveActions:!0,metadata:e,sound:Ae.sounds+"/classic-ringer.mp3"},t,n.actionResult)},function(n){console.log("[Media Communication Component] - error",n)}),this.actionResult.subscribe(function(e){console.log("[Media Communication Component] - Params Action:",e),n.actionEvent(e)});var e=[];this.notificationsService.getChangeEmitter().subscribe(function(n){console.log("NotificationService - notification",n),"set"===n.command&&e.push(n)}),this.connectorCancel=this.connectorService.onDisconnect.subscribe(function(l){console.log("Notification Service - onDisconnect",l);var t,o=l.url;o&&(t=e.filter(function(n){return console.log("Notification Service - onDisconnect: ",n.notification),n.notification.override.metadata.metadata.url===o})),1===t.length?n.notificationsService.remove(t[0].notification.id):n.notificationsService.remove()})},n.prototype.processEvent=function(n){var e=this;return new Promise(function(l,t){var o=n.url,u=n.value,r=u.name;e.chatService.join(o).then(function(n){var l=i(r);return console.log("[App Component - Join the to the context: ",r,n,l),e.contextualCommDataService.joinContext(l.name,l.id,n,l.parent)}).then(function(n){console.log("[App Component] - current context created: ",n),l(n)}).catch(function(n){console.log("Error:",n),t(n)})})},n.prototype.actionEvent=function(n){console.log("[Media Communication Component] -  Action Event: ",n),console.log("[Media Communication Component] -  Action Event: ",n.metadata);var e=n.metadata,l=e.mode,t=this.contactService.sessionUser.username,o=r(e.metadata.name,t);if(n.action===Se.a.ACCEPT){var i={queryParams:{action:l}};console.log("[Media Communication Component] -  navigate to: ",o),console.log("[Media Communication Component] -  navigate to: ",o.context,o.task,o.user);var s=[o.context],a=void 0;u(o.task)?a=c(o.task,t):(s.push(o.task),a=c(o.user,t)),s.push("user"),s.push(a),console.log("[Connector Service] -  navigate to path: ",s),this.router.navigate(s,i)}else console.log("[Media Communication Component] -  navigate to path: ",this.connectorService.getControllers),this.connectorService.getControllers.answer.decline()},n.prototype.nativeNotificationSubscription=function(n){console.log("Native:",n,n.notification,n.event),n.notification.onclick=function(n){console.log("Native:",n),window.focus(),this.close()}},n.prototype.onOpenContext=function(n){this.contextOpened=!this.contextOpened},n.prototype.onClickOutside=function(n){n&&(n.srcElement&&"mp-pusher"===n.srcElement.id||n.target&&"mp-pusher"===n.target.id)&&(this.contextOpened=!1)},n.prototype.openSecondaryContext=function(n){var e=n.currentTarget;e&&(e.classList.contains("opened")?e.classList.remove("opened"):e.classList.add("opened"));var l=document.getElementById("sidebar");l&&(l.classList.contains("opened")?l.classList.remove("opened"):l.classList.add("opened"))},n.prototype.toggleSideBar=function(){var n=document.getElementsByClassName("menu-trigger")[0],e=new MouseEvent("click");console.log("[App Component] - navigation:",n,e),n&&n.classList.contains("opened")&&n.dispatchEvent(e)},n.prototype.onActivate=function(n){n instanceof ml&&(this.context=n)},n.ctorParameters=function(){return[{type:be.m},{type:xe.j},{type:be.a},{type:Qe},{type:Ge},{type:Ke},{type:al},{type:Je},{type:sl},{type:we.NotificationsService},{type:ol},{type:Xe},{type:We},{type:Ie},{type:tl}]},n}(),fl=function(){function n(n,e){this.el=n,this.renderer=e,this.open=!1,this.statusEmitter=new ge.EventEmitter,console.log("DIRECTIVE:",n,e)}return n.prototype.ngAfterViewInit=function(){this._removeClass("opened"),console.log("DIRECTIVE:",this.el)},n.prototype.show=function(){console.log("DIRECTIVE - SHOW: ",this.open),this.open?(this._removeClass("opened"),this.open=!this.open):(this._addClass("opened"),this.open=!this.open),this.statusEmitter.emit({status:this.open})},n.prototype._addClass=function(n){this.renderer.setElementClass(this.el.nativeElement,n,!0)},n.prototype._removeClass=function(n){this.renderer.setElementClass(this.el.nativeElement,n,!1)},n.ctorParameters=function(){return[{type:ge.ElementRef},{type:ge.Renderer}]},n}(),vl=l("EdAj"),hl=l("1dXy"),gl=l("bm2B"),yl=(l("Ynet"),l("0WLp")),Cl=(l("XD1n"),function(){function n(){}return n.contextName=function(n){return function(e){var l=e.value.toLowerCase();return new Promise(function(e){n.getContext(l).subscribe(function(n){e(n?{exist:l}:null)},function(n){e(null)})})}},n}()),xl=function(){function n(n,e,l,t,o,u,i){var r=this;this.router=n,this.fb=e,this.route=l,this.modalService=t,this.contactService=o,this.triggerActionService=u,this.contextualCommDataService=i,this.hostClass="add-context-view",this.model={},this.icons=["comments","briefcase","heart","heartbeat","film","camera","futbol-o","gamepad","graduation-cap","cogs","users"],this.title="Add New context",this.pattern="[a-zA-Z0-9- ]*",this.minLenght=4,this.maxLenght=22,this.required=!0,this.contextualComms=this.contextualCommDataService.getContexts(),this.routeEvents=this.route.params.subscribe(function(n){console.log("[AddContextualComm] - route events:",n),r.routeParams=n})}return n.prototype.ngOnInit=function(){var n=this;this.triggerActions=this.triggerActionService.action().subscribe(function(e){e===Le.OpenContextMenuCreator&&n.open(n.el)})},n.prototype.ngOnDestroy=function(){this.routeEvents.unsubscribe(),this.triggerActions.unsubscribe(),console.log("[AddContextualComm] - destroy component")},n.prototype.buildForm=function(){var n=this;console.log("[AddContextualComm] - build form: ",this.routeParams);var e=this.routeParams.context||"",l=i(e),t=l.parent?l.parent:l.id;this.contextualCommDataService.getContextById(t).subscribe(function(e){n.fillForm(e)},function(e){n.fillForm()})},n.prototype.fillForm=function(n){this.model.name="",this.model.icon=this.icons[0],this.model.parent=n?n.id:null,this.model.reporter=!0,this.complexForm&&this.complexForm.reset(),this.complexForm=this.fb.group({name:[this.model.name,gl.t.compose([gl.t.required,gl.t.pattern(this.pattern),gl.t.minLength(this.minLenght),gl.t.maxLength(this.maxLenght)]),gl.t.composeAsync([Cl.contextName(this.contextualCommDataService)])],parent:[{value:this.model.parent,disabled:!0}],icon:[this.model.icon]})},n.prototype.open=function(n){var e=this;console.log("[AddContextualComm] - ",n),this.buildForm(),this.modalService.open(n,{windowClass:"custom-modal"}).result.then(function(n){console.log("AQUI:",n),e.closeResult="Closed with: "+n},function(n){e.closeResult="Dismissed "+e.getDismissReason(n)})},n.prototype.getDismissReason=function(n){return n===yl.a.ESC?"by pressing ESC":n===yl.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+n},n.prototype.onTextChange=function(n){console.log(n);var e=n.target,l=e.value.replace(/\s+/g,"-");e.value=l},n.prototype.onLostFocus=function(n){var e=n.target,l=e.value.replace(/\s+/g,"-");e.value=l},n.prototype.submitForm=function(n){var e=this;console.log("Submit:",n);var l=n.name.trim(),t=n.parent||this.model.parent,o=n;o.reporter=!0,this.contextualCommDataService.createContext(l,t,o).then(function(n){e.buildForm()}).catch(function(n){})},n.ctorParameters=function(){return[{type:be.m},{type:gl.d},{type:be.a},{type:yl.c},{type:Ke},{type:ol},{type:tl}]},n}(),bl=l("dN2u"),wl=[],Sl=ge["\u0275crt"]({encapsulation:2,styles:wl,data:{}}),Rl=(ge["\u0275ccf"]("add-contextualcomm-view",xl,w,{},{},[]),function(){function n(n){this.modalService=n,this.removeEvent=new ge.EventEmitter(!0)}return n.prototype.open=function(n){var e=this,l=this.context.contexts.filter(function(n){return n.id.includes("@")}).length,t=this.context.contexts.length-l,o=0===this.context.parent.length;if(console.log(l,t,o),t>0&&o)return this.removeEvent.emit({type:Pe.Error,context:this.context,reason:"You can't remove a context which contains sub contexts"}),!1;this.modalService.open(n).result.then(function(n){"yes"===n?e.removeEvent.emit({type:Pe.Remove,context:e.context}):e.removeEvent.emit({type:Pe.Dismissed,reason:e.getDismissReason(n)})},function(n){e.removeEvent.emit({type:Pe.Dismissed,reason:e.getDismissReason(n)})})},n.prototype.getDismissReason=function(n){return n===yl.a.ESC?"by pressing ESC":n===yl.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+n},n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:yl.c}]},n}()),kl=[],El=ge["\u0275crt"]({encapsulation:2,styles:kl,data:{}}),Il=(ge["\u0275ccf"]("remove-contextualcomm-view",Rl,k,{modalTitle:"modalTitle",context:"context"},{removeEvent:"removeEvent"},[]),function(){function n(){this.hostClass="user-identity"}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()),Ol=[],Al=ge["\u0275crt"]({encapsulation:2,styles:Ol,data:{}}),Ll=ge["\u0275ccf"]("user-identity",Il,I,{model:"model"},{},[]),Pl=l("raIJ"),Ul=l("0H8/"),jl=l("gZxW"),Tl=l("n/Gy"),Ml=l("Wv1e"),Dl=(l("ABGK"),function(){function n(n,e,l,t,o,u){this.router=n,this.modalService=e,this.chatService=l,this.contactService=t,this.notificationsService=o,this.contextualCommDataService=u,this.hostClass="add-user-action",this.closeEvent=new ge.EventEmitter,this.inviteEvent=new ge.EventEmitter,this.contactClick=new ge.EventEmitter,this.model={email:"",domain:""},this.busy=!1,this.ready=!1,this.formatter=function(n){return n.username}}return n.prototype.ngOnInit=function(){this.contactList=this.contactService.getUsers(),this.contactList.subscribe(function(n){console.log("Contacts:",n),De=n})},n.prototype.search=function(n){return n.distinctUntilChanged().map(function(n){return n.length<2?[]:De.filter(function(e){return console.log(e,n),e.username.toLowerCase().indexOf(n.toLowerCase())>-1}).slice(0,10)})},n.prototype.open=function(n){var e=this;this.ready=!0,this.busy=!1,this.modalService.open(n,{backdrop:!1,windowClass:"custom-modal"}).result.then(function(n){e.closeResult="Closed with: "+n},function(n){e.closeResult="Dismissed "+e.getDismissReason(n)})},n.prototype.getDismissReason=function(n){return n===yl.a.ESC?"by pressing ESC":n===yl.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+n},n.prototype.addUser=function(){this.busy=!0,console.log("THIS:",this.searchResultModel),this.searchResultModel&&this.searchResultModel.username&&this._invite({email:this.searchResultModel.username,domain:this.searchResultModel.domain})},n.prototype.submitEvent=function(){this.busy=!0,this._invite({email:this.model.email,domain:this.model.domain})},n.prototype._invite=function(n){var e=this,l=this.router.url,t=i(l),o=[];console.log("[Add User Component] - parent: ",t,this.chatService.activeDataObjectURL),t.parent,o=t.id.split("/").slice(1),o=o.reduce(function(l,t){var u,i;return o[0]===t?(u=Ae.appPrefix+"/"+t,i=Ae.appPrefix+"/"+t+"/"+n.email+"-"+e.contactService.sessionUser.username):(u=Ae.appPrefix+"/"+o[0]+"/"+t,i=Ae.appPrefix+"/"+o[0]+"/"+t+"/"+n.email+"-"+e.contactService.sessionUser.username),l.push(u),l.push(i),l},[]),console.log("[Add User Component] - contexts",o),this._recursiveCreateContext(o,n)},n.prototype._recursiveCreateContext=function(n,e,l){var t=this;void 0===l&&(l=0);var o=(this.router.url,n[l]);n[l-1];console.log("[Add User Component] - check: ",o);var u;this.contextualCommDataService.getContextById(o).toPromise().then(function(o){console.log("[Add User Component] - found contextualComm: ",o);var r=o.users.find(function(n){return n.username===e.email});if(console.log("[Add user component] - search for current user: ",r),r&&l<=n.length)return l++,console.log("[Add User Component] - the context already have the user: ",n.length,l),void t._recursiveCreateContext(n,e,l);var s=[];s.push({user:e.email,domain:e.domain||Ae.domain}),t.chatService.invite(o.url,s).then(function(o){u=setTimeout(function(){t.busy=!1,t.clean(),t.errorNotificateSystem("The user "+e.email+" is not reachable.")},5e3),o.onUserAdded(function(r){console.log("[Add User Component] - user added: ",r),clearInterval(u);var s=i(n[l+1]);console.log("[Add User Component] - data: ",s),t.chatService.controllerUserAdded(o,r);var a=[{user:r.identity.userProfile.username,domain:r.domain}];m(e.email)||t.contextualCommDataService.createAtomicContext(a,s.name,s.id,s.parent).then(function(o){console.log("[Add User Component] - one to one controller",o),t.busy=!1,t.clean(),l<=n.length&&(l++,console.log("[Add User Component] - user added: ",n.length,l),t._recursiveCreateContext(n,e,l))}).catch(console.error)})}).catch(function(n){console.error("[Add User Component] - error:",n),t.errorNotificateSystem(n)})}).catch(function(n){console.log("[Add User Component] - Context Not Found: ",n)})},n.prototype.errorNotificateSystem=function(n){console.log("ERROR:",n),this.notificationsService.error("Error",n,{showProgressBar:!1,timeOut:5e3,pauseOnHover:!1,haveActions:!1}),this.busy=!1,this.clean()},n.prototype.clean=function(){this.model.email="",this.model.domain="",this.searchResultModel&&(this.searchResultModel=null)},n.ctorParameters=function(){return[{type:be.m},{type:yl.c},{type:Qe},{type:Ke},{type:we.NotificationsService},{type:tl}]},n}()),Nl=l("qZel"),_l=[],Vl=ge["\u0275crt"]({encapsulation:2,styles:_l,data:{}}),Fl=(ge["\u0275ccf"]("add-user-view",Dl,P,{busy:"busy"},{closeEvent:"closeEvent",inviteEvent:"inviteEvent",contactClick:"contactClick"},[]),function(){function n(n,e,l,t){var o=this;this.router=n,this.route=e,this.notificationsService=l,this.contextualCommDataService=t,this.hostClass="context-user-view d-flex flex-column justify-content-between",this.contactClick=new ge.EventEmitter,this.contactAdd=new ge.EventEmitter,this.contactsFilter=new Ee.a,this.hide=!0,this.basePath=this.router.url,this.events=this.router.events.subscribe(function(n){if(console.log("[ContextualCommUsers] - ",n),n instanceof be.d){var e=n.url;e.includes("@")&&(e=e.substr(0,e.lastIndexOf("/"))),o.basePath=e}n instanceof be.e&&o.notificationsService.error("Error",n.error,{showProgressBar:!1,timeOut:3e3,pauseOnHover:!1,haveActions:!1})}),this.paramsObserver=this.route.params.subscribe(function(n){console.log("[ContextualCommUsers] - params:",n);var e=n.context,l=Ae.appPrefix+"/"+e;o.rootContext=e,o.contextSubscription=o.contextualCommDataService.getContextTask(l).subscribe(function(n){console.log("[ContextualCommUsers] - contexts: ",n),o.contexts=n})}),console.log("[ContextualCommUsers - constructor]",this.router,this.router.url)}return n.prototype.ngOnInit=function(){var n=this;this.currentUsers=this.users.subscribe(function(e){console.log("[contextualCommUsers - subscribe]",e),n.filter("")}),console.log("[contextualCommUsers - ngOnInit]",this.currentUsers)},n.prototype.ngOnDestroy=function(){this.currentUsers.unsubscribe(),this.events.unsubscribe(),this.paramsObserver.unsubscribe(),this.contextSubscription.unsubscribe(),console.log("[contextualCommUsers - ngOnDestroy]",this.events,this.paramsObserver)},n.prototype.onFilterKey=function(n){this.filter(n.target.value)},n.prototype.filter=function(n){this.contactsFilter=this.users.map(function(e){return console.log("[contextualCommUsers - filter]:",e,n),e.filter(function(e){return console.log("[contextualCommUsers - filter]:",e,n),e.cn.includes(n)})})},n.prototype.onCloseSidebarEvent=function(n){var e=document.getElementById("sidebar");e.classList.contains("opened")?e.classList.remove("opened"):e.classList.add("opened")},n.prototype.removeContext=function(n,e){var l=this;console.log("Context to be removed: ",n,e);var t=i(e.id);n.type===Pe.Remove&&this.contextualCommDataService.removeContext(n.context).subscribe(function(n){console.log("Success:",n),console.log("Context Remove Path:",l.basePath);var e=i(l.basePath);if(t.id===e.id){var o=r(e.id);console.log("Context Remove Path: ",o),l.router.navigate([o.context])}console.log("Context Remove Path:",t,e)},function(n){l.notificationsService.error("Error removing context",n)}),n.type===Pe.Error&&this.notificationsService.error("Error removing context",n.reason)},n.ctorParameters=function(){return[{type:be.m},{type:be.a},{type:we.NotificationsService},{type:tl}]},n}()),zl=[],Bl=ge["\u0275crt"]({encapsulation:2,styles:zl,data:{}}),Hl=(ge["\u0275ccf"]("context-user-view",Fl,z,{users:"users",allowAddUser:"allowAddUser"},{contactClick:"contactClick",contactAdd:"contactAdd"},[]),[]),ql=ge["\u0275crt"]({encapsulation:2,styles:Hl,data:{}}),Kl=ge["\u0275ccf"]("context-view",ml,H,{},{},[]),Gl=[".resources-wrapper[_ngcontent-%COMP%]{background:#f7f7f6;border-left:1px solid #ddd}"],Wl=l("sexv"),$l=function(){function n(){this.isAnEvent=!1}return n.prototype.ngOnInit=function(){},n}(),Zl=[],Jl=ge["\u0275crt"]({encapsulation:2,styles:Zl,data:{}}),Yl=(ge["\u0275ccf"]("chat-event",$l,G,{message:"message",isAnEvent:"isAnEvent"},{},[]),[":host{display:block;overflow:hidden}"]),Xl=function(){function n(){}return n.prototype.transform=function(n,e){if(0===n)return"0 Bytes";var l=e||2,t=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,o)).toFixed(l))+" "+t[o]},n}(),Ql=function(){function n(){this.isAnEvent=!1,this.viewImageEvent=new ge.EventEmitter,this.previewOpen=!0}return n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){this.fileTranfer.element.nativeElement.classList.add("open"),this.previewOpen=!0},n.prototype.onOpenResource=function(n){n.preventDefault();var e=this.fileTranfer.element.nativeElement;e.classList.contains("open")?(e.classList.remove("open"),this.previewOpen=!1):(e.classList.add("open"),this.previewOpen=!0)},n.prototype.onViewImage=function(n){n.preventDefault();var e=n.currentTarget;this.viewImageEvent.emit({url:e.getAttribute("data-url")})},n}(),nt=[Yl],et=ge["\u0275crt"]({encapsulation:2,styles:nt,data:{}}),lt=(ge["\u0275ccf"]("file-event",Ql,Y,{message:"message",isAnEvent:"isAnEvent"},{viewImageEvent:"viewImageEvent"},[]),l("+eOv"),l("4Ggl"),l("5jVs"),function(){function n(){this.openEvent=new ge.EventEmitter}return n.prototype.open=function(n){this.openEvent.emit(n)},n}()),tt=function(){function n(n,e,l,t){this.el=n,this.mediaModalService=e,this.contactService=l,this.chatService=t,this.hostClass="activity-list w-100 h-100",this.eventMode=!1,this.hypertyResourceType=Ue}return n.prototype.ngOnChanges=function(n){console.log("CHANGES:",n)},n.prototype.ngOnInit=function(){var n=this;this.mergedResources=this.resources.mergeMap(function(e){return n.messages},1),this.mergedResourcesSubscription=this.mergedResources.subscribe(function(e){console.log("RESOURCEs: ",e),setTimeout(function(){n.scrollToBottom()})})},n.prototype.ngAfterViewInit=function(){},n.prototype.scrollToBottom=function(){var n=this.el.nativeElement,e=n.offsetParent;e&&(e.scrollTop=e.scrollHeight)},n.prototype.onViewImageEvent=function(n){var e=this,l=this.chatService.resourceList.get(n.url),t=JSON.parse(JSON.stringify(l.identity.userProfile)),o=this.contactService.getUser(t.userURL);l.read().then(function(n){var l={title:n.metadata.name,size:n.metadata.size,type:n.metadata.mimetype,user:o,mimetype:n.metadata.mimetype,mediaContentURL:n.content};e.mediaModalService.open(l)}).catch(function(n){console.log("ERROR READING FILE:",n)})},n.ctorParameters=function(){return[{type:ge.ElementRef},{type:lt},{type:Ke},{type:Qe}]},n}(),ot=[],ut=ge["\u0275crt"]({encapsulation:2,styles:ot,data:{}}),it=(ge["\u0275ccf"]("context-activity-list",tt,tn,{messages:"messages",resources:"resources",eventMode:"eventMode"},{},[]),[".list-item[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #ddd}.list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin-right:6px;margin-left:1px}.list-item[_ngcontent-%COMP%]   .specs[_ngcontent-%COMP%]{padding-left:20px;display:block}.list-item[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%], .list-item[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d16a3f}.list-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:inline;padding:0 4px;margin:0;font-size:1rem;color:#444}"]),rt=l("68kw"),st=function(){function n(n,e,l){this.chatService=n,this.contactService=e,this.mediaModalService=l,this.previewOpen=!0}return n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){if(this.fileTranfer){this.fileTranfer.element.nativeElement.classList.add("open"),this.previewOpen=!0}},n.prototype.onOpenResource=function(n){n.preventDefault();var e=this.fileTranfer.element.nativeElement;e.classList.contains("open")?(e.classList.remove("open"),this.previewOpen=!1):(e.classList.add("open"),this.previewOpen=!0)},n.prototype.onViewImageEvent=function(n){var e=this;n.preventDefault();var l=n.currentTarget,t=l.getAttribute("data-url"),o=this.chatService.resourceList.get(t),u=JSON.parse(JSON.stringify(o.identity.userProfile)),i=this.contactService.getUser(u.userURL);o.read().then(function(n){var l={title:n.metadata.name,size:n.metadata.size,type:n.metadata.mimetype,user:i,mimetype:n.metadata.mimetype,mediaContentURL:n.content};e.mediaModalService.open(l)}).catch(function(n){console.log("ERROR READING FILE:",n)})},n.ctorParameters=function(){return[{type:Qe},{type:Ke},{type:lt}]},n}(),at=[it],ct=ge["\u0275crt"]({encapsulation:0,styles:at,data:{}}),dt=(ge["\u0275ccf"]("shared-resources",st,cn,{resources:"resources"},{},[]),function(){function n(n,e,l){var t=this;this.chatService=n,this.natNotificationsService=e,this.contextualCommDataService=l,this.hostClass="message-sender",this.active=!1,this.onMessage=new ge.EventEmitter,this.model={message:""},this.messages=this.chatService.onMessageEvent.subscribe(function(n){t.natNotificationsService.create("New Message",{icon:n.user.avatar,body:n.message,tag:he.NEW_MESSAGE,vibrate:Re.NEW_MESSAGE,sound:Ae.sounds+"/solemn.mp3",persistent:!0}).subscribe(function(n){console.log("Native:",n,n.notification,n.event),n.notification.onclick=function(n){console.log("Native:",n),window.focus(),this.close()}})})}return n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){var n=this;this.formFile.first.nativeElement.addEventListener("change",function(e){var l,t=e.target;t&&(l=t.files,n.chatService.sendFile(l[0]).then(function(n){console.log("RESULT:",n)}).catch(function(n){console.log("ERROR:",n)}))})},n.prototype.ngOnDestroy=function(){this.messages.unsubscribe()},n.prototype.onSubmit=function(n){var e=this.model.message;e&&(console.log("[Chat Communication View - onMessage] - Message:",e,this.chatService.chatControllerActive),this.chatService.send(e).then(function(n){console.log("[Activity View - onMessage] - message sent",n)}),this.clean())},n.prototype.onInvitation=function(n){console.log("[Chat Communication View - onInvitation] - ",n),this.chatService.join(n).then(function(n){}).catch(function(n){console.log(n)})},n.prototype.clean=function(){this.model.message=""},n.prototype.uploadFile=function(n){n.preventDefault();var e=this.formFile.first.nativeElement,l=new MouseEvent("click");e.dispatchEvent(l)},n.ctorParameters=function(){return[{type:Qe},{type:Ie},{type:tl}]},n}()),mt=[],pt=ge["\u0275crt"]({encapsulation:2,styles:mt,data:{}}),ft=(ge["\u0275ccf"]("chat-view",dt,mn,{active:"active"},{onMessage:"onMessage"},[]),function(){function n(n,e,l){this.route=n,this.chatService=e,this.contextualCommService=l,this.hostClass="view-content d-flex flex-column",this.messages=new Te.a([]),this.resources=new Te.a([])}return n.prototype.ngOnInit=function(){var n=this;this.route.data.forEach(function(e){console.log("Resolve data Context: ",e.context),n.messages.next(e.context.messages),n.resources.next(e.context.resources)}),this.contextualCommService.currentContext().subscribe(function(e){console.log("[ContextualCommActivity Component - update] - ",e),n.messages.next(e.messages),n.resources.next(e.resources)})},n.ctorParameters=function(){return[{type:be.a},{type:Qe},{type:Xe}]},n}()),vt=[Gl],ht=ge["\u0275crt"]({encapsulation:0,styles:vt,data:{}}),gt=ge["\u0275ccf"]("activity-view",ft,fn,{},{},[]),yt=["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   .contact-me[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0;left:0;padding:10px;background:rgba(0,0,0,.5);text-align:center;border-top:1px solid hsla(0,0%,100%,.3)}[_nghost-%COMP%]   span.action[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.15);overflow:hidden;display:inline-block;text-align:center;width:48px;height:48px;padding:0;margin-right:8px;border-radius:50%}[_nghost-%COMP%]   span.action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;font-size:18px;width:100%;height:100%;line-height:46px;text-align:center}[_nghost-%COMP%]   span.action.audio[_ngcontent-%COMP%], [_nghost-%COMP%]   span.action.video[_ngcontent-%COMP%]{background-color:#32d167}[_nghost-%COMP%]   span.action.mute[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.8)}[_nghost-%COMP%]   span.action.hangup[_ngcontent-%COMP%]{background-color:#e44c43;width:90px;border-radius:45px}[_nghost-%COMP%]   .audio-call[_ngcontent-%COMP%], [_nghost-%COMP%]   .video-call[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .player[_ngcontent-%COMP%], [_nghost-%COMP%]   .video-wall[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .video-wall[_ngcontent-%COMP%]{background:#000;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0}[_nghost-%COMP%]   .video-call[_ngcontent-%COMP%]   .my-video-wall[_ngcontent-%COMP%]{left:auto;right:10px;top:10px;width:120px;height:120px;background:none}[_nghost-%COMP%]   .video-call[_ngcontent-%COMP%]   .my-video-wall[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{height:auto;background:none}[_nghost-%COMP%]   .audio-call[_ngcontent-%COMP%]{background-position:50%;background-size:contain;background-repeat:no-repeat;background-color:#000}[_nghost-%COMP%]   .audio-call[_ngcontent-%COMP%]   .video-wall[_ngcontent-%COMP%]{display:none;background:none;z-index:-1}"],Ct=function(){function n(n,e){this.el=n,this.renderer=e,this.fullScreen=!1}return n.prototype.ngAfterViewInit=function(){console.log("DIRECTIVE:",this.el,this.renderer)},n.prototype.exitFullScreen=function(){this.fullScreen&&this._exitFullScreen()},n.prototype.requestFullScreen=function(){this.fullScreen||this._requestFullScreen()},n.prototype.toogleFullscreen=function(){this.fullScreen?this._exitFullScreen():this._requestFullScreen()},n.prototype._requestFullScreen=function(){var n=this.el.nativeElement;n.requestFullscreen?(n.requestFullscreen(),this.fullScreen=!0):n.mozRequestFullScreen?(n.mozRequestFullScreen(),this.fullScreen=!0):n.webkitRequestFullScreen?(n.webkitRequestFullScreen(),this.fullScreen=!0):n.msRequestFullscreen&&(n.msRequestFullscreen(),this.fullScreen=!0)},n.prototype._exitFullScreen=function(){var n=document;n.exitFullscreen?(n.exitFullscreen(),this.fullScreen=!1):n.mozCancelFullScreen?(n.mozCancelFullScreen(),this.fullScreen=!1):n.webkitCancelFullScreen?(n.webkitCancelFullScreen(),this.fullScreen=!1):n.msExitFullscreen&&(n.msExitFullscreen(),this.fullScreen=!1)},n.ctorParameters=function(){return[{type:ge.ElementRef},{type:ge.Renderer2}]},n}(),xt=l("ge1L"),bt=(l("ao4q"),function(){function n(n,e){this.cdRef=n,this.ngZone=e}return n.prototype.transform=function(n,e){return this.format=e||"h:mm:ss",this.lastValue=n,this.createTimer(),this.lastText},n.prototype.ngOnDestroy=function(){this.removeTimer()},n.prototype.createTimer=function(){var n=this;if(!this.currentTimer){var e=xt(this.lastValue);this.currentTimer=this.ngZone.runOutsideAngular(function(){if("undefined"!=typeof window)return window.setTimeout(function(){var l=xt(),t=l.diff(e);n.lastText=xt.duration(t).format(n.format,{trim:!1}),n.currentTimer=null,n.ngZone.run(function(){return n.cdRef.markForCheck()})},1e3)})}},n.prototype.removeTimer=function(){this.currentTimer&&(window.clearTimeout(this.currentTimer),this.currentTimer=null)},n.ctorParameters=function(){return[{type:ge.ChangeDetectorRef},{type:ge.NgZone}]},n}()),wt=function(){function n(n,e,l,t,o,u,i,r){this.rd=n,this.el=e,this.router=l,this.route=t,this.vcRef=o,this.contactService=u,this.connectorService=i,this.contextualCommDataService=r,this.hostClass="video-box row no-gutters h-100",this.itIsReady=new ge.EventEmitter,this.streamingActive=!1,console.log("[Media Communication Component] - Constructor:",this.route.queryParams)}return n.prototype.ngOnInit=function(){var n=this;this.streamingActive=!1,this.localStream=this.connectorService.getLocalStream().subscribe(function(e){console.log("[Media Communication Component] - get local stream: ",e),n.myStream=e}),this.remoteStream=this.connectorService.getRemoteStream().subscribe(function(e){console.log("[Media Communication Component] - get remote stream: ",e),n.streamingActive=!0,n.stream=e,n.duration=new Date}),this.params=this.route.queryParams.subscribe(function(e){console.log("[Media Communication Component] - queryParams: ",e,n.streamingActive);var l=e.action;n.mode=l,n.connectorService.mode=l,n.mode&&n.prepareComponent()}),this.connStatus=this.connectorService.connectorStatus().subscribe(function(e){console.log("[Media Communication Component] -  connector status: ",e),"end"===e&&n.reset()}),console.log("[Media Communication Component] - Params Action:",this.mode)},n.prototype.ngAfterViewInit=function(){this.itIsReady.emit({el:this.el,component:this,status:"ready"})},n.prototype.ngOnDestroy=function(){console.log("[Media Communication] - ngOnDestroy"),this.params&&this.params.unsubscribe(),this.connStatus&&this.connStatus.unsubscribe(),this.localStream&&this.localStream.unsubscribe(),this.remoteStream&&this.remoteStream.unsubscribe(),this.onHangup()},n.prototype.reset=function(){this.stream=null,this.myStream=null,this.duration=null,this.streamingActive=!1,this.fullscreen.exitFullScreen()},n.prototype.prepareComponent=function(){console.log("[Media Communication Component] - connection mode: ",this.connectorService.connectorMode,this.streamingActive),"offer"!==this.connectorService.connectorMode||this.streamingActive||this.callTo(this.user)},n.prototype.callTo=function(n){var e=this,l={video:!0,audio:!0},t=this.contextualCommDataService.activeContext().id;console.log("[Media Communication Component] - "+this.mode+" call To",n,t),this.connectorService.connect(n.username,l,t,n.domain).then(function(n){"video"===e.mode&&e.connectorService.enableVideo(),"audio"===e.mode&&e.connectorService.disableVideo(),e.streamingActive=!0,n.dataObjectReporter.data.mode=e.mode,console.log("[Media Communication Component] - called")}).catch(function(n){console.error(n)})},n.prototype.enableVideo=function(){this.connectorService.enableVideo()},n.prototype.disableVideo=function(){this.connectorService.disableVideo()},n.prototype.onFullscreen=function(){this.fullscreen.toogleFullscreen()},n.prototype.onHangup=function(){console.log("[Media Communication Component] - Hangup",this.connectorService),this.connectorService.hangup(),this.reset()},n.prototype.onMute=function(){this.connectorService.mute()},n.prototype.onVolume=function(){this.connectorService.disableAudio()},n.ctorParameters=function(){return[{type:ge.Renderer2},{type:ge.ElementRef},{type:be.m},{type:be.a},{type:ge.ViewContainerRef},{type:Ke},{type:Je},{type:tl}]},n}(),St=[yt],Rt=ge["\u0275crt"]({encapsulation:0,styles:St,data:{}}),kt=(ge["\u0275ccf"]("media-view",wt,Sn,{user:"user",mode:"mode"},{itIsReady:"itIsReady"},[]),function(){function n(){this.hostClass="contact-box float-left w-100",this.callEvent=new ge.EventEmitter,this.closeEvent=new ge.EventEmitter}return n.prototype.makeAudioCall=function(n){this.callEvent.emit({type:"audio",event:n})},n.prototype.makeVideoCall=function(n){this.callEvent.emit({type:"video",event:n})},n.prototype.onCloseClick=function(){this.closeEvent.emit()},n}()),Et=[],It=ge["\u0275crt"]({encapsulation:2,styles:Et,data:{}}),Ot=(ge["\u0275ccf"]("contact-box",kt,kn,{user:"user"},{callEvent:"callEvent",closeEvent:"closeEvent"},[]),function(){function n(n,e){this.el=n,this.renderer=e,this.envs=["xs","sm","md","lg","xl"],this.breakpoints={xs:{name:"xs",max:575},sm:{name:"sm",min:576,max:767},md:{name:"md",min:768,max:991},lg:{name:"lg",min:992,max:1199},xl:{name:"xl",min:1200}}}return n.prototype.onResize=function(n){this.update()},n.prototype.ngAfterContentInit=function(){},n.prototype.ngAfterViewInit=function(){console.log("Screen Directive:",this.getEnvironment())},n.prototype.getEnvironment=function(){return this.update()},n.prototype.update=function(){var n=this.el.nativeElement,e=n.offsetWidth;return this.breakpoints.xl.min<=e?this.breakpoints.xl:this.breakpoints.lg.max>=e&&this.breakpoints.lg.min<=e?this.breakpoints.lg:this.breakpoints.md.max>=e&&this.breakpoints.md.min<=e?this.breakpoints.md:this.breakpoints.sm.max>=e&&this.breakpoints.sm.min<=e?this.breakpoints.sm:this.breakpoints.xs.max>=e?this.breakpoints.xs:void 0},n.ctorParameters=function(){return[{type:ge.ElementRef},{type:ge.Renderer2}]},n}()),At=function(){function n(){}return n}(),Lt=function(){function n(n,e,l,t,o,u){var i=this;this.router=n,this.route=e,this.screen=l,this.contactService=t,this.contextualCommService=o,this.chatService=u,this.hostClass="view-content d-flex flex-column",this.messages=new Te.a([]),this.resources=new Te.a([]),this.paramsSubscription=this.route.queryParams.subscribe(function(n){console.log("[User View] - router event change:",n,n.action),i.action=n.action})}return n.prototype.ngOnInit=function(){var n=this;this.route.data.forEach(function(e){console.log("Resolve data User: ",e.user),console.log("Resolve data Context: ",e.context),n.user=e.user,n.messages.next(e.context.messages),n.resources.next(e.context.resources)}),this.currentContextSub=this.contextualCommService.currentContext().subscribe(function(e){console.log("[User View - ContextualCommActivity Component - update] - ",e),n.messages.next(e.messages),n.resources.next(e.resources)})},n.prototype.mediaComponentReady=function(n){if(console.log("[User View] - media component: ",this.screen),"xs"===this.screen.getEnvironment().name){n.component.onFullscreen()}},n.prototype.ngAfterViewInit=function(){},n.prototype.ngOnDestroy=function(){console.log("[User View] - OnDestroy",this.messages),this.currentContextSub.unsubscribe()},n.prototype.onCallEvent=function(n){},n.prototype.onAcceptCall=function(){console.log("[User View] - onAcceptCall")},n.prototype.onRejectCall=function(){console.log("[User View] - onRejectCall")},n.prototype.onCloseEvent=function(){var n=this.user.username,e=this.router.url.replace("user/"+n,"");this.router.navigate([e],{relativeTo:this.route})},n.ctorParameters=function(){return[{type:be.m},{type:be.a},{type:Ot},{type:Ke},{type:Xe},{type:Qe}]},n}(),Pt=[],Ut=ge["\u0275crt"]({encapsulation:2,styles:Pt,data:{}}),jt=ge["\u0275ccf"]("user-view",Lt,An,{},{},[]),Tt=l("CVNG"),Mt=l("ClIn"),Dt=l("CU81"),Nt=l("IkMs"),_t=l("DlWC"),Vt=l("m0eP"),Ft=l("MsHi"),zt=function(){function n(n,e,l,t,o){this.route=n,this.rethinkService=e,this.triggerActionService=l,this.notificationsService=t,this.contextualCommDataService=o,this.hostClass="home-view col"}return n.prototype.ngOnInit=function(){this.contextualComms=this.contextualCommDataService.getContexts()},n.prototype.ngOnDestroy=function(){this.removeContextSubscription&&this.removeContextSubscription.unsubscribe()},n.prototype.onCreateEvent=function(){this.triggerActionService.trigger(Le.OpenContextMenuCreator)},n.prototype.removeContext=function(n,e){var l=this;console.log("Context to be removed: ",n,e),n.type===Pe.Remove&&(this.removeContextSubscription=this.contextualCommDataService.removeContext(n.context).subscribe(function(n){console.log("Success:",n)},function(n){l.notificationsService.error("Error removing context",n)})),n.type===Pe.Error&&this.notificationsService.error("Error removing context",n.reason)},n.ctorParameters=function(){return[{type:be.a},{type:Ge},{type:ol},{type:we.NotificationsService},{type:tl}]},n}(),Bt=[],Ht=ge["\u0275crt"]({encapsulation:2,styles:Bt,data:{}}),qt=ge["\u0275ccf"]("home-view",zt,Tn,{},{},[]),Kt=l("fxWY"),Gt=l("Qyse"),Wt=(l("NdV9"),function(){function n(n,e){this.userAvailabilityService=e,this.hostClass="float-right",n.autoClose=!1}return n.prototype.ngOnInit=function(){},n.prototype.onChangeEvent=function(n){console.log("[MySelfComponent] status changed:",n),this.userAvailabilityService.setStatus(n)},n.ctorParameters=function(){return[{type:yl.b},{type:We}]},n}()),$t=[],Zt=ge["\u0275crt"]({encapsulation:2,styles:$t,data:{}}),Jt=(ge["\u0275ccf"]("my-self",Wt,Dn,{model:"model"},{},[]),function(){function n(n,e){this.router=n,this.breadcrumbService=e,this.hostClass="rethink-breadcrumb",this.openContext=new ge.EventEmitter,this.breadcrumb=this.breadcrumbService.breadcrumb.map(function(n){return console.log("[Breadcrumb Service] - Component: ",n),n.map(function(n){return-1!==n.indexOf("?")&&(n=n.substring(0,n.indexOf("?"))),-1!==n.indexOf("user")&&(n=n.replace("user","")),n}).map(function(n){if((n=n.replace("/","").substr(n.lastIndexOf("/")))&&n.length>0)return n}).filter(function(n){return!!n})})}return n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){},n.prototype.ngOnDestroy=function(){},n.prototype.onClickEvent=function(n){this.openContext.emit(n)},n.ctorParameters=function(){return[{type:be.m},{type:sl}]},n}()),Yt=[],Xt=ge["\u0275crt"]({encapsulation:2,styles:Yt,data:{}}),Qt=(ge["\u0275ccf"]("ul[context-breadcrumb]",Jt,zn,{},{openContext:"openContext"},[]),["[_nghost-%COMP%]{height:100%}.content-panel[_ngcontent-%COMP%]{height:auto}"]),no=function(){function n(){this.hostClass="main-content d-flex flex-row align-items-center"}return n.prototype.ngOnInit=function(){console.log("Status:",status)},n.ctorParameters=function(){return[]},n}(),eo=[Qt],lo=ge["\u0275crt"]({encapsulation:0,styles:eo,data:{}}),to=(ge["\u0275ccf"]("loading",no,Hn,{status:"status"},{},[]),[".notification{width:100%;padding:10px 20px;box-sizing:border-box;position:relative;float:left;margin-bottom:10px;color:#fff;cursor:pointer;transition:all .5s;border:1px solid}.notification .sn-title{margin:0;padding:0 0 0 50px;line-height:30px;font-size:20px}.notification .sn-content{margin:0;font-size:16px;padding:0 0 0 50px;line-height:20px}.notification .sn-actions{margin-top:10px}.notification .icon{position:absolute;box-sizing:border-box;top:18px;left:20px;width:40px;height:40px;padding:5px}.notification .icon svg{fill:#fff;width:100%;height:100%}.notification .icon svg g{fill:#fff}.notification.rtl-mode{direction:rtl}.notification.rtl-mode .sn-content{padding:0 0 0 50px}.notification.rtl-mode svg{left:0;right:auto}.notification.error{background-color:#f2dede;border-color:#ebcccc;color:#a94442}.notification.success{background-color:#dff0d8;border-color:#d0e9c6;color:#3c763d}.notification.info{background-color:#d9edf7;border-color:#bcdff1;color:#31708f}.notification.alert{background-color:#fcf8e3;border-color:#faf2cc;color:#8a6d3b}.notification .sn-progress-loader{position:absolute;top:0;left:0;width:100%;height:5px}.notification .sn-progress-loader span{float:left;height:100%}.notification.success .sn-progress-loader span{background:#689f38}.notification.error .sn-progress-loader span{background:#d32f2f}.notification.alert .sn-progress-loader span{background:#edc242}.notification.info .sn-progress-loader span{background:#0288d1}.notification.warn .sn-progress-loader span{background:#edc242}.notification.bare .sn-progress-loader span{background:#ccc}.notification.warn div .sn-content,.notification.warn div .sn-title{color:#444}"]),oo=l("r1P6"),uo=l("tqUc"),io=[to],ro=ge["\u0275crt"]({encapsulation:2,styles:io,data:{animation:[{type:7,name:"enterLeave",definitions:[{type:0,name:"fromRight",styles:{type:6,styles:{opacity:1,transform:"translateX(0)"},offset:null},options:void 0},{type:1,expr:"* => fromRight",animation:[{type:6,styles:{opacity:0,transform:"translateX(5%)"},offset:null},{type:4,styles:null,timings:"400ms ease-in-out"}],options:null},{type:0,name:"fromRightOut",styles:{type:6,styles:{opacity:0,transform:"translateX(-5%)"},offset:null},options:void 0},{type:1,expr:"fromRight => fromRightOut",animation:[{type:6,styles:{opacity:1,transform:"translateX(0)"},offset:null},{type:4,styles:null,timings:"300ms ease-in-out"}],options:null},{type:0,name:"fromLeft",styles:{type:6,styles:{opacity:1,transform:"translateX(0)"},offset:null},options:void 0},{type:1,expr:"* => fromLeft",animation:[{type:6,styles:{opacity:0,transform:"translateX(-5%)"},offset:null},{type:4,styles:null,timings:"400ms ease-in-out"}],options:null},{type:0,name:"fromLeftOut",styles:{type:6,styles:{opacity:0,transform:"translateX(5%)"},offset:null},options:void 0},{type:1,expr:"fromLeft => fromLeftOut",animation:[{type:6,styles:{opacity:1,transform:"translateX(0)"},offset:null},{type:4,styles:null,timings:"300ms ease-in-out"}],options:null},{type:0,name:"scale",styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => scale",animation:[{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},{type:4,styles:null,timings:"400ms ease-in-out"}],options:null},{type:0,name:"scaleOut",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:1,expr:"scale => scaleOut",animation:[{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},{type:4,styles:null,timings:"400ms ease-in-out"}],options:null},{type:0,name:"rotate",styles:{type:6,styles:{opacity:1,transform:"rotate(0deg)"},offset:null},options:void 0},{type:1,expr:"* => rotate",animation:[{type:6,styles:{opacity:0,transform:"rotate(5deg)"},offset:null},{type:4,styles:null,timings:"400ms ease-in-out"}],options:null},{type:0,name:"rotateOut",styles:{type:6,styles:{opacity:0,transform:"rotate(-5deg)"},offset:null},options:void 0},{type:1,expr:"rotate => rotateOut",animation:[{type:6,styles:{opacity:1,transform:"rotate(0deg)"},offset:null},{type:4,styles:null,timings:"400ms ease-in-out"}],options:null}],options:{}}]}}),so=(ge["\u0275ccf"]("notification",uo.a,Jn,{timeOut:"timeOut",showProgressBar:"showProgressBar",pauseOnHover:"pauseOnHover",clickToClose:"clickToClose",maxLength:"maxLength",theClass:"theClass",rtl:"rtl",animate:"animate",position:"position",item:"item",haveActions:"haveActions"},{},[]),l("nuyq")),ao=["\n        .notification-wrapper {\n            position: fixed;\n            width: 300px;\n            z-index: 2500;\n        }\n\n        .notification-wrapper.left { left: 20px; }\n        .notification-wrapper.top { top: 20px; }\n        .notification-wrapper.right { right: 20px; }\n        .notification-wrapper.bottom { bottom: 20px; }\n\n        @media (max-width: 340px) {\n            .notification-wrapper {\n                width: auto;\n                left: 20px;\n                right: 20px;\n            }\n        }\n    "],co=ge["\u0275crt"]({encapsulation:2,styles:ao,data:{}}),mo=(ge["\u0275ccf"]("notifications",so.a,Qn,{options:"options"},{onCreate:"onCreate",onDestroy:"onDestroy",onActionEvent:"onActionEvent"},[]),[".media-modal{z-index:10001}.user{margin-right:20px;height:48px}.user img{width:auto;height:100%}.modal-dialog{max-width:100%;margin:0}.modal-dialog .modal-header{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.modal-dialog .modal-content{height:100vh;border-radius:0}.modal-dialog .modal-body{max-height:100%;overflow:auto;height:100%;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;text-align:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.modal-dialog .modal-body .img-fluid{max-height:100%}"]),po=function(){function n(n,e,l){this.modalService=n,this.sanitizer=e,this.mediaModalService=l,this.modalData={}}return n.prototype.open=function(){var n=this;console.log("This Content: ",this.content),this.modalService.open(this.content,{windowClass:"media-modal"}).result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},n.prototype.ngOnInit=function(){var n=this;this.mediaModalService.openEvent.subscribe(function(e){n.modalData=p(e);var l,t=e.type;l=t.includes("image")?"image":t.includes("video")?"video":"file",n.modalData.type=l,n.modalData.mimetype=t;try{var o=void 0;o=Array.isArray(e.mediaContentURL)?new Blob(e.mediaContentURL,{type:t}):new Blob([e.mediaContentURL],{type:t});var u=n.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(o));n.modalData.mediaContentURL=u,console.log("MODAL:",n.modalData),n.open()}catch(n){console.error(n)}})},n.prototype.ngAfterViewInit=function(){this.title&&(this.modalData.title=this.title),this.description&&(this.modalData.description=this.description),this.mediaContentURL&&(this.modalData.mediaContentURL=this.mediaContentURL),this.user&&(this.modalData.user=this.user),this.size&&(this.modalData.size=this.size),this.type&&(this.modalData.type=this.type)},n.prototype.getDismissReason=function(n){return n===yl.a.ESC?"by pressing ESC":n===yl.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+n},n.ctorParameters=function(){return[{type:yl.c},{type:xe.c},{type:lt}]},n}(),fo=[mo],vo=ge["\u0275crt"]({encapsulation:2,styles:fo,data:{}}),ho=(ge["\u0275ccf"]("media-modal-view",po,ue,{title:"title",description:"description",mediaContentURL:"mediaContentURL",size:"size",type:"type",user:"user"},{},[]),function(){function n(n){this.contextualCommDataService=n,this.hostClass="mp-menu",this.contextualComm=this.contextualCommDataService.getContexts()}return n.prototype.beforeChange=function(n){"form"===n.panelId&&!1===n.nextState&&n.preventDefault()},n.ctorParameters=function(){return[{type:tl}]},n}()),go=[],yo=ge["\u0275crt"]({encapsulation:2,styles:go,data:{}}),Co=(ge["\u0275ccf"]("context-menu",ho,se,{},{},[]),[]),xo=ge["\u0275crt"]({encapsulation:2,styles:Co,data:{}}),bo=ge["\u0275ccf"]("rethink-app",pl,ve,{},{},[]),wo=l("f9zQ"),So=l("fL27"),Ro=l("EyWH"),ko=l("KRwK"),Eo=l("nVXb"),Io=l("QGDq"),Oo=l("5FV4"),Ao=l("f1rf"),Lo=l("KSV9"),Po=l("CuDZ"),Uo=l("lA7/"),jo=l("HRzg"),To=l("NmeZ"),Mo=l("7zUS"),Do=l("59zy"),No=l("+E40"),_o=l("V6Dl"),Vo=function(){function n(){}return n}(),Fo=l("p5gf"),zo=function(){function n(){}return n.prototype.parse=function(n){return(new be.c).parse(n)},n.prototype.serialize=function(n){var e=new be.c,l=e.serialize(n),t=new RegExp(/%40/g);return l.replace(t,"@")},n}(),Bo=function(){function n(){}return n}(),Ho=function(){function n(){}return n}(),qo=l("wnyu"),Ko=l("tzcA"),Go=l("PY9B"),Wo=l("3rU7"),$o=l("4HaF"),Zo=l("DaIH"),Jo=l("Zz+K"),Yo=l("2waW"),Xo=l("IBeK"),Qo=l("g5gQ"),nu=l("xBEz"),eu=l("PuIS"),lu=l("U0Tu"),tu=l("Cb36"),ou=l("5h8W"),uu=l("6ade"),iu=function(){function n(){}return n.forRoot=function(){return{ngModule:n,providers:[lt]}},n}(),ru=function(){function n(){}return n}(),su=ge["\u0275cmf"](Ce,[pl],function(n){return ge["\u0275mod"]([ge["\u0275mpd"](512,ge.ComponentFactoryResolver,ge["\u0275CodegenComponentFactoryResolver"],[[8,[Kl,gt,jt,Tt.a,Mt.a,Dt.a,Nt.a,_t.a,Vt.a,Ft.a,qt,Ll,bo]],[3,ge.ComponentFactoryResolver],ge.NgModuleRef]),ge["\u0275mpd"](4608,gl.w,gl.w,[]),ge["\u0275mpd"](5120,ge.LOCALE_ID,ge["\u0275m"],[[3,ge.LOCALE_ID]]),ge["\u0275mpd"](4608,ll.n,ll.m,[ge.LOCALE_ID]),ge["\u0275mpd"](5120,ge.APP_ID,ge["\u0275f"],[]),ge["\u0275mpd"](5120,ge.IterableDiffers,ge["\u0275k"],[]),ge["\u0275mpd"](5120,ge.KeyValueDiffers,ge["\u0275l"],[]),ge["\u0275mpd"](4608,xe.c,xe.t,[ll.d]),ge["\u0275mpd"](6144,ge.Sanitizer,null,[xe.c]),ge["\u0275mpd"](4608,xe.f,xe.g,[]),ge["\u0275mpd"](5120,xe.d,function(n,e,l,t){return[new xe.l(n),new xe.p(e),new xe.o(l,t)]},[ll.d,ll.d,ll.d,xe.f]),ge["\u0275mpd"](4608,xe.e,xe.e,[xe.d,ge.NgZone]),ge["\u0275mpd"](135680,xe.n,xe.n,[ll.d]),ge["\u0275mpd"](4608,xe.m,xe.m,[xe.e,xe.n]),ge["\u0275mpd"](5120,wo.a,So.d,[]),ge["\u0275mpd"](5120,wo.c,So.e,[]),ge["\u0275mpd"](4608,wo.b,So.c,[wo.a,wo.c]),ge["\u0275mpd"](5120,ge.RendererFactory2,So.f,[xe.m,wo.b,ge.NgZone]),ge["\u0275mpd"](6144,xe.q,null,[xe.n]),ge["\u0275mpd"](4608,ge.Testability,ge.Testability,[ge.NgZone]),ge["\u0275mpd"](4608,xe.h,xe.h,[ll.d]),ge["\u0275mpd"](4608,xe.j,xe.j,[ll.d]),ge["\u0275mpd"](4608,gl.d,gl.d,[]),ge["\u0275mpd"](4608,He,He,[]),ge["\u0275mpd"](4608,Ke,Ke,[He]),ge["\u0275mpd"](4608,Ge,Ge,[He,Ke]),ge["\u0275mpd"](4608,cl,cl,[Ge,be.m]),ge["\u0275mpd"](4608,dl,dl,[Ke,be.m]),ge["\u0275mpd"](4608,Xe,Xe,[He,Ke]),ge["\u0275mpd"](4608,Qe,Qe,[Ge,Xe,Ke]),ge["\u0275mpd"](4608,tl,tl,[ll.g,be.m,Qe,Ke,Xe]),ge["\u0275mpd"](4608,ol,ol,[]),ge["\u0275mpd"](4608,ul,ul,[be.m,Ke,ol,Xe,tl]),ge["\u0275mpd"](4608,Ro.b,So.b,[ge.RendererFactory2,xe.b]),ge["\u0275mpd"](4608,ko.a,ko.a,[ge.ApplicationRef,ge.Injector,ge.ComponentFactoryResolver]),ge["\u0275mpd"](4608,bl.a,bl.a,[ge.ComponentFactoryResolver,ge.Injector,ko.a]),ge["\u0275mpd"](4608,Eo.a,Eo.a,[]),ge["\u0275mpd"](4608,Ml.a,Ml.a,[]),ge["\u0275mpd"](4608,Io.a,Io.a,[]),ge["\u0275mpd"](4608,Ul.a,Ul.a,[]),ge["\u0275mpd"](4608,Oo.a,Oo.a,[]),ge["\u0275mpd"](4608,Ao.a,Ao.a,[]),ge["\u0275mpd"](4608,Lo.a,Lo.b,[]),ge["\u0275mpd"](4608,Po.a,Po.b,[]),ge["\u0275mpd"](4608,Uo.b,Uo.a,[]),ge["\u0275mpd"](4608,jo.a,jo.a,[]),ge["\u0275mpd"](4608,Gt.a,Gt.a,[]),ge["\u0275mpd"](4608,To.a,To.a,[]),ge["\u0275mpd"](4608,Mo.a,Mo.a,[]),ge["\u0275mpd"](4608,Do.a,Do.a,[]),ge["\u0275mpd"](4608,No.a,No.a,[]),ge["\u0275mpd"](4608,_o.a,_o.a,[]),ge["\u0275mpd"](4608,Ie,Ie,[]),ge["\u0275mpd"](5120,be.a,be.z,[be.m]),ge["\u0275mpd"](4608,be.f,be.f,[]),ge["\u0275mpd"](6144,be.h,null,[be.f]),ge["\u0275mpd"](135680,be.r,be.r,[be.m,ge.NgModuleFactoryLoader,ge.Compiler,ge.Injector,be.h]),ge["\u0275mpd"](4608,be.g,be.g,[]),ge["\u0275mpd"](5120,be.j,be.C,[be.A]),ge["\u0275mpd"](5120,ge.APP_BOOTSTRAP_LISTENER,function(n){return[n]},[be.j]),ge["\u0275mpd"](4608,lt,lt,[]),ge["\u0275mpd"](4608,Nl.a,Nl.a,[]),ge["\u0275mpd"](4608,al,al,[xe.j,be.m,be.a]),ge["\u0275mpd"](4608,Je,Je,[be.m,be.a,xe.c,Ke,Ge]),ge["\u0275mpd"](4608,sl,sl,[be.m]),ge["\u0275mpd"](4608,il,il,[be.m,Qe,Ge,Ke,Xe,tl]),ge["\u0275mpd"](4608,rl,rl,[be.m,Qe,Ke,Ge,Xe,tl]),ge["\u0275mpd"](4608,We,We,[be.m,be.a,Ge,Ke]),ge["\u0275mpd"](4608,el,el,[He]),ge["\u0275mpd"](512,gl.u,gl.u,[]),ge["\u0275mpd"](512,gl.h,gl.h,[]),ge["\u0275mpd"](512,ll.c,ll.c,[]),ge["\u0275mpd"](1024,ge.ErrorHandler,xe.r,[]),ge["\u0275mpd"](1024,ge.NgProbeToken,function(){return[be.v()]},[]),ge["\u0275mpd"](512,be.A,be.A,[ge.Injector]),ge["\u0275mpd"](1024,ge.APP_INITIALIZER,function(n,e,l){return[xe.s(n,e),be.B(l)]},[[2,xe.i],[2,ge.NgProbeToken],be.A]),ge["\u0275mpd"](512,ge.ApplicationInitStatus,ge.ApplicationInitStatus,[[2,ge.APP_INITIALIZER]]),ge["\u0275mpd"](131584,ge["\u0275e"],ge["\u0275e"],[ge.NgZone,ge["\u0275Console"],ge.Injector,ge.ErrorHandler,ge.ComponentFactoryResolver,ge.ApplicationInitStatus]),ge["\u0275mpd"](2048,ge.ApplicationRef,null,[ge["\u0275e"]]),ge["\u0275mpd"](512,ge.ApplicationModule,ge.ApplicationModule,[ge.ApplicationRef]),ge["\u0275mpd"](512,xe.a,xe.a,[[3,xe.a]]),ge["\u0275mpd"](512,At,At,[]),ge["\u0275mpd"](512,gl.q,gl.q,[]),ge["\u0275mpd"](512,Vo,Vo,[]),ge["\u0275mpd"](512,Fo.MomentModule,Fo.MomentModule,[]),ge["\u0275mpd"](1024,be.u,be.x,[[3,be.m]]),ge["\u0275mpd"](512,be.t,zo,[]),ge["\u0275mpd"](512,be.b,be.b,[]),ge["\u0275mpd"](256,be.i,{},[]),ge["\u0275mpd"](1024,ll.h,be.w,[ll.u,[2,ll.a],be.i]),ge["\u0275mpd"](512,ll.g,ll.g,[ll.h]),ge["\u0275mpd"](512,ge.Compiler,ge.Compiler,[]),ge["\u0275mpd"](512,ge.NgModuleFactoryLoader,ge.SystemJsNgModuleLoader,[ge.Compiler,[2,ge.SystemJsNgModuleLoaderConfig]]),ge["\u0275mpd"](1024,be.k,function(){return[[{path:":context",component:ml,canActivate:[cl],resolve:{context:ul},children:[{path:"",component:ft,canActivate:[il],resolve:{context:ul}},{path:":task",component:ft,canActivate:[il],resolve:{context:ul}},{path:"user/:user",component:Lt,canActivate:[rl],resolve:{user:dl,context:ul}},{path:":task/user/:user",component:Lt,canActivate:[rl],resolve:{user:dl,context:ul}}]}],[{path:"",component:zt,canActivate:[cl],data:{pageTitle:"Home",pageSection:"home"}},{path:"**",redirectTo:"/"}]]},[]),ge["\u0275mpd"](1024,be.m,be.y,[ge.ApplicationRef,be.t,be.b,ll.g,ge.Injector,ge.NgModuleFactoryLoader,ge.Compiler,be.k,be.i,[2,be.s],[2,be.l]]),ge["\u0275mpd"](512,be.p,be.p,[[2,be.u],[2,be.m]]),ge["\u0275mpd"](512,Bo,Bo,[]),ge["\u0275mpd"](512,Ho,Ho,[]),ge["\u0275mpd"](512,So.a,So.a,[]),ge["\u0275mpd"](512,qo.a,qo.a,[]),ge["\u0275mpd"](512,Ko.a,Ko.a,[]),ge["\u0275mpd"](512,Go.a,Go.a,[]),ge["\u0275mpd"](512,Wo.a,Wo.a,[]),ge["\u0275mpd"](512,$o.a,$o.a,[]),ge["\u0275mpd"](512,Zo.a,Zo.a,[]),ge["\u0275mpd"](512,Jo.a,Jo.a,[]),ge["\u0275mpd"](512,Yo.a,Yo.a,[]),ge["\u0275mpd"](512,Xo.a,Xo.a,[]),ge["\u0275mpd"](512,Qo.b,Qo.b,[]),ge["\u0275mpd"](512,nu.c,nu.c,[]),ge["\u0275mpd"](512,eu.a,eu.a,[]),ge["\u0275mpd"](512,lu.a,lu.a,[]),ge["\u0275mpd"](512,tu.a,tu.a,[]),ge["\u0275mpd"](512,ou.a,ou.a,[]),ge["\u0275mpd"](512,uu.a,uu.a,[]),ge["\u0275mpd"](512,yl.d,yl.d,[]),ge["\u0275mpd"](512,iu,iu,[]),ge["\u0275mpd"](512,we.NotificationsModule,we.NotificationsModule,[]),ge["\u0275mpd"](512,Oe,Oe,[]),ge["\u0275mpd"](512,ru,ru,[]),ge["\u0275mpd"](512,Ce,Ce,[])])});ye.production&&Object(ge.enableProdMode)(),Object(xe.k)().bootstrapModuleFactory(su)},gFIY:function(n,e){function l(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"},lWXr:function(n,e){},nuyq:function(n,e,l){"use strict";l.d(e,"a",function(){return u});var t=l("/oeL"),o=l("qZel"),u=function(){function n(n){this._service=n,this.onCreate=new t.EventEmitter,this.onDestroy=new t.EventEmitter,this.onActionEvent=new t.EventEmitter,this.notifications=[],this.position=["bottom","right"],this.lastOnBottom=!0,this.maxStack=8,this.preventLastDuplicates=!1,this.preventDuplicates=!1,this.timeOut=0,this.maxLength=0,this.clickToClose=!0,this.showProgressBar=!0,this.pauseOnHover=!0,this.theClass="",this.rtl=!1,this.animate="fromRight"}return Object.defineProperty(n.prototype,"options",{set:function(n){this.attachChanges(n)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;console.log("Notification Service:",this._service),this.listener=this._service.getChangeEmitter().subscribe(function(e){switch(e.command){case"cleanAll":n.notifications=[];break;case"clean":n.cleanSingle(e.id);break;case"set":e.add?n.add(e.notification):n.defaultBehavior(e);break;default:n.defaultBehavior(e)}})},n.prototype.defaultBehavior=function(n){this.notifications.splice(this.notifications.indexOf(n.notification),1),this.onDestroy.emit(this.buildEmit(n.notification,!1))},n.prototype.add=function(n){n.createdOn=new Date;var e=!(!this.preventLastDuplicates&&!this.preventDuplicates)&&this.block(n);this.lastNotificationCreated=n,e||(this.lastOnBottom?(this.notifications.length>=this.maxStack&&this.notifications.splice(0,1),this.notifications.push(n)):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,n)),this.onCreate.emit(this.buildEmit(n,!0)))},n.prototype.block=function(n){var e=n.html?this.checkHtml:this.checkStandard;if(this.preventDuplicates&&this.notifications.length>0)for(var l=0;l<this.notifications.length;l++)if(e(this.notifications[l],n))return!0;if(this.preventLastDuplicates){var t=void 0;if("visible"===this.preventLastDuplicates&&this.notifications.length>0)t=this.lastOnBottom?this.notifications[this.notifications.length-1]:this.notifications[0];else{if("all"!==this.preventLastDuplicates||!this.lastNotificationCreated)return!1;t=this.lastNotificationCreated}return e(t,n)}return!1},n.prototype.checkStandard=function(n,e){return n.type===e.type&&n.title===e.title&&n.content===e.content},n.prototype.checkHtml=function(n,e){return!!n.html&&(n.type===e.type&&n.title===e.title&&n.content===e.content&&n.html===e.html)},n.prototype.attachChanges=function(n){var e=this;Object.keys(n).forEach(function(l){e.hasOwnProperty(l)&&(e[l]=n[l])})},n.prototype.buildEmit=function(n,e){var l={createdOn:n.createdOn,type:n.type,icon:n.icon,id:n.id};return n.html?l.html=n.html:(l.title=n.title,l.content=n.content),e||(l.destroyedOn=new Date),l},n.prototype.cleanSingle=function(n){var e=0,l=!1;this.notifications.forEach(function(t,o){t.id===n&&(e=o,l=!0)}),l&&this.notifications.splice(e,1)},n.prototype.ngOnDestroy=function(){this.listener&&this.listener.unsubscribe()},n.ctorParameters=function(){return[{type:o.a}]},n}()},oH8m:function(n,e){},qZel:function(n,e,l){"use strict";l.d(e,"a",function(){return i});var t=l("/oeL"),o=l("TO51"),u=l("8mL/"),i=function(){function n(){this.emitter=new o.a,this.icons=u.a}return n.prototype.set=function(n,e){return n.id=n.override&&n.override.id?n.override.id:Math.random().toString(36).substring(3),n.click=new t.EventEmitter,this.emitter.next({command:"set",notification:n,add:e}),n},n.prototype.getChangeEmitter=function(){return this.emitter},n.prototype.success=function(n,e,l,t){return this.set({title:n,content:e||"",type:"success",icon:this.icons.success,override:l,onEventAction:t},!0)},n.prototype.error=function(n,e,l,t){return this.set({title:n,content:e||"",type:"error",icon:this.icons.error,override:l,onEventAction:t},!0)},n.prototype.alert=function(n,e,l,t){return this.set({title:n,content:e||"",type:"alert",icon:this.icons.alert,override:l,onEventAction:t},!0)},n.prototype.info=function(n,e,l,t){return this.set({title:n,content:e||"",type:"info",icon:this.icons.info,override:l,onEventAction:t},!0)},n.prototype.warn=function(n,e,l,t){return this.set({title:n,content:e||"",type:"warn",icon:this.icons.warn,override:l,onEventAction:t},!0)},n.prototype.bare=function(n,e,l,t){return this.set({title:n,content:e||"",type:"bare",icon:"bare",override:l,onEventAction:t},!0)},n.prototype.create=function(n,e,l,t,o,u){return void 0===e&&(e=""),void 0===l&&(l="success"),this.set({title:n,content:e,type:l,icon:this.icons.custom(o)||this.icons[l],override:t,onEventAction:u},!0)},n.prototype.html=function(n,e,l,t){return void 0===e&&(e="success"),this.set({html:n,type:e,icon:"bare",override:l,onEventAction:t},!0)},n.prototype.remove=function(n){n?this.emitter.next({command:"clean",id:n}):this.emitter.next({command:"cleanAll"})},n}()},r1P6:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=function(){function n(){}return n.prototype.transform=function(n){for(var e=[],l=1;l<arguments.length;l++)e[l-1]=arguments[l];if(!n)return n;var t=e[0],o=n.length;if(o>t&&0!==t){var u=t-o;return n.slice(0,u)}return n},n}()},tqUc:function(n,e,l){"use strict";l.d(e,"a",function(){return r});var t=l("/oeL"),o=l("fc+i"),u=l("qZel"),i=l("v/zH"),r=function(){function n(n,e,l){var t=this;this.notificationService=n,this.domSanitizer=e,this.zone=l,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=function(){t.zone.runOutsideAngular(function(){t.zone.run(function(){return t.diff=(new Date).getTime()-t.start-t.count*t.speed}),t.count++===t.steps?t.zone.run(function(){return t.remove()}):t.stopTime||(t.showProgressBar&&t.zone.run(function(){return t.progressWidth+=100/t.steps}),t.timer=setTimeout(t.instance,t.speed-t.diff))})}}return n.prototype.ngOnInit=function(){this.item.override&&this.attachOverrides(),this.animate&&(this.item.state=this.animate),0!==this.timeOut&&this.startTimeOut(),this.safeSvg=this.domSanitizer.bypassSecurityTrustHtml(this.icon||this.item.icon)},n.prototype.startTimeOut=function(){var n=this;this.steps=this.timeOut/10,this.speed=this.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(function(){return n.timer=setTimeout(n.instance,n.speed)})},n.prototype.onEnter=function(){this.pauseOnHover&&(this.stopTime=!0)},n.prototype.onLeave=function(){this.pauseOnHover&&(this.stopTime=!1,setTimeout(this.instance,this.speed-this.diff))},n.prototype.setPosition=function(){return 0!==this.position?90*this.position:0},n.prototype.onClick=function(n){this.item.click.emit(n),this.clickToClose&&this.remove()},n.prototype.onAcceptClick=function(n){this.item.onEventAction.emit(this.buildActionEvent(n,i.a.ACCEPT)),this.remove()},n.prototype.onRejectClick=function(n){this.item.onEventAction.emit(this.buildActionEvent(n,i.a.REJECT)),this.remove()},n.prototype.buildActionEvent=function(n,e){return console.log("Action Click: ",n,this.item,e),{createdOn:this.item.createdOn,notification:this.item,type:this.item.type,id:this.item.id,action:e,metadata:this.item.override.metadata}},n.prototype.attachOverrides=function(){var n=this;Object.keys(this.item.override).forEach(function(e){n.hasOwnProperty(e)&&(n[e]=n.item.override[e])})},n.prototype.ngOnDestroy=function(){clearTimeout(this.timer)},n.prototype.remove=function(){var n=this;this.animate?(this.item.state=this.animate+"Out",this.zone.runOutsideAngular(function(){setTimeout(function(){n.zone.run(function(){return n.notificationService.set(n.item,!1)})},310)})):this.notificationService.set(this.item,!1)},n.ctorParameters=function(){return[{type:u.a},{type:o.c},{type:t.NgZone}]},n}()},"v/zH":function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t;!function(n){n[n.ACCEPT="accept"]="ACCEPT",n[n.REJECT="reject"]="REJECT",n[n.MAYBE="maybe"]="MAYBE"}(t||(t={}))}},[0]);