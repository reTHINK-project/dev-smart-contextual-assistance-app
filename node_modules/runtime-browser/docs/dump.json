[
  {
    "__docId__": 0,
    "kind": "file",
    "name": "src/ContextApp.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport { Sandbox, SandboxRegistry } from 'runtime-core/dist/sandbox'\nimport MiniBus from 'runtime-core/dist/minibus'\n\nfunction create(iframe){\n\twindow._miniBus = new MiniBus()\n\twindow._miniBus._onPostMessage = function(msg){\n\t\tiframe.contentWindow.postMessage(JSON.parse(JSON.stringify(msg)), '*')\n\t}\n\twindow.addEventListener('message', function(event){\n\t\tif(event.data.to.startsWith('runtime:loadedHyperty') || event.data.to.endsWith('gui-manager'))\n\t\t\treturn\n\n\t\twindow._miniBus._onMessage(JSON.parse(JSON.stringify(event.data)))\n\t}, false)\n\n\twindow._registry = new SandboxRegistry(window._miniBus)\n\twindow._registry._create = function(url, sourceCode, config){\n\t\ttry {\n\t\t\teval.apply(window, [sourceCode])\n\t\t\treturn activate(url, window._miniBus, config)\n\t\t} catch (error) {\n\t\t\tconsole.error('[Context APP Create] - Error: ', error)\n\t\t\tthrow JSON.stringify(error.message)\n\t\t}\n\t}\n}\n\nfunction getHyperty(hypertyDescriptor){\n\treturn window._registry.components[hypertyDescriptor]\n}\n/**\n * SandboxContext for application\n * @typedef ContextApp\n * @property {function(iFrame: iframe)} create Creates the context for the sandbox hosted in the iframe\n * @property {function(Hyperty descriptor: string):Hyperty} getHyperty Returns the hyperty for the given descriptor\n * */\nexport default { create, getHyperty }\n",
    "static": true,
    "longname": "src/ContextApp.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 1,
    "kind": "function",
    "name": "create",
    "memberof": "src/ContextApp.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ContextApp.js~create",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/ContextApp.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "iframe",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 2,
    "kind": "function",
    "name": "getHyperty",
    "memberof": "src/ContextApp.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ContextApp.js~getHyperty",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/ContextApp.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "hypertyDescriptor",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 3,
    "kind": "typedef",
    "name": "ContextApp",
    "memberof": "src/ContextApp.js",
    "static": true,
    "longname": "src/ContextApp.js~ContextApp",
    "access": null,
    "description": "SandboxContext for application",
    "lineNumber": 59,
    "properties": [
      {
        "nullable": null,
        "types": [
          "function(iFrame: iframe)"
        ],
        "spread": false,
        "optional": false,
        "name": "create",
        "description": "Creates the context for the sandbox hosted in the iframe"
      },
      {
        "nullable": null,
        "types": [
          "function(Hyperty descriptor: string):Hyperty"
        ],
        "spread": false,
        "optional": false,
        "name": "getHyperty",
        "description": "Returns the hyperty for the given descriptor"
      }
    ],
    "type": {
      "types": [
        "*"
      ],
      "optional": false,
      "name": "ContextApp"
    }
  },
  {
    "__docId__": 4,
    "kind": "file",
    "name": "src/ContextServiceProvider.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport { Sandbox, SandboxRegistry } from 'runtime-core/dist/sandbox';\nimport MiniBus from 'runtime-core/dist/minibus';\n\nself._miniBus = new MiniBus();\nself._miniBus._onPostMessage = function(msg){\n    self.postMessage(JSON.parse(JSON.stringify(msg)));\n};\nself.addEventListener('message', function(event){\n    self._miniBus._onMessage(JSON.parse(JSON.stringify(event.data)));\n});\nself.addEventListener('error', function(reason){\n  throw JSON.parse(JSON.stringify(reason));\n});\n\nself._registry = new SandboxRegistry(self._miniBus);\nself._registry._create = function(url, sourceCode, config){\n  try {\n    eval.apply(self, [sourceCode]);\n    return activate(url, self._miniBus, config);\n  } catch (error) {\n    console.error(\"[Context Service Provider] - Error: \", error);\n    throw JSON.stringify(error.message);\n  }\n};\n",
    "static": true,
    "longname": "src/ContextServiceProvider.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 5,
    "kind": "function",
    "name": "_onPostMessage",
    "memberof": "src/ContextServiceProvider.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ContextServiceProvider.js~_onPostMessage",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/ContextServiceProvider.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "msg",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 6,
    "kind": "function",
    "name": "_create",
    "memberof": "src/ContextServiceProvider.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ContextServiceProvider.js~_create",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/ContextServiceProvider.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "url",
        "types": [
          "*"
        ]
      },
      {
        "name": "sourceCode",
        "types": [
          "*"
        ]
      },
      {
        "name": "config",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 7,
    "kind": "file",
    "name": "src/ContextWindow.js",
    "content": "/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\nimport { Sandbox, SandboxRegistry } from 'runtime-core/dist/sandbox'\nimport MiniBus from 'runtime-core/dist/minibus'\n\nself._miniBus = new MiniBus()\nself._miniBus._onPostMessage = function(msg){\n\tself.port.postMessage(JSON.parse(JSON.stringify(msg)))\n}\n\nself.addEventListener('message', function(event){\n\tself.port = event.ports[0]\n\tself.port.onmessage = (event) => {\n\t\tself._miniBus._onMessage(JSON.parse(JSON.stringify(event.data)))\n\t}\n})\n\nself._registry = new SandboxRegistry(self._miniBus)\nself._registry._create = function(url, sourceCode, config){\n\ttry {\n\t\teval.apply(self, [sourceCode])\n\t\treturn activate(url, self._miniBus, config)\n\t} catch (error) {\n\t\tconsole.error(\"[Context Window] - Error: \", error)\n\t\tthrow JSON.stringify(error.message)\n\t}\n}\n",
    "static": true,
    "longname": "src/ContextWindow.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 8,
    "kind": "function",
    "name": "_onPostMessage",
    "memberof": "src/ContextWindow.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ContextWindow.js~_onPostMessage",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/ContextWindow.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "msg",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 9,
    "kind": "function",
    "name": "_create",
    "memberof": "src/ContextWindow.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ContextWindow.js~_create",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/ContextWindow.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "url",
        "types": [
          "*"
        ]
      },
      {
        "name": "sourceCode",
        "types": [
          "*"
        ]
      },
      {
        "name": "config",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 10,
    "kind": "file",
    "name": "src/Request.js",
    "content": "/**\n * Copyright 2016 PT Inovação e Sistemas SA\n * Copyright 2016 INESC-ID\n * Copyright 2016 QUOBIS NETWORKS SL\n * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n * Copyright 2016 ORANGE SA\n * Copyright 2016 Deutsche Telekom AG\n * Copyright 2016 Apizee\n * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\nconst methods = {GET: 'get', POST: 'post'}\n/**\n * @typedef {Object} Request\n * @desc Bridge to make HTTP requests\n * @property {function(url:string, options:Object):string} get\n * @property {function(url:string, options:Object):string} post\n */\n\n/**\n * Bridge to make HTTP requests\n */\nclass Request {\n\n\tconstructor() {\n\t\tlet _this = this\n\n\t\tObject.keys(methods).forEach(function(method) {\n\t\t\t_this[methods[method]] = function(url, options) {\n\t\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\t_this._makeLocalRequest(methods[method].toUpperCase(), url, options).then(function(result) {\n\t\t\t\t\t\tresolve(result)\n\t\t\t\t\t}).catch(function(reason) {\n\t\t\t\t\t\treject(reason)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\t_makeLocalRequest(method, url, options) {\n\t\tlet _this = this\n\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\turl = _this._mapProtocol(url)\n\t\t\tlet xhr = new XMLHttpRequest()\n\n\t\t\txhr.open(method, url, true)\n\n\t\t\txhr.onreadystatechange = function(event) {\n\t\t\t\tlet xhr = event.currentTarget\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tresolve(xhr.responseText)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(xhr.responseText)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(options && options.headers) {\n\t\t\t\tfor(let prop in options.headers) {\n\t\t\t\t\txhr.setRequestHeader(prop, options.headers[prop])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.send(options?options.body:null)\n\t\t})\n\n\t}\n\n\t_mapProtocol(url) {\n\t\tlet protocolmap = {\n\t\t\t'localhost://': 'https://',\n\t\t\t'undefined://': 'https://',\n\t\t\t'hyperty-catalogue://': 'https://',\n\t\t\t'https://': 'https://',\n\t\t\t'http://': 'http://'\n\t\t}\n\n\t\tlet foundProtocol = false\n\t\tfor (let protocol in protocolmap) {\n\t\t\tif (url.slice(0, protocol.length) === protocol) {\n\t\t\t\turl = protocolmap[protocol] + url.slice(protocol.length, url.length)\n\t\t\t\tfoundProtocol = true\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tif (!foundProtocol) {\n\t\t\tthrow new Error('Invalid protocol of url: ' + url)\n\t\t}\n\n\t\treturn url\n\t}\n}\n\nexport default Request\n",
    "static": true,
    "longname": "src/Request.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 11,
    "kind": "variable",
    "name": "methods",
    "memberof": "src/Request.js",
    "static": true,
    "longname": "src/Request.js~methods",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/Request.js",
    "importStyle": null,
    "description": "Copyright 2016 PT Inovação e Sistemas SA\nCopyright 2016 INESC-ID\nCopyright 2016 QUOBIS NETWORKS SL\nCopyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\nCopyright 2016 ORANGE SA\nCopyright 2016 Deutsche Telekom AG\nCopyright 2016 Apizee\nCopyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n  http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.",
    "lineNumber": 23,
    "type": {
      "types": [
        "{\"GET\": string, \"POST\": string}"
      ]
    }
  },
  {
    "__docId__": 12,
    "kind": "typedef",
    "name": "Request",
    "memberof": "src/Request.js",
    "static": true,
    "longname": "src/Request.js~Request",
    "access": null,
    "description": "Bridge to make HTTP requests",
    "properties": [
      {
        "nullable": null,
        "types": [
          "function(url:string, options:Object):string"
        ],
        "spread": false,
        "optional": false,
        "name": "get",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(url:string, options:Object):string"
        ],
        "spread": false,
        "optional": false,
        "name": "post",
        "description": ""
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "Request"
    }
  },
  {
    "__docId__": 13,
    "kind": "class",
    "name": "Request",
    "memberof": "src/Request.js",
    "static": true,
    "longname": "src/Request.js~Request",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/Request.js",
    "importStyle": "Request",
    "description": "Bridge to make HTTP requests",
    "lineNumber": 34,
    "interface": false
  },
  {
    "__docId__": 14,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/Request.js~Request",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Request.js~Request#constructor",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 15,
    "kind": "method",
    "name": "_makeLocalRequest",
    "memberof": "src/Request.js~Request",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Request.js~Request#_makeLocalRequest",
    "access": null,
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "method",
        "types": [
          "*"
        ]
      },
      {
        "name": "url",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 16,
    "kind": "method",
    "name": "_mapProtocol",
    "memberof": "src/Request.js~Request",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Request.js~Request#_mapProtocol",
    "access": null,
    "description": null,
    "lineNumber": 83,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "url",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 17,
    "kind": "file",
    "name": "src/RuntimeCapabilities.js",
    "content": "// TODO: import and extend the class of the service-framework\n// service-framework/dist/RuntimeCapabilities;\n\nclass RuntimeCapabilities {\n\n  constructor(storageManager) {\n    if (!storageManager) throw new Error('The Runtime Capabilities need the storageManager');\n\n    this.storageManager = storageManager;\n  }\n\n  /**\n   * Returns as a promise RuntimeCapabilities json object with all available capabilities of the runtime.\n   * If it was not yet persisted in the Storage Manager it collects all required info from the platform and saves in the storage manager.\n   * @returns {Promise<object>}\n   */\n  getRuntimeCapabilities() {\n\n    return new Promise((resolve, reject) => {\n\n      Promise.all([this._getEnvironment(), this._getMediaDevices()]).then((result) => {\n        let capabilities = {};\n        result.forEach((capability) => {\n          Object.assign(capabilities, capability);\n        });\n\n        this.storageManager.set('capabilities', '1', capabilities);\n\n        resolve(capabilities);\n      }).catch((error) => {\n        reject(error);\n      });\n\n    });\n\n  }\n\n  /**\n   * returns as a promise a boolean according to available capabilities.\n   * @returns {Promise<boolean>}\n   */\n  isAvailable(capability) {\n    return new Promise((resolve) => {\n\n      this.storageManager.get('capabilities').then((capabilities) => {\n\n        console.log('Capability ' + capability + ' is available? ', capabilities.hasOwnProperty(capability) && capabilities[capability]);\n        if (capabilities.hasOwnProperty(capability) && capabilities[capability]) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      });\n\n    });\n  }\n\n  /**\n   * it refreshes previously collected capabilities and updates the storage manager\n   */\n  update() {\n    return new Promise((resolve, reject) => {\n      this.getRuntimeCapabilities().then(resolve).catch(reject);\n    });\n  }\n\n  // TODO: organize the code in separated files\n  _getEnvironment() {\n\n    // TODO: this should be more effective and check the environment\n    return {\n      browser: !!(window && navigator),\n      node: !!!(window && navigator)\n    };\n  }\n\n  // TODO: organize the code in separated files\n  _getMediaDevices() {\n    return new Promise((resolve) => {\n\n      let capability = {};\n\n      if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n        console.log('enumerateDevices() not supported.');\n        resolve(capability);\n        return;\n      }\n\n      // List cameras and microphones.\n      navigator.mediaDevices.enumerateDevices()\n      .then((devices) => {\n        devices.forEach((device) => {\n          // console.log(device.kind, device.label, device.deviceId);\n          if (device.kind === 'audioinput' && device.deviceId === 'default') {\n            capability.mic = true;\n          }\n\n          if (device.kind === 'videoinput') {\n            capability.camera = true;\n          }\n        });\n        resolve(capability);\n      })\n      .catch((err) => {\n        resolve(capability);\n        console.log(err.name + ': ' + err.message);\n      });\n    });\n  }\n\n}\n\nexport default RuntimeCapabilities;\n",
    "static": true,
    "longname": "src/RuntimeCapabilities.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 18,
    "kind": "class",
    "name": "RuntimeCapabilities",
    "memberof": "src/RuntimeCapabilities.js",
    "static": true,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/RuntimeCapabilities.js",
    "importStyle": "RuntimeCapabilities",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false
  },
  {
    "__docId__": 19,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities#constructor",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "storageManager",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 20,
    "kind": "member",
    "name": "storageManager",
    "memberof": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "static": false,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities#storageManager",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 21,
    "kind": "method",
    "name": "getRuntimeCapabilities",
    "memberof": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities#getRuntimeCapabilities",
    "access": null,
    "description": "Returns as a promise RuntimeCapabilities json object with all available capabilities of the runtime.\nIf it was not yet persisted in the Storage Manager it collects all required info from the platform and saves in the storage manager.",
    "lineNumber": 17,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<object>}"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<object>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 22,
    "kind": "method",
    "name": "isAvailable",
    "memberof": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities#isAvailable",
    "access": null,
    "description": "returns as a promise a boolean according to available capabilities.",
    "lineNumber": 42,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<boolean>}"
      }
    ],
    "params": [
      {
        "name": "capability",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<boolean>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 23,
    "kind": "method",
    "name": "update",
    "memberof": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities#update",
    "access": null,
    "description": "it refreshes previously collected capabilities and updates the storage manager",
    "lineNumber": 61,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 24,
    "kind": "method",
    "name": "_getEnvironment",
    "memberof": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities#_getEnvironment",
    "access": null,
    "description": null,
    "lineNumber": 68,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"browser\": *, \"node\": *}"
      ]
    }
  },
  {
    "__docId__": 25,
    "kind": "method",
    "name": "_getMediaDevices",
    "memberof": "src/RuntimeCapabilities.js~RuntimeCapabilities",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/RuntimeCapabilities.js~RuntimeCapabilities#_getMediaDevices",
    "access": null,
    "description": null,
    "lineNumber": 78,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 26,
    "kind": "file",
    "name": "src/RuntimeFactory.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport PersistenceManager from 'service-framework/dist/PersistenceManager'\nimport { createSandbox } from './Sandboxes'\nimport SandboxApp from './SandboxApp'\nimport Request from './Request'\nimport RuntimeCapabilities from './RuntimeCapabilities'\nimport storageManager from 'service-framework/dist/StorageManager'\nimport Dexie from 'dexie'\nimport { RuntimeCatalogue } from 'service-framework/dist/RuntimeCatalogue'\n\n/**\n * Is a bridge to isolate the runtime from the specific platform\n * @typedef {Object} RuntimeFactory\n * @property {function():Sandbox} createSandbox Creates a new Sandbox\n * @property {function():SandboxApp} createAppSandbox Creates a new SandboxApp\n * @property {function():Request} createHttpRequest Creates a new Request object\n * @property {function():RuntimeCatalogue} createRuntimeCatalogue Creates a new RuntimeCatalogue\n * @property {function(Encoded data: string):string} atob Returns the string decoded\n * @property {function():PersistenceManager} persistenceManager Returns a new PersistenceManager\n * @property {function():StorageManager} storageManager Returns a new StorageManager\n * @property {function():RuntimeCapabilities} runtimeCapabilities Returns a new RuntimeCapabilities\n */\nexport default {\n\tcreateSandbox(constraints) {\n\t\treturn createSandbox(constraints)\n\t},\n\n\tcreateAppSandbox() {\n\t\treturn new SandboxApp()\n\t},\n\n\tcreateHttpRequest() {\n\t\tlet request = new Request()\n\t\treturn request\n\t},\n\n\tcreateRuntimeCatalogue() {\n\t\tif (!this.catalogue)\n\t\t\tthis.catalogue = new RuntimeCatalogue(this)\n\n\t\treturn this.catalogue\n\t},\n\n\tatob(b64) {\n\t\treturn atob(b64)\n\t},\n\n\tpersistenceManager() {\n\t\tlet localStorage = window.localStorage\n\t\treturn new PersistenceManager(localStorage)\n\t},\n\n\tstorageManager() {\n\t\tconst db = new Dexie('cache')\n\t\tconst storeName = 'objects'\n\n\t\treturn new storageManager(db, storeName)\n\t},\n\n\truntimeCapabilities(storageManager) {\n\t\treturn new RuntimeCapabilities(storageManager)\n\t}\n}\n",
    "static": true,
    "longname": "src/RuntimeFactory.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 27,
    "kind": "typedef",
    "name": "RuntimeFactory",
    "memberof": "src/RuntimeFactory.js",
    "static": true,
    "longname": "src/RuntimeFactory.js~RuntimeFactory",
    "access": null,
    "description": "Is a bridge to isolate the runtime from the specific platform",
    "lineNumber": 44,
    "properties": [
      {
        "nullable": null,
        "types": [
          "function():Sandbox"
        ],
        "spread": false,
        "optional": false,
        "name": "createSandbox",
        "description": "Creates a new Sandbox"
      },
      {
        "nullable": null,
        "types": [
          "function():SandboxApp"
        ],
        "spread": false,
        "optional": false,
        "name": "createAppSandbox",
        "description": "Creates a new SandboxApp"
      },
      {
        "nullable": null,
        "types": [
          "function():Request"
        ],
        "spread": false,
        "optional": false,
        "name": "createHttpRequest",
        "description": "Creates a new Request object"
      },
      {
        "nullable": null,
        "types": [
          "function():RuntimeCatalogue"
        ],
        "spread": false,
        "optional": false,
        "name": "createRuntimeCatalogue",
        "description": "Creates a new RuntimeCatalogue"
      },
      {
        "nullable": null,
        "types": [
          "function(Encoded data: string):string"
        ],
        "spread": false,
        "optional": false,
        "name": "atob",
        "description": "Returns the string decoded"
      },
      {
        "nullable": null,
        "types": [
          "function():PersistenceManager"
        ],
        "spread": false,
        "optional": false,
        "name": "persistenceManager",
        "description": "Returns a new PersistenceManager"
      },
      {
        "nullable": null,
        "types": [
          "function():StorageManager"
        ],
        "spread": false,
        "optional": false,
        "name": "storageManager",
        "description": "Returns a new StorageManager"
      },
      {
        "nullable": null,
        "types": [
          "function():RuntimeCapabilities"
        ],
        "spread": false,
        "optional": false,
        "name": "runtimeCapabilities",
        "description": "Returns a new RuntimeCapabilities"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "RuntimeFactory"
    }
  },
  {
    "__docId__": 28,
    "kind": "file",
    "name": "src/RuntimeLoader.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport RethinkBrowser from './RuntimeUAStub'\n\nlet rethink;\n\nif( typeof window != undefined && window != null ){\n    rethink = RethinkBrowser\n}else{\n    rethink = undefined\n}\n\nexport default rethink\n",
    "static": true,
    "longname": "src/RuntimeLoader.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 29,
    "kind": "file",
    "name": "src/RuntimeUAStub.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n/**\n * @external {MSG_STATUS} https://github.com/reTHINK-project/core-framework/tree/master/docs/specs/service-framework\n */\n\nimport app from './ContextApp'\nimport URI from 'urijs'\nimport { create as createIframe } from './iframe'\n\nlet iframe = undefined\n\n/**\n * @typedef {Object} Hyperty\n * @property {string} runtimeHypertyURL - Hyperty address\n * @property {MSG_STATUS} status - Hyperty status\n * @property {Object} instance - Hyperty object\n * @property {string} name - Hyperty name\n */\nlet buildMsg = (hypertyComponent, msg) => {\n\treturn {\n\t\truntimeHypertyURL: msg.body.runtimeHypertyURL,\n\t\tstatus: msg.body.status,\n\t\tinstance: hypertyComponent.instance,\n\t\tname: hypertyComponent.name\n\t}\n}\n\n/**\n * @typedef {Object} RuntimeAdapter\n * @property {function(Hyperty descriptor: string, Hyperty addresses to be reused or empty in other case: string): Promise<Hyperty>} requireHyperty - Loads and returns a Hyperty\n * @property {function(Domain: string)} requireProtostub - Loads a protostub from the given domain\n * @property {function(): Promise} close - Unloads and closes the installed runtime\n */\nlet runtimeAdapter = {\n\trequireHyperty: (hypertyDescriptor, reuseAddress = false)=>{\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tlet loaded = (e)=>{\n\t\t\t\tif(e.data.to === 'runtime:loadedHyperty'){\n\t\t\t\t\twindow.removeEventListener('message', loaded)\n\t\t\t\t\tresolve(buildMsg(app.getHyperty(e.data.body.runtimeHypertyURL), e.data))\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.addEventListener('message', loaded)\n\t\t\tiframe.contentWindow.postMessage({to:'core:loadHyperty', body:{descriptor: hypertyDescriptor, reuseAddress}}, '*')\n\t\t})\n\t},\n\n\trequireProtostub: (domain)=>{\n\t\tiframe.contentWindow.postMessage({to:'core:loadStub', body:{'domain': domain}}, '*')\n\t},\n\n\tclose: ()=>{\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tlet loaded = (e)=>{\n\t\t\t\tif(e.data.to === 'runtime:runtimeClosed'){\n\t\t\t\t\twindow.removeEventListener('message', loaded)\n\t\t\t\t\tresolve(resolve(e.data.body))\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.addEventListener('message', loaded)\n\t\t\tiframe.contentWindow.postMessage({to:'core:close', body:{}}, '*')\n\t\t})\n\t},\n}\n\nlet GuiManager = function(){\n\twindow.addEventListener('message', (e) => {\n\t\tif(e.data.to === 'runtime:gui-manager') {\n\n\t\t\tif (e.data.body.method === 'showAdminPage') {\n\t\t\t\tiframe.style.width = '100%'\n\t\t\t\tiframe.style.height = '100%'\n\t\t\t} else {\n\t\t\t\tif (e.data.body.method === 'hideAdminPage') {\n\t\t\t\t\tiframe.style.width = '40px'\n\t\t\t\t\tiframe.style.height = '40px'\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t})\n}\n\n/**\n * @typedef {Object} RuntimeUA\n * @property {function(Runtime domain: string, Runtime url: string, Development mode: boolean): Promise<RuntimeAdapter>} install - Installs a runtime locally\n */\nlet RethinkBrowser = {\n\tinstall: function({domain, runtimeURL, development}={}){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tlet runtime = this._getRuntime(runtimeURL, domain, development)\n\t\t\tiframe = createIframe(`https://${runtime.domain}/.well-known/runtime/index.html?runtime=${runtime.url}&development=${development}`)\n\t\t\tlet installed = (e)=>{\n\t\t\t\tif(e.data.to === 'runtime:installed'){\n\t\t\t\t\twindow.removeEventListener('message', installed)\n\t\t\t\t\tresolve(runtimeAdapter)\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.addEventListener('message', installed)\n\t\t\twindow.addEventListener('message', (e) => {\n\t\t\t\tif(e.data.to && e.data.to === 'runtime:createSandboxWindow'){\n\t\t\t\t\tconst ifr = createIframe(`https://${runtime.domain}/.well-known/runtime/sandbox.html`)\n\t\t\t\t\tifr.addEventListener('load', () => {\n\t\t\t\t\t\tifr.contentWindow.postMessage(e.data, '*', e.ports)\n\t\t\t\t\t}, false)\n\t\t\t\t}\n\t\t\t})\n\t\t\tapp.create(iframe)\n\t\t\tGuiManager()\n\t\t})\n\t},\n\n\t_getRuntime (runtimeURL, domain, development) {\n\t\tif(!!development){\n\t\t\truntimeURL = runtimeURL || 'hyperty-catalogue://catalogue.' + domain + '/.well-known/runtime/Runtime'\n\t\t\tdomain = domain || new URI(runtimeURL).host()\n\t\t}else{\n\t\t\truntimeURL = runtimeURL || `https://catalogue.${domain}/.well-known/runtime/default`\n\t\t\tdomain = domain || new URI(runtimeURL).host().replace('catalogue.', '')\n\t\t}\n\n\t\treturn {\n\t\t\turl: runtimeURL,\n\t\t\tdomain: domain\n\t\t}\n\t}\n}\n\nexport default RethinkBrowser\n",
    "static": true,
    "longname": "src/RuntimeUAStub.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "MSG_STATUS",
    "externalLink": "https://github.com/reTHINK-project/core-framework/tree/master/docs/specs/service-framework",
    "memberof": "src/RuntimeUAStub.js",
    "static": true,
    "longname": "src/RuntimeUAStub.js~MSG_STATUS",
    "access": null,
    "description": "",
    "lineNumber": 28
  },
  {
    "__docId__": 31,
    "kind": "variable",
    "name": "iframe",
    "memberof": "src/RuntimeUAStub.js",
    "static": true,
    "longname": "src/RuntimeUAStub.js~iframe",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/RuntimeUAStub.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 32,
    "kind": "typedef",
    "name": "Hyperty",
    "memberof": "src/RuntimeUAStub.js",
    "static": true,
    "longname": "src/RuntimeUAStub.js~Hyperty",
    "access": null,
    "description": "",
    "lineNumber": 41,
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "runtimeHypertyURL",
        "description": "Hyperty address"
      },
      {
        "nullable": null,
        "types": [
          "MSG_STATUS"
        ],
        "spread": false,
        "optional": false,
        "name": "status",
        "description": "Hyperty status"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "instance",
        "description": "Hyperty object"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Hyperty name"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "Hyperty"
    }
  },
  {
    "__docId__": 33,
    "kind": "typedef",
    "name": "RuntimeAdapter",
    "memberof": "src/RuntimeUAStub.js",
    "static": true,
    "longname": "src/RuntimeUAStub.js~RuntimeAdapter",
    "access": null,
    "description": "",
    "lineNumber": 56,
    "properties": [
      {
        "nullable": null,
        "types": [
          "function(Hyperty descriptor: string, Hyperty addresses to be reused or empty in other case: string): Promise<Hyperty>"
        ],
        "spread": false,
        "optional": false,
        "name": "requireHyperty",
        "description": "Loads and returns a Hyperty"
      },
      {
        "nullable": null,
        "types": [
          "function(Domain: string)"
        ],
        "spread": false,
        "optional": false,
        "name": "requireProtostub",
        "description": "Loads a protostub from the given domain"
      },
      {
        "nullable": null,
        "types": [
          "function(): Promise"
        ],
        "spread": false,
        "optional": false,
        "name": "close",
        "description": "Unloads and closes the installed runtime"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "RuntimeAdapter"
    }
  },
  {
    "__docId__": 34,
    "kind": "function",
    "name": "GuiManager",
    "memberof": "src/RuntimeUAStub.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/RuntimeUAStub.js~GuiManager",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/RuntimeUAStub.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 35,
    "kind": "typedef",
    "name": "RuntimeUA",
    "memberof": "src/RuntimeUAStub.js",
    "static": true,
    "longname": "src/RuntimeUAStub.js~RuntimeUA",
    "access": null,
    "description": "",
    "lineNumber": 110,
    "properties": [
      {
        "nullable": null,
        "types": [
          "function(Runtime domain: string, Runtime url: string, Development mode: boolean): Promise<RuntimeAdapter>"
        ],
        "spread": false,
        "optional": false,
        "name": "install",
        "description": "Installs a runtime locally"
      }
    ],
    "type": {
      "types": [
        "Object"
      ],
      "optional": false,
      "name": "RuntimeUA"
    }
  },
  {
    "__docId__": 36,
    "kind": "file",
    "name": "src/SandboxApp.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport { Sandbox, SandboxType } from 'runtime-core/dist/sandbox'\nimport MiniBus from 'runtime-core/dist/minibus'\n\n/**\n * Proxy for the Application context\n * */\nexport default class SandboxApp extends Sandbox{\n\tconstructor(){\n\t\tsuper()\n\n\t\t/**\n\t\t * @type {runtime-core/dist/sandbox/SandboxType}\n\t\t */\n\t\tthis.type = SandboxType.NORMAL\n\t\twindow.addEventListener('message', function(e){\n\t\t\tif(!this.origin){\n\t\t\t\t/**\n\t\t\t\t * @type {Window}\n\t\t\t\t */\n\t\t\t\tthis.origin = e.source\n\t\t\t}\n\n\t\t\tif(e.data.hasOwnProperty('to') && e.data.to.startsWith('core:'))\n\t\t\t\treturn\n\n\t\t\tthis._onMessage(JSON.parse(JSON.stringify(e.data)))\n\t\t}.bind(this))\n\n\t\twindow.addEventListener('error', function(error){\n\t\t\tconsole.error('[SANDBOX APP] - Error', error)\n\t\t\tthrow error\n\t\t}.bind(this))\n\n\t}\n\n\t_onPostMessage(msg){\n\t\tthis.origin.postMessage(JSON.parse(JSON.stringify(msg)), '*')\n\t}\n}\n",
    "static": true,
    "longname": "src/SandboxApp.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 37,
    "kind": "class",
    "name": "SandboxApp",
    "memberof": "src/SandboxApp.js",
    "static": true,
    "longname": "src/SandboxApp.js~SandboxApp",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/SandboxApp.js",
    "importStyle": "SandboxApp",
    "description": "Proxy for the Application context",
    "lineNumber": 29,
    "interface": false,
    "extends": [
      "runtime-core/dist/sandbox~Sandbox"
    ]
  },
  {
    "__docId__": 38,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/SandboxApp.js~SandboxApp",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/SandboxApp.js~SandboxApp#constructor",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 39,
    "kind": "member",
    "name": "type",
    "memberof": "src/SandboxApp.js~SandboxApp",
    "static": false,
    "longname": "src/SandboxApp.js~SandboxApp#type",
    "access": null,
    "description": "",
    "lineNumber": 36,
    "type": {
      "nullable": null,
      "types": [
        "runtime-core/dist/sandbox/SandboxType"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 40,
    "kind": "member",
    "name": "origin",
    "memberof": "src/SandboxApp.js~SandboxApp",
    "static": false,
    "longname": "src/SandboxApp.js~SandboxApp#origin",
    "access": null,
    "description": "",
    "lineNumber": 42,
    "type": {
      "nullable": null,
      "types": [
        "Window"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 41,
    "kind": "method",
    "name": "_onPostMessage",
    "memberof": "src/SandboxApp.js~SandboxApp",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/SandboxApp.js~SandboxApp#_onPostMessage",
    "access": null,
    "description": null,
    "lineNumber": 58,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "msg",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 42,
    "kind": "file",
    "name": "src/Sandboxes.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport { Sandbox, SandboxType } from 'runtime-core/dist/sandbox'\nimport MiniBus from 'runtime-core/dist/minibus'\nimport RuntimeFactory from './RuntimeFactory'\n\n/**\n * Proxy for a WebWorker\n * */\nexport class SandboxWorker extends Sandbox{\n\tstatic capabilities() {\n\t\treturn RuntimeFactory.runtimeCapabilities(RuntimeFactory.storageManager()).getRuntimeCapabilities()\n\t\t\t.then(capabilities =>Object.assign(capabilities, { mic:false, camera:false }))\n\t}\n\n\tstatic new() {\n\t\treturn new SandboxWorker('./context-service.js')\n\t}\n\n\t/**\n\t * @param {string} script - Script that will be loaded in the web worker\n\t */\n\tconstructor(script){\n\t\tsuper(script)\n\n\t\t/**\n\t\t * @type {runtime-core/dist/sandbox/SandboxType}\n\t\t */\n\t\tthis.type = SandboxType.NORMAL\n\t\tif(Worker){\n\t\t\tthis._worker = new Worker(script)\n\t\t\tthis._worker.addEventListener('message', function(e){\n\t\t\t\tthis._onMessage(JSON.parse(JSON.stringify(e.data)))\n\t\t\t}.bind(this))\n\n\t\t\tthis._worker.addEventListener('error', function(error){\n\t\t\t\tconsole.log('[Sandbox Worker] - Error: ', error)\n\t\t\t\tthrow JSON.stringify(error)\n\t\t\t}.bind(this))\n\n\t\t\tthis._worker.postMessage('')\n\t\t}else{\n\t\t\tthrow new Error('Your environment does not support worker \\n')\n\t\t}\n\t}\n\n\t_onPostMessage(msg){\n\t\tthis._worker.postMessage(JSON.parse(JSON.stringify(msg)))\n\t}\n}\n\nexport class SandboxWindow extends Sandbox{\n\tstatic capabilities() {\n\t\treturn RuntimeFactory.runtimeCapabilities(RuntimeFactory.storageManager()).getRuntimeCapabilities()\n\t}\n\n\tstatic new() {\n\t\treturn new SandboxWindow()\n\t}\n\n\tconstructor(){\n\t\tsuper()\n\n\t\tthis.type = SandboxType.NORMAL\n\t\tthis.channel = new MessageChannel()\n\n\t\tthis.channel.port1.onmessage = function(e){\n\t\t\tthis._onMessage(JSON.parse(JSON.stringify(e.data)))\n\t\t}.bind(this)\n\n\t\tparent.postMessage({ to:'runtime:createSandboxWindow' }, '*', [this.channel.port2])\n\t}\n\n\t_onPostMessage(msg){\n\t\tthis.channel.port1.postMessage(JSON.parse(JSON.stringify(msg)))\n\t}\n}\n\nexport function createSandbox(constraints) {\n\tconst sandboxes = [SandboxWorker, SandboxWindow]\n\tlet diff = (a, b) => Object.keys(a).filter(x => a[x]!==b[x])\n\n\treturn Promise.all(sandboxes.map(s => s.capabilities().then(c=>{return {capabilities:c, sandbox:s}})))\n\t\t.then(sbs => {\n\t\t\tlet i = 0\n\t\t\twhile(i<sbs.length) {\n\t\t\t\tif(diff(constraints, sbs[i].capabilities).length === 0)\n\t\t\t\t\treturn sbs[i].sandbox.new()\n\t\t\t\ti++\n\t\t\t}\n\t\t\tthrow new Error('None of supported sandboxes match your constraints')\n\t\t})\n}\n",
    "static": true,
    "longname": "src/Sandboxes.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 43,
    "kind": "class",
    "name": "SandboxWorker",
    "memberof": "src/Sandboxes.js",
    "static": true,
    "longname": "src/Sandboxes.js~SandboxWorker",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/Sandboxes.js",
    "importStyle": "{SandboxWorker}",
    "description": "Proxy for a WebWorker",
    "lineNumber": 30,
    "interface": false,
    "extends": [
      "runtime-core/dist/sandbox~Sandbox"
    ]
  },
  {
    "__docId__": 44,
    "kind": "method",
    "name": "capabilities",
    "memberof": "src/Sandboxes.js~SandboxWorker",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/Sandboxes.js~SandboxWorker.capabilities",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 45,
    "kind": "method",
    "name": "new",
    "memberof": "src/Sandboxes.js~SandboxWorker",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/Sandboxes.js~SandboxWorker.new",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 46,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/Sandboxes.js~SandboxWorker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWorker#constructor",
    "access": null,
    "description": "",
    "lineNumber": 43,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "script",
        "description": "Script that will be loaded in the web worker"
      }
    ]
  },
  {
    "__docId__": 47,
    "kind": "member",
    "name": "type",
    "memberof": "src/Sandboxes.js~SandboxWorker",
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWorker#type",
    "access": null,
    "description": "",
    "lineNumber": 49,
    "type": {
      "nullable": null,
      "types": [
        "runtime-core/dist/sandbox/SandboxType"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 48,
    "kind": "member",
    "name": "_worker",
    "memberof": "src/Sandboxes.js~SandboxWorker",
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWorker#_worker",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 49,
    "kind": "method",
    "name": "_onPostMessage",
    "memberof": "src/Sandboxes.js~SandboxWorker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWorker#_onPostMessage",
    "access": null,
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "msg",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 50,
    "kind": "class",
    "name": "SandboxWindow",
    "memberof": "src/Sandboxes.js",
    "static": true,
    "longname": "src/Sandboxes.js~SandboxWindow",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/Sandboxes.js",
    "importStyle": "{SandboxWindow}",
    "description": null,
    "lineNumber": 72,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false,
    "extends": [
      "runtime-core/dist/sandbox~Sandbox"
    ]
  },
  {
    "__docId__": 51,
    "kind": "method",
    "name": "capabilities",
    "memberof": "src/Sandboxes.js~SandboxWindow",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/Sandboxes.js~SandboxWindow.capabilities",
    "access": null,
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 52,
    "kind": "method",
    "name": "new",
    "memberof": "src/Sandboxes.js~SandboxWindow",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/Sandboxes.js~SandboxWindow.new",
    "access": null,
    "description": null,
    "lineNumber": 77,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 53,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/Sandboxes.js~SandboxWindow",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWindow#constructor",
    "access": null,
    "description": null,
    "lineNumber": 81,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 54,
    "kind": "member",
    "name": "type",
    "memberof": "src/Sandboxes.js~SandboxWindow",
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWindow#type",
    "access": null,
    "description": null,
    "lineNumber": 84,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 55,
    "kind": "member",
    "name": "channel",
    "memberof": "src/Sandboxes.js~SandboxWindow",
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWindow#channel",
    "access": null,
    "description": null,
    "lineNumber": 85,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 56,
    "kind": "method",
    "name": "_onPostMessage",
    "memberof": "src/Sandboxes.js~SandboxWindow",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Sandboxes.js~SandboxWindow#_onPostMessage",
    "access": null,
    "description": null,
    "lineNumber": 94,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "msg",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 57,
    "kind": "function",
    "name": "createSandbox",
    "memberof": "src/Sandboxes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/Sandboxes.js~createSandbox",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/Sandboxes.js",
    "importStyle": "{createSandbox}",
    "description": null,
    "lineNumber": 99,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "constraints",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 58,
    "kind": "file",
    "name": "src/admin/IdentitiesGUI.js",
    "content": "// jshint browser:true, jquery: true\n\nclass IdentitiesGUI {\n\n  constructor(identityModule) {\n    if (!identityModule) throw Error('Identity Module not set!');\n    let _this = this;\n    let guiURL = identityModule._runtimeURL + '/identity-gui';\n    _this._guiURL = guiURL;\n    _this.identityModule = identityModule;\n    _this._messageBus = identityModule.messageBus;\n    _this.identityModule.deployGUI();\n\n    _this.resultURL  = undefined;\n\n    _this._messageBus.addListener(guiURL, msg => {\n      let identityInfo = msg.body.value;\n      let value;\n\n      // unhide the config page with the identity GUI\n      document.getElementsByTagName('body')[0].style = 'background-color:white;';\n      parent.postMessage({ body: { method: 'showAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').removeClass('hide');\n      _this.showIdentitiesGUI(msg.body.value).then((identityInfo) => {\n        let replyMsg;\n\n        //hide config page with the identity GUI\n        parent.postMessage({ body: { method: 'hideAdminPage' }, to: 'runtime:gui-manager' }, '*');\n        $('.admin-page').addClass('hide');\n        document.getElementsByTagName('body')[0].style = 'background-color:transparent';\n        $('.identities-section').addClass('hide');\n        $('.policies-section').addClass('hide');\n\n        switch (identityInfo.type) {\n          case 'idp':\n            value = {type: 'idp', value: identityInfo.value, code: 200};\n            replyMsg = {id: msg.id, type: 'response', to: msg.from, from: msg.to, body: value};\n            _this._messageBus.postMessage(replyMsg);\n            break;\n\n          case 'identity':\n            value = {type: 'identity', value: identityInfo.value, code: 200};\n            replyMsg = {id: msg.id, type: 'response', to: msg.from, from: msg.to, body: value};\n            _this._messageBus.postMessage(replyMsg);\n            break;\n\n          default:\n            value = {type: 'error', value: 'Error on identity GUI', code: 400};\n            replyMsg = {id: msg.id, type: 'response', to: msg.from, from: msg.to, body: value};\n            _this._messageBus.postMessage(replyMsg);\n        }\n      });\n    });\n\n\n\n    $('.identities-page-show').on('click', function () {\n      //TODO call a IdM method that requests the identities\n      _this.showIdentitiesGUI();\n    });\n  }\n\n  showIdentitiesGUI(receivedInfo) {\n    let _this = this;\n\n    return new Promise((resolve, reject) => {\n\n      let identityInfo;\n      let toRemoveID;\n\n      if (receivedInfo) {\n        identityInfo = receivedInfo;\n        toRemoveID = false;\n      } else {\n        toRemoveID = true;\n        identityInfo = _this.identityModule.getIdentitiesToChoose();\n      }\n\n      $('.policies-section').addClass('hide');\n      $('.identities-section').removeClass('hide');\n\n      _this.showMyIdentities(identityInfo.identities, toRemoveID).then((identity) => {\n        console.log('chosen identity: ', identity);\n        resolve({type: 'identity', value: identity});\n      });\n\n      let callback = (value) => {\n        console.log('chosen identity: ', value);\n        resolve({type: 'identity', value: value});\n      };\n\n      let idps = [];\n      let idpsObjects = identityInfo.idps;\n\n      idpsObjects.forEach(function(entry) {\n        idps.push(entry.domain);\n      });\n\n      $('#idproviders').html(_this._getList(idps));\n      $('#idproviders').off();\n      $('#idproviders').on('click', (event) => _this.obtainNewIdentity(event, callback, toRemoveID));\n      //$('.back').on('click', (event) => _this.goHome());\n      $('.identities-reset').off();\n      $('.identities-reset').on('click', (event) => _this._resetIdentities(callback));\n    });\n\n  }\n\n  showMyIdentities(emails, toRemoveID) {\n    let _this = this;\n\n    return new Promise((resolve, reject) => {\n\n      // let identities = _this.identityModule.getIdentities();\n      let identities = [];\n\n      for(let i in emails) {\n        let domain = emails[i].split('@');\n        identities.push({email: emails[i], domain: domain[1]});\n      }\n\n      let myIdentities = document.getElementById('my-ids');\n      myIdentities.innerHTML = '';\n\n      let table = _this.createTable();\n\n      let tbody = document.createElement('tbody');\n      let numIdentities = identities.length;\n      for (let i = 0; i < numIdentities; i++) {\n        let tr = _this.createTableRow(identities[i], toRemoveID);\n        tbody.appendChild(tr);\n      }\n\n      table.appendChild(tbody);\n      myIdentities.appendChild(table);\n\n      let callback = (identity) => {\n        resolve(identity);\n      };\n      if (!toRemoveID) {\n        $('.clickable-cell').on('click', (event) => _this.changeID(callback));\n      }\n      $('.remove-id').on('click', (event) => _this.removeID(emails));\n\n    });\n  }\n\n  createTable() {\n    let table = document.createElement('table');\n    table.className = 'centered';\n    let thead = document.createElement('thead');\n    let tr = document.createElement('tr');\n    let thEmail = document.createElement('th');\n    thEmail.textContent = 'Email';\n    tr.appendChild(thEmail);\n    thead.appendChild(tr);\n    table.appendChild(thead);\n    return table;\n  }\n\n  createTableRow(identity, toRemoveID) {\n    let tr = document.createElement('tr');\n\n    let td = document.createElement('td');\n    td.textContent = identity.email;\n    td.className = 'clickable-cell';\n    td.style = 'cursor: pointer';\n    tr.appendChild(td);\n\n    td = document.createElement('td');\n\n    if(toRemoveID) {\n      let btn = document.createElement('button');\n      btn.textContent = 'Remove';\n      btn.className = 'remove-id waves-effect waves-light btn';\n      td.appendChild(btn);\n    }\n    tr.appendChild(td);\n\n    return tr;\n  }\n\n  changeID(callback) {\n    let _this = this;\n\n    let idToUse = event.target.innerText;\n\n    //TODO improve later.\n    //prevents when the users selects an hyperty, exit the identity page and goes again to the identity page, from selecting \"settings\" button as identity.\n    if(idToUse !== 'settings') {\n\n      callback(idToUse);\n      return idToUse;\n    }\n  }\n\n  removeID(emails) {\n    let _this = this;\n    let row = event.target.parentNode.parentNode;\n    let idToRemove = row.children[0].textContent;\n    let domain = row.children[1].textContent;\n    _this.identityModule.unregisterIdentity(idToRemove);\n\n    let numEmails = emails.length;\n    for (let i = 0; i < numEmails; i++) {\n      if (emails[i].email === idToRemove) {\n        emails.splice(i, 1);\n        break;\n      }\n    }\n    // -------------------------------------------------------------------------//\n    _this.showMyIdentities(emails, true);\n\n  }\n\n  obtainNewIdentity(event, callback, toRemoveID) {\n    let _this = this;\n    let idProvider = event.target.textContent;\n    let idProvider2 = event.target.text;\n\n    _this.identityModule.crypto.generateRSAKeyPair().then(function(keyPair) {\n\n      let publicKey = btoa(keyPair.public);\n\n      _this.identityModule.sendGenerateMessage(publicKey, 'origin', undefined, idProvider).then((value) => {\n        console.log('receivedURL: ' + value.loginUrl.substring(0, 20) + '...');\n\n        let url = value.loginUrl;\n        let finalURL;\n\n        //check if the receivedURL contains the redirect field and replace it\n        if(url.indexOf('redirect_uri') !== -1) {\n          let firstPart = url.substring(0, url.indexOf('redirect_uri'));\n          let secondAuxPart = url.substring(url.indexOf('redirect_uri'), url.length);\n\n          let secondPart = secondAuxPart.substring(secondAuxPart.indexOf('&'), url.length);\n\n          //check if the reddirect field is the last field of the URL\n          if(secondPart.indexOf('&') !== -1) {\n            finalURL = firstPart + 'redirect_uri=' + location.origin + secondPart;\n          } else {\n            finalURL = firstPart + 'redirect_uri=' + location.origin;\n          }\n        }\n        _this.resultURL = finalURL || url;\n\n        $('.login-idp').html('<p>Chosen IDP: ' + idProvider + '</p>');\n        $('.login').removeClass('hide');\n        $('.login-btn').off();\n        $('.login-btn').on('click', (event) => {\n          $('.login').addClass('hide');\n          _this._authenticateUser(keyPair, publicKey, value, 'origin', idProvider).then((email) => {\n            callback(email);\n            _this.showIdentitiesGUI();\n          });\n        });\n      });\n    }).catch(err => console.log('obtanin new identity', err));\n\n  }\n\n  _getList(items) {\n    let list = '';\n    let numItems = items.length;\n\n    for (let i = 0; i < numItems; i++) {\n      list += '<li class=\"divider\"></li>';\n        list += '<li><a class=\"center-align\">' + items[i] + '</a></li>';\n    }\n\n    return list;\n  }\n\n  _authenticateUser(keyPair, publicKey, value, origin, idProvider) {\n    let _this = this;\n    let url = _this.resultURL;\n\n    return new Promise((resolve, reject) => {\n\n      _this.identityModule.openPopup(url).then((identity) => {\n\n        _this.identityModule.sendGenerateMessage(publicKey, origin, identity, idProvider).then((result) => {\n\n          if (result) {\n\n           _this.identityModule.storeIdentity(result, keyPair).then((value) => {\n             resolve(value.userProfile.username);\n           }, (err) => {\n             reject(err);\n           });\n\n          } else {\n           reject('error on obtaining identity information');\n          }\n\n          });\n         }, (err) => {\n           reject(err);\n      });\n    });\n  }\n\n_resetIdentities() {\n  console.log('_resetIdentities');\n}\n\n\n}\n\nexport default IdentitiesGUI;\n",
    "static": true,
    "longname": "src/admin/IdentitiesGUI.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 59,
    "kind": "class",
    "name": "IdentitiesGUI",
    "memberof": "src/admin/IdentitiesGUI.js",
    "static": true,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/admin/IdentitiesGUI.js",
    "importStyle": "IdentitiesGUI",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false
  },
  {
    "__docId__": 60,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "identityModule",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 61,
    "kind": "method",
    "name": "showIdentitiesGUI",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#showIdentitiesGUI",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "receivedInfo",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 62,
    "kind": "method",
    "name": "showMyIdentities",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#showMyIdentities",
    "access": null,
    "description": null,
    "lineNumber": 109,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "emails",
        "types": [
          "*"
        ]
      },
      {
        "name": "toRemoveID",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 63,
    "kind": "method",
    "name": "createTable",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#createTable",
    "access": null,
    "description": null,
    "lineNumber": 148,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 64,
    "kind": "method",
    "name": "createTableRow",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#createTableRow",
    "access": null,
    "description": null,
    "lineNumber": 161,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "identity",
        "types": [
          "*"
        ]
      },
      {
        "name": "toRemoveID",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 65,
    "kind": "method",
    "name": "changeID",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#changeID",
    "access": null,
    "description": null,
    "lineNumber": 183,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "callback",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 66,
    "kind": "method",
    "name": "removeID",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#removeID",
    "access": null,
    "description": null,
    "lineNumber": 197,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "emails",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 67,
    "kind": "method",
    "name": "obtainNewIdentity",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#obtainNewIdentity",
    "access": null,
    "description": null,
    "lineNumber": 216,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "event",
        "types": [
          "*"
        ]
      },
      {
        "name": "callback",
        "types": [
          "*"
        ]
      },
      {
        "name": "toRemoveID",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 68,
    "kind": "method",
    "name": "_getList",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#_getList",
    "access": null,
    "description": null,
    "lineNumber": 262,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "items",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 69,
    "kind": "method",
    "name": "_authenticateUser",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#_authenticateUser",
    "access": null,
    "description": null,
    "lineNumber": 274,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "keyPair",
        "types": [
          "*"
        ]
      },
      {
        "name": "publicKey",
        "types": [
          "*"
        ]
      },
      {
        "name": "value",
        "types": [
          "*"
        ]
      },
      {
        "name": "origin",
        "types": [
          "*"
        ]
      },
      {
        "name": "idProvider",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 70,
    "kind": "method",
    "name": "_resetIdentities",
    "memberof": "src/admin/IdentitiesGUI.js~IdentitiesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/IdentitiesGUI.js~IdentitiesGUI#_resetIdentities",
    "access": null,
    "description": null,
    "lineNumber": 303,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 71,
    "kind": "file",
    "name": "src/admin/PoliciesGUI.js",
    "content": "import PoliciesManager from './PoliciesManager';\n\nclass PoliciesGUI {\n\n  constructor(policyEngine) {\n    if (!policyEngine) throw Error('Policy Engine is not set!');\n    this.policiesManager = new PoliciesManager(policyEngine);\n    this.elements = this._setElements();\n    this._setListeners();\n  }\n\n  _addMember() {\n    let group = event.target.id;\n    $('.member-new-intro').html('<h5>Add a member to a group</h5><p>Insert a user email below to add to the \"' + group + '\" group.</p>');\n    $('.member-new-modal').openModal();\n    $('.member-new-ok').off();\n    $('.member-new-ok').on('click', (event) => {\n      let member = $('#member-new').val();\n      $('#member-new').val('');\n      this.policiesManager.addToGroup(group, member);\n      $('.member-new-modal').closeModal();\n      this._manageGroups();\n    });\n  }\n\n  _createGroup() {\n    $('#group-new-name').val('');\n    $('.group-new-modal').openModal();\n    $('.group-new-ok').on('click', (event) => {\n      let groupName = $('#group-new-name').val();\n      this.policiesManager.createGroup(groupName);\n      this._manageGroups();\n    });\n  }\n\n  _addPolicy() {\n    $('#policy-new-title').val('');\n    $('.combining').html('');\n    let algorithms = ['Block overrides', 'Allow overrides', 'First applicable'];\n    $('.combining').append(this._getOptions('comb-algorithm', 'Choose a combining algorithm', algorithms));\n    $('.policy-new').openModal();\n\n    $('.policy-new-ok').off();\n    $('.policy-new-ok').on('click', (event) => {\n      let policyTitle = $('#policy-new-title').val();\n      if (!policyTitle) {\n        Materialize.toast('Invalid policy title', 4000);\n      } else {\n        let combiningAlgorithm = $('#comb-algorithm').val();\n        this.policiesManager.addPolicy(policyTitle, combiningAlgorithm);\n        $('.help-menu').addClass('hide');\n        $('.policy-new').closeModal();\n        this._goHome();\n      }\n    });\n    $('.help-btn').off();\n    $('.help-btn').on('click', (event) => {\n      $('.help-menu').removeClass('hide');\n    });\n  }\n\n  _decreaseRulePriority() {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    let lastPriority = this.policiesManager.getPolicy(policyTitle).getLastPriority();\n    if (lastPriority != thisPriority) {\n      let newPriority = parseInt(thisPriority + 1);\n      this.policiesManager.decreaseRulePriority(policyTitle, thisPriority, newPriority);\n      this._goHome();\n    }\n  }\n\n  _deleteMember() {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split('::');\n    let member = splitId[splitId.length - 1];\n    splitId.pop();\n    let group = splitId.join('::');\n    this.policiesManager.removeFromGroup(group, member);\n    this._manageGroups();\n  }\n\n  _deleteGroup() {\n    let groupName = event.target.closest('tr').children[0].id;\n    this.policiesManager.deleteGroup(groupName);\n    this._manageGroups();\n  }\n\n  _deletePolicy() {\n    let policyTitle = event.target.closest('tr').id;\n    this.policiesManager.deletePolicy(policyTitle);\n    this._goHome();\n  }\n\n  _deleteRule() {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    let rule = this.policiesManager.getRuleOfPolicy(policyTitle, priority);\n\n    this.policiesManager.deleteRule(policyTitle, rule);\n    this._goHome();\n  }\n\n  _getActivePolicy() {\n    $('.policy-active').html('');\n    let activeUserPolicy = this.policiesManager.getActivePolicy();\n    let policies = this.policiesManager.getPoliciesTitles();\n    policies.push('Deactivate all policies');\n\n    $('.policy-active').append(this._getOptions('policies-list', 'Click to activate a policy', policies, activeUserPolicy));\n\n    $('#policies-list').on('click', (event) => {\n      let policyTitle = $('#policies-list').find(\":selected\")[0].textContent;\n      if (policyTitle === 'Deactivate all policies') {\n        policyTitle = undefined;\n      }\n      this.policiesManager.updateActivePolicy(policyTitle);\n    });\n  }\n\n  _getGroupOptions(title, keys, scopes, lists) {\n    let list = '<option disabled selected>' + title + '</option>';\n\n    for (let i in keys) {\n      list += '<optgroup label=' + keys[i] + '>';\n      for (let j in lists[i]) {\n        list += '<option id=\"' + scopes[i] + '\">' + lists[i][j] + '</option>';\n      }\n    }\n\n    return list;\n  }\n\n  _getInfo(variable) {\n    let info;\n\n    switch(variable) {\n      case 'Date':\n        info = $('.config').find('input').val();\n        if (info.indexOf(',') !== -1) { //20 July, 2016\n          let splitInfo = info.split(' '); //['20', 'July,',' '2016']\n          splitInfo[1] = splitInfo[1].substring(0, splitInfo[1].length - 1); //'July'\n          let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n          info = splitInfo[0] + '/' + (months.indexOf(splitInfo[1]) + 1) + '/' + splitInfo[2];\n        } else { // 2016-07-20\n          let splitInfo = info.split('-');\n          info = splitInfo[2] + '/' + splitInfo[1] + '/' + splitInfo[0];\n        }\n        break;\n      case 'Group of users':\n        info = $('#group').find(\":selected\").text();\n        break;\n      case 'Subscription preferences':\n        if (info = $(\"input[name='rule-new-subscription']:checked\")[0] !== undefined) {\n          info = $(\"input[name='rule-new-subscription']:checked\")[0].id;\n        }\n        break;\n      case 'Weekday':\n        info = $('#weekday').find(\":selected\").text();\n        break;\n      default:\n        info = $('.config').find('input').val();\n        break;\n    }\n\n    return info;\n  }\n\n  _getList(items) {\n      let list = '';\n      let numItems = items.length;\n\n      for (let i = 0; i < numItems; i++) {\n        list += '<li class=\"divider\"></li>';\n        list += '<li><a class=\"center-align\">' + items[i] + '</a></li>';\n      }\n\n      return list;\n    }\n\n  _getOptions(id, title, list, selected) {\n    let options = '<select id=\"' + id + '\" class=\"browser-default\"><option disabled selected>' + title + '</option>';\n    for (let i in list) {\n      if (selected !== undefined & selected === list[i]) {\n        options += '<option selected id=\"' + id + '\">' + list[i] + '</option>';\n      } else {\n        options += '<option id=\"' + id + '\">' + list[i] + '</option>';\n      }\n    }\n    options += '</select>';\n\n    return options;\n  }\n\n  _getPoliciesTable() {\n    $('.policies-no').addClass('hide');\n    $('.policies-current').html('');\n\n    let policies = this.policiesManager.getFormattedPolicies();\n    let policiesTitles = [];\n    let rulesTitles = [];\n    let ids = [];\n\n    for (let i in policies) {\n      policiesTitles.push(policies[i].title);\n      rulesTitles.push(policies[i].rulesTitles);\n      ids.push(policies[i].ids);\n    }\n\n    let table = '<table>';\n    let isEmpty = policiesTitles.length === 0;\n\n    for (let i in policiesTitles) {\n      table += '<thead><tr id=\"' + policiesTitles[i] + '\"><td></td><td></td><th class=\"center-align\">' + policiesTitles[i] + '</th><td><i class=\"material-icons clickable-cell policy-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n\n      for (let j in rulesTitles[i]) {\n        table += '<tr id=\"' + ids[i][j] + '\" ><td><i class=\"material-icons clickable-cell rule-priority-increase\" style=\"cursor: pointer; vertical-align: middle\">arrow_upward</i></td><td><i class=\"material-icons clickable-cell rule-priority-decrease\" style=\"cursor: pointer; vertical-align: middle\">arrow_downward</i></td><td class=\"rule-show clickable-cell\" style=\"cursor: pointer\">' + rulesTitles[i][j] + '</td><td><i class=\"material-icons clickable-cell rule-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n      }\n      table += '<tr id=\"' + policiesTitles[i] + '\"></td><td></td><td></td><td style=\"text-align:center\"><i class=\"material-icons clickable-cell center-align rule-add\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n    }\n    if (!isEmpty) {\n      table += '</tbody></table>';\n      $('.policies-current').append(table);\n    } else {\n      $('.policies-no').removeClass('hide');\n    }\n    $('.rule-add').on('click', (event) => { this._showVariablesTypes(); });\n    $('.rule-delete').on('click', (event) => { this._deleteRule(); });\n    $('.rule-show').on('click', (event) => { this._showRule(); });\n    $('.rule-priority-increase').on('click', (event) => { this._increaseRulePriority(); });\n    $('.rule-priority-decrease').on('click', (event) => { this._decreaseRulePriority(); });\n    $('.policy-add').off();\n    $('.policy-add').on('click', (event) => { this._addPolicy(); });\n    $('.policy-delete').on('click', (event) => { this._deletePolicy(); });\n  }\n\n  _goHome() {\n    this._getActivePolicy();\n    this._getPoliciesTable();\n  }\n\n  _increaseRulePriority() {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let thisPriority = parseInt(splitId[splitId.length - 1]);\n    if (thisPriority !== 0) {\n      splitId.pop();\n      let policyTitle = splitId.join(':');\n      let newPriority = thisPriority - 1;\n\n      this.policiesManager.increaseRulePriority(policyTitle, thisPriority, newPriority);\n      this._goHome();\n    }\n  }\n\n  _manageGroups() {\n    $('.groups-current').html('');\n    let groupsPE = this.policiesManager.getGroups();\n    let groups = groupsPE.groupsNames;\n    let members = groupsPE.members;\n    let ids = groupsPE.ids;\n\n    let table = '<table>';\n    let isEmpty = groups.length === 0;\n\n    for (let i in groups) {\n      table += '<thead><tr><th id=\"' + groups[i] + '\">' + groups[i] + '</th><td style=\"text-align:right\"><i class=\"material-icons clickable-cell group-delete\" style=\"cursor: pointer; vertical-align: middle\">delete_forever</i></td></tr></thead><tbody>';\n      for (let j in members[i]) {\n        table += '<tr id=\"' + ids[i][j] + '\" ><td style=\"cursor: pointer\">' + members[i][j] + '</td><td style=\"text-align:right\"><i class=\"material-icons clickable-cell member-delete\" style=\"cursor: pointer; vertical-align: middle\">clear</i></td></tr>';\n      }\n\n      table += '<tr id=\"' + groups[i] + '\"><td><i class=\"material-icons clickable-cell member-add\" id=\"' + groups[i] + '\" style=\"cursor: pointer\">add_circle</i></td></tr>';\n    }\n\n    if (!isEmpty) {\n      table += '</tbody></table>';\n      $('.groups-current').append(table);\n    } else {\n      $('.groups-current').append('<p>There are no groups set.</p>');\n    }\n\n    $('.member-add').off();\n    $('.member-add').on('click', (event) => { this._addMember(); });\n    $('.member-delete').on('click', (event) => { this._deleteMember(); });\n    $('.group-add').off();\n    $('.group-add').on('click', (event) => { this._createGroup(); });\n    $('.group-delete').on('click', (event) => { this._deleteGroup(); });\n  }\n\n  _parseFileContent(content) {\n    let parsedContent = JSON.parse(content);\n    for (let i in parsedContent) {\n      this.policiesManager.addPolicy(i, undefined, parsedContent[i]);\n    }\n    $('.policy-new').closeModal();\n  }\n\n  _setElements() {\n    return {\n      date: (params) => { return '<input type=\"date\" class=\"datepicker\">'; },\n      select: (params) => { return this._getOptions(params[0], params[1], params[2]); },\n      form: (params) => { return '<form><input type=\"text\" placeholder=\"' + params + '\"></input></form>'; }\n    };\n  }\n\n  _showNewConfigurationPanel(policyTitle) {\n    let variable = event.target.text;\n    $('.variable').html(this._getNewConfiguration(policyTitle, variable));\n    $('.scopes').empty().html('');\n\n    let keys = ['Email', 'Hyperty', 'All'];\n    let scopes = ['identity', 'hyperty', 'global'];\n    let lists = [];\n\n    lists.push(this.policiesManager.getMyEmails());\n    lists.push(this.policiesManager.getMyHyperties());\n    lists.push(['All identities and hyperties']);\n    $('.scopes').append(this._getGroupOptions('Apply this configuration to:', keys, scopes, lists));\n    $('.variable').removeClass('hide');\n  }\n\n  _showVariablesTypes() {\n    let policyTitle = event.target.closest('tr').id;\n\n    $('#variables-types').empty().html('');\n    let variables = this.policiesManager.getVariables();\n    $('#variables-types').append(this._getList(variables));\n    $('.variable').addClass('hide');\n    $('.rule-new').openModal();\n    $('#variables-types').off();\n    $('#variables-types').on('click', (event) => { this._showNewConfigurationPanel(policyTitle); });\n  }\n\n  _getNewConfiguration(policyTitle, variable) {\n    let info = this.policiesManager.getVariableInfo(variable);\n    $('.rule-new-title').html(info.title);\n    $('.description').html(info.description);\n    $('.config').html('');\n\n    if (variable === 'Subscription preferences') {\n      $('.subscription-type').removeClass('hide');\n    } else {\n      $('.subscription-type').addClass('hide');\n      let tags = info.input;\n      for (let i in tags) {\n        if (variable === 'Group of users') {\n          tags[i][1].push(this.policiesManager.getGroupsNames());\n        }\n        $('.config').append(this.elements[tags[i][0]](tags[i][1]));\n        if (variable === 'Group of users') {\n          tags[i][1].pop();\n        }\n      }\n      if (variable ==='date') {\n        $('.datepicker').pickadate({\n          selectMonths: true,\n          selectYears: 15\n        });\n      }\n    }\n    document.getElementById('allow').checked = false;\n    document.getElementById('block').checked = false;\n    $('.ok-btn').off();\n    $('.ok-btn').on('click', (event) => {\n      if ($(\"input[name='rule-new-decision']:checked\")[0] !== undefined) {\n        let info = this._getInfo(variable);\n        let decision = $(\"input[name='rule-new-decision']:checked\")[0].id;\n        decision = decision === 'allow';\n        let scope = $('.scopes').find(\":selected\")[0].id;\n        let target = $('.scopes').find(\":selected\")[0].textContent;\n        target = (target === 'All identities and hyperties') ? 'global' : target;\n        this.policiesManager.setInfo(variable, policyTitle, info, decision, scope, target);\n        $('.rule-new').closeModal();\n        this._goHome();\n      } else {\n        throw Error('INFORMATION MISSING: please specify an authorisation decision.');\n      }\n    });\n  }\n\n  _deleteInfo(resourceType) {\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let scope = splitId[0];\n    splitId.shift();\n    let target = splitId.join('');\n    let condition = event.target.closest('tr').children[0].id;\n    this.policiesManager.deleteInfo(resourceType, scope, target, condition);\n    this._goHome();\n  }\n\n  _setListeners() {\n    $('.settings-btn').on('click', (event) => {\n      parent.postMessage({ body: { method: 'showAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').removeClass('hide');\n      document.getElementsByTagName('body')[0].style = 'background-color:white;';\n    });\n\n    $('.policies-page-show').on('click', (event) => {\n      $('.policies-section').removeClass('hide');\n      $('.identities-section').addClass('hide');\n      this._goHome();\n      this._manageGroups();\n    });\n\n    $('.admin-page-exit').on('click', (event) => {\n      parent.postMessage({ body: { method: 'hideAdminPage' }, to: 'runtime:gui-manager' }, '*');\n      $('.admin-page').addClass('hide');\n      document.getElementsByTagName('body')[0].style = 'background-color:transparent;';\n    });\n\n    $('.exit-btn').on('click', (event) => {\n      $('.subscription-type').addClass('hide');\n      $('.help-menu').addClass('hide');\n    });\n\n    $('#policy-file').on('change', (event) => {\n      let file = event.target.files[0];\n      let reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = (event) => {\n        this._parseFileContent(event.target.result);\n        this._goHome();\n      }\n      reader.onerror = (event) => {\n        throw Error(\"Error reading the file\");\n      }\n    });\n  }\n\n  _showRule() {\n    let ruleTitle = event.target.textContent;\n    let id = event.target.closest('tr').id;\n    let splitId = id.split(':');\n    let priority = splitId[splitId.length - 1];\n    splitId.pop();\n    let policyTitle = splitId.join(':');\n    let rule = this.policiesManager.getRuleOfPolicy(policyTitle, priority);\n    if (rule.condition.attribute === 'subscription' && rule.condition.params === 'preauthorised') {\n      $('.authorise-btns').addClass('hide');\n    } else {\n      let element;\n      if (rule.decision) {\n        element = document.getElementById('btn-allow');\n      } else {\n        element = document.getElementById('btn-block');\n      }\n      element.checked = true;\n      $('.authorise-btns').removeClass('hide');\n    }\n    $('.member-add').addClass('hide');\n    $('.member-new-btn').addClass('hide');\n\n    $('.rule-details').openModal();\n    $('.rule-title').html('<h5><b>' + ruleTitle + '</b></h5>');\n    if (rule.condition.attribute === 'subscription') {\n      $('.subscription-type').removeClass('hide');\n    }\n    $('.subscription-decision').on('click', (event) => { this._updateRule('subscription', policyTitle, rule); });\n    $('.decision').off();\n    $('.decision').on('click', (event) => { this._updateRule('authorisation', policyTitle, rule);});\n  }\n\n  _updateRule(type, policyTitle, rule) {\n    let title = $('.rule-title').text();\n    let splitTitle = title.split(' ');\n    let index = splitTitle.indexOf('is');\n    if (index === -1) {\n      index = splitTitle.indexOf('are');\n    }\n    switch (type) {\n      case 'authorisation':\n        let newDecision = $(\"input[name='rule-update-decision']:checked\")[0].id;\n\n        if (newDecision === 'btn-allow') {\n          splitTitle[index + 1] = 'allowed';\n          newDecision = true;\n        } else {\n          splitTitle[index + 1] = 'blocked';\n          newDecision = false;\n        }\n        title = splitTitle.join(' ');\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        this.policiesManager.updatePolicy(policyTitle, rule, newDecision);\n        break;\n      case 'subscription':\n        let newSubscriptionType = event.target.labels[0].textContent;\n\n        let decision = splitTitle[index + 1];\n        splitTitle = title.split('hyperties are');\n        if (newSubscriptionType === 'All subscribers') {\n          $('.authorise-btns').removeClass('hide');\n          newDecision = rule.decision;\n          newSubscriptionType = '*';\n          title = 'Subscriptions from all hyperties are' + splitTitle[1];\n        } else {\n          $('.authorise-btns').addClass('hide');\n          newDecision = true;\n          newSubscriptionType = 'preauthorised';\n          title = 'Subscriptions from previously authorised hyperties are' + splitTitle[1];\n        }\n\n        $('.rule-title').html('<h5><b>' + title + '</b></h5>');\n        this.policiesManager.updatePolicy(policyTitle, rule, newDecision, newSubscriptionType);\n        break;\n    }\n    this._goHome();\n  }\n}\n\nexport default PoliciesGUI;\n",
    "static": true,
    "longname": "src/admin/PoliciesGUI.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 72,
    "kind": "class",
    "name": "PoliciesGUI",
    "memberof": "src/admin/PoliciesGUI.js",
    "static": true,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/admin/PoliciesGUI.js",
    "importStyle": "PoliciesGUI",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false
  },
  {
    "__docId__": 73,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyEngine",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 74,
    "kind": "member",
    "name": "policiesManager",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#policiesManager",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 75,
    "kind": "member",
    "name": "elements",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#elements",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 76,
    "kind": "method",
    "name": "_addMember",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_addMember",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 77,
    "kind": "method",
    "name": "_createGroup",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_createGroup",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 78,
    "kind": "method",
    "name": "_addPolicy",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_addPolicy",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 79,
    "kind": "method",
    "name": "_decreaseRulePriority",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_decreaseRulePriority",
    "access": null,
    "description": null,
    "lineNumber": 62,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 80,
    "kind": "method",
    "name": "_deleteMember",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_deleteMember",
    "access": null,
    "description": null,
    "lineNumber": 76,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 81,
    "kind": "method",
    "name": "_deleteGroup",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_deleteGroup",
    "access": null,
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 82,
    "kind": "method",
    "name": "_deletePolicy",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_deletePolicy",
    "access": null,
    "description": null,
    "lineNumber": 92,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 83,
    "kind": "method",
    "name": "_deleteRule",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_deleteRule",
    "access": null,
    "description": null,
    "lineNumber": 98,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 84,
    "kind": "method",
    "name": "_getActivePolicy",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_getActivePolicy",
    "access": null,
    "description": null,
    "lineNumber": 110,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 85,
    "kind": "method",
    "name": "_getGroupOptions",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_getGroupOptions",
    "access": null,
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "title",
        "types": [
          "*"
        ]
      },
      {
        "name": "keys",
        "types": [
          "*"
        ]
      },
      {
        "name": "scopes",
        "types": [
          "*"
        ]
      },
      {
        "name": "lists",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 86,
    "kind": "method",
    "name": "_getInfo",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_getInfo",
    "access": null,
    "description": null,
    "lineNumber": 140,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "variable",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 87,
    "kind": "method",
    "name": "_getList",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_getList",
    "access": null,
    "description": null,
    "lineNumber": 175,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "items",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 88,
    "kind": "method",
    "name": "_getOptions",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_getOptions",
    "access": null,
    "description": null,
    "lineNumber": 187,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "id",
        "types": [
          "*"
        ]
      },
      {
        "name": "title",
        "types": [
          "*"
        ]
      },
      {
        "name": "list",
        "types": [
          "*"
        ]
      },
      {
        "name": "selected",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 89,
    "kind": "method",
    "name": "_getPoliciesTable",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_getPoliciesTable",
    "access": null,
    "description": null,
    "lineNumber": 201,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 90,
    "kind": "method",
    "name": "_goHome",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_goHome",
    "access": null,
    "description": null,
    "lineNumber": 243,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 91,
    "kind": "method",
    "name": "_increaseRulePriority",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_increaseRulePriority",
    "access": null,
    "description": null,
    "lineNumber": 248,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 92,
    "kind": "method",
    "name": "_manageGroups",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_manageGroups",
    "access": null,
    "description": null,
    "lineNumber": 262,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 93,
    "kind": "method",
    "name": "_parseFileContent",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_parseFileContent",
    "access": null,
    "description": null,
    "lineNumber": 296,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "content",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 94,
    "kind": "method",
    "name": "_setElements",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_setElements",
    "access": null,
    "description": null,
    "lineNumber": 304,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"date\": *, \"select\": *, \"form\": *}"
      ]
    }
  },
  {
    "__docId__": 95,
    "kind": "method",
    "name": "_showNewConfigurationPanel",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_showNewConfigurationPanel",
    "access": null,
    "description": null,
    "lineNumber": 312,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 96,
    "kind": "method",
    "name": "_showVariablesTypes",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_showVariablesTypes",
    "access": null,
    "description": null,
    "lineNumber": 328,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 97,
    "kind": "method",
    "name": "_getNewConfiguration",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_getNewConfiguration",
    "access": null,
    "description": null,
    "lineNumber": 340,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      },
      {
        "name": "variable",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 98,
    "kind": "method",
    "name": "_deleteInfo",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_deleteInfo",
    "access": null,
    "description": null,
    "lineNumber": 387,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "resourceType",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 99,
    "kind": "method",
    "name": "_setListeners",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_setListeners",
    "access": null,
    "description": null,
    "lineNumber": 398,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 100,
    "kind": "method",
    "name": "_showRule",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_showRule",
    "access": null,
    "description": null,
    "lineNumber": 437,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": []
  },
  {
    "__docId__": 101,
    "kind": "method",
    "name": "_updateRule",
    "memberof": "src/admin/PoliciesGUI.js~PoliciesGUI",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesGUI.js~PoliciesGUI#_updateRule",
    "access": null,
    "description": null,
    "lineNumber": 470,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "type",
        "types": [
          "*"
        ]
      },
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      },
      {
        "name": "rule",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 102,
    "kind": "file",
    "name": "src/admin/PoliciesManager.js",
    "content": "class PoliciesManager {\n\n  constructor(policyEngine) {\n    this.policyEngine = policyEngine;\n    this.policies = this.policyEngine.context.userPolicies;\n    this.variables = this.setVariables();\n    this.addition = this.setAdditionMethods();\n    this.validation = this.setValidationMethods();\n  }\n\n  addToGroup(groupName, user) {\n    this.policyEngine.context.addToGroup(groupName, user);\n  }\n\n  createGroup(groupName) {\n    this.policyEngine.context.createGroup(groupName);\n  }\n\n  addPolicy(title, combiningAlgorithm, policy) {\n    if (policy === undefined) {\n      switch (combiningAlgorithm) {\n        case 'Block overrides':\n          combiningAlgorithm = 'blockOverrides';\n          break;\n        case 'Allow overrides':\n          combiningAlgorithm = 'allowOverrides';\n          break;\n        case 'First applicable':\n          combiningAlgorithm = 'firstApplicable';\n          break;\n        default:\n          combiningAlgorithm = undefined;\n      }\n    }\n\n    this.policyEngine.addPolicy('USER', title, policy, combiningAlgorithm);\n  }\n\n  decreaseRulePriority(policyTitle, thisPriority, newPriority) {\n    this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    this.policyEngine.context.savePolicies('USER');\n  }\n\n  deleteGroup(groupName) {\n    this.policyEngine.context.deleteGroup(groupName);\n  }\n\n  deletePolicy(title) {\n    this.policyEngine.removePolicy('USER', title);\n  }\n\n  deleteRule(policyTitle, rule) {\n    let userPolicies = this.policyEngine.context.userPolicies;\n    userPolicies[policyTitle].deleteRule(rule);\n    this.policyEngine.context.savePolicies('USER');\n  }\n\n  getActivePolicy() {\n    return this.policyEngine.context.activeUserPolicy;\n  }\n\n  getPolicy(key) {\n    return this.policyEngine.context.userPolicies[key];\n  }\n\n  getPoliciesTitles() {\n    let policies = this.policyEngine.context.userPolicies;\n    let titles = [];\n\n    for (let i in policies) {\n      titles.push(i);\n    }\n\n    return titles;\n  }\n\n  getTargets(scope) {\n    let targets = [];\n\n    for (let i in this.policies[scope]) {\n      if (targets.indexOf(i) === -1) {\n        targets.push(i);\n      }\n    }\n\n    return targets;\n  }\n\n  increaseRulePriority(policyTitle, thisPriority, newPriority) {\n    this.getRuleOfPolicy(policyTitle, thisPriority).priority = newPriority;\n    this.getRuleOfPolicy(policyTitle, newPriority).priority = thisPriority;\n    this.policyEngine.context.savePolicies('USER');\n  }\n\n  setVariables() {\n    return {\n      'Date': {\n        title: '<br><h5>Updating date related configurations</h5><p>Incoming communications in the introduced date will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Date:</p>',\n        input: [\n          ['date', []]\n        ]\n      },\n      'Domain': {\n        title: '<br><h5>Updating domain configurations</h5><p>Incoming communications from a user whose identity is from the introduced domain allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Domain:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      'Group of users': {\n        title: '<br><h5>Updating groups configurations</h5><p>Incoming communications from a user whose identity is in the introduced group will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Group name:</p>',\n        input: [\n          ['select', ['group', 'Select a group:']]\n        ]\n      },\n      'Subscription preferences': {\n        title: '<br><h5>Updating subscriptions configurations</h5><p>The acceptance of subscriptions to your hyperties will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        input: []\n      },\n      'Time of the day': {\n        title: '<br><h5>Updating time configurations</h5><p>Incoming communications in the introduced timeslot will be blocked, but this can be changed in the preferences page.</p><p>Please introduce a new timeslot in the following format:</p><p class=\"center-align\">&lt;START-HOUR&gt;:&lt;START-MINUTES&gt; to &lt;END-HOUR&gt;:&lt;END-MINUTES&gt;</p><br>',\n        description: '<p>Timeslot:</p>',\n        input: [\n          ['form', []]\n        ]\n      },\n      Weekday: {\n        title: '<br><h5>Updating weekday configurations</h5><p>Incoming communications in the introduced weekday will be allowed or blocked according to your configurations, which can be changed in the preferences page.</p><br>',\n        description: '<p>Weekday:</p>',\n        input: [\n          ['select', ['weekday', 'Select a weekday:', ['Saturday', 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']]]\n        ]\n      }\n    };\n  }\n\n  setAdditionMethods() {\n    return {\n      Date: (params) => {\n        let policyTitle = params[0];\n        let userPolicies = this.policyEngine.context.userPolicies;\n        userPolicies[policyTitle].createRule(params[4], { attribute: 'date', operator: 'equals', params: params[3] }, params[1], params[2]);\n        this.policyEngine.context.savePolicies('USER');\n      },\n\n      Domain: (params) => {\n        let policyTitle = params[0];\n        let userPolicies = this.policyEngine.context.userPolicies;\n        userPolicies[policyTitle].createRule(params[4], { attribute: 'domain', operator: 'equals', params: params[3] }, params[1], params[2]);\n        this.policyEngine.context.savePolicies('USER');\n      },\n      'Group of users': (params) => {\n        let policyTitle = params[0];\n        let userPolicies = this.policyEngine.context.userPolicies;\n        userPolicies[policyTitle].createRule(params[4], { attribute: 'source', operator: 'in', params: params[3] }, params[1], params[2]);\n        this.policyEngine.context.savePolicies('USER');\n      },\n      'Subscription preferences': (params) => {\n        let policyTitle = params[0];\n        let userPolicies = this.policyEngine.context.userPolicies;\n        let operator = 'equals';\n        if (params[3] === 'preauthorised') {\n          operator = 'in';\n        }\n        userPolicies[policyTitle].createRule(params[4], { attribute: 'subscription', operator: thisOperator, params: params[3] }, params[1], params[2]);\n        this.policyEngine.context.savePolicies('USER');\n      },\n      'Time of the day': (params) => {\n        let policyTitle = params[0];\n        let userPolicies = this.policyEngine.context.userPolicies;\n        params[3] = params[3].split(' to ');\n        let start = params[3][0].split(':');\n        start = start.join('');\n        let end = params[3][1].split(':');\n        end = end.join('');\n        userPolicies[policyTitle].createRule(params[4], { attribute: 'time', operator: 'between', params: [start, end] }, params[1], params[2]);\n        this.policyEngine.context.savePolicies('USER');\n      },\n\n      Weekday: (params) => {\n        let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        params[3] = weekdays.indexOf(params[3]);\n        let policyTitle = params[0];\n        let userPolicies = this.policyEngine.context.userPolicies;\n        userPolicies[policyTitle].createRule(params[4], { attribute: 'weekday', operator: 'equals', params: params[3] }, params[1], params[2]);\n        this.policyEngine.context.savePolicies('USER');\n      }\n    };\n  }\n\n  setValidationMethods() {\n    return {\n      Date: (scope, info) => { return this.isValidDate(info) & this.isValidScope(scope); },\n      'Group of users': (scope, info) => { return this.isValidString(info) & this.isValidScope(scope); },\n      Domain: (scope, info) => { return this.isValidDomain(info) & this.isValidScope(scope); },\n      Weekday: (scope, info) => { return true & this.isValidScope(scope); },\n      'Subscription preferences': (scope, info) => { return this.isValidSubscriptionType(info) & this.isValidScope(scope); },\n      'Time of the day': (scope, info) => { return this.isValidTimeslot(info) & this.isValidScope(scope); }\n    };\n  }\n\n  updateActivePolicy(title) {\n    this.policyEngine.context.activeUserPolicy = title;\n    this.policyEngine.context.saveActivePolicy();\n  }\n\n  isValidEmail(info) {\n    let pattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidDomain(info) {\n    let pattern = /[a-z0-9.-]+\\.[a-z]{2,3}$/;\n    return pattern.test(info);\n  }\n\n  isValidString(info) {\n    let pattern = /[a-z0-9.-]$/;\n    return pattern.test(info);\n  }\n\n  isValidSubscriptionType(info) {\n    return true;\n  }\n\n  isValidDate(info) {\n    let infoSplit = info.split('/');\n    let day = parseInt(infoSplit[0]);\n    let month = parseInt(infoSplit[1]);\n    let year = parseInt(infoSplit[2]);\n\n    let date = new Date(year, month-1, day);\n    let isValidFormat = date.getFullYear() === year && date.getMonth() + 1 === month && date.getDate() === day;\n    let formattedDate = date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear()\n    let now = new Date();\n    let today = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear();\n\n    let isFuture = false;\n    if (date.getFullYear() > now.getFullYear()) {\n      isFuture = true;\n    } else {\n      if (date.getFullYear() == now.getFullYear()) {\n        if ((date.getMonth() + 1) > (now.getMonth() + 1)) {\n          isFuture = true;\n        } else {\n          if ((date.getMonth() + 1) == (now.getMonth() + 1)) {\n            if (date.getDate() >= (now.getDate())) {\n              isFuture = true;\n            }\n          }\n        }\n      }\n    }\n\n    return (isValidFormat && isFuture);\n  }\n\n  isValidScope(scope) {\n    return scope !== '';\n  }\n\n  isValidTimeslot(info) {\n    if (!info) {\n      return false;\n    }\n    let splitInfo = info.split(' to '); // [12:00, 13:00]\n    let twoTimes = splitInfo.length === 2;\n    if (!twoTimes) {\n      return false;\n    }\n    let splitStart = splitInfo[0].split(':'); // [12, 00]\n    let splitEnd = splitInfo[1].split(':'); // [13, 00]\n    if (splitStart.length !== 2 || splitEnd.length !== 2) {\n      return false;\n    }\n    let okSize = (splitStart[0].length === 2) && (splitStart[1].length === 2) && (splitEnd[0].length === 2) && (splitEnd[1].length === 2);\n    let areIntegers = (splitStart[0] == parseInt(splitStart[0], 10)) && (splitStart[1] == parseInt(splitStart[1], 10)) && (splitEnd[0] == parseInt(splitEnd[0], 10)) && (splitEnd[1] == parseInt(splitEnd[1], 10));\n    return twoTimes && okSize && areIntegers;\n  }\n\n  getFormattedPolicies() {\n    let policiesPE = this.policyEngine.context.userPolicies;\n    let policiesGUI = [];\n\n    for (let i in policiesPE) {\n      let policy = {\n        title: policiesPE[i].key,\n        rulesTitles: [],\n        ids: []\n      }\n\n      if (policiesPE[i].rules.length !== 0) {\n        policiesPE[i].rules = policiesPE[i].sortRules();\n        for (let j in policiesPE[i].rules) {\n          let title = this._getTitle(policiesPE[i].rules[j]);\n          policy.rulesTitles.push(title);\n          policy.ids.push(policy.title + ':' + policiesPE[i].rules[j].priority);\n        }\n      }\n\n      policiesGUI.push(policy);\n    }\n\n    return policiesGUI;\n  }\n\n  getRuleOfPolicy(title, priority) {\n    let policies = this.policyEngine.context.userPolicies;\n    let policy = policies[title];\n    return policy.getRuleByPriority(priority);\n  }\n\n  _getTitle(rule) {\n    let condition = rule.condition;\n    let authorise = (rule.decision) ? 'allowed' : 'blocked';\n    let target = rule.target === 'global' ? 'All identities and hyperties' : rule.target;\n    let attribute = condition.attribute;\n    switch(attribute) {\n      case 'date':\n        return 'Date ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n      case 'domain':\n        return 'Domain \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n      case 'source':\n        if (condition.operator === 'in') {\n          return 'Group \\\"' + condition.params + '\\\" is ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.operator === 'equals') {\n            return 'User ' + condition.params + ' is ' + authorise + ' (' + target + ')';\n          }\n        }\n      case 'subscription':\n        if (condition.params === '*') {\n          return 'Subscriptions from all hyperties are ' + authorise + ' (' + target + ')';\n        } else {\n          if (condition.params === 'preauthorised') {\n            return 'Subscriptions from previously authorised hyperties are allowed (' + target + ')';\n          }\n        }\n      case 'time':\n        let start = condition.params[0][0] + condition.params[0][1] + ':' + condition.params[0][2] + condition.params[0][3];\n        let end = condition.params[1][0] + condition.params[1][1] + ':' + condition.params[1][2] + condition.params[1][3];\n        return 'Timeslot from ' + start + ' to ' + end + ' is ' + authorise + ' (' + target + ')';\n      case 'weekday':\n        let weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        let weekdayID = condition.params;\n        return 'Weekday \\\"' + weekdays[weekdayID] + '\\\" is ' + authorise + ' (' + target + ')';\n      default:\n        return 'Rule ' + rule.priority + ' is ' + authorise + ' (' + target + ')';\n    }\n  }\n\n  getVariables() {\n    let variablesTitles = [];\n    for (let i in this.variables) {\n      variablesTitles.push(i);\n    }\n    return variablesTitles;\n  }\n\n  getVariableInfo(variable) {\n    return this.variables[variable];\n  }\n\n  getMyEmails() {\n    return this.policyEngine.context.getMyEmails();\n  }\n\n  getMyHyperties() {\n    return this.policyEngine.context.getMyHyperties();\n  }\n\n  //TODO If there is a problem with the input, show it to the user\n  setInfo(variable, policyTitle, info, authorise, scope, target) {\n    if (this.validation[variable](scope, info)) {\n      this.addition[variable]([policyTitle, scope, target, info, authorise]);\n    } else {\n      throw Error('Invalid configuration');\n    }\n  }\n\n  getInfo(scope, title) {\n    let policies = this.policies[scope];\n    let policy = {};\n    for (let i in policies) {\n      if (policies[i].condition === title) {\n        policy = policies[i];\n      }\n    }\n    if (policy !== {}) {\n      let condition = policy.condition.split(' ');\n      return this.policyEngine.getList(scope, condition[2]);\n    } else {\n      throw Error('Policy <' + title + '> not found!');\n    }\n  }\n\n  deleteInfo(variable, scope, target, info) {\n    let params = [scope, target, info];\n    if (variable === 'member') {\n      let conditionSplit = info.split(' ');\n      let groupName = conditionSplit[2];\n      params = [scope, groupName, info];\n    }\n    this.deletion[variable](params);\n  }\n\n  getGroup(scope, target, groupName) {\n    return this.policyEngine.context.getGroup(scope, target, groupName);\n  }\n\n  getGroups() {\n    let groups = this.policyEngine.context.groups;\n    let groupsGUI = {\n      groupsNames: [],\n      members: [],\n      ids: []\n    };\n\n    for (let i in groups) {\n      groupsGUI.groupsNames.push(i);\n      groupsGUI.members.push(groups[i]);\n      let ids = [];\n      for (let j in groups[i]) {\n        ids.push(i + '::' + groups[i][j]);\n      }\n      groupsGUI.ids.push(ids);\n    }\n\n    return groupsGUI;\n  }\n\n  getGroupsNames() {\n    return this.policyEngine.context.getGroupsNames();\n  }\n\n  removeFromGroup(groupName, user) {\n    this.policyEngine.context.removeFromGroup(groupName, user);\n  }\n\n  updatePolicy(policyTitle, rule, newDecision, newSubscriptionType) {\n    let userPolicies = this.policyEngine.context.userPolicies;\n    userPolicies[policyTitle].deleteRule(rule);\n    if (!newSubscriptionType) {\n      userPolicies[policyTitle].createRule(newDecision, rule.condition, rule.scope, rule.target, rule.priority);\n    } else {\n      let operator = (newSubscriptionType === '*') ? 'equals' : 'in';\n      userPolicies[policyTitle].createRule(newDecision, [{ attribute: 'subscription', opeator: operator, params: newSubscriptionType }], rule.scope, rule.target, rule.priority);\n    }\n\n    this.policyEngine.context.savePolicies('USER');\n  }\n\n}\n\nexport default PoliciesManager;\n",
    "static": true,
    "longname": "src/admin/PoliciesManager.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 103,
    "kind": "class",
    "name": "PoliciesManager",
    "memberof": "src/admin/PoliciesManager.js",
    "static": true,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/admin/PoliciesManager.js",
    "importStyle": "PoliciesManager",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "interface": false
  },
  {
    "__docId__": 104,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#constructor",
    "access": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyEngine",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 105,
    "kind": "member",
    "name": "policyEngine",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#policyEngine",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 106,
    "kind": "member",
    "name": "policies",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#policies",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 107,
    "kind": "member",
    "name": "variables",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#variables",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 108,
    "kind": "member",
    "name": "addition",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#addition",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 109,
    "kind": "member",
    "name": "validation",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#validation",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 110,
    "kind": "method",
    "name": "addToGroup",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#addToGroup",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "groupName",
        "types": [
          "*"
        ]
      },
      {
        "name": "user",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 111,
    "kind": "method",
    "name": "createGroup",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#createGroup",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "groupName",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 112,
    "kind": "method",
    "name": "addPolicy",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#addPolicy",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "title",
        "types": [
          "*"
        ]
      },
      {
        "name": "combiningAlgorithm",
        "types": [
          "*"
        ]
      },
      {
        "name": "policy",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 113,
    "kind": "method",
    "name": "decreaseRulePriority",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#decreaseRulePriority",
    "access": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      },
      {
        "name": "thisPriority",
        "types": [
          "*"
        ]
      },
      {
        "name": "newPriority",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 114,
    "kind": "method",
    "name": "deleteGroup",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#deleteGroup",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "groupName",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 115,
    "kind": "method",
    "name": "deletePolicy",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#deletePolicy",
    "access": null,
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "title",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 116,
    "kind": "method",
    "name": "deleteRule",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#deleteRule",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      },
      {
        "name": "rule",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 117,
    "kind": "method",
    "name": "getActivePolicy",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getActivePolicy",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 118,
    "kind": "method",
    "name": "getPolicy",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getPolicy",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "key",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 119,
    "kind": "method",
    "name": "getPoliciesTitles",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getPoliciesTitles",
    "access": null,
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 120,
    "kind": "method",
    "name": "getTargets",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getTargets",
    "access": null,
    "description": null,
    "lineNumber": 78,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "scope",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 121,
    "kind": "method",
    "name": "increaseRulePriority",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#increaseRulePriority",
    "access": null,
    "description": null,
    "lineNumber": 90,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      },
      {
        "name": "thisPriority",
        "types": [
          "*"
        ]
      },
      {
        "name": "newPriority",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 122,
    "kind": "method",
    "name": "setVariables",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#setVariables",
    "access": null,
    "description": null,
    "lineNumber": 96,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"Date\": *, \"Domain\": *, \"Group of users\": *, \"Subscription preferences\": *, \"Time of the day\": *, \"Weekday\": *}"
      ]
    }
  },
  {
    "__docId__": 123,
    "kind": "method",
    "name": "setAdditionMethods",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#setAdditionMethods",
    "access": null,
    "description": null,
    "lineNumber": 140,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"Date\": *, \"Domain\": *, \"Group of users\": *, \"Subscription preferences\": *, \"Time of the day\": *, \"Weekday\": *}"
      ]
    }
  },
  {
    "__docId__": 124,
    "kind": "method",
    "name": "setValidationMethods",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#setValidationMethods",
    "access": null,
    "description": null,
    "lineNumber": 194,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "{\"Date\": *, \"Group of users\": *, \"Domain\": *, \"Weekday\": *, \"Subscription preferences\": *, \"Time of the day\": *}"
      ]
    }
  },
  {
    "__docId__": 125,
    "kind": "method",
    "name": "updateActivePolicy",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#updateActivePolicy",
    "access": null,
    "description": null,
    "lineNumber": 205,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "title",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 126,
    "kind": "method",
    "name": "isValidEmail",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#isValidEmail",
    "access": null,
    "description": null,
    "lineNumber": 210,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "info",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 127,
    "kind": "method",
    "name": "isValidDomain",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#isValidDomain",
    "access": null,
    "description": null,
    "lineNumber": 215,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "info",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 128,
    "kind": "method",
    "name": "isValidString",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#isValidString",
    "access": null,
    "description": null,
    "lineNumber": 220,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "info",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 129,
    "kind": "method",
    "name": "isValidSubscriptionType",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#isValidSubscriptionType",
    "access": null,
    "description": null,
    "lineNumber": 225,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "info",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 130,
    "kind": "method",
    "name": "isValidDate",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#isValidDate",
    "access": null,
    "description": null,
    "lineNumber": 229,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "info",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 131,
    "kind": "method",
    "name": "isValidScope",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#isValidScope",
    "access": null,
    "description": null,
    "lineNumber": 261,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "scope",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 132,
    "kind": "method",
    "name": "isValidTimeslot",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#isValidTimeslot",
    "access": null,
    "description": null,
    "lineNumber": 265,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "info",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 133,
    "kind": "method",
    "name": "getFormattedPolicies",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getFormattedPolicies",
    "access": null,
    "description": null,
    "lineNumber": 284,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 134,
    "kind": "method",
    "name": "getRuleOfPolicy",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getRuleOfPolicy",
    "access": null,
    "description": null,
    "lineNumber": 310,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "title",
        "types": [
          "*"
        ]
      },
      {
        "name": "priority",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 135,
    "kind": "method",
    "name": "_getTitle",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#_getTitle",
    "access": null,
    "description": null,
    "lineNumber": 316,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "rule",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 136,
    "kind": "method",
    "name": "getVariables",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getVariables",
    "access": null,
    "description": null,
    "lineNumber": 355,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 137,
    "kind": "method",
    "name": "getVariableInfo",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getVariableInfo",
    "access": null,
    "description": null,
    "lineNumber": 363,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "variable",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 138,
    "kind": "method",
    "name": "getMyEmails",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getMyEmails",
    "access": null,
    "description": null,
    "lineNumber": 367,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 139,
    "kind": "method",
    "name": "getMyHyperties",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getMyHyperties",
    "access": null,
    "description": null,
    "lineNumber": 371,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 140,
    "kind": "method",
    "name": "setInfo",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#setInfo",
    "access": null,
    "description": null,
    "lineNumber": 376,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "variable",
        "types": [
          "*"
        ]
      },
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      },
      {
        "name": "info",
        "types": [
          "*"
        ]
      },
      {
        "name": "authorise",
        "types": [
          "*"
        ]
      },
      {
        "name": "scope",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 141,
    "kind": "method",
    "name": "getInfo",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getInfo",
    "access": null,
    "description": null,
    "lineNumber": 384,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "scope",
        "types": [
          "*"
        ]
      },
      {
        "name": "title",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 142,
    "kind": "method",
    "name": "deleteInfo",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#deleteInfo",
    "access": null,
    "description": null,
    "lineNumber": 400,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "variable",
        "types": [
          "*"
        ]
      },
      {
        "name": "scope",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      },
      {
        "name": "info",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 143,
    "kind": "method",
    "name": "getGroup",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getGroup",
    "access": null,
    "description": null,
    "lineNumber": 410,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "scope",
        "types": [
          "*"
        ]
      },
      {
        "name": "target",
        "types": [
          "*"
        ]
      },
      {
        "name": "groupName",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 144,
    "kind": "method",
    "name": "getGroups",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getGroups",
    "access": null,
    "description": null,
    "lineNumber": 414,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 145,
    "kind": "method",
    "name": "getGroupsNames",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#getGroupsNames",
    "access": null,
    "description": null,
    "lineNumber": 435,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 146,
    "kind": "method",
    "name": "removeFromGroup",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#removeFromGroup",
    "access": null,
    "description": null,
    "lineNumber": 439,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "groupName",
        "types": [
          "*"
        ]
      },
      {
        "name": "user",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 147,
    "kind": "method",
    "name": "updatePolicy",
    "memberof": "src/admin/PoliciesManager.js~PoliciesManager",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/admin/PoliciesManager.js~PoliciesManager#updatePolicy",
    "access": null,
    "description": null,
    "lineNumber": 443,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "policyTitle",
        "types": [
          "*"
        ]
      },
      {
        "name": "rule",
        "types": [
          "*"
        ]
      },
      {
        "name": "newDecision",
        "types": [
          "*"
        ]
      },
      {
        "name": "newSubscriptionType",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 148,
    "kind": "file",
    "name": "src/core.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport URI from 'urijs'\nimport IdentitiesGUI from './admin/IdentitiesGUI'\nimport PoliciesGUI from './admin/PoliciesGUI'\nimport RuntimeFactory from './RuntimeFactory'\n\ntry{\n\twindow.cordova = parent.cordova !== undefined\n\tif(window.cordova)\n\t\twindow.open = function(url){ return parent.cordova.InAppBrowser.open(url, '_blank', 'location=no,toolbar=no')}\n}catch(err){ console.log('cordova not supported') }\n\nfunction returnHyperty(source, hyperty){\n\tsource.postMessage({to: 'runtime:loadedHyperty', body: hyperty}, '*')\n}\n\nfunction searchHyperty(runtime, descriptor){\n\tlet hyperty = undefined\n\tlet index = 0\n\twhile(!hyperty && index<runtime.registry.hypertiesList.length){\n\t\tif(runtime.registry.hypertiesList[index].descriptor === descriptor)\n\t\t\thyperty = runtime.registry.hypertiesList[index]\n\n\t\tindex++\n\t}\n\n\treturn hyperty\n}\n\nlet parameters = new URI(window.location).search(true)\nlet runtimeURL = parameters.runtime\nlet development = parameters.development === 'true'\nlet catalogue = RuntimeFactory.createRuntimeCatalogue(development)\nlet runtimeDescriptor;\ncatalogue.getRuntimeDescriptor(runtimeURL)\n    .then(function(descriptor){\n      runtimeDescriptor = descriptor;\n        let sourcePackageURL = descriptor.sourcePackageURL;\n        if (sourcePackageURL === '/sourcePackage') {\n            return descriptor.sourcePackage;\n        }\n\n\t\treturn catalogue.getSourcePackageFromURL(sourcePackageURL)\n\t})\n.then(function(sourcePackage){\n\teval.apply(window,[sourcePackage.sourceCode])\n\n\tlet runtime = new Runtime(runtimeDescriptor, RuntimeFactory, window.location.host);\n\twindow.runtime = runtime;\n\truntime.init().then( function(result){\n\t  new PoliciesGUI(runtime.policyEngine);\n\t  let identitiesGUI = new IdentitiesGUI(runtime.identityModule);\n\n\t  window.addEventListener('message', function(event){\n\t\t  if(event.data.to==='core:loadHyperty'){\n\t\t\t  let descriptor = event.data.body.descriptor;\n\t\t\t  let reuseAddress = event.data.body.reuseAddress\n\t\t\t  let hyperty = searchHyperty(runtime, descriptor);\n\n\t\t\t  if(hyperty){\n\t\t\t\t  returnHyperty(event.source, {runtimeHypertyURL: hyperty.hypertyURL});\n\t\t\t  }else{\n\t\t\t\t  runtime.loadHyperty(descriptor, reuseAddress)\n\t\t\t\t\t  .then(returnHyperty.bind(null, event.source));\n\t\t\t  }\n\t\t  }else if(event.data.to==='core:loadStub'){\n\t\t\t  runtime.loadStub(event.data.body.domain).then((result) => {\n\t\t\t\tconsole.log('Stub Loaded: ', result);\n\t\t\t  }).catch((error) => {\n\t\t\t\tconsole.error('Stub error:', error);\n\t\t\t  })\n\t\t  }else if(event.data.to==='core:close'){\n\t\t\t  runtime.close()\n\t\t\t\t  .then(event.source.postMessage({to: 'runtime:runtimeClosed', body: true}, '*'))\n\t\t\t\t  .catch(event.source.postMessage({to: 'runtime:runtimeClosed', body: false}, '*'))\n\t\t  }\n\n\t  }, false);\n\t  window.addEventListener('beforeunload', (e) => {\n\t\t  runtime.close()\n\t  })\n\t  parent.postMessage({to:'runtime:installed', body:{}}, '*');\n\t  console.log('AFTER PARENT');\n\t});\n});\n",
    "static": true,
    "longname": "src/core.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 149,
    "kind": "function",
    "name": "returnHyperty",
    "memberof": "src/core.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/core.js~returnHyperty",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/core.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "source",
        "types": [
          "*"
        ]
      },
      {
        "name": "hyperty",
        "types": [
          "*"
        ]
      }
    ]
  },
  {
    "__docId__": 150,
    "kind": "function",
    "name": "searchHyperty",
    "memberof": "src/core.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/core.js~searchHyperty",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/core.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "params": [
      {
        "name": "runtime",
        "types": [
          "*"
        ]
      },
      {
        "name": "descriptor",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 151,
    "kind": "variable",
    "name": "parameters",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~parameters",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/core.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 152,
    "kind": "variable",
    "name": "runtimeURL",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~runtimeURL",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/core.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 153,
    "kind": "variable",
    "name": "development",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~development",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/core.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 154,
    "kind": "variable",
    "name": "catalogue",
    "memberof": "src/core.js",
    "static": true,
    "longname": "src/core.js~catalogue",
    "access": null,
    "export": false,
    "importPath": "runtime-browser/src/core.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "unknown": [
      {
        "tagName": "@_undocument",
        "tagValue": ""
      }
    ],
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 155,
    "kind": "file",
    "name": "src/iframe.js",
    "content": "/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n/**\n * @external {iframe} https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\n */\n\n/**\n * Creates an iframe\n * @param {string} src - Url to load into the iframe\n * @return {iframe} - iFrame element\n */\nexport function create(src) {\n\tvar iframe = document.createElement('iframe')\n\tiframe.setAttribute('id', 'rethink')\n\tiframe.style.position = 'absolute'\n\tiframe.style.top = '0'\n\tiframe.style.right = '0'\n\tiframe.style.border = '0'\n\tiframe.style.zIndex = 9999\n\tiframe.width = '40px'\n\tiframe.height = '40px'\n\tiframe.setAttribute('seamless', '')\n\tiframe.setAttribute('src', src)\n\tiframe.setAttribute('sandbox', 'allow-forms allow-scripts allow-popups-to-escape-sandbox allow-popups allow-same-origin allow-top-navigation')\n\tiframe.style.display = 'block'\n\tdocument.querySelector('body').appendChild(iframe)\n\n\treturn iframe\n}\n",
    "static": true,
    "longname": "src/iframe.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 156,
    "kind": "external",
    "name": "iframe",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe",
    "memberof": "src/iframe.js",
    "static": true,
    "longname": "src/iframe.js~iframe",
    "access": null,
    "description": ""
  },
  {
    "__docId__": 157,
    "kind": "function",
    "name": "create",
    "memberof": "src/iframe.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/iframe.js~create",
    "access": null,
    "export": true,
    "importPath": "runtime-browser/src/iframe.js",
    "importStyle": "{create}",
    "description": "Creates an iframe",
    "lineNumber": 33,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "src",
        "description": "Url to load into the iframe"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "iframe"
      ],
      "spread": false,
      "description": "iFrame element"
    }
  },
  {
    "__docId__": 159,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Infinity",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 160,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~NaN",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 161,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~undefined",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 162,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~null",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 163,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 164,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 165,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 166,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 167,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 168,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 169,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Symbol",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 170,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Error",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 171,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~EvalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 172,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~InternalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 173,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RangeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 174,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ReferenceError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 175,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~SyntaxError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 176,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~TypeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 177,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~URIError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 178,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 179,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 180,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Date",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 181,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~String",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 182,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~string",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 183,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RegExp",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 184,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 185,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 186,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 187,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8ClampedArray",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 188,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 189,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 190,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 191,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 192,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 193,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float64Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 194,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Map",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 195,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Set",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 196,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakMap",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 197,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakSet",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 198,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ArrayBuffer",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 199,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~DataView",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 200,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~JSON",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 201,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Promise",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 202,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Generator",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 203,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~GeneratorFunction",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 204,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Reflect",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 205,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "static": true,
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Proxy",
    "access": null,
    "description": "",
    "lineNumber": 193,
    "builtinExternal": true
  },
  {
    "__docId__": 207,
    "kind": "external",
    "name": "CanvasRenderingContext2D",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~CanvasRenderingContext2D",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 208,
    "kind": "external",
    "name": "DocumentFragment",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~DocumentFragment",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 209,
    "kind": "external",
    "name": "Element",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~Element",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 210,
    "kind": "external",
    "name": "Event",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Event",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~Event",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 211,
    "kind": "external",
    "name": "Node",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Node",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~Node",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 212,
    "kind": "external",
    "name": "NodeList",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/NodeList",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~NodeList",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 213,
    "kind": "external",
    "name": "XMLHttpRequest",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~XMLHttpRequest",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 214,
    "kind": "external",
    "name": "AudioContext",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/AudioContext",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "static": true,
    "longname": "BuiltinExternal/WebAPIExternal.js~AudioContext",
    "access": null,
    "description": "",
    "lineNumber": 34,
    "builtinExternal": true
  },
  {
    "__docId__": 215,
    "kind": "testFile",
    "name": "test/Request.spec.js",
    "content": "import { expect } from 'chai'\nimport Request from '../src/Request'\n\nlet _method, _url, _body\nlet xhr = {\n\topen: (m, u) => {\n\t\t_method = m\n\t\t_url = u\n\t},\n\tsetRequestHeader: () => {},\n\tsend: (body) => { _body = body; xhr.onreadystatechange({currentTarget: xhr}); }\n}\nwindow.XMLHttpRequest = () => xhr\n//\n//\n//Usage synopsis\n//\n// \trequest.get(url, options).then(response => {\n// \t\t// response text in case succesfull response\n// \t}).catch(err => {\n// \t\t// error text in case failure response\n// \t})\n//\n// url: The URL of the resource which is being fetched.\n//\n// options:\n// * body (String, body types) - HTTP request body\n// * headers (key/value collection) - Key: header name, Value: header value\n//\n//\n//\ndescribe('Request', () => {\n\t//## Protocols mapping\n\t//Urls are mapped to valid protocols\n\tdescribe('mapping protocols', () => {\n\t\tconst protocols = {\n\t\t\t'localhost://test': 'https://test',\n\t\t\t'undefined://test': 'https://test',\n\t\t\t'hyperty-catalogue://test': 'https://test',\n\t\t\t'https://test': 'https://test',\n\t\t\t'http://test': 'http://test'\n\t\t};\n\n\t\tfor(let prop in protocols) {\n\t\t\tit(`should map ${prop} protocol to ${protocols[prop]}`, (done) => {\n\t\t\t\tlet request = new Request()\n\t\t\t\tlet url ='http://test.com'\n\t\t\t\txhr.readyState = 4\n\t\t\t\txhr.status = 200\n\t\t\t\txhr.responseText = 'res'\n\n\t\t\t\trequest.get(prop).then(() => {\n\t\t\t\t\texpect(_url).to.be.equal(protocols[prop])\n\t\t\t\t\tdone()\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\tit('should throw an exception if protocol is not found', (done) => {\n\t\t\tlet request = new Request()\n\t\t\tlet url ='test.com'\n\n\t\t\trequest.get(url).catch(() => {\n\t\t\t\tdone()\n\t\t\t})\n\t\t})\n\t})\n\n\t//## Get request\n\tdescribe('get', () => {\n\t\tit('should get a response from a valid url', (done) => {\n\t\t\tlet request = new Request()\n\t\t\tlet url ='http://localhost:9999/'\n\t\t\txhr.readyState = 4\n\t\t\txhr.status = 200\n\t\t\txhr.responseText = 'res'\n\n\t\t\trequest.get(url).then((res) => {\n\t\t\t\texpect(res).to.be.equal(res)\n\t\t\t\tdone()\n\t\t\t}).catch(console.log)\n\t\t})\n\t})\n\n\t//## Post request\n\tdescribe('post', () => {\n\t\tit('should send a post and receive a response', (done) => {\n\t\t\tlet request = new Request()\n\t\t\tlet url ='http://localhost:9999/'\n\t\t\tlet options = {\n\t\t\t\tbody: JSON.stringify({payload:'test'}),\n\t\t\t\theaders: {'Content-Type': 'application/json;charset=UTF-8'}\n\t\t\t}\n\t\t\txhr.readyState = 4\n\t\t\txhr.status = 200\n\t\t\txhr.responseText = 'res'\n\n\t\t\trequest.post(url, options).then((res) => {\n\t\t\t\texpect(_method).to.be.equal('POST')\n\t\t\t\texpect(_body).to.be.equal('{\"payload\":\"test\"}')\n\t\t\t\texpect(res).to.be.equal(res)\n\t\t\t\tdone()\n\t\t\t}).catch(console.log)\n\t\t})\n\t})\n})\n\n",
    "static": true,
    "longname": "test/Request.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 216,
    "kind": "testDescribe",
    "name": "describe0",
    "testId": 0,
    "memberof": "test/Request.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/Request.spec.js~describe0",
    "access": null,
    "description": "Request",
    "lineNumber": 32
  },
  {
    "__docId__": 217,
    "kind": "testDescribe",
    "name": "describe1",
    "testId": 1,
    "memberof": "test/Request.spec.js~describe0",
    "testDepth": 1,
    "static": true,
    "longname": "test/Request.spec.js~describe0.describe1",
    "access": null,
    "description": "mapping protocols",
    "lineNumber": 35
  },
  {
    "__docId__": 218,
    "kind": "testIt",
    "name": "it2",
    "testId": 2,
    "memberof": "test/Request.spec.js~describe0.describe1",
    "testDepth": 2,
    "static": true,
    "longname": "test/Request.spec.js~describe0.describe1.it2",
    "access": null,
    "lineNumber": 45
  },
  {
    "__docId__": 219,
    "kind": "testIt",
    "name": "it3",
    "testId": 3,
    "memberof": "test/Request.spec.js~describe0.describe1",
    "testDepth": 2,
    "static": true,
    "longname": "test/Request.spec.js~describe0.describe1.it3",
    "access": null,
    "description": "should throw an exception if protocol is not found",
    "lineNumber": 59
  },
  {
    "__docId__": 220,
    "kind": "testDescribe",
    "name": "describe4",
    "testId": 4,
    "memberof": "test/Request.spec.js~describe0",
    "testDepth": 1,
    "static": true,
    "longname": "test/Request.spec.js~describe0.describe4",
    "access": null,
    "description": "get",
    "lineNumber": 70
  },
  {
    "__docId__": 221,
    "kind": "testIt",
    "name": "it5",
    "testId": 5,
    "memberof": "test/Request.spec.js~describe0.describe4",
    "testDepth": 2,
    "static": true,
    "longname": "test/Request.spec.js~describe0.describe4.it5",
    "access": null,
    "description": "should get a response from a valid url",
    "lineNumber": 71
  },
  {
    "__docId__": 222,
    "kind": "testDescribe",
    "name": "describe6",
    "testId": 6,
    "memberof": "test/Request.spec.js~describe0",
    "testDepth": 1,
    "static": true,
    "longname": "test/Request.spec.js~describe0.describe6",
    "access": null,
    "description": "post",
    "lineNumber": 86
  },
  {
    "__docId__": 223,
    "kind": "testIt",
    "name": "it7",
    "testId": 7,
    "memberof": "test/Request.spec.js~describe0.describe6",
    "testDepth": 2,
    "static": true,
    "longname": "test/Request.spec.js~describe0.describe6.it7",
    "access": null,
    "description": "should send a post and receive a response",
    "lineNumber": 87
  },
  {
    "__docId__": 224,
    "kind": "testFile",
    "name": "test/RuntimeCapabilities.spec.js",
    "content": "import when from 'when'\nimport { expect } from 'chai'\nimport RuntimeCapabilities from '../src/RuntimeCapabilities'\n\nlet storageManager, runtimeCapabilities\nconst caps = {\n\tbrowser: true,\n\tnode: false,\n\tmic: true,\n\tcamera: true\n}\n\ndescribe('RuntimeCapabilities', () => {\n\tbeforeEach(() => {\n\t\tstorageManager = {\n\t\t\tget: () => when(caps),\n\t\t\tset: (key, version, value) => {}\n\t\t}\n\t\truntimeCapabilities = new RuntimeCapabilities(storageManager)\n\t})\n\n\t//## getRuntimeCapabilities\n\t//Returns as a promise RuntimeCapabilities json object with all available capabilities of the runtime.<br/>\n\t//If it was not yet persisted in the Storage Manager it collects all required info from the platform and saves in the storage manager.<br/>\n\t//returns Promise(object)\n\n\tdescribe('getRuntimeCapabilities', () => {\n\t\tit('should return all available capabilities of the runtime', (done) => {\n\t\t\truntimeCapabilities.getRuntimeCapabilities()\n\t\t\t\t.then(capabilities => {\n\t\t\t\t\texpect(capabilities).to.be.eql(caps)\n\t\t\t\t\tdone()\n\t\t\t\t}).catch(console.log)\n\t\t})\n\n\t\tit('should persist the capabilities in the storagemanager', (done) => {\n\t\t\tstorageManager = {\n\t\t\t\tget: () => when(),\n\t\t\t\tset: (key, version, value) => {\n\t\t\t\t\texpect(value).to.be.eql(caps)\n\t\t\t\t\tdone()\n\t\t\t\t\treturn when(key)\n\t\t\t\t}\n\t\t\t}\n\t\t\truntimeCapabilities = new RuntimeCapabilities(storageManager)\n\t\t\truntimeCapabilities.getRuntimeCapabilities()\n\t\t})\n\t})\n\n\t//## isAvailable\n\t//returns as a promise a boolean according to available capabilities or undefined if it doesn't exist.<br/>\n\t//returns Promise(boolean?)\n\tdescribe('isAvailable', () => {\n\t\tit('should return is a capability is available', (done) => {\n\t\t\truntimeCapabilities.isAvailable('browser')\n\t\t\t\t.then(available => {\n\t\t\t\t\texpect(available).to.be.true\n\t\t\t\t\tdone()\n\t\t\t\t})\n\n\t\t})\n\t})\n\n\t//## update\n\t//it refreshes previously collected capabilities and updates the storage manager\n\tdescribe('update', () => {\n\t\tit('should refresh previously collected values', (done) => {\n\t\t\tstorageManager = {\n\t\t\t\tset: (key, version, value) => {\n\t\t\t\t\texpect(value).to.be.eql(caps)\n\t\t\t\t\tdone()\n\t\t\t\t\treturn when(key)\n\t\t\t\t}\n\t\t\t}\n\t\t\truntimeCapabilities = new RuntimeCapabilities(storageManager)\n\t\t\truntimeCapabilities.update()\n\t\t})\n\t})\n})\n\n",
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 225,
    "kind": "testDescribe",
    "name": "describe8",
    "testId": 8,
    "memberof": "test/RuntimeCapabilities.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8",
    "access": null,
    "description": "RuntimeCapabilities",
    "lineNumber": 13
  },
  {
    "__docId__": 226,
    "kind": "testDescribe",
    "name": "describe9",
    "testId": 9,
    "memberof": "test/RuntimeCapabilities.spec.js~describe8",
    "testDepth": 1,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8.describe9",
    "access": null,
    "description": "getRuntimeCapabilities",
    "lineNumber": 27
  },
  {
    "__docId__": 227,
    "kind": "testIt",
    "name": "it10",
    "testId": 10,
    "memberof": "test/RuntimeCapabilities.spec.js~describe8.describe9",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8.describe9.it10",
    "access": null,
    "description": "should return all available capabilities of the runtime",
    "lineNumber": 28
  },
  {
    "__docId__": 228,
    "kind": "testIt",
    "name": "it11",
    "testId": 11,
    "memberof": "test/RuntimeCapabilities.spec.js~describe8.describe9",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8.describe9.it11",
    "access": null,
    "description": "should persist the capabilities in the storagemanager",
    "lineNumber": 36
  },
  {
    "__docId__": 229,
    "kind": "testDescribe",
    "name": "describe12",
    "testId": 12,
    "memberof": "test/RuntimeCapabilities.spec.js~describe8",
    "testDepth": 1,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8.describe12",
    "access": null,
    "description": "isAvailable",
    "lineNumber": 53
  },
  {
    "__docId__": 230,
    "kind": "testIt",
    "name": "it13",
    "testId": 13,
    "memberof": "test/RuntimeCapabilities.spec.js~describe8.describe12",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8.describe12.it13",
    "access": null,
    "description": "should return is a capability is available",
    "lineNumber": 54
  },
  {
    "__docId__": 231,
    "kind": "testDescribe",
    "name": "describe14",
    "testId": 14,
    "memberof": "test/RuntimeCapabilities.spec.js~describe8",
    "testDepth": 1,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8.describe14",
    "access": null,
    "description": "update",
    "lineNumber": 66
  },
  {
    "__docId__": 232,
    "kind": "testIt",
    "name": "it15",
    "testId": 15,
    "memberof": "test/RuntimeCapabilities.spec.js~describe8.describe14",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeCapabilities.spec.js~describe8.describe14.it15",
    "access": null,
    "description": "should refresh previously collected values",
    "lineNumber": 67
  },
  {
    "__docId__": 233,
    "kind": "testFile",
    "name": "test/RuntimeFactory.spec.js",
    "content": "import { expect } from 'chai'\nimport runtimeFactory from '../src/RuntimeFactory'\nimport { SandboxWindow, SandboxWorker } from '../src/Sandboxes'\n\ndescribe('RuntimeFactory', () => {\n\tconst data = [\n\t\t{sandbox_name: 'SandboxWorker', sandbox: SandboxWorker, constraints: { mic: false, camera: false }},\n\t\t{sandbox_name: 'SandboxWindow', sandbox: SandboxWindow, constraints: { mic: true, camera: true }}\n\t]\n\n\tdescribe('createSandbox', () => {\n\t\tfor(let d of data) {\n\t\t\tit(`should return ${d.sandbox_name} for a component with this constraints ${JSON.stringify(d.constraints)}`, (done) => {\n\t\t\t\truntimeFactory.createSandbox(d.constraints)\n\t\t\t\t\t.then(sandbox => {\n\t\t\t\t\t\texpect(sandbox).to.be.an.instanceof(d.sandbox)\n\t\t\t\t\t\tdone()\n\t\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\tit('should throw an error if none sandbox match the constraints', (done) => {\n\t\t\truntimeFactory.createSandbox({mic:true, camera:false})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t\tdone()\n\t\t\t\t})\n\t\t})\n\t})\n})\n",
    "static": true,
    "longname": "test/RuntimeFactory.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 234,
    "kind": "testDescribe",
    "name": "describe16",
    "testId": 16,
    "memberof": "test/RuntimeFactory.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/RuntimeFactory.spec.js~describe16",
    "access": null,
    "description": "RuntimeFactory",
    "lineNumber": 5
  },
  {
    "__docId__": 235,
    "kind": "testDescribe",
    "name": "describe17",
    "testId": 17,
    "memberof": "test/RuntimeFactory.spec.js~describe16",
    "testDepth": 1,
    "static": true,
    "longname": "test/RuntimeFactory.spec.js~describe16.describe17",
    "access": null,
    "description": "createSandbox",
    "lineNumber": 11
  },
  {
    "__docId__": 236,
    "kind": "testIt",
    "name": "it18",
    "testId": 18,
    "memberof": "test/RuntimeFactory.spec.js~describe16.describe17",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeFactory.spec.js~describe16.describe17.it18",
    "access": null,
    "lineNumber": 13
  },
  {
    "__docId__": 237,
    "kind": "testIt",
    "name": "it19",
    "testId": 19,
    "memberof": "test/RuntimeFactory.spec.js~describe16.describe17",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeFactory.spec.js~describe16.describe17.it19",
    "access": null,
    "description": "should throw an error if none sandbox match the constraints",
    "lineNumber": 22
  },
  {
    "__docId__": 238,
    "kind": "testFile",
    "name": "test/RuntimeLoader.spec.js",
    "content": "import chai from 'chai'\nimport rethink from '../src/RuntimeLoader'\n\nlet expect = chai.expect\n\ndescribe('Service framework', function(){\n\n    describe('Require Hyperty', function(){\n        xit('should returns required hyperty', function(done){\n            let runtime = rethink.install({domain:'hybroker.rethink.ptinovacao.pt', development: true})\n                .then(function(runtime){\n                    let hyperty = runtime.requireHyperty('aaa')\n\n                    expect(hyperty).to.not.be.undefined;\n                    done()\n                })\n        })\n    }),\n\n    describe('Require ProtoStub', function(){\n    })\n\n})\n",
    "static": true,
    "longname": "test/RuntimeLoader.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 239,
    "kind": "testDescribe",
    "name": "describe20",
    "testId": 20,
    "memberof": "test/RuntimeLoader.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/RuntimeLoader.spec.js~describe20",
    "access": null,
    "description": "Service framework",
    "lineNumber": 6
  },
  {
    "__docId__": 240,
    "kind": "testFile",
    "name": "test/RuntimeUAStub.spec.js",
    "content": "import chai from 'chai'\nimport RuntimeBrowser from '../src/RuntimeUAStub'\nimport rethink from '../src/RuntimeLoader'\n\nlet expect = chai.expect\n\ndescribe('RuntimeUAStub', function(){\n    describe('getRuntime', function(){\n        it('should return default runtime path and domain  if it is in production mode and receives a domain', function(){\n            let runtime = RuntimeBrowser._getRuntime(\"\", \"hybroker.rethink.ptinovacao.pt\",  false)\n            expect(runtime.url).to.equal(\"https://catalogue.hybroker.rethink.ptinovacao.pt/.well-known/runtime/default\", \"PRODUCTION & DOMAIN\")\n            expect(runtime.domain).to.equal(\"hybroker.rethink.ptinovacao.pt\")\n        })\n\n        it('should return default runtime path and domain  if it is in develop mode and receives a domain', function(){\n            let runtime = RuntimeBrowser._getRuntime(\"\", \"hybroker.rethink.ptinovacao.pt\", true)\n            expect(runtime.domain).to.equal(\"hybroker.rethink.ptinovacao.pt\")\n            expect(runtime.url).to.equal(\"hyperty-catalogue://catalogue.hybroker.rethink.ptinovacao.pt/.well-known/runtime/Runtime\", \"DEVELOP & DOMAIN\")\n        })\n\n        it('should return default runtime path and domain if it is in production mode and receives a runtimeURL', function(){\n            let runtime = RuntimeBrowser._getRuntime(\"https://catalogue.hybroker2.rethink.ptinovacao.pt/.well-known/runtime/default\", \"\", false)\n            expect(runtime.url).to.equal(\"https://catalogue.hybroker2.rethink.ptinovacao.pt/.well-known/runtime/default\")\n            expect(runtime.domain).to.equal(\"hybroker2.rethink.ptinovacao.pt\")\n        })\n\n        it('should return default runtime path and domain if it is in develop mode and receives a runtimeURL', function(){\n            let runtime = RuntimeBrowser._getRuntime(\"https://hybroker2.rethink.ptinovacao.pt/resources/descriptores/Runtimes.json\", \"\", true)\n            expect(runtime.url).to.equal(\"https://hybroker2.rethink.ptinovacao.pt/resources/descriptores/Runtimes.json\")\n            expect(runtime.domain).to.equal(\"hybroker2.rethink.ptinovacao.pt\")\n        })\n    })\n\n    describe('close', ()=>{\n        xit('should desregister all hyperties', function(done){\n            let runtime = rethink.install({domain:'hybroker.rethink.ptinovacao.pt', development: true})\n                .then(function(runtime){\n                    runtime.requireHyperty('hyperty-catalogue://hybroker.rethink.ptinovacao.pt/.well-known/hyperty/Connector')\n                        .then((hyperty)=>{\n                            runtime.close().then(res=>{\n                                expect(res).to.be.true;\n                                done()\n                            })\n                        })\n                })\n        })\n    })\n})\n",
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 241,
    "kind": "testDescribe",
    "name": "describe21",
    "testId": 21,
    "memberof": "test/RuntimeUAStub.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js~describe21",
    "access": null,
    "description": "RuntimeUAStub",
    "lineNumber": 7
  },
  {
    "__docId__": 242,
    "kind": "testDescribe",
    "name": "describe22",
    "testId": 22,
    "memberof": "test/RuntimeUAStub.spec.js~describe21",
    "testDepth": 1,
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js~describe21.describe22",
    "access": null,
    "description": "getRuntime",
    "lineNumber": 8
  },
  {
    "__docId__": 243,
    "kind": "testIt",
    "name": "it23",
    "testId": 23,
    "memberof": "test/RuntimeUAStub.spec.js~describe21.describe22",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js~describe21.describe22.it23",
    "access": null,
    "description": "should return default runtime path and domain  if it is in production mode and receives a domain",
    "lineNumber": 9
  },
  {
    "__docId__": 244,
    "kind": "testIt",
    "name": "it24",
    "testId": 24,
    "memberof": "test/RuntimeUAStub.spec.js~describe21.describe22",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js~describe21.describe22.it24",
    "access": null,
    "description": "should return default runtime path and domain  if it is in develop mode and receives a domain",
    "lineNumber": 15
  },
  {
    "__docId__": 245,
    "kind": "testIt",
    "name": "it25",
    "testId": 25,
    "memberof": "test/RuntimeUAStub.spec.js~describe21.describe22",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js~describe21.describe22.it25",
    "access": null,
    "description": "should return default runtime path and domain if it is in production mode and receives a runtimeURL",
    "lineNumber": 21
  },
  {
    "__docId__": 246,
    "kind": "testIt",
    "name": "it26",
    "testId": 26,
    "memberof": "test/RuntimeUAStub.spec.js~describe21.describe22",
    "testDepth": 2,
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js~describe21.describe22.it26",
    "access": null,
    "description": "should return default runtime path and domain if it is in develop mode and receives a runtimeURL",
    "lineNumber": 27
  },
  {
    "__docId__": 247,
    "kind": "testDescribe",
    "name": "describe27",
    "testId": 27,
    "memberof": "test/RuntimeUAStub.spec.js~describe21",
    "testDepth": 1,
    "static": true,
    "longname": "test/RuntimeUAStub.spec.js~describe21.describe27",
    "access": null,
    "description": "close",
    "lineNumber": 34
  },
  {
    "__docId__": 248,
    "kind": "testFile",
    "name": "test/SandboxAppIntegration.spec.js",
    "content": "import { expect } from 'chai';\nimport Sandbox from '../src/SandboxApp';\n\ndescribe('SandboxApp Integration Tests', function(){\n    it('should manage messages with internal components - send and receive', function(done){\n        this.timeout(0);\n        var sandbox = new Sandbox();\n\n        setTimeout(()=>{\n            sandbox.postMessage({to:'sandbox://internal',type:'create', body: { config:'', url: 'ua.me', sourceCode: '(function (url, miniBus, config){ 2+2; })'} }, function(msg){\n                    done();\n                });\n        }, 1200);\n    });\n\n    it('should create components', function(done){\n        this.timeout(0);\n        var sandbox = new Sandbox();\n        window.doneTest = function(){ done() }\n        setTimeout(()=>{\n            sandbox.postMessage({to:'sandbox://internal',type:'create', body: { config:'', url: 'ua.me', sourceCode: '(function (url, miniBus, config){ window.doneTest() })'}} );\n        }, 1200);\n    });\n\n});\n",
    "static": true,
    "longname": "test/SandboxAppIntegration.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 249,
    "kind": "testDescribe",
    "name": "describe28",
    "testId": 28,
    "memberof": "test/SandboxAppIntegration.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/SandboxAppIntegration.spec.js~describe28",
    "access": null,
    "description": "SandboxApp Integration Tests",
    "lineNumber": 4
  },
  {
    "__docId__": 250,
    "kind": "testIt",
    "name": "it29",
    "testId": 29,
    "memberof": "test/SandboxAppIntegration.spec.js~describe28",
    "testDepth": 1,
    "static": true,
    "longname": "test/SandboxAppIntegration.spec.js~describe28.it29",
    "access": null,
    "description": "should manage messages with internal components - send and receive",
    "lineNumber": 5
  },
  {
    "__docId__": 251,
    "kind": "testIt",
    "name": "it30",
    "testId": 30,
    "memberof": "test/SandboxAppIntegration.spec.js~describe28",
    "testDepth": 1,
    "static": true,
    "longname": "test/SandboxAppIntegration.spec.js~describe28.it30",
    "access": null,
    "description": "should create components",
    "lineNumber": 16
  },
  {
    "__docId__": 252,
    "kind": "testFile",
    "name": "test/SandboxIframeIntegration.spec.js",
    "content": "import Sandbox from '../src/SandboxIframe';\n\ndescribe('SandboxIframe', function(){\n    //TODO: this test is a fake, only an example. Waiting for other components to be completed.\n    xit('should load RuntimeUA context', function(){\n        var sandbox = new Sandbox('base/test/resources/core.js');\n        setTimeout(()=>{\n            sandbox.postMessage({to:'ua.me', body: { config:'', url: 'ua.me', sourceCode: ''}} );\n        }, 1200);\n    });\n});\n\n",
    "static": true,
    "longname": "test/SandboxIframeIntegration.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 253,
    "kind": "testDescribe",
    "name": "describe31",
    "testId": 31,
    "memberof": "test/SandboxIframeIntegration.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/SandboxIframeIntegration.spec.js~describe31",
    "access": null,
    "description": "SandboxIframe",
    "lineNumber": 3
  },
  {
    "__docId__": 254,
    "kind": "testFile",
    "name": "test/SandboxWorker.spec.js",
    "content": "/*jshint esnext: true */\nimport { expect } from 'chai';\nimport Sandbox from '../src/SandboxWorker';\n\nlet init, post, sendMessage;\n\ndescribe('SandBoxBrowser', function(){\n    before(function(){\n        window._real_worker = window.Worker;\n        window.Worker = function(){\n            init = true;\n            return {\n                addEventListener: function(msg, callback) {\n                                    sendMessage = callback; \n                                  },\n                postMessage: function(msg) {\n                    post = true;\n                }\n            };\n        };\n    });\n\n    after(function(){\n        window.Worker = window._real_worker;\n    });\n\n    beforeEach(function(){\n        init = false;\n        post = false;\n        sendMessage = undefined;\n    });\n\n    it('should instantiate a web worker object', function(){\n        let sandbox = new Sandbox();\n\n        expect(init).to.be.true;\n    });\n\n    it('should send outside messages to web worker', function(){\n        let sandbox = new Sandbox(); \n        \n        sandbox.postMessage({header:{}});\n        expect(post).to.be.true;\n    });\n\n    it('should receive inside messages from web worker', function(done){\n        let sandbox = new Sandbox();\n        sandbox.addListener('ua.me/mock', function(msg){\n            done();\n        });\n        sendMessage({data: {to:'ua.me/mock'}});\n    });\n});\n",
    "static": true,
    "longname": "test/SandboxWorker.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 255,
    "kind": "testDescribe",
    "name": "describe32",
    "testId": 32,
    "memberof": "test/SandboxWorker.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/SandboxWorker.spec.js~describe32",
    "access": null,
    "description": "SandBoxBrowser",
    "lineNumber": 7
  },
  {
    "__docId__": 256,
    "kind": "testIt",
    "name": "it33",
    "testId": 33,
    "memberof": "test/SandboxWorker.spec.js~describe32",
    "testDepth": 1,
    "static": true,
    "longname": "test/SandboxWorker.spec.js~describe32.it33",
    "access": null,
    "description": "should instantiate a web worker object",
    "lineNumber": 33
  },
  {
    "__docId__": 257,
    "kind": "testIt",
    "name": "it34",
    "testId": 34,
    "memberof": "test/SandboxWorker.spec.js~describe32",
    "testDepth": 1,
    "static": true,
    "longname": "test/SandboxWorker.spec.js~describe32.it34",
    "access": null,
    "description": "should send outside messages to web worker",
    "lineNumber": 39
  },
  {
    "__docId__": 258,
    "kind": "testIt",
    "name": "it35",
    "testId": 35,
    "memberof": "test/SandboxWorker.spec.js~describe32",
    "testDepth": 1,
    "static": true,
    "longname": "test/SandboxWorker.spec.js~describe32.it35",
    "access": null,
    "description": "should receive inside messages from web worker",
    "lineNumber": 46
  },
  {
    "__docId__": 259,
    "kind": "testFile",
    "name": "test/SandboxWorkerIntegration.spec.js",
    "content": "import { expect } from 'chai';\nimport Sandbox from '../src/SandboxWorker';\n\ndescribe('SandboxBrowser Integration Tests', function(){\n    it('should manage messages with internal components - send and receive', function(done){\n        this.timeout(0);\n        var sandbox = new Sandbox('base/test/resources/serviceprovider.js');\n\n        setTimeout(()=>{\n            sandbox.postMessage({to:'sandbox://internal',type:'create', body: { config:'', url: 'ua.me', sourceCode: '(function (url, miniBus, config){ 2+2; })'} }, function(msg){\n                    done();\n                });\n        }, 1200);\n    });\n\n    it('should create components', function(done){\n        this.timeout(0);\n        var sandbox = new Sandbox('base/test/resources/serviceprovider.js');\n        sandbox.addListener('ua.me', function(e){\n            done();\n        });\n        setTimeout(()=>{\n            sandbox.postMessage({to:'sandbox://internal',type:'create', body: { config:'', url: 'ua.me', sourceCode: '(function (url, miniBus, config){ self.postMessage({to:\"ua.me\"}); })'}} );\n        }, 1200);\n    });\n\n});\n",
    "static": true,
    "longname": "test/SandboxWorkerIntegration.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 260,
    "kind": "testDescribe",
    "name": "describe36",
    "testId": 36,
    "memberof": "test/SandboxWorkerIntegration.spec.js",
    "testDepth": 0,
    "static": true,
    "longname": "test/SandboxWorkerIntegration.spec.js~describe36",
    "access": null,
    "description": "SandboxBrowser Integration Tests",
    "lineNumber": 4
  },
  {
    "__docId__": 261,
    "kind": "testIt",
    "name": "it37",
    "testId": 37,
    "memberof": "test/SandboxWorkerIntegration.spec.js~describe36",
    "testDepth": 1,
    "static": true,
    "longname": "test/SandboxWorkerIntegration.spec.js~describe36.it37",
    "access": null,
    "description": "should manage messages with internal components - send and receive",
    "lineNumber": 5
  },
  {
    "__docId__": 262,
    "kind": "testIt",
    "name": "it38",
    "testId": 38,
    "memberof": "test/SandboxWorkerIntegration.spec.js~describe36",
    "testDepth": 1,
    "static": true,
    "longname": "test/SandboxWorkerIntegration.spec.js~describe36.it38",
    "access": null,
    "description": "should create components",
    "lineNumber": 16
  }
]