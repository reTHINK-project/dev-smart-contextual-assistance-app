{
  "BraceletSensorObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOCBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1uKHQpLHU9byhhLmxlbmd0aCksZj1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1PmY7KWlmKGM9YVtmKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+ZjtmKyspaWYoKGV8fGYgaW4gYSkmJmFbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGYsbCxfPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyx2PWUmYS5QLHk9ZSZhLkIsYj1lJmEuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksbT1oW2NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW2NdO2QmJihyPXQpO2Zvcih1IGluIHIpZj0hXyYmZyYmdm9pZCAwIT09Z1t1XSxmJiZ1IGluIGh8fChsPWY/Z1t1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbdV0/clt1XTp5JiZmP2kobCxuKTpiJiZnW3VdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0obCk6diYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsdiYmKChoLnZpcnR1YWx8fChoLnZpcnR1YWw9e30pKVt1XT1sLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsbCkpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixsLF8pe3ZhciBkLHAsdix5LGI9Xz9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLGg9bihyLGwsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IoZD1jKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9oKHMocD1lW21dKVswXSxwWzFdKTpoKGVbbV0pLHk9PT11fHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWIuY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGgscC52YWx1ZSx0KSx5PT09dXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9dSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vX29iamVjdC1ncG8iKSxfPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixoLG0sZyxqKXt1KHIsdCxoKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFU9ITEsUz1lLnByb3RvdHlwZSxFPVNbX118fFNbcF18fG0mJlNbbV0sUj1FfHxPKG0pLEw9bT9QP08oImVudHJpZXMiKTpSOnZvaWQgMCxUPSJBcnJheSI9PXQ/Uy5lbnRyaWVzfHxFOkU7aWYoVCYmKGs9bChULmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxjKGssXyl8fHMoayxfLGIpKSksUCYmRSYmRS5uYW1lIT09eSYmKFU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFVJiZTW19dfHxzKFMsXyxSKSxhW3RdPVIsYVtNXT1iLG0paWYoeD17dmFsdWVzOlA/UjpPKHkpLGtleXM6Zz9SOk8odiksZW50cmllczpMfSxqKWZvcih3IGluIHgpdyBpbiBTfHxpKFMsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8VSksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYz1uLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IoYSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLGw9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUobCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtsLmRhdGE9Zj0hZn19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBfPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtfLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLHUpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSx1PXQuRjtuLS07KWRlbGV0ZSB1W2FdW2lbbl1dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1uKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOyluLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG8oIW4uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSkscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYz1vKGUpLGE9MCx1PVtdO2ZvcihyIGluIGMpciE9cyYmbihjLHIpJiZ1LnB1c2gocik7Zm9yKDt0Lmxlbmd0aD5hOyluKGMscj10W2ErK10pJiYofmkodSxyKXx8dS5wdXNoKHIpKTtyZXR1cm4gdX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oaWRlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdClyJiZlW29dP2Vbb109dFtvXTpuKGUsbyx0W29dKTtyZXR1cm4gZX19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbil7dHJ5e249ZSgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCxlKCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLHI/ZS5fX3Byb3RvX189dDpuKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fb2JqZWN0LWRwIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGM9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2NdJiZpLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLmYsbz1lKCIuL19oYXMiKSxpPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgia2V5cyIpLG89ZSgiLi9fdWlkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19hLWZ1bmN0aW9uIiksaT1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIGE8MHx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksaTw1NTI5Nnx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fY3R4IiksYz1lKCIuL19pbnZva2UiKSxhPWUoIi4vX2h0bWwiKSx1PWUoIi4vX2RvbS1jcmVhdGUiKSxmPWUoIi4vX2dsb2JhbCIpLGw9Zi5wcm9jZXNzLF89Zi5zZXRJbW1lZGlhdGUsZD1mLmNsZWFySW1tZWRpYXRlLHA9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGg9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7aC5jYWxsKGUuZGF0YSl9O18mJmR8fChfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0sZD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuL19jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhoLGUsMSkpfTpwPyhvPW5ldyBwLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLGguY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhoLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpfLGNsZWFyOmR9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9vKGUrdCwwKTppKGUsdCl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pb2JqZWN0Iiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgid2tzIiksbz1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jbGFzc29mIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TK24uRiohZSgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6ZSgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8tb2JqZWN0Iiksbz1lKCIuL19vYmplY3Qta2V5cyIpO2UoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbihlLHQscil7fSx7fV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxmPWUoIi4vX2V4cG9ydCIpLGw9ZSgiLi9faXMtb2JqZWN0IiksXz0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxkPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSx2PShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx5PWUoIi4vX3Rhc2siKS5zZXQsYj1lKCIuL19taWNyb3Rhc2siKSgpLGg9IlByb21pc2UiLG09Yy5UeXBlRXJyb3IsZz1jLnByb2Nlc3Msaj1jW2hdLGc9Yy5wcm9jZXNzLHg9InByb2Nlc3MiPT11KGcpLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1qLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZSh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1qJiZ0PT09aX0sTT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFsKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTyhqLGUpP25ldyBVKGUpOm5ldyBvKGUpfSxVPW89ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1fKHQpLHRoaXMucmVqZWN0PV8ocil9LFM9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8ob3x8KDI9PWUuX2gmJlQoZSksZS5faD0xKSxzPT09ITA/cj1uOih1JiZ1LmVudGVyKCkscj1zKG4pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobil9Y2F0Y2goZil7YShmKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJlIoZSl9KX19LFI9ZnVuY3Rpb24oZSl7eS5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG4sbz1lLl92O2lmKEwoZSkmJih0PVMoZnVuY3Rpb24oKXt4P2cuZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246b30pOihuPWMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSxlLl9oPXh8fEwoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sTD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbj0wO3IubGVuZ3RoPm47KWlmKHQ9cltuKytdLHQuZmFpbHx8IUwodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sVD1mdW5jdGlvbihlKXt5LmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3g/Zy5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9TShlKSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShDLG4sMSksYShBLG4sMSkpfWNhdGNoKG8pe0EuY2FsbChuLG8pfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGo9ZnVuY3Rpb24oZSl7ZCh0aGlzLGosaCwiX2giKSxfKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShhKEMsdGhpcywxKSxhKEEsdGhpcywxKSl9Y2F0Y2godCl7QS5jYWxsKHRoaXMsdCl9fSxuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGoucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9UCh2KHRoaXMsaikpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJkUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShDLGUsMSksdGhpcy5yZWplY3Q9YShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosaCksZSgiLi9fc2V0LXNwZWNpZXMiKShoKSxpPWUoIi4vX2NvcmUiKVtoXSxmKGYuUytmLkYqIWssaCx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhayksaCx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksaCx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1TKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG4ocikpfSxvKX0pLC0tc3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSxhPTA7YTw1O2ErKyl7dmFyIHU9Y1thXSxmPW5bdV0sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFtzXSYmbyhsLHMsdSksaVt1XT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiRGF0YU9iamVjdCBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bj9uOm8uZG9tYWluO3ZhciBjPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MrIi8iLGJvZHk6e3Jlc291cmNlOmUsY3JpdGVyaWE6e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnR9fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwLGM9KDAsZi5jb252ZXJ0VG9Vc2VyVVJMKShlKTtzPW4/bjpvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzKyIvIixib2R5OntyZXNvdXJjZTpjLGNyaXRlcmlhOntyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7by5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciBhPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTxhLmdldFRpbWUoKSYmKGk9YSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgdT1zO2lmKHZvaWQgMD09PXUpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbdV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOnV9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19LHtrZXk6ImRlbGV0ZUh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89dm9pZCAwO289cj9yOm4uZG9tYWluO3ZhciBzPXt0eXBlOiJkZWxldGUiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbysiLyIsYm9keTp7dmFsdWU6e3VzZXI6ZSx1cmw6dH19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlO24/ZSgiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOnQoIkVycm9yIG9uIGRlbGV0aW5nIGh5cGVydHkiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxfWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksXz1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1uKGQpO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs4MF0pKDgwKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5JZGVudGl0eU1hbmFnZXI9dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChlLHIsbil7ZnVuY3Rpb24gbyhjLHMpe2lmKCFyW2NdKXtpZighZVtjXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXMmJnUpcmV0dXJuIHUoYywhMCk7aWYoaSlyZXR1cm4gaShjLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitjKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbY109e2V4cG9ydHM6e319O2VbY11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVtjXVsxXVt0XTtyZXR1cm4gbyhyP3I6dCl9LGYsZi5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW2NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGM9MDtjPG4ubGVuZ3RoO2MrKylvKG5bY10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dCgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24odCxlLHIpe3QoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj10KCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkodCxlLHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbih0LGUscil7dCgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSxlLmV4cG9ydHM9dCgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24odCxlLHIpe3QoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0KCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSx0KCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0KCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksZS5leHBvcnRzPXQoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiB0fX0se31dLDEyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx2b2lkIDAhPT1uJiZuIGluIHQpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIHR9fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pcy1vYmplY3QiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIW4odCkpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiB0fX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pb2JqZWN0Iiksbz10KCIuL190by1sZW5ndGgiKSxpPXQoIi4vX3RvLWluZGV4Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsYyl7dmFyIHMsdT1uKGUpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYodCYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKHR8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2NvZiIpLG89dCgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gocil7fX07ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLHIscztyZXR1cm4gdm9pZCAwPT09dD8iVW5kZWZpbmVkIjpudWxsPT09dD8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWMoZT1PYmplY3QodCksbykpP3I6aT9uKGUpOiJPYmplY3QiPT0ocz1uKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbih0LGUscil7dmFyIG49ZS5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hLWZ1bmN0aW9uIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtpZihuKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHQuY2FsbChlLHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQuY2FsbChlLHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiB0LmNhbGwoZSxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrdCk7cmV0dXJuIHR9fSx7fV0sMjE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9IXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iiksbz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19jb3JlIiksaT10KCIuL19jdHgiKSxjPXQoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24odCxlLHIpe3ZhciBhLGYsXyxsPXQmdS5GLHA9dCZ1LkcsZD10JnUuUyxoPXQmdS5QLHY9dCZ1LkIsYj10JnUuVyx5PXA/bzpvW2VdfHwob1tlXT17fSksbT15W3NdLGo9cD9uOmQ/bltlXToobltlXXx8e30pW3NdO3AmJihyPWUpO2ZvcihhIGluIHIpZj0hbCYmaiYmdm9pZCAwIT09althXSxmJiZhIGluIHl8fChfPWY/althXTpyW2FdLHlbYV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbYV0/clthXTp2JiZmP2koXyxuKTpiJiZqW2FdPT1fP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUscixuKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUscil9cmV0dXJuIG5ldyB0KGUscixuKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW3NdPXRbc10sZX0oXyk6aCYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8saCYmKCh5LnZpcnR1YWx8fCh5LnZpcnR1YWw9e30pKVthXT1fLHQmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCxlLmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY3R4Iiksbz10KCIuL19pdGVyLWNhbGwiKSxpPXQoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPXQoIi4vX2FuLW9iamVjdCIpLHM9dCgiLi9fdG8tbGVuZ3RoIiksdT10KCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPWUuZXhwb3J0cz1mdW5jdGlvbih0LGUscixfLGwpe3ZhciBwLGQsaCx2LGI9bD9mdW5jdGlvbigpe3JldHVybiB0fTp1KHQpLHk9bihyLF8sZT8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IocD1zKHQubGVuZ3RoKTtwPm07bSsrKWlmKHY9ZT95KGMoZD10W21dKVswXSxkWzFdKTp5KHRbbV0pLHY9PT1hfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWIuY2FsbCh0KTshKGQ9aC5uZXh0KCkpLmRvbmU7KWlmKHY9byhoLHksZC52YWx1ZSxlKSx2PT09YXx8dj09PWYpcmV0dXJuIHZ9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbih0LGUscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0se31dLDI5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19wcm9wZXJ0eS1kZXNjIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuLmYodCxlLG8oMSxyKSl9OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yLHR9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hdCgiLi9fZGVzY3JpcHRvcnMiKSYmIXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/dCgpOnQuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/dChlWzBdKTp0LmNhbGwocixlWzBdKTtjYXNlIDI6cmV0dXJuIG4/dChlWzBdLGVbMV0pOnQuY2FsbChyLGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuP3QoZVswXSxlWzFdLGVbMl0pOnQuY2FsbChyLGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG4/dChlWzBdLGVbMV0sZVsyXSxlWzNdKTp0LmNhbGwocixlWzBdLGVbMV0sZVsyXSxlWzNdKX1yZXR1cm4gdC5hcHBseShyLGUpfX0se31dLDMzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY29mIik7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm4iU3RyaW5nIj09bih0KT90LnNwbGl0KCIiKTpPYmplY3QodCl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2l0ZXJhdG9ycyIpLG89dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYobi5BcnJheT09PXR8fGlbb109PT10KX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD9udWxsIT09dDoiZnVuY3Rpb24iPT10eXBlb2YgdH19LHt9XSwzNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscixvKXt0cnl7cmV0dXJuIG8/ZShuKHIpWzBdLHJbMV0pOmUocil9Y2F0Y2goaSl7dmFyIGM9dFsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwodCkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49dCgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89dCgiLi9fcHJvcGVydHktZGVzYyIpLGk9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O3QoIi4vX2hpZGUiKShjLHQoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3QucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2xpYnJhcnkiKSxvPXQoIi4vX2V4cG9ydCIpLGk9dCgiLi9fcmVkZWZpbmUiKSxjPXQoIi4vX2hpZGUiKSxzPXQoIi4vX2hhcyIpLHU9dCgiLi9faXRlcmF0b3JzIiksYT10KCIuL19pdGVyLWNyZWF0ZSIpLGY9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPXQoIi4vX29iamVjdC1ncG8iKSxsPXQoIi4vX3drcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksZD0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscix5LG0saixnKXthKHIsZSx5KTt2YXIgeCx3LGssTz1mdW5jdGlvbih0KXtpZighcCYmdCBpbiBQKXJldHVybiBQW3RdO3N3aXRjaCh0KXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9fSxNPWUrIiBJdGVyYXRvciIsUz1tPT12LEU9ITEsUD10LnByb3RvdHlwZSxUPVBbbF18fFBbZF18fG0mJlBbbV0sUj1UfHxPKG0pLFU9bT9TP08oImVudHJpZXMiKTpSOnZvaWQgMCxBPSJBcnJheSI9PWU/UC5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9XyhBLmNhbGwobmV3IHQpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGIpKSksUyYmVCYmVC5uYW1lIT09diYmKEU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxuJiYhZ3x8IXAmJiFFJiZQW2xdfHxjKFAsbCxSKSx1W2VdPVIsdVtNXT1iLG0paWYoeD17dmFsdWVzOlM/UjpPKHYpLGtleXM6aj9SOk8oaCksZW50cmllczpVfSxnKWZvcih3IGluIHgpdyBpbiBQfHxpKFAsdyx4W3ddKTtlbHNlIG8oby5QK28uRioocHx8RSksZSx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fWUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LHQoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEhdH19fSx7fV0sNDE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PXQoIi4vX2NvZiIpKGMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTt0Oyl7bz10LmZuLHQ9dC5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgdD9yKCk6ZT12b2lkIDAsaX19ZT12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O2UmJihlLm5leHQ9byksdHx8KHQ9byxyKCkpLGU9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX29iamVjdC1kcHMiKSxpPXQoIi4vX2VudW0tYnVnLWtleXMiKSxjPXQoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgZSxyPXQoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIix0KCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6IixlPXIuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLGUuY2xvc2UoKSxhPWUuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiBudWxsIT09dD8oc1t1XT1uKHQpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109dCk6cj1hKCksdm9pZCAwPT09ZT9yOm8ocixlKX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX2llOC1kb20tZGVmaW5lIiksaT10KCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLHIpe2lmKG4odCksZT1pKGUsITApLG4ociksbyl0cnl7cmV0dXJuIGModCxlLHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYodFtlXT1yLnZhbHVlKSx0fX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19hbi1vYmplY3QiKSxpPXQoIi4vX29iamVjdC1rZXlzIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtvKHQpO2Zvcih2YXIgcixjPWkoZSkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYodCxyPWNbdSsrXSxlW3JdKTtyZXR1cm4gdH19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1waWUiKSxvPXQoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPXQoIi4vX3RvLWlvYmplY3QiKSxjPXQoIi4vX3RvLXByaW1pdGl2ZSIpLHM9dCgiLi9faGFzIiksdT10KCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKHQsZSl7aWYodD1pKHQpLGU9YyhlLCEwKSx1KXRyeXtyZXR1cm4gYSh0LGUpfWNhdGNoKHIpe31pZihzKHQsZSkpcmV0dXJuIG8oIW4uZi5jYWxsKHQsZSksdFtlXSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oYXMiKSxvPXQoIi4vX3RvLW9iamVjdCIpLGk9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLG4odCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2hhcyIpLG89dCgiLi9fdG8taW9iamVjdCIpLGk9dCgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSksYz10KCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1vKHQpLHU9MCxhPVtdO2ZvcihyIGluIHMpciE9YyYmbihzLHIpJiZhLnB1c2gocik7Zm9yKDtlLmxlbmd0aD51OyluKHMscj1lW3UrK10pJiYofmkoYSxyKXx8YS5wdXNoKHIpKTtyZXR1cm4gYX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz10KCIuL19lbnVtLWJ1Zy1rZXlzIik7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fZmFpbHMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGM9e307Y1t0XT1lKHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLGMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oaWRlIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG8gaW4gZSlyJiZ0W29dP3Rbb109ZVtvXTpuKHQsbyxlW29dKTtyZXR1cm4gdH19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpLG89dCgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbih0LGUpe2lmKG8odCksIW4oZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHIsbil7dHJ5e249dCgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCx0KCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSkscj0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLHI/dC5fX3Byb3RvX189ZTpuKHQsZSksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2dsb2JhbCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fb2JqZWN0LWRwIiksYz10KCIuL19kZXNjcmlwdG9ycyIpLHM9dCgiLi9fd2tzIikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIG9bdF0/b1t0XTpuW3RdO2MmJmUmJiFlW3NdJiZpLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1kcCIpLmYsbz10KCIuL19oYXMiKSxpPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dCYmIW8odD1yP3Q6dC5wcm90b3R5cGUsaSkmJm4odCxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgia2V5cyIpLG89dCgiLi9fdWlkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1vKHQpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iiksbz10KCIuL19hLWZ1bmN0aW9uIiksaT10KCIuL193a3MiKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGM9bih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09Y3x8dm9pZCAwPT0ocj1uKGMpW2ldKT9lOm8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pbnRlZ2VyIiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBpLGMscz1TdHJpbmcobyhlKSksdT1uKHIpLGE9cy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49YT90PyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09YXx8KGM9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxjPjU3MzQzP3Q/cy5jaGFyQXQodSk6aTp0P3Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKGMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGM9dCgiLi9fY3R4Iikscz10KCIuL19pbnZva2UiKSx1PXQoIi4vX2h0bWwiKSxhPXQoIi4vX2RvbS1jcmVhdGUiKSxmPXQoIi4vX2dsb2JhbCIpLF89Zi5wcm9jZXNzLGw9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHk9ZnVuY3Rpb24oKXt2YXIgdD0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KHQpKXt2YXIgZT12W3RdO2RlbGV0ZSB2W3RdLGUoKX19LG09ZnVuY3Rpb24odCl7eS5jYWxsKHQuZGF0YSl9O2wmJnB8fChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyllLnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXtzKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LG4oaCksaH0scD1mdW5jdGlvbih0KXtkZWxldGUgdlt0XX0sInByb2Nlc3MiPT10KCIuL19jb2YiKShfKT9uPWZ1bmN0aW9uKHQpe18ubmV4dFRpY2soYyh5LHQsMSkpfTpkPyhvPW5ldyBkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49YyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24odCl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYyh5LHQsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpsLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQpLHQ8MD9vKHQrZSwwKTppKHQsZSl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP286bikodCl9fSx7fV0sNjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pb2JqZWN0Iiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKG8odCkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28obih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZGVmaW5lZCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIW4odCkpcmV0dXJuIHQ7dmFyIHIsbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LnRvU3RyaW5nKSYmIW4obz1yLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPXQudmFsdWVPZikmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKHI9dC50b1N0cmluZykmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgid2tzIiksbz10KCIuL191aWQiKSxpPXQoIi4vX2dsb2JhbCIpLlN5bWJvbCxjPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1jJiZpW3RdfHwoYz9pOm8pKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jbGFzc29mIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpO2UuZXhwb3J0cz10KCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT10KXJldHVybiB0W29dfHx0WyJAQGl0ZXJhdG9yIl18fGlbbih0KV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89dCgiLi9faXRlci1zdGVwIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3RvLWlvYmplY3QiKTtlLmV4cG9ydHM9dCgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKHQsZSl7dGhpcy5fdD1jKHQpLHRoaXMuX2k9MCx0aGlzLl9rPWV9LGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdCxlPXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PWU/bygwLHIpOiJ2YWx1ZXMiPT1lP28oMCx0W3JdKTpvKDAsW3IsdFtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpO24obi5TK24uRiohdCgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6dCgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8tb2JqZWN0Iiksbz10KCIuL19vYmplY3Qta2V5cyIpO3QoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG8obih0KSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbih0LGUscil7fSx7fV0sNzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLGM9dCgiLi9fbGlicmFyeSIpLHM9dCgiLi9fZ2xvYmFsIiksdT10KCIuL19jdHgiKSxhPXQoIi4vX2NsYXNzb2YiKSxmPXQoIi4vX2V4cG9ydCIpLF89dCgiLi9faXMtb2JqZWN0IiksbD0odCgiLi9fYW4tb2JqZWN0IiksdCgiLi9fYS1mdW5jdGlvbiIpKSxwPXQoIi4vX2FuLWluc3RhbmNlIiksZD10KCIuL19mb3Itb2YiKSxoPSh0KCIuL19zZXQtcHJvdG8iKS5zZXQsdCgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx2PXQoIi4vX3Rhc2siKS5zZXQsYj10KCIuL19taWNyb3Rhc2siKSgpLHk9IlByb21pc2UiLG09cy5UeXBlRXJyb3Isaj1zLnByb2Nlc3MsZz1zW3ldLGo9cy5wcm9jZXNzLHg9InByb2Nlc3MiPT1hKGopLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1nLnJlc29sdmUoMSkscj0oZS5jb25zdHJ1Y3Rvcj17fSlbdCgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24odCl7dCh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQ9PT1nJiZlPT09aX0sTT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4hKCFfKHQpfHwiZnVuY3Rpb24iIT10eXBlb2YoZT10LnRoZW4pKSYmZX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTyhnLHQpP25ldyBFKHQpOm5ldyBvKHQpfSxFPW89ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7ZT10LHI9bn0pLHRoaXMucmVzb2x2ZT1sKGUpLHRoaXMucmVqZWN0PWwocil9LFA9ZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fSxUPWZ1bmN0aW9uKHQsZSl7aWYoIXQuX24pe3QuX249ITA7dmFyIHI9dC5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuX3Ysbz0xPT10Ll9zLGk9MCxjPWZ1bmN0aW9uKGUpe3ZhciByLGksYz1vP2Uub2s6ZS5mYWlsLHM9ZS5yZXNvbHZlLHU9ZS5yZWplY3QsYT1lLmRvbWFpbjt0cnl7Yz8ob3x8KDI9PXQuX2gmJkEodCksdC5faD0xKSxjPT09ITA/cj1uOihhJiZhLmVudGVyKCkscj1jKG4pLGEmJmEuZXhpdCgpKSxyPT09ZS5wcm9taXNlP3UobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixzLHUpOnMocikpOnUobil9Y2F0Y2goZil7dShmKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTt0Ll9jPVtdLHQuX249ITEsZSYmIXQuX2gmJlIodCl9KX19LFI9ZnVuY3Rpb24odCl7di5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgZSxyLG4sbz10Ll92O2lmKFUodCkmJihlPVAoZnVuY3Rpb24oKXt4P2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLHQpOihyPXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6dCxyZWFzb246b30pOihuPXMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSx0Ll9oPXh8fFUodCk/MjoxKSx0Ll9hPXZvaWQgMCxlKXRocm93IGUuZXJyb3J9KX0sVT1mdW5jdGlvbih0KXtpZigxPT10Ll9oKXJldHVybiExO2Zvcih2YXIgZSxyPXQuX2F8fHQuX2Msbj0wO3IubGVuZ3RoPm47KWlmKGU9cltuKytdLGUuZmFpbHx8IVUoZS5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbih0KXt2LmNhbGwocyxmdW5jdGlvbigpe3ZhciBlO3g/ai5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIix0KTooZT1zLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCxlPWUuX3d8fGUsZS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFQoZSwhMCkpfSxDPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT10KXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9TSh0KSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7ZS5jYWxsKHQsdShDLG4sMSksdShMLG4sMSkpfWNhdGNoKG8pe0wuY2FsbChuLG8pfX0pOihyLl92PXQsci5fcz0xLFQociwhMSkpfWNhdGNoKG4pe0wuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGc9ZnVuY3Rpb24odCl7cCh0aGlzLGcseSwiX2giKSxsKHQpLG4uY2FsbCh0aGlzKTt0cnl7dCh1KEMsdGhpcywxKSx1KEwsdGhpcywxKSl9Y2F0Y2goZSl7TC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXQoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIHI9UyhoKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiB0fHx0LHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxyLmRvbWFpbj14P2ouZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfX0pLEU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbjt0aGlzLnByb21pc2U9dCx0aGlzLnJlc29sdmU9dShDLHQsMSksdGhpcy5yZWplY3Q9dShMLHQsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmd9KSx0KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcseSksdCgiLi9fc2V0LXNwZWNpZXMiKSh5KSxpPXQoIi4vX2NvcmUiKVt5XSxmKGYuUytmLkYqIWsseSx7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPVModGhpcykscj1lLnJlamVjdDtyZXR1cm4gcih0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhaykseSx7cmVzb2x2ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZyYmTyh0LmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiB0O3ZhciBlPVModGhpcykscj1lLnJlc29sdmU7cmV0dXJuIHIodCksZS5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJnQoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24odCl7Zy5hbGwodClbImNhdGNoIl0odyl9KSkseSx7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1TKGUpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1QKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtkKHQsITEsZnVuY3Rpb24odCl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLGUucmVzb2x2ZSh0KS50aGVuKGZ1bmN0aW9uKHQpe3V8fCh1PSEwLHJbc109dCwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9UyhlKSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpe2QodCwhMSxmdW5jdGlvbih0KXtlLnJlc29sdmUodCkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19zdHJpbmctYXQiKSghMCk7dCgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PWUubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9bihlLHIpLHRoaXMuX2krPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbih0LGUscil7dCgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19oaWRlIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7dTw1O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj10KCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuKXsoMCxzWyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLG8uaHlwZXJ0eVVSTD1lLG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkodCxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLG49dm9pZCAwLG89dD90OiIuIjtuPWU/ZTpyLmh5cGVydHlVUkw7dmFyIGM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24mJjIwMD09PXIuYm9keS5jb2RlP3Qobik6ZSgiY29kZTogIityLmJvZHkuY29kZSsiIE5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksdH0oKTtyWyJkZWZhdWx0Il09XyxlLmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo4MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sODE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1mdW5jdGlvbiBvKHQpe2lmKCF0KXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIGU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49dC5yZXBsYWNlKGUscikuc3BsaXQoIiwiKTtuWzBdPT09dCYmKG5bMF09Imh0dHBzIixuWzFdPXQpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTp0LnN1YnN0cmluZygwLGUpLGRvbWFpbjp0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiEoKDAsZFsiZGVmYXVsdCJdKSh0KS5sZW5ndGg+MCl9ZnVuY3Rpb24gcyh0KXtpZih0KXJldHVybiBKU09OLnBhcnNlKCgwLGxbImRlZmF1bHQiXSkodCkpfWZ1bmN0aW9uIHUodCl7dmFyIGU9dC5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK3Quc3Vic3RyaW5nKGUrMSx0Lmxlbmd0aCkrIi8iK3Quc3Vic3RyaW5nKDAsZSl9ZnVuY3Rpb24gYSh0KXt2YXIgZT1vKHQpO3JldHVybiBlLmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrZS5kb21haW59ZnVuY3Rpb24gZih0KXtpZigidXNlcjovLyI9PT10LnN1YnN0cmluZygwLDcpKXt2YXIgZT1vKHQpO2lmKGUuZG9tYWluJiZlLmlkZW50aXR5KXJldHVybiB0O3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiB1KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgXz10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxsPW4oXykscD10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxkPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1jLHIuZGVlcENsb25lPXMsci5nZXRVc2VyVVJMRnJvbUVtYWlsPXUsci5nZXRVc2VyRW1haWxGcm9tVVJMPWEsci5jb252ZXJ0VG9Vc2VyVVJMPWZ9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoxLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjN9XX0se30sWzgwXSkoODApfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKLy8gRGlzdHJpYnV0aW9uIGZpbGUgZm9yIFN5bmNoZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTo0OSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG8pe2Z1bmN0aW9uIG4ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG4ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixvKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxvLmxlbmd0aDtzKyspbihvW3NdKTtyZXR1cm4gbn0oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbz0icGVyZm9ybUNoYW5nZSIsbj0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYShlKXt2YXIgdD1hcmd1bWVudHMscz1hW25dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltuXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGM9ZFtuXS5hcHBseSh0aGlzLHMpO3JldHVybihjLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmN9fSx0aGlzKSxjfX07Zm9yKHZhciBjIGluIHMpc1tjXVtuXT10LnByb3RvdHlwZVtjXSx0LnByb3RvdHlwZVtjXT1zW2NdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MjB9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjF9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIzfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjR9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiOjI3fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW8ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1vKXt2YXIgbj0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bj92b2lkIDA6YShuLHQscil9aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHM9by5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjZ9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1vKHMpLGE9ZSgiLi4vaGVscGVycy90eXBlb2YiKSx1PW8oYSk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisoInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLHVbImRlZmF1bHQiXSkodCkpKTtlLnByb3RvdHlwZT0oMCxjWyJkZWZhdWx0Il0pKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoaVsiZGVmYXVsdCJdPygwLGlbImRlZmF1bHQiXSkoZSx0KTplLl9fcHJvdG9fXz10KX19LHsiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCIuLi9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL3N5bWJvbCIpLGM9byhzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7Ii4uL2NvcmUtanMvc3ltYm9sIjoxMCwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIiksbj1vLkpTT058fChvLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpbmdpZnkuYXBwbHkobixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNX1dLDE5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIjoxMDB9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6MTAxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjEwMn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjEwM31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6MTA0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6MTA1fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzL19jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjoxMDcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI2OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjoxMDksIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI6MTEwLCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSI6MTExfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCIpLmYoIml0ZXJhdG9yIil9LHsiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCI6OTYsIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW8mJm8gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX3RvLWxlbmd0aCIpLGk9ZSgiLi9fdG8taW5kZXgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYyxhPW8odCksdT1uKGEubGVuZ3RoKSxsPWkocyx1KTtpZihlJiZyIT1yKXtmb3IoO3U+bDspaWYoYz1hW2wrK10sYyE9YylyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigoZXx8bCBpbiBhKSYmYVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LHsiLi9fdG8taW5kZXgiOjg4LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tbGVuZ3RoIjo5MX1dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fY29mIiksbj1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChyKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixjO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxuKSk/cjppP28odCk6Ik9iamVjdCI9PShjPW8odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6Y319LHsiLi9fY29mIjozNCwiLi9fd2tzIjo5N31dLDM0OltmdW5jdGlvbihlLHQscil7dmFyIG89e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9byl9LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2EtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixvKXtyZXR1cm4gZS5jYWxsKHQscixvKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG8sbil7cmV0dXJuIGUuY2FsbCh0LHIsbyxuKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6Mjh9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjQzfV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9byhuKSYmbyhuLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9uLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTR9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cyIpLG49ZSgiLi9fb2JqZWN0LWdvcHMiKSxpPWUoIi4vX29iamVjdC1waWUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKSxyPW4uZjtpZihyKWZvcih2YXIgcyxjPXIoZSksYT1pLmYsdT0wO2MubGVuZ3RoPnU7KWEuY2FsbChlLHM9Y1t1KytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0seyIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzV9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fY3R4Iikscz1lKCIuL19oaWRlIiksYz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxsLGYsZD1lJmEuRixfPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHk9ZSZhLlcsdj1fP246blt0XXx8KG5bdF09e30pLGo9dltjXSxtPV8/bzpwP29bdF06KG9bdF18fHt9KVtjXTtfJiYocj10KTtmb3IodSBpbiByKWw9IWQmJm0mJnZvaWQgMCE9PW1bdV0sbCYmdSBpbiB2fHwoZj1sP21bdV06clt1XSx2W3VdPV8mJiJmdW5jdGlvbiIhPXR5cGVvZiBtW3VdP3JbdV06aCYmbD9pKGYsbyk6eSYmbVt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbyl7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbyl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFtjXT1lW2NdLHR9KGYpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLGImJigodi52aXJ0dWFsfHwodi52aXJ0dWFsPXt9KSlbdV09ZixlJmEuUiYmaiYmIWpbdV0mJnMoaix1LGYpKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsYS5VPTY0LGEuUj0xMjgsdC5leHBvcnRzPWF9LHsiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2N0eCIpLG49ZSgiLi9faXRlci1jYWxsIiksaT1lKCIuL19pcy1hcnJheS1pdGVyIikscz1lKCIuL19hbi1vYmplY3QiKSxjPWUoIi4vX3RvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKSx1PXt9LGw9e30scj10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgXyxwLGIsaCx5PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06YShlKSx2PW8ocixmLHQ/MjoxKSxqPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaSh5KSl7Zm9yKF89YyhlLmxlbmd0aCk7Xz5qO2orKylpZihoPXQ/dihzKHA9ZVtqXSlbMF0scFsxXSk6dihlW2pdKSxoPT09dXx8aD09PWwpcmV0dXJuIGh9ZWxzZSBmb3IoYj15LmNhbGwoZSk7IShwPWIubmV4dCgpKS5kb25lOylpZihoPW4oYix2LHAudmFsdWUsdCksaD09PXV8fGg9PT1sKXJldHVybiBofTtyLkJSRUFLPXUsci5SRVRVUk49bH0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1hcnJheS1pdGVyIjo1MiwiLi9faXRlci1jYWxsIjo1NSwiLi9fdG8tbGVuZ3RoIjo5MSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjk4fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9byl9LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNhbGwoZSx0KX19LHt9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1kcCIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gby5mKGUsdCxuKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX3Byb3BlcnR5LWRlc2MiOjc3fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQ1fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2Rlc2NyaXB0b3JzIikmJiFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2ZhaWxzIjo0M31dLDUwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBvP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBvP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBvP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBvP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW8oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuL19jb2YiOjM0fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pdGVyYXRvcnMiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG8uQXJyYXk9PT1lfHxpW25dPT09ZSl9fSx7Ii4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTd9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1vKGUpfX0seyIuL19jb2YiOjM0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXtyZXR1cm4gbj90KG8ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZvKHMuY2FsbChlKSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MzF9XSw1NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19vYmplY3QtY3JlYXRlIiksbj1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi9faGlkZSIpKHMsZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9byhzLHtuZXh0Om4oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6NDcsIi4vX29iamVjdC1jcmVhdGUiOjY1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fbGlicmFyeSIpLG49ZSgiLi9fZXhwb3J0IiksaT1lKCIuL19yZWRlZmluZSIpLHM9ZSgiLi9faGlkZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pdGVyYXRvcnMiKSx1PWUoIi4vX2l0ZXItY3JlYXRlIiksbD1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi9fb2JqZWN0LWdwbyIpLGQ9ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksXz0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPSJAQGl0ZXJhdG9yIixiPSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHYsaixtLGcpe3Uocix0LHYpO3ZhciB3LE8sayx4PWZ1bmN0aW9uKGUpe2lmKCFfJiZlIGluIFIpcmV0dXJuIFJbZV07c3dpdGNoKGUpe2Nhc2UgYjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LEM9dCsiIEl0ZXJhdG9yIixFPWo9PWgsUz0hMSxSPWUucHJvdG90eXBlLFQ9UltkXXx8UltwXXx8aiYmUltqXSxNPVR8fHgoaiksUD1qP0U/eCgiZW50cmllcyIpOk06dm9pZCAwLEE9IkFycmF5Ij09dD9SLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1mKEEuY2FsbChuZXcgZSkpLGshPT1PYmplY3QucHJvdG90eXBlJiYobChrLEMsITApLG98fGMoayxkKXx8cyhrLGQseSkpKSxFJiZUJiZULm5hbWUhPT1oJiYoUz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG8mJiFnfHwhXyYmIVMmJlJbZF18fHMoUixkLE0pLGFbdF09TSxhW0NdPXksailpZih3PXt2YWx1ZXM6RT9NOngoaCksa2V5czptP006eChiKSxlbnRyaWVzOlB9LGcpZm9yKE8gaW4gdylPIGluIFJ8fGkoUixPLHdbT10pO2Vsc2UgbihuLlArbi5GKihffHxTKSx0LHcpO3JldHVybiB3fX0seyIuL19leHBvcnQiOjQyLCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXRlci1jcmVhdGUiOjU2LCIuL19pdGVyYXRvcnMiOjYwLCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWdwbyI6NzIsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxuPSExO3RyeXt2YXIgaT1bN11bb10oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe249ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFuKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW29dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbb109ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6OTd9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1uKGUpLHM9byhpKSxjPXMubGVuZ3RoLGE9MDtjPmE7KWlmKGlbcj1zW2ErK11dPT09dClyZXR1cm4gcn19LHsiLi9fb2JqZWN0LWtleXMiOjc0LCIuL190by1pb2JqZWN0Ijo5MH1dLDYyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL191aWQiKSgibWV0YSIpLG49ZSgiLi9faXMtb2JqZWN0IiksaT1lKCIuL19oYXMiKSxzPWUoIi4vX29iamVjdC1kcCIpLmYsYz0wLGE9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdT0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiBhKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXtzKGUsbyx7dmFsdWU6e2k6Ik8iKyArK2Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbb10uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbykpe2lmKCFhKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbb10ud30sXz1mdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5ORUVEJiZhKGUpJiYhaShlLG8pJiZsKGUpLGV9LHA9dC5leHBvcnRzPXtLRVk6byxORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6X319LHsiLi9fZmFpbHMiOjQzLCIuL19oYXMiOjQ2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZHAiOjY2LCIuL191aWQiOjk0fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX3Rhc2siKS5zZXQsaT1vLk11dGF0aW9uT2JzZXJ2ZXJ8fG8uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW8ucHJvY2VzcyxjPW8uUHJvbWlzZSxhPSJwcm9jZXNzIj09ZSgiLi9fY29mIikocyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLHU9ZnVuY3Rpb24oKXt2YXIgbyxuO2ZvcihhJiYobz1zLmRvbWFpbikmJm8uZXhpdCgpO2U7KXtuPWUuZm4sZT1lLm5leHQ7dHJ5e24oKX1jYXRjaChpKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxpfX10PXZvaWQgMCxvJiZvLmVudGVyKCl9O2lmKGEpcj1mdW5jdGlvbigpe3MubmV4dFRpY2sodSl9O2Vsc2UgaWYoaSl7dmFyIGw9ITAsZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkodSkub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2YuZGF0YT1sPSFsfX1lbHNlIGlmKGMmJmMucmVzb2x2ZSl7dmFyIGQ9Yy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2QudGhlbih1KX19ZWxzZSByPWZ1bmN0aW9uKCl7bi5jYWxsKG8sdSl9O3JldHVybiBmdW5jdGlvbihvKXt2YXIgbj17Zm46byxuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1uKSxlfHwoZT1uLHIoKSksdD1ufX19LHsiLi9fY29mIjozNCwiLi9fZ2xvYmFsIjo0NSwiLi9fdGFzayI6ODd9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWRwcyIpLGk9ZSgiLi9fZW51bS1idWcta2V5cyIpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9ZnVuY3Rpb24oKXt9LGE9InByb3RvdHlwZSIsdT1mdW5jdGlvbigpe3ZhciB0LHI9ZSgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxvPWkubGVuZ3RoLG49Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLHQ9ci5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbiksdC5jbG9zZSgpLHU9dC5GO28tLTspZGVsZXRlIHVbYV1baVtvXV07cmV0dXJuIHUoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhjW2FdPW8oZSkscj1uZXcgYyxjW2FdPW51bGwscltzXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6bihyLHQpfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kb20tY3JlYXRlIjozOSwiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX2h0bWwiOjQ4LCIuL19vYmplY3QtZHBzIjo2NywiLi9fc2hhcmVkLWtleSI6ODN9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobyhlKSx0PWkodCwhMCksbyhyKSxuKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goYyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL190by1wcmltaXRpdmUiOjkzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWtleXMiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe24oZSk7Zm9yKHZhciByLHM9aSh0KSxjPXMubGVuZ3RoLGE9MDtjPmE7KW8uZihlLHI9c1thKytdLHRbcl0pO3JldHVybiBlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1rZXlzIjo3NH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LXBpZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fdG8taW9iamVjdCIpLHM9ZSgiLi9fdG8tcHJpbWl0aXZlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2llOC1kb20tZGVmaW5lIiksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPWkoZSksdD1zKHQsITApLGEpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2gocil7fWlmKGMoZSx0KSlyZXR1cm4gbighby5mLmNhbGwoZSx0KSxlW3RdKX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpuKG8oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbyhlLG4pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9bihlKSxvKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19oYXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9bihlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm8oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbyhjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG4uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxvKG8uUytvLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHQpciYmZVtuXT9lW25dPXRbbl06byhlLG4sdFtuXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG4pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBuW2VdP25bZV06b1tlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKS5mLG49ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFuKGU9cj9lOmUucHJvdG90eXBlLGkpJiZvKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fc2hhcmVkIikoImtleXMiKSxuPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09bihlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49Il9fY29yZS1qc19zaGFyZWRfXyIsaT1vW25dfHwob1tuXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW8oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9byhzKVtpXSk/dDpuKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG4odCkpLGE9byhyKSx1PWMubGVuZ3RoO3JldHVybiBhPDB8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLGk8NTUyOTZ8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvLG4saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLF89bC5jbGVhckltbWVkaWF0ZSxwPWwuTWVzc2FnZUNoYW5uZWwsYj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxqPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZffHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK2JdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxvKGIpLGJ9LF89ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bz1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06cD8obj1uZXcgcCxpPW4ucG9ydDIsbi5wb3J0MS5vbm1lc3NhZ2U9aixvPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obz1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixqLCExKSk6bz15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpffX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9byhlKSxlPDA/bihlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG89TWF0aC5jZWlsLG49TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOm8pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faW9iamVjdCIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9uKG8oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiBlO3ZhciByLG47aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFvKG49ci5jYWxsKGUpKSlyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG89MCxuPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbytuKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLlN5bWJvbHx8KG4uU3ltYm9sPWk/e306by5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxuPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPXMmJmlbZV18fChzP2k6bikoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1vfSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NsYXNzb2YiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbbl18fGVbIkBAaXRlcmF0b3IiXXx8aVtvKGUpXX19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbj1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG4oMSkpOiJrZXlzIj09dD9uKDAscik6InZhbHVlcyI9PXQ/bigwLGVbcl0pOm4oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG8oImtleXMiKSxvKCJ2YWx1ZXMiKSxvKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2V4cG9ydCIpO28oby5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUytvLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obyhlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbyxuLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLF89ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLGI9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsaj1jLlR5cGVFcnJvcixtPWMucHJvY2VzcyxnPWNbdl0sbT1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUobSksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG8pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWYoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG4oZSl9LFM9bj1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG8pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgaigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1vfSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUj1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG89ZS5fdixuPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW4/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhufHwoMj09ZS5faCYmQShlKSxlLl9oPTEpLHM9PT0hMD9yPW86KHUmJnUuZW50ZXIoKSxyPXMobyksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShqKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShvKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbyxuPWUuX3Y7aWYoUChlKSYmKHQ9UihmdW5jdGlvbigpe3c/bS5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpufSk6KG89Yy5jb25zb2xlKSYmby5lcnJvciYmby5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKX0pLGUuX2g9d3x8UChlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxQPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxvPTA7ci5sZW5ndGg+bzspaWYodD1yW28rK10sdC5mYWlsfHwhUCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxBPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9tLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksVCh0LCEwKSl9LE49ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgaigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG89e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbywxKSxhKEQsbywxKSl9Y2F0Y2gobil7RC5jYWxsKG8sbil9fSk6KHIuX3Y9ZSxyLl9zPTEsVChyLCExKSl9Y2F0Y2gobyl7RC5jYWxsKHtfdzpyLF9kOiExfSxvKX19fTtrfHwoZz1mdW5jdGlvbihlKXtfKHRoaXMsZyx2LCJfaCIpLGQoZSksby5jYWxsKHRoaXMpO3RyeXtlKGEoTix0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG89ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sby5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKGIodGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPXc/bS5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksUz1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1hKE4sZSwxKSx0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLAp0LnByb21pc2V9fSksbChsLlMrbC5GKihzfHwhayksdix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PUUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Zy5hbGwoZSlbImNhdGNoIl0oTyl9KSksdix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG89ci5yZXNvbHZlLG49ci5yZWplY3QsaT1SKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG8ocikpfSxuKX0pLC0tc3x8byhyKX0pO3JldHVybiBpJiZuKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVqZWN0LG49UihmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbyl9KX0pO3JldHVybiBuJiZvKG4uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4taW5zdGFuY2UiOjMwLCIuL19hbi1vYmplY3QiOjMxLCIuL19jbGFzc29mIjozMywiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2V4cG9ydCI6NDIsIi4vX2Zvci1vZiI6NDQsIi4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTQsIi4vX2l0ZXItZGV0ZWN0Ijo1OCwiLi9fbGlicmFyeSI6NjIsIi4vX21pY3JvdGFzayI6NjQsIi4vX3JlZGVmaW5lLWFsbCI6NzgsIi4vX3NldC1wcm90byI6ODAsIi4vX3NldC1zcGVjaWVzIjo4MSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo4NSwiLi9fdGFzayI6ODcsIi4vX3drcyI6OTd9XSwxMDg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fc3RyaW5nLWF0IikoITApO2UoIi4vX2l0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW8odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuL19pdGVyLWRlZmluZSI6NTcsIi4vX3N0cmluZy1hdCI6ODZ9XSwxMDk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19oYXMiKSxpPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL19leHBvcnQiKSxjPWUoIi4vX3JlZGVmaW5lIiksYT1lKCIuL19tZXRhIikuS0VZLHU9ZSgiLi9fZmFpbHMiKSxsPWUoIi4vX3NoYXJlZCIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vX3VpZCIpLF89ZSgiLi9fd2tzIikscD1lKCIuL193a3MtZXh0IiksYj1lKCIuL193a3MtZGVmaW5lIiksaD1lKCIuL19rZXlvZiIpLHk9ZSgiLi9fZW51bS1rZXlzIiksdj1lKCIuL19pcy1hcnJheSIpLGo9ZSgiLi9fYW4tb2JqZWN0IiksbT1lKCIuL190by1pb2JqZWN0IiksZz1lKCIuL190by1wcmltaXRpdmUiKSx3PWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxPPWUoIi4vX29iamVjdC1jcmVhdGUiKSxrPWUoIi4vX29iamVjdC1nb3BuLWV4dCIpLHg9ZSgiLi9fb2JqZWN0LWdvcGQiKSxDPWUoIi4vX29iamVjdC1kcCIpLEU9ZSgiLi9fb2JqZWN0LWtleXMiKSxTPXguZixSPUMuZixUPWsuZixNPW8uU3ltYm9sLFA9by5KU09OLEE9UCYmUC5zdHJpbmdpZnksRD0icHJvdG90eXBlIixOPV8oIl9oaWRkZW4iKSxMPV8oInRvUHJpbWl0aXZlIiksRj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxJPWwoInN5bWJvbC1yZWdpc3RyeSIpLFU9bCgic3ltYm9scyIpLHo9bCgib3Atc3ltYm9scyIpLEg9T2JqZWN0W0RdLFY9ImZ1bmN0aW9uIj09dHlwZW9mIE0sQj1vLlFPYmplY3QsSj0hQnx8IUJbRF18fCFCW0RdLmZpbmRDaGlsZCxXPWkmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TyhSKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFIodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPVMoSCx0KTtvJiZkZWxldGUgSFt0XSxSKGUsdCxyKSxvJiZlIT09SCYmUihILHQsbyl9OlIsWT1mdW5jdGlvbihlKXt2YXIgdD1VW2VdPU8oTVtEXSk7cmV0dXJuIHQuX2s9ZSx0fSxxPVYmJiJzeW1ib2wiPT10eXBlb2YgTS5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTX0sSz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZLKHosdCxyKSxqKGUpLHQ9Zyh0LCEwKSxqKHIpLG4oVSx0KT8oci5lbnVtZXJhYmxlPyhuKGUsTikmJmVbTl1bdF0mJihlW05dW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihuKGUsTil8fFIoZSxOLHcoMSx7fSkpLGVbTl1bdF09ITApLFcoZSx0LHIpKTpSKGUsdCxyKX0sRz1mdW5jdGlvbihlLHQpe2ooZSk7Zm9yKHZhciByLG89eSh0PW0odCkpLG49MCxpPW8ubGVuZ3RoO2k+bjspSyhlLHI9b1tuKytdLHRbcl0pO3JldHVybiBlfSxaPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpHKE8oZSksdCl9LFg9ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZuKFUsZSkmJiFuKHosZSkpJiYoISh0fHwhbih0aGlzLGUpfHwhbihVLGUpfHxuKHRoaXMsTikmJnRoaXNbTl1bZV0pfHx0KX0sJD1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PWcodCwhMCksZSE9PUh8fCFuKFUsdCl8fG4oeix0KSl7dmFyIHI9UyhlLHQpO3JldHVybiFyfHwhbihVLHQpfHxuKGUsTikmJmVbTl1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSxRPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPVQobShlKSksbz1bXSxpPTA7ci5sZW5ndGg+aTspbihVLHQ9cltpKytdKXx8dD09Tnx8dD09YXx8by5wdXNoKHQpO3JldHVybiBvfSxlZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09SCxvPVQocj96Om0oZSkpLGk9W10scz0wO28ubGVuZ3RoPnM7KSFuKFUsdD1vW3MrK10pfHxyJiYhbihILHQpfHxpLnB1c2goVVt0XSk7cmV0dXJuIGl9O1Z8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09SCYmdC5jYWxsKHosciksbih0aGlzLE4pJiZuKHRoaXNbTl0sZSkmJih0aGlzW05dW2VdPSExKSxXKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmSiYmVyhILGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyhILCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkscC5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKF8oZSkpfSkscyhzLkcrcy5XK3MuRiohVix7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKF8uc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOyliKHRlW3JlKytdKTtzKHMuUytzLkYqIVYsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBuKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtKPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtKPSExfX0pLHMocy5TK3MuRiohViwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLFAmJnMocy5TK3MuRiooIVZ8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPUEoW2VdKXx8Int9IiE9QSh7YTplfSl8fCJ7fSIhPUEoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbz1bZV0sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspby5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gdD1vWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZihyJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhcSh0KSlyZXR1cm4gdH0pLG9bMV09dCxBLmFwcGx5KFAsbyl9fX0pLE1bRF1bTF18fGUoIi4vX2hpZGUiKShNW0RdLEwsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wO2E8NTthKyspe3ZhciB1PWNbYV0sbD1vW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm4oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixvKXsidXNlIHN0cmljdCI7dmFyIG4saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbyl9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89cnx8MDtvPGUubGVuZ3RoO28rKylpZihlW29dPT09dClyZXR1cm4gbztyZXR1cm4tMX0sdT1yLk1hcCE9PW8mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG8pe3ZhciBuPWEoZSxyKTtuPT09LTE/KGUucHVzaChyKSx0LnB1c2gobyksdGhpcy5zaXplKyspOnRbbl09b30sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG89YShlLHIpO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtvXSxlW29dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBvPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO28ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBuLGk9MDtpPG8ubGVuZ3RoOykobj1hKHIsb1tpKytdKSk+LTEmJnIuc3BsaWNlKG4sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixvLG49W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZuLnB1c2gocik7ZWxzZXtvPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdClvLmNhbGwodCxyKSYmbi5wdXNoKHIpfXJldHVybiBjKHQpJiZuLnB1c2goImxlbmd0aCIpLG59LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXz1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCkscD1mdW5jdGlvbihlLHQscil7dmFyIG89bi5nZXQoZSk7bz8oaChvLGUpLG0oZSxvLHQscikpOihvPWIoZSksbShlLG8sdCxyKSwxPT09bi5zaXplJiZfKHkpKX0sYj1mdW5jdGlvbih0LHIpe3ZhciBvLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOiEhZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KSxleHRlbnNpYmxlOiFlLmlzRXh0ZW5zaWJsZXx8ZS5pc0V4dGVuc2libGUodCkscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6aih0LHIpfTtpZihkKWZvcihvPXIuZGVzY3JpcHRvcnM9W107YzxpLmxlbmd0aDspb1tjXT1kKHQsaVtjXSksc1tjXT10W2lbYysrXV07ZWxzZSBmb3IoO2M8aS5sZW5ndGg7KXNbY109dFtpW2MrK11dO3JldHVybiBuLnNldCh0LHIpLHJ9LGg9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG8sbil7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxjPXQudmFsdWVzW3JdLGE9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbiYmKGM9PT1zPzA9PT1jJiYxL2MhPT0xL3M6Yz09PWN8fHM9PT1zKSYmKGcoZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxvKSx0LnZhbHVlc1tyXT1zKSwhYS5jb25maWd1cmFibGV8fG4uY29uZmlndXJhYmxlJiZuLndyaXRhYmxlPT09YS53cml0YWJsZSYmbi5lbnVtZXJhYmxlPT09YS5lbnVtZXJhYmxlJiZuLmdldD09PWEuZ2V0JiZuLnNldD09PWEuc2V0fHwoZyhlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC5kZXNjcmlwdG9yc1tyXT1uKX06ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49dC5wcm9wZXJ0aWVzW3JdLGk9ZVtuXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihnKGUsdCx7bmFtZTpuLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbyksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbyxuLGkpe2Zvcih2YXIgcyxjPXIubGVuZ3RoO28mJmMtLTspbnVsbCE9PXJbY10mJihzPWQoZSxyW2NdKSxvLS0scz90KGUsbixjLGkscyk6KGcoZSxuLHtuYW1lOnJbY10sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tjXX0saSksbi5wcm9wZXJ0aWVzLnNwbGljZShjLDEpLG4udmFsdWVzLnNwbGljZShjLDEpLG4uZGVzY3JpcHRvcnMuc3BsaWNlKGMsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbyxuKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGcoZSxvLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1tpXX0sbiksby5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG8udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihvLG4saSl7aWYoby5oYW5kbGVycy5zaXplJiYhby5mcm96ZW4pe3ZhciBzLGMsdSxfLHAsYixoLHksdj1vLnZhbHVlcyxqPW8uZGVzY3JpcHRvcnMsbT0wO2lmKG8uZXh0ZW5zaWJsZSlpZihzPW8ucHJvcGVydGllcy5zbGljZSgpLGM9cy5sZW5ndGgsdT1sKG4pLGope2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCkseT1kKG4scCksXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChuW3BdKSxqLnB1c2goeSkpOihzW19dPW51bGwsYy0tLHQobixvLF8saSx5KSk7cihuLHMsYyxvLGkpLGUuaXNFeHRlbnNpYmxlKG4pfHwoby5leHRlbnNpYmxlPSExLGcobixvLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om59LGkpLG8uZnJvemVuPWUuaXNGcm96ZW4obikpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOylwPXVbbSsrXSxfPWEocyxwKSxiPW5bcF0sXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChiKSk6KHNbX109bnVsbCxjLS0sdChuLG8sXyxpKSk7cihuLHMsYyxvLGkpfWVsc2UgaWYoIW8uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKXA9c1ttXSx0KG4sbyxtLGksZChuLHApKTtlLmlzRnJvemVuKG4pJiYoby5mcm96ZW49ITApfWYmJihoPWYobiksaCE9PW8ucHJvdG8mJihnKG4sbyx7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpuLG9sZFZhbHVlOm8ucHJvdG99KSxvLnByb3RvPWgpKX19fSgpLHk9ZnVuY3Rpb24oKXtuLnNpemUmJihuLmZvckVhY2goaCksaS5mb3JFYWNoKHYpLF8oeSkpfSx2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9bi5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW4uZ2V0KGUpO2lmKHIpe3ZhciBvLGk9e29iamVjdDplfTtmb3IobyBpbiB0KSJvYmplY3QiIT09byYmKGlbb109dFtvXSk7ZyhlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxjPW4uZ2V0KGUpLGE9YXJndW1lbnRzWzJdLHU9YT09PW8/cigpOnIuY2FsbChhKTtpZihjJiZoKGMsZSx0KSxjJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2coZSxjLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPWkuZ2V0KHIpO258fGkuc2V0KHIsbj17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxuLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om8uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG4pfSxnPWZ1bmN0aW9uKGUsdCxyLG8pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG98fGEobixvKT09PS0xKSYmYShuLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O249dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbil7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobj09PW8pbj1zO2Vsc2UgaWYoIW58fCJvYmplY3QiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIHAodCxyLG4pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG89aS5nZXQodCk7cmV0dXJuIG8mJihyPW8ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG8ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksXyhmdW5jdGlvbigpe3Yobyx0KX0pLDE9PT1vLm9ic2VydmVkLnNpemUmJm8ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm8ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9uWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6aih0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksdih0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBuPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1vKG4pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGM9byhzKSxhPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW8oYSk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1jWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExNywiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL3N5bmNoZXIvU3luY2hlciI6MTIxLCJhcnJheS5vYnNlcnZlIjoxLCJvYmplY3Qub2JzZXJ2ZSI6MTEzfV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1vKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1vKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IiksXz1vKGQpLHA9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxiPW8ocCksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW8sYy5fc3RhdHVzPW4sYy5fc3luY09iaj1uZXcgX1siZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIG49citvLGk9dC5fYnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBvPXIuX293bmVyKyIjIityLl9jaGlsZElkLG49ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpuLGJvZHk6e3Jlc291cmNlOm8sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgYlsiZGVmYXVsdCJdKHIsbyx0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpuLGNoaWxkSWQ6b30pfSksci5fY2hpbGRyZW5PYmplY3RzW29dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBvPW5ldyBiWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW8sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbj17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixuKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihuKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG89e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYoby5ib2R5LnZhbHVlPWUuZGF0YSk6KG8uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsby5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG8uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihvLnRvPXQucGF0aCxvLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobyl9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG89dC5ib2R5LmF0dHJpYnV0ZSxuPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG8pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG4pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG4pfWVsc2UgaS5vYmpbaS5sYXN0XT1uO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bjpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxvPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtvP3QuX2NoYW5nZU9iamVjdChvLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNiwiLi9TeW5jT2JqZWN0IjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1vKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1vKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW4sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obyksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1vKG0pLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbz17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG49ZS5pbmRleE9mKCIqIik7bj09PWUubGVuZ3RoLTEmJigwPT09bj9vLnR5cGU9dy5BTlk6KG8udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09b319LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fZmlsdGVyc1tyXTtvLnR5cGU9PT13LkFOWT9vLmNhbGxiYWNrKGUpOm8udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmby5jYWxsYmFjayhlKTpvLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmby5jYWxsYmFjayhlKX0pfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTUsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbz17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bzt2YXIgbj17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtuW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6bn19fSksb30scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG89dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6b307dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0IjoxMTUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1vLHMuX2NoaWxkcmVuPW4scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgbiBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W25dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG4pLHRbbl0pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbyk7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgXyh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXS5vYmplY3QsaT12b2lkIDA7aWYobi5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Yi5PQkpFQ1QpLG4uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Yi5BUlJBWSksInNwbGljZSI9PT10W29dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtvXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtvXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtvXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG8pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK28pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtvXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgYj1uLnNsaWNlKHMscytkKTtiLmZvckVhY2goZnVuY3Rpb24odCxvKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWVbIm5ldyJdKG5ldyBfKHQscytvKSk7ci5faW50ZXJuYWxPYnNlcnZlKG4sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYil9KX1zIT09bi5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShuKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbb10ubmFtZSksYz1zLnRvU3RyaW5nKCk7aWYoYy5pbmRleE9mKCJTeW1ib2wiKSE9PS0xKWNvbnRpbnVlO3ZhciBhPW5bdFtvXS5uYW1lXTsidXBkYXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbb10udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtvXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fb2JzZXJ2YWJsZXNbcl0sbj1lLmluZGV4T2Yoby5vYmopO28uaWR4IT1uJiYoby5pZHg9bixkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbbl09byl9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09XyYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLHA9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sYj1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW8oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9byhsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIiksXz1vKGQpLHA9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxiPW8ocCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24uX293bmVyPXQsbi5fYnVzPXIsbi5fc3ViVVJMPW8ucnVudGltZVVSTCsiL3NtIixuLl9yZXBvcnRlcnM9e30sbi5fb2JzZXJ2ZXJzPXt9LG4uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpuLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm4uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpuLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXM7ci5yZXBvcnRlcj1vLl9vd25lcixyLnNjaGVtYT1lO3ZhciBuPXt0eXBlOiJjcmVhdGUiLGZyb206by5fb3duZXIsdG86by5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe28uX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBzPW4uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obyxzLGUsIm9uIixyLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyk7by5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG89e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG4saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKXM9bmV3IGJbImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09by5ib2R5LmNvZGUpe3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocix0LGUsIm9uIixvLmJvZHkudmFsdWUscy5jaGlsZHJlbixvLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbihjKSxzLmFwcGx5KGMpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbyl7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7CmNvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpvKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxvPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm99fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbz10Ll9vYnNlcnZlcnNbcl07aWYobyl7dmFyIG49e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLDIwMD09PW4mJm9bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTgsIi4vRGF0YVByb3Zpc2lvbmFsIjoxMTksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbihlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixvPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7b1swXT09PWUmJihvWzBdPSJodHRwcyIsb1sxXT1lKTt2YXIgbj17dHlwZTpvWzBdLGRvbWFpbjpvWzFdLGlkZW50aXR5Om9bMl19O3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9bihlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9bihlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1vKGYpLF89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1vKF8pO3IuZGl2aWRlVVJMPW4sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTRdKSgxMTQpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlcicpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRlbnRpdHlNYW5hZ2VyKTsKCnZhciBfU3luY2hlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpOwoKdmFyIF9EaXNjb3ZlcnkgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeScpOwoKdmFyIF9EaXNjb3ZlcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzY292ZXJ5KTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKdmFyIF9TZWFyY2ggPSByZXF1aXJlKCcuL1NlYXJjaCcpOwoKdmFyIF9TZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCnZhciBCcmFjZWxldFNlbnNvck9ic2VydmVyID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEJyYWNlbGV0U2Vuc29yT2JzZXJ2ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnJhY2VsZXRTZW5zb3JPYnNlcnZlcik7CgogICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIGlkZW50aXR5TWFuYWdlciA9IG5ldyBfSWRlbnRpdHlNYW5hZ2VyMi5kZWZhdWx0KGh5cGVydHlVUkwsIGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCwgYnVzKTsKICAgIGNvbnNvbGUubG9nKCdoeXBlcnR5VVJMLT4nLCBoeXBlcnR5VVJMKTsKICAgIF90aGlzLl9kb21haW4gPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkoaHlwZXJ0eVVSTCkuZG9tYWluOwogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIF90aGlzLl9kb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29udGV4dCc7CgogICAgY29uc29sZS5sb2coJ0luaXQgQnJhY2VsZXRTZW5zb3JPYnNlcnZlcjogJywgaHlwZXJ0eVVSTCk7CiAgICBfdGhpcy5fc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbik7CiAgICB2YXIgZGlzY292ZXJ5ID0gbmV3IF9EaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgYnVzKTsKICAgIF90aGlzLl9kaXNjb3ZlcnkgPSBkaXNjb3Zlcnk7CiAgICBfdGhpcy5pZGVudGl0eU1hbmFnZXIgPSBpZGVudGl0eU1hbmFnZXI7CiAgICBfdGhpcy5zZWFyY2ggPSBuZXcgX1NlYXJjaDIuZGVmYXVsdChkaXNjb3ZlcnksIGlkZW50aXR5TWFuYWdlcik7CiAgICB3aW5kb3cuZGlzY292ZXJ5ID0gX3RoaXMuX2Rpc2NvdmVyeTsKICB9CgogIF9jcmVhdGVDbGFzcyhCcmFjZWxldFNlbnNvck9ic2VydmVyLCBbewogICAga2V5OiAnZGlzY292ZXJ5JywKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb3ZlcnkoZW1haWwsIGRvbWFpbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzLnNlYXJjaC51c2VycyhbZW1haWxdLCBkb21haW4pLnRoZW4oZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHJlc29sdmUoYSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ2Nvbm5lY3QnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3QoaHlwZXJ0eUlEKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXMuX2Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RQZXJSZXBvcnRlcihoeXBlcnR5SUQsIF90aGlzLl9kb21haW4pLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3QpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb3ZlcnkgZGF0YW9iamVjdCcsIGRhdGFPYmplY3QpOwogICAgICAgICAgdmFyIGtleSA9IE9iamVjdC5rZXlzKGRhdGFPYmplY3QpOwogICAgICAgICAgY29uc29sZS5sb2coJ1VSTCBEQVRBIE9iamVjdCcsIGtleVswXSk7CiAgICAgICAgICByZXNvbHZlKGtleVswXSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ09ic2VydmVCcmFjZWxldCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gT2JzZXJ2ZUJyYWNlbGV0KHVybCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzLl9zeW5jaGVyLnN1YnNjcmliZShfdGhpcy5fb2JqZWN0RGVzY1VSTCwgdXJsKS50aGVuKGZ1bmN0aW9uIChvYnNlcnZlcikgewogICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEgb2JqZWN0IG9ic2VydmVyJywgb2JzZXJ2ZXIpOwogICAgICAgICAgcmVzb2x2ZShvYnNlcnZlcik7CiAgICAgICAgICBvYnNlcnZlci5vbkNoYW5nZSgnKicsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQtPi0+LT4tPi0+OicsIGV2ZW50KTsKCiAgICAgICAgICAgIGlmIChfdGhpcy5fb25DaGFuZ2UpIF90aGlzLl9vbkNoYW5nZShldmVudCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnb25DaGFuZ2UnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9vbkNoYW5nZSA9IGNhbGxiYWNrOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJyYWNlbGV0U2Vuc29yT2JzZXJ2ZXI7Cn0oKTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogIHJldHVybiB7CiAgICBuYW1lOiAnQnJhY2VsZXRTZW5zb3JPYnNlcnZlcicsCiAgICBpbnN0YW5jZTogbmV3IEJyYWNlbGV0U2Vuc29yT2JzZXJ2ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKQogIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvdXRpbHMiOjYsIi4vU2VhcmNoIjo1LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXIiOjIsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6M31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLy8gVE9ETzogb3B0aW1pemUgdGhpcyBwcm9jZXNzCnZhciBET01BSU5TID0gWydoeWJyb2tlci5yZXRoaW5rLnB0aW5vdmFjYW8ucHQnLCAncmV0aGluay5xdW9iaXMuY29tJ107Cgp2YXIgU2VhcmNoID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNlYXJjaChkaXNjb3ZlcnksIGlkZW50aXR5TWFuYWdlcikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlYXJjaCk7CgogICAgaWYgKCFkaXNjb3ZlcnkpIHRocm93IG5ldyBFcnJvcignVGhlIGRpc2NvdmVyeSBjb21wb25lbnQgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWlkZW50aXR5TWFuYWdlcikgdGhyb3cgbmV3IEVycm9yKCdUaGUgaWRlbnRpdHlNYW5hZ2VyIGNvbXBvbmVudCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF90aGlzLmRpc2NvdmVyeSA9IGRpc2NvdmVyeTsKICAgIF90aGlzLmlkZW50aXR5TWFuYWdlciA9IGlkZW50aXR5TWFuYWdlcjsKICB9CgogIF9jcmVhdGVDbGFzcyhTZWFyY2gsIFt7CiAgICBrZXk6ICdteUlkZW50aXR5JywKICAgIHZhbHVlOiBmdW5jdGlvbiBteUlkZW50aXR5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgX3RoaXMuaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHJlc29sdmUocmVzdWx0KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMaXN0IG9mIHVzZXJzVVJMIHRvIHNlYXJjaAogICAgICogQHBhcmFtICB7YXJyYXk8VVJMLnVzZXJVUkw+fSAgdXNlcnMgTGlzdCBvZiBVc2VyVVIsIGxpa2UgdGhpcyBmb3JtYXQgdXNlcjovLzxpcGRkb21haW4+Lzx1c2VyLWlkZW50aWZpZXI+CiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfQogICAgICovCgogIH0sIHsKICAgIGtleTogJ3VzZXJzJywKICAgIHZhbHVlOiBmdW5jdGlvbiB1c2Vycyh1c2Vyc1VSTHMsIHByb3ZpZGVkRG9tYWluKSB7CgogICAgICBpZiAoIXVzZXJzVVJMcykgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZicpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewoKICAgICAgICBjb25zb2xlLmxvZyh1c2Vyc1VSTHMsIHVzZXJzVVJMcy5sZW5ndGgpOwoKICAgICAgICBpZiAodXNlcnNVUkxzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgY29uc29sZS5pbmZvKCdEb25cJ3QgaGF2ZSB1c2VycyB0byBkaXNjb3ZlcnknKTsKICAgICAgICAgIHJlc29sdmUodXNlcnNVUkxzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0dldCBhbGwgdXNlcnMnKTsKICAgICAgICAgICAgdmFyIGdldFVzZXJzID0gW107CgogICAgICAgICAgICB1c2Vyc1VSTHMuZm9yRWFjaChmdW5jdGlvbiAodXNlclVSTCkgewogICAgICAgICAgICAgIGlmIChwcm92aWRlZERvbWFpbikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlYXJjaCBmb3IgcHJvdmlkZWQgZG9tYWluOicsIHByb3ZpZGVkRG9tYWluKTsKICAgICAgICAgICAgICAgIGdldFVzZXJzLnB1c2goX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eSh1c2VyVVJMLCBbJ2NvbnRleHQnXSwgWydzdGVwcycsICdiYXR0ZXJ5J10sIHByb3ZpZGVkRG9tYWluKSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIERPTUFJTlMuZm9yRWFjaChmdW5jdGlvbiAoZG9tYWluKSB7CiAgICAgICAgICAgICAgICAgIGdldFVzZXJzLnB1c2goX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eSh1c2VyVVJMLCBbJ2NvbnRleHQnXSwgWydzdGVwcycsICdiYXR0ZXJ5J10sIGRvbWFpbikpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnUmVxdWVzdHMgcHJvbWlzZXM6ICcsIGdldFVzZXJzKTsKICAgICAgICAgICAgUHJvbWlzZS5hbGwoZ2V0VXNlcnMpLnRoZW4oZnVuY3Rpb24gKGh5cGVydGllcykgewoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSHlwZXJ0aWVzOiAnLCBoeXBlcnRpZXMpOwoKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaHlwZXJ0aWVzLm1hcChmdW5jdGlvbiAoaHlwZXJ0eSkgewoKICAgICAgICAgICAgICAgIHZhciByZWNlbnQgPSBPYmplY3Qua2V5cyhoeXBlcnR5KS5yZWR1Y2VSaWdodChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICB2YXIgaHlwZXJ0eURhdGUgPSBuZXcgRGF0ZShoeXBlcnR5W2JdLmxhc3RNb2RpZmllZCk7CiAgICAgICAgICAgICAgICAgIHZhciBoeXBlcnR5RGF0ZVAgPSBuZXcgRGF0ZShoeXBlcnR5W2FdLmxhc3RNb2RpZmllZCk7CiAgICAgICAgICAgICAgICAgIGlmIChoeXBlcnR5RGF0ZVAuZ2V0VGltZSgpIDwgaHlwZXJ0eURhdGUuZ2V0VGltZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBoeXBlcnR5W3JlY2VudF07CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHZhciBjbGVhbiA9IHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKGh5cGVydHkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBoeXBlcnR5OwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1JlcXVlc3RzIHJlc3VsdDogJywgY2xlYW4pOwogICAgICAgICAgICAgIHJlc29sdmUoY2xlYW4pOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICAgICAgICAgIHJlc29sdmUodXNlcnNVUkxzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2VhcmNoOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBTZWFyY2g7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kaXZpZGVVUkwgPSBkaXZpZGVVUkw7CmV4cG9ydHMuZGVlcENsb25lID0gZGVlcENsb25lOwpleHBvcnRzLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTsKLyoqCiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKiovCgovLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8KCi8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCgovKioKICogQHR5cGVkZWYgZGl2aWRlVVJMCiAqIEB0eXBlIE9iamVjdAogKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTAogKi8KCi8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi8KZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkgewoKICAvLyBsZXQgcmUgPSAvKFthLXpBLVotXSopPzpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKSooXC9bXC9cZFx3XC4tXSopKig/OltcP10pKiguKykqL2dpOwogIHZhciByZSA9IC8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpOwogIHZhciBzdWJzdCA9ICckMSwkMiwkMyc7CiAgdmFyIHBhcnRzID0gdXJsLnJlcGxhY2UocmUsIHN1YnN0KS5zcGxpdCgnLCcpOwoKICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzCiAgaWYgKHBhcnRzWzBdID09PSB1cmwpIHsKICAgIHBhcnRzWzBdID0gJ2h0dHBzJzsKICAgIHBhcnRzWzFdID0gdXJsOwogIH0KCiAgdmFyIHJlc3VsdCA9IHsKICAgIHR5cGU6IHBhcnRzWzBdLAogICAgZG9tYWluOiBwYXJ0c1sxXSwKICAgIGlkZW50aXR5OiBwYXJ0c1syXQogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHsKICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCiAgaWYgKG9iaikgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0KCi8qKgogKiBHZXQgV2ViUlRDIEFQSSByZXNvdXJjZXMKICogQHBhcmFtICB7b2JqZWN0fSAgICAgb3B0aW9ucyBPYmplY3QgY29udGFpbmluZyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXNvdXJjZXMgd2lsbCBiZSB1c2VkIChjYW1lcmEsIG1pYywgcmVzb2x1dGlvbiwgZXRjKTsKICogQHJldHVybiB7UHJvbWlzZX0KICovCmZ1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cykgewoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChtZWRpYVN0cmVhbSkgewogICAgICByZXNvbHZlKG1lZGlhU3RyZWFtKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICB9KTsKICB9KTsKfQoKfSx7fV19LHt9LFs0XSkoNCkKfSk7",
      "sourceCodeClassname": "BraceletSensorObserver",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10001,
    "version": "0.1",
    "description": "Description of BraceletSensorObserver",
    "language": "javascript",
    "hypertyType": [
      "heart_rate",
      "sleep"
    ],
    "objectName": "BraceletSensorObserver",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "dataObjects": [
      "https://catalogue.hybroker.rethink.ptinovacao.pt/.well-known/dataschema/Context"
    ]
  },
  "Connector": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOCBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1uKHQpLHU9byhhLmxlbmd0aCksZj1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1PmY7KWlmKGM9YVtmKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+ZjtmKyspaWYoKGV8fGYgaW4gYSkmJmFbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGYsbCxfPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyx2PWUmYS5QLHk9ZSZhLkIsYj1lJmEuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksbT1oW2NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW2NdO2QmJihyPXQpO2Zvcih1IGluIHIpZj0hXyYmZyYmdm9pZCAwIT09Z1t1XSxmJiZ1IGluIGh8fChsPWY/Z1t1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbdV0/clt1XTp5JiZmP2kobCxuKTpiJiZnW3VdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0obCk6diYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsdiYmKChoLnZpcnR1YWx8fChoLnZpcnR1YWw9e30pKVt1XT1sLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsbCkpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixsLF8pe3ZhciBkLHAsdix5LGI9Xz9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLGg9bihyLGwsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IoZD1jKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9oKHMocD1lW21dKVswXSxwWzFdKTpoKGVbbV0pLHk9PT11fHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWIuY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGgscC52YWx1ZSx0KSx5PT09dXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9dSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vX29iamVjdC1ncG8iKSxfPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixoLG0sZyxqKXt1KHIsdCxoKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFU9ITEsUz1lLnByb3RvdHlwZSxFPVNbX118fFNbcF18fG0mJlNbbV0sUj1FfHxPKG0pLEw9bT9QP08oImVudHJpZXMiKTpSOnZvaWQgMCxUPSJBcnJheSI9PXQ/Uy5lbnRyaWVzfHxFOkU7aWYoVCYmKGs9bChULmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxjKGssXyl8fHMoayxfLGIpKSksUCYmRSYmRS5uYW1lIT09eSYmKFU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFVJiZTW19dfHxzKFMsXyxSKSxhW3RdPVIsYVtNXT1iLG0paWYoeD17dmFsdWVzOlA/UjpPKHkpLGtleXM6Zz9SOk8odiksZW50cmllczpMfSxqKWZvcih3IGluIHgpdyBpbiBTfHxpKFMsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8VSksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYz1uLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IoYSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLGw9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUobCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtsLmRhdGE9Zj0hZn19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBfPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtfLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLHUpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSx1PXQuRjtuLS07KWRlbGV0ZSB1W2FdW2lbbl1dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1uKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOyluLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG8oIW4uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSkscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYz1vKGUpLGE9MCx1PVtdO2ZvcihyIGluIGMpciE9cyYmbihjLHIpJiZ1LnB1c2gocik7Zm9yKDt0Lmxlbmd0aD5hOyluKGMscj10W2ErK10pJiYofmkodSxyKXx8dS5wdXNoKHIpKTtyZXR1cm4gdX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oaWRlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdClyJiZlW29dP2Vbb109dFtvXTpuKGUsbyx0W29dKTtyZXR1cm4gZX19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbil7dHJ5e249ZSgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCxlKCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLHI/ZS5fX3Byb3RvX189dDpuKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fb2JqZWN0LWRwIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGM9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2NdJiZpLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLmYsbz1lKCIuL19oYXMiKSxpPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgia2V5cyIpLG89ZSgiLi9fdWlkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19hLWZ1bmN0aW9uIiksaT1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIGE8MHx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksaTw1NTI5Nnx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fY3R4IiksYz1lKCIuL19pbnZva2UiKSxhPWUoIi4vX2h0bWwiKSx1PWUoIi4vX2RvbS1jcmVhdGUiKSxmPWUoIi4vX2dsb2JhbCIpLGw9Zi5wcm9jZXNzLF89Zi5zZXRJbW1lZGlhdGUsZD1mLmNsZWFySW1tZWRpYXRlLHA9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGg9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7aC5jYWxsKGUuZGF0YSl9O18mJmR8fChfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0sZD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuL19jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhoLGUsMSkpfTpwPyhvPW5ldyBwLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLGguY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhoLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpfLGNsZWFyOmR9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9vKGUrdCwwKTppKGUsdCl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pb2JqZWN0Iiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgid2tzIiksbz1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jbGFzc29mIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TK24uRiohZSgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6ZSgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8tb2JqZWN0Iiksbz1lKCIuL19vYmplY3Qta2V5cyIpO2UoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbihlLHQscil7fSx7fV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxmPWUoIi4vX2V4cG9ydCIpLGw9ZSgiLi9faXMtb2JqZWN0IiksXz0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxkPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSx2PShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx5PWUoIi4vX3Rhc2siKS5zZXQsYj1lKCIuL19taWNyb3Rhc2siKSgpLGg9IlByb21pc2UiLG09Yy5UeXBlRXJyb3IsZz1jLnByb2Nlc3Msaj1jW2hdLGc9Yy5wcm9jZXNzLHg9InByb2Nlc3MiPT11KGcpLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1qLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZSh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1qJiZ0PT09aX0sTT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFsKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTyhqLGUpP25ldyBVKGUpOm5ldyBvKGUpfSxVPW89ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1fKHQpLHRoaXMucmVqZWN0PV8ocil9LFM9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8ob3x8KDI9PWUuX2gmJlQoZSksZS5faD0xKSxzPT09ITA/cj1uOih1JiZ1LmVudGVyKCkscj1zKG4pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobil9Y2F0Y2goZil7YShmKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJlIoZSl9KX19LFI9ZnVuY3Rpb24oZSl7eS5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG4sbz1lLl92O2lmKEwoZSkmJih0PVMoZnVuY3Rpb24oKXt4P2cuZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246b30pOihuPWMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSxlLl9oPXh8fEwoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sTD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbj0wO3IubGVuZ3RoPm47KWlmKHQ9cltuKytdLHQuZmFpbHx8IUwodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sVD1mdW5jdGlvbihlKXt5LmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3g/Zy5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9TShlKSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShDLG4sMSksYShBLG4sMSkpfWNhdGNoKG8pe0EuY2FsbChuLG8pfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGo9ZnVuY3Rpb24oZSl7ZCh0aGlzLGosaCwiX2giKSxfKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShhKEMsdGhpcywxKSxhKEEsdGhpcywxKSl9Y2F0Y2godCl7QS5jYWxsKHRoaXMsdCl9fSxuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGoucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9UCh2KHRoaXMsaikpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJkUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShDLGUsMSksdGhpcy5yZWplY3Q9YShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosaCksZSgiLi9fc2V0LXNwZWNpZXMiKShoKSxpPWUoIi4vX2NvcmUiKVtoXSxmKGYuUytmLkYqIWssaCx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhayksaCx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksaCx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1TKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG4ocikpfSxvKX0pLC0tc3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSxhPTA7YTw1O2ErKyl7dmFyIHU9Y1thXSxmPW5bdV0sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFtzXSYmbyhsLHMsdSksaVt1XT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiRGF0YU9iamVjdCBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bj9uOm8uZG9tYWluO3ZhciBjPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MrIi8iLGJvZHk6e3Jlc291cmNlOmUsY3JpdGVyaWE6e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnR9fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwLGM9KDAsZi5jb252ZXJ0VG9Vc2VyVVJMKShlKTtzPW4/bjpvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzKyIvIixib2R5OntyZXNvdXJjZTpjLGNyaXRlcmlhOntyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7by5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciBhPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTxhLmdldFRpbWUoKSYmKGk9YSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgdT1zO2lmKHZvaWQgMD09PXUpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbdV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOnV9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19LHtrZXk6ImRlbGV0ZUh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89dm9pZCAwO289cj9yOm4uZG9tYWluO3ZhciBzPXt0eXBlOiJkZWxldGUiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbysiLyIsYm9keTp7dmFsdWU6e3VzZXI6ZSx1cmw6dH19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlO24/ZSgiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOnQoIkVycm9yIG9uIGRlbGV0aW5nIGh5cGVydHkiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxfWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksXz1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1uKGQpO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs4MF0pKDgwKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5JZGVudGl0eU1hbmFnZXI9dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChlLHIsbil7ZnVuY3Rpb24gbyhjLHMpe2lmKCFyW2NdKXtpZighZVtjXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXMmJnUpcmV0dXJuIHUoYywhMCk7aWYoaSlyZXR1cm4gaShjLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitjKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbY109e2V4cG9ydHM6e319O2VbY11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVtjXVsxXVt0XTtyZXR1cm4gbyhyP3I6dCl9LGYsZi5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW2NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGM9MDtjPG4ubGVuZ3RoO2MrKylvKG5bY10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dCgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24odCxlLHIpe3QoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj10KCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkodCxlLHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbih0LGUscil7dCgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSxlLmV4cG9ydHM9dCgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24odCxlLHIpe3QoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0KCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSx0KCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0KCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksZS5leHBvcnRzPXQoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiB0fX0se31dLDEyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx2b2lkIDAhPT1uJiZuIGluIHQpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIHR9fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pcy1vYmplY3QiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIW4odCkpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiB0fX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pb2JqZWN0Iiksbz10KCIuL190by1sZW5ndGgiKSxpPXQoIi4vX3RvLWluZGV4Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsYyl7dmFyIHMsdT1uKGUpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYodCYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKHR8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2NvZiIpLG89dCgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gocil7fX07ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLHIscztyZXR1cm4gdm9pZCAwPT09dD8iVW5kZWZpbmVkIjpudWxsPT09dD8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWMoZT1PYmplY3QodCksbykpP3I6aT9uKGUpOiJPYmplY3QiPT0ocz1uKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbih0LGUscil7dmFyIG49ZS5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hLWZ1bmN0aW9uIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtpZihuKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHQuY2FsbChlLHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQuY2FsbChlLHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiB0LmNhbGwoZSxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrdCk7cmV0dXJuIHR9fSx7fV0sMjE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9IXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iiksbz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19jb3JlIiksaT10KCIuL19jdHgiKSxjPXQoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24odCxlLHIpe3ZhciBhLGYsXyxsPXQmdS5GLHA9dCZ1LkcsZD10JnUuUyxoPXQmdS5QLHY9dCZ1LkIsYj10JnUuVyx5PXA/bzpvW2VdfHwob1tlXT17fSksbT15W3NdLGo9cD9uOmQ/bltlXToobltlXXx8e30pW3NdO3AmJihyPWUpO2ZvcihhIGluIHIpZj0hbCYmaiYmdm9pZCAwIT09althXSxmJiZhIGluIHl8fChfPWY/althXTpyW2FdLHlbYV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbYV0/clthXTp2JiZmP2koXyxuKTpiJiZqW2FdPT1fP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUscixuKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUscil9cmV0dXJuIG5ldyB0KGUscixuKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW3NdPXRbc10sZX0oXyk6aCYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8saCYmKCh5LnZpcnR1YWx8fCh5LnZpcnR1YWw9e30pKVthXT1fLHQmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCxlLmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY3R4Iiksbz10KCIuL19pdGVyLWNhbGwiKSxpPXQoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPXQoIi4vX2FuLW9iamVjdCIpLHM9dCgiLi9fdG8tbGVuZ3RoIiksdT10KCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPWUuZXhwb3J0cz1mdW5jdGlvbih0LGUscixfLGwpe3ZhciBwLGQsaCx2LGI9bD9mdW5jdGlvbigpe3JldHVybiB0fTp1KHQpLHk9bihyLF8sZT8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IocD1zKHQubGVuZ3RoKTtwPm07bSsrKWlmKHY9ZT95KGMoZD10W21dKVswXSxkWzFdKTp5KHRbbV0pLHY9PT1hfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWIuY2FsbCh0KTshKGQ9aC5uZXh0KCkpLmRvbmU7KWlmKHY9byhoLHksZC52YWx1ZSxlKSx2PT09YXx8dj09PWYpcmV0dXJuIHZ9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbih0LGUscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0se31dLDI5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19wcm9wZXJ0eS1kZXNjIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuLmYodCxlLG8oMSxyKSl9OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yLHR9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hdCgiLi9fZGVzY3JpcHRvcnMiKSYmIXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/dCgpOnQuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/dChlWzBdKTp0LmNhbGwocixlWzBdKTtjYXNlIDI6cmV0dXJuIG4/dChlWzBdLGVbMV0pOnQuY2FsbChyLGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuP3QoZVswXSxlWzFdLGVbMl0pOnQuY2FsbChyLGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG4/dChlWzBdLGVbMV0sZVsyXSxlWzNdKTp0LmNhbGwocixlWzBdLGVbMV0sZVsyXSxlWzNdKX1yZXR1cm4gdC5hcHBseShyLGUpfX0se31dLDMzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY29mIik7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm4iU3RyaW5nIj09bih0KT90LnNwbGl0KCIiKTpPYmplY3QodCl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2l0ZXJhdG9ycyIpLG89dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYobi5BcnJheT09PXR8fGlbb109PT10KX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD9udWxsIT09dDoiZnVuY3Rpb24iPT10eXBlb2YgdH19LHt9XSwzNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscixvKXt0cnl7cmV0dXJuIG8/ZShuKHIpWzBdLHJbMV0pOmUocil9Y2F0Y2goaSl7dmFyIGM9dFsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwodCkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49dCgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89dCgiLi9fcHJvcGVydHktZGVzYyIpLGk9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O3QoIi4vX2hpZGUiKShjLHQoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3QucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2xpYnJhcnkiKSxvPXQoIi4vX2V4cG9ydCIpLGk9dCgiLi9fcmVkZWZpbmUiKSxjPXQoIi4vX2hpZGUiKSxzPXQoIi4vX2hhcyIpLHU9dCgiLi9faXRlcmF0b3JzIiksYT10KCIuL19pdGVyLWNyZWF0ZSIpLGY9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPXQoIi4vX29iamVjdC1ncG8iKSxsPXQoIi4vX3drcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksZD0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscix5LG0saixnKXthKHIsZSx5KTt2YXIgeCx3LGssTz1mdW5jdGlvbih0KXtpZighcCYmdCBpbiBQKXJldHVybiBQW3RdO3N3aXRjaCh0KXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9fSxNPWUrIiBJdGVyYXRvciIsUz1tPT12LEU9ITEsUD10LnByb3RvdHlwZSxUPVBbbF18fFBbZF18fG0mJlBbbV0sUj1UfHxPKG0pLFU9bT9TP08oImVudHJpZXMiKTpSOnZvaWQgMCxBPSJBcnJheSI9PWU/UC5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9XyhBLmNhbGwobmV3IHQpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGIpKSksUyYmVCYmVC5uYW1lIT09diYmKEU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxuJiYhZ3x8IXAmJiFFJiZQW2xdfHxjKFAsbCxSKSx1W2VdPVIsdVtNXT1iLG0paWYoeD17dmFsdWVzOlM/UjpPKHYpLGtleXM6aj9SOk8oaCksZW50cmllczpVfSxnKWZvcih3IGluIHgpdyBpbiBQfHxpKFAsdyx4W3ddKTtlbHNlIG8oby5QK28uRioocHx8RSksZSx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fWUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LHQoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEhdH19fSx7fV0sNDE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PXQoIi4vX2NvZiIpKGMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTt0Oyl7bz10LmZuLHQ9dC5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgdD9yKCk6ZT12b2lkIDAsaX19ZT12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O2UmJihlLm5leHQ9byksdHx8KHQ9byxyKCkpLGU9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX29iamVjdC1kcHMiKSxpPXQoIi4vX2VudW0tYnVnLWtleXMiKSxjPXQoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgZSxyPXQoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIix0KCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6IixlPXIuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLGUuY2xvc2UoKSxhPWUuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiBudWxsIT09dD8oc1t1XT1uKHQpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109dCk6cj1hKCksdm9pZCAwPT09ZT9yOm8ocixlKX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX2llOC1kb20tZGVmaW5lIiksaT10KCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLHIpe2lmKG4odCksZT1pKGUsITApLG4ociksbyl0cnl7cmV0dXJuIGModCxlLHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYodFtlXT1yLnZhbHVlKSx0fX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19hbi1vYmplY3QiKSxpPXQoIi4vX29iamVjdC1rZXlzIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtvKHQpO2Zvcih2YXIgcixjPWkoZSkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYodCxyPWNbdSsrXSxlW3JdKTtyZXR1cm4gdH19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1waWUiKSxvPXQoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPXQoIi4vX3RvLWlvYmplY3QiKSxjPXQoIi4vX3RvLXByaW1pdGl2ZSIpLHM9dCgiLi9faGFzIiksdT10KCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKHQsZSl7aWYodD1pKHQpLGU9YyhlLCEwKSx1KXRyeXtyZXR1cm4gYSh0LGUpfWNhdGNoKHIpe31pZihzKHQsZSkpcmV0dXJuIG8oIW4uZi5jYWxsKHQsZSksdFtlXSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oYXMiKSxvPXQoIi4vX3RvLW9iamVjdCIpLGk9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLG4odCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2hhcyIpLG89dCgiLi9fdG8taW9iamVjdCIpLGk9dCgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSksYz10KCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1vKHQpLHU9MCxhPVtdO2ZvcihyIGluIHMpciE9YyYmbihzLHIpJiZhLnB1c2gocik7Zm9yKDtlLmxlbmd0aD51OyluKHMscj1lW3UrK10pJiYofmkoYSxyKXx8YS5wdXNoKHIpKTtyZXR1cm4gYX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz10KCIuL19lbnVtLWJ1Zy1rZXlzIik7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fZmFpbHMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGM9e307Y1t0XT1lKHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLGMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oaWRlIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG8gaW4gZSlyJiZ0W29dP3Rbb109ZVtvXTpuKHQsbyxlW29dKTtyZXR1cm4gdH19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpLG89dCgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbih0LGUpe2lmKG8odCksIW4oZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHIsbil7dHJ5e249dCgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCx0KCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSkscj0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLHI/dC5fX3Byb3RvX189ZTpuKHQsZSksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2dsb2JhbCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fb2JqZWN0LWRwIiksYz10KCIuL19kZXNjcmlwdG9ycyIpLHM9dCgiLi9fd2tzIikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIG9bdF0/b1t0XTpuW3RdO2MmJmUmJiFlW3NdJiZpLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1kcCIpLmYsbz10KCIuL19oYXMiKSxpPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dCYmIW8odD1yP3Q6dC5wcm90b3R5cGUsaSkmJm4odCxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgia2V5cyIpLG89dCgiLi9fdWlkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1vKHQpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iiksbz10KCIuL19hLWZ1bmN0aW9uIiksaT10KCIuL193a3MiKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGM9bih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09Y3x8dm9pZCAwPT0ocj1uKGMpW2ldKT9lOm8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pbnRlZ2VyIiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBpLGMscz1TdHJpbmcobyhlKSksdT1uKHIpLGE9cy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49YT90PyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09YXx8KGM9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxjPjU3MzQzP3Q/cy5jaGFyQXQodSk6aTp0P3Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKGMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGM9dCgiLi9fY3R4Iikscz10KCIuL19pbnZva2UiKSx1PXQoIi4vX2h0bWwiKSxhPXQoIi4vX2RvbS1jcmVhdGUiKSxmPXQoIi4vX2dsb2JhbCIpLF89Zi5wcm9jZXNzLGw9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHk9ZnVuY3Rpb24oKXt2YXIgdD0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KHQpKXt2YXIgZT12W3RdO2RlbGV0ZSB2W3RdLGUoKX19LG09ZnVuY3Rpb24odCl7eS5jYWxsKHQuZGF0YSl9O2wmJnB8fChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyllLnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXtzKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LG4oaCksaH0scD1mdW5jdGlvbih0KXtkZWxldGUgdlt0XX0sInByb2Nlc3MiPT10KCIuL19jb2YiKShfKT9uPWZ1bmN0aW9uKHQpe18ubmV4dFRpY2soYyh5LHQsMSkpfTpkPyhvPW5ldyBkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49YyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24odCl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYyh5LHQsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpsLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQpLHQ8MD9vKHQrZSwwKTppKHQsZSl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP286bikodCl9fSx7fV0sNjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pb2JqZWN0Iiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKG8odCkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28obih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZGVmaW5lZCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIW4odCkpcmV0dXJuIHQ7dmFyIHIsbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LnRvU3RyaW5nKSYmIW4obz1yLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPXQudmFsdWVPZikmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKHI9dC50b1N0cmluZykmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgid2tzIiksbz10KCIuL191aWQiKSxpPXQoIi4vX2dsb2JhbCIpLlN5bWJvbCxjPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1jJiZpW3RdfHwoYz9pOm8pKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jbGFzc29mIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpO2UuZXhwb3J0cz10KCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT10KXJldHVybiB0W29dfHx0WyJAQGl0ZXJhdG9yIl18fGlbbih0KV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89dCgiLi9faXRlci1zdGVwIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3RvLWlvYmplY3QiKTtlLmV4cG9ydHM9dCgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKHQsZSl7dGhpcy5fdD1jKHQpLHRoaXMuX2k9MCx0aGlzLl9rPWV9LGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdCxlPXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PWU/bygwLHIpOiJ2YWx1ZXMiPT1lP28oMCx0W3JdKTpvKDAsW3IsdFtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpO24obi5TK24uRiohdCgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6dCgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8tb2JqZWN0Iiksbz10KCIuL19vYmplY3Qta2V5cyIpO3QoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG8obih0KSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbih0LGUscil7fSx7fV0sNzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLGM9dCgiLi9fbGlicmFyeSIpLHM9dCgiLi9fZ2xvYmFsIiksdT10KCIuL19jdHgiKSxhPXQoIi4vX2NsYXNzb2YiKSxmPXQoIi4vX2V4cG9ydCIpLF89dCgiLi9faXMtb2JqZWN0IiksbD0odCgiLi9fYW4tb2JqZWN0IiksdCgiLi9fYS1mdW5jdGlvbiIpKSxwPXQoIi4vX2FuLWluc3RhbmNlIiksZD10KCIuL19mb3Itb2YiKSxoPSh0KCIuL19zZXQtcHJvdG8iKS5zZXQsdCgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx2PXQoIi4vX3Rhc2siKS5zZXQsYj10KCIuL19taWNyb3Rhc2siKSgpLHk9IlByb21pc2UiLG09cy5UeXBlRXJyb3Isaj1zLnByb2Nlc3MsZz1zW3ldLGo9cy5wcm9jZXNzLHg9InByb2Nlc3MiPT1hKGopLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1nLnJlc29sdmUoMSkscj0oZS5jb25zdHJ1Y3Rvcj17fSlbdCgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24odCl7dCh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQ9PT1nJiZlPT09aX0sTT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4hKCFfKHQpfHwiZnVuY3Rpb24iIT10eXBlb2YoZT10LnRoZW4pKSYmZX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTyhnLHQpP25ldyBFKHQpOm5ldyBvKHQpfSxFPW89ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7ZT10LHI9bn0pLHRoaXMucmVzb2x2ZT1sKGUpLHRoaXMucmVqZWN0PWwocil9LFA9ZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fSxUPWZ1bmN0aW9uKHQsZSl7aWYoIXQuX24pe3QuX249ITA7dmFyIHI9dC5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuX3Ysbz0xPT10Ll9zLGk9MCxjPWZ1bmN0aW9uKGUpe3ZhciByLGksYz1vP2Uub2s6ZS5mYWlsLHM9ZS5yZXNvbHZlLHU9ZS5yZWplY3QsYT1lLmRvbWFpbjt0cnl7Yz8ob3x8KDI9PXQuX2gmJkEodCksdC5faD0xKSxjPT09ITA/cj1uOihhJiZhLmVudGVyKCkscj1jKG4pLGEmJmEuZXhpdCgpKSxyPT09ZS5wcm9taXNlP3UobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixzLHUpOnMocikpOnUobil9Y2F0Y2goZil7dShmKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTt0Ll9jPVtdLHQuX249ITEsZSYmIXQuX2gmJlIodCl9KX19LFI9ZnVuY3Rpb24odCl7di5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgZSxyLG4sbz10Ll92O2lmKFUodCkmJihlPVAoZnVuY3Rpb24oKXt4P2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLHQpOihyPXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6dCxyZWFzb246b30pOihuPXMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSx0Ll9oPXh8fFUodCk/MjoxKSx0Ll9hPXZvaWQgMCxlKXRocm93IGUuZXJyb3J9KX0sVT1mdW5jdGlvbih0KXtpZigxPT10Ll9oKXJldHVybiExO2Zvcih2YXIgZSxyPXQuX2F8fHQuX2Msbj0wO3IubGVuZ3RoPm47KWlmKGU9cltuKytdLGUuZmFpbHx8IVUoZS5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbih0KXt2LmNhbGwocyxmdW5jdGlvbigpe3ZhciBlO3g/ai5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIix0KTooZT1zLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCxlPWUuX3d8fGUsZS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFQoZSwhMCkpfSxDPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT10KXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9TSh0KSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7ZS5jYWxsKHQsdShDLG4sMSksdShMLG4sMSkpfWNhdGNoKG8pe0wuY2FsbChuLG8pfX0pOihyLl92PXQsci5fcz0xLFQociwhMSkpfWNhdGNoKG4pe0wuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGc9ZnVuY3Rpb24odCl7cCh0aGlzLGcseSwiX2giKSxsKHQpLG4uY2FsbCh0aGlzKTt0cnl7dCh1KEMsdGhpcywxKSx1KEwsdGhpcywxKSl9Y2F0Y2goZSl7TC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXQoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIHI9UyhoKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiB0fHx0LHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxyLmRvbWFpbj14P2ouZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfX0pLEU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbjt0aGlzLnByb21pc2U9dCx0aGlzLnJlc29sdmU9dShDLHQsMSksdGhpcy5yZWplY3Q9dShMLHQsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmd9KSx0KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcseSksdCgiLi9fc2V0LXNwZWNpZXMiKSh5KSxpPXQoIi4vX2NvcmUiKVt5XSxmKGYuUytmLkYqIWsseSx7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPVModGhpcykscj1lLnJlamVjdDtyZXR1cm4gcih0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhaykseSx7cmVzb2x2ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZyYmTyh0LmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiB0O3ZhciBlPVModGhpcykscj1lLnJlc29sdmU7cmV0dXJuIHIodCksZS5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJnQoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24odCl7Zy5hbGwodClbImNhdGNoIl0odyl9KSkseSx7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1TKGUpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1QKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtkKHQsITEsZnVuY3Rpb24odCl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLGUucmVzb2x2ZSh0KS50aGVuKGZ1bmN0aW9uKHQpe3V8fCh1PSEwLHJbc109dCwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9UyhlKSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpe2QodCwhMSxmdW5jdGlvbih0KXtlLnJlc29sdmUodCkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19zdHJpbmctYXQiKSghMCk7dCgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PWUubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9bihlLHIpLHRoaXMuX2krPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbih0LGUscil7dCgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19oaWRlIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7dTw1O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj10KCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuKXsoMCxzWyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLG8uaHlwZXJ0eVVSTD1lLG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkodCxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLG49dm9pZCAwLG89dD90OiIuIjtuPWU/ZTpyLmh5cGVydHlVUkw7dmFyIGM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24mJjIwMD09PXIuYm9keS5jb2RlP3Qobik6ZSgiY29kZTogIityLmJvZHkuY29kZSsiIE5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksdH0oKTtyWyJkZWZhdWx0Il09XyxlLmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo4MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sODE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1mdW5jdGlvbiBvKHQpe2lmKCF0KXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIGU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49dC5yZXBsYWNlKGUscikuc3BsaXQoIiwiKTtuWzBdPT09dCYmKG5bMF09Imh0dHBzIixuWzFdPXQpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTp0LnN1YnN0cmluZygwLGUpLGRvbWFpbjp0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiEoKDAsZFsiZGVmYXVsdCJdKSh0KS5sZW5ndGg+MCl9ZnVuY3Rpb24gcyh0KXtpZih0KXJldHVybiBKU09OLnBhcnNlKCgwLGxbImRlZmF1bHQiXSkodCkpfWZ1bmN0aW9uIHUodCl7dmFyIGU9dC5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK3Quc3Vic3RyaW5nKGUrMSx0Lmxlbmd0aCkrIi8iK3Quc3Vic3RyaW5nKDAsZSl9ZnVuY3Rpb24gYSh0KXt2YXIgZT1vKHQpO3JldHVybiBlLmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrZS5kb21haW59ZnVuY3Rpb24gZih0KXtpZigidXNlcjovLyI9PT10LnN1YnN0cmluZygwLDcpKXt2YXIgZT1vKHQpO2lmKGUuZG9tYWluJiZlLmlkZW50aXR5KXJldHVybiB0O3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiB1KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgXz10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxsPW4oXykscD10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxkPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1jLHIuZGVlcENsb25lPXMsci5nZXRVc2VyVVJMRnJvbUVtYWlsPXUsci5nZXRVc2VyRW1haWxGcm9tVVJMPWEsci5jb252ZXJ0VG9Vc2VyVVJMPWZ9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoxLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjN9XX0se30sWzgwXSkoODApfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKLy8gRGlzdHJpYnV0aW9uIGZpbGUgZm9yIFN5bmNoZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTo0OSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG8pe2Z1bmN0aW9uIG4ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG4ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixvKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxvLmxlbmd0aDtzKyspbihvW3NdKTtyZXR1cm4gbn0oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbz0icGVyZm9ybUNoYW5nZSIsbj0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYShlKXt2YXIgdD1hcmd1bWVudHMscz1hW25dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltuXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGM9ZFtuXS5hcHBseSh0aGlzLHMpO3JldHVybihjLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmN9fSx0aGlzKSxjfX07Zm9yKHZhciBjIGluIHMpc1tjXVtuXT10LnByb3RvdHlwZVtjXSx0LnByb3RvdHlwZVtjXT1zW2NdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MjB9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjF9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIzfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjR9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiOjI3fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW8ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1vKXt2YXIgbj0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bj92b2lkIDA6YShuLHQscil9aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHM9by5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjZ9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1vKHMpLGE9ZSgiLi4vaGVscGVycy90eXBlb2YiKSx1PW8oYSk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisoInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLHVbImRlZmF1bHQiXSkodCkpKTtlLnByb3RvdHlwZT0oMCxjWyJkZWZhdWx0Il0pKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoaVsiZGVmYXVsdCJdPygwLGlbImRlZmF1bHQiXSkoZSx0KTplLl9fcHJvdG9fXz10KX19LHsiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCIuLi9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL3N5bWJvbCIpLGM9byhzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7Ii4uL2NvcmUtanMvc3ltYm9sIjoxMCwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIiksbj1vLkpTT058fChvLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpbmdpZnkuYXBwbHkobixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNX1dLDE5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIjoxMDB9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6MTAxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjEwMn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjEwM31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6MTA0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6MTA1fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzL19jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjoxMDcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI2OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjoxMDksIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI6MTEwLCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSI6MTExfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCIpLmYoIml0ZXJhdG9yIil9LHsiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCI6OTYsIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW8mJm8gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX3RvLWxlbmd0aCIpLGk9ZSgiLi9fdG8taW5kZXgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYyxhPW8odCksdT1uKGEubGVuZ3RoKSxsPWkocyx1KTtpZihlJiZyIT1yKXtmb3IoO3U+bDspaWYoYz1hW2wrK10sYyE9YylyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigoZXx8bCBpbiBhKSYmYVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LHsiLi9fdG8taW5kZXgiOjg4LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tbGVuZ3RoIjo5MX1dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fY29mIiksbj1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChyKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixjO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxuKSk/cjppP28odCk6Ik9iamVjdCI9PShjPW8odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6Y319LHsiLi9fY29mIjozNCwiLi9fd2tzIjo5N31dLDM0OltmdW5jdGlvbihlLHQscil7dmFyIG89e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9byl9LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2EtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixvKXtyZXR1cm4gZS5jYWxsKHQscixvKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG8sbil7cmV0dXJuIGUuY2FsbCh0LHIsbyxuKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6Mjh9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjQzfV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9byhuKSYmbyhuLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9uLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTR9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cyIpLG49ZSgiLi9fb2JqZWN0LWdvcHMiKSxpPWUoIi4vX29iamVjdC1waWUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKSxyPW4uZjtpZihyKWZvcih2YXIgcyxjPXIoZSksYT1pLmYsdT0wO2MubGVuZ3RoPnU7KWEuY2FsbChlLHM9Y1t1KytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0seyIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzV9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fY3R4Iikscz1lKCIuL19oaWRlIiksYz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxsLGYsZD1lJmEuRixfPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHk9ZSZhLlcsdj1fP246blt0XXx8KG5bdF09e30pLGo9dltjXSxtPV8/bzpwP29bdF06KG9bdF18fHt9KVtjXTtfJiYocj10KTtmb3IodSBpbiByKWw9IWQmJm0mJnZvaWQgMCE9PW1bdV0sbCYmdSBpbiB2fHwoZj1sP21bdV06clt1XSx2W3VdPV8mJiJmdW5jdGlvbiIhPXR5cGVvZiBtW3VdP3JbdV06aCYmbD9pKGYsbyk6eSYmbVt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbyl7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbyl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFtjXT1lW2NdLHR9KGYpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLGImJigodi52aXJ0dWFsfHwodi52aXJ0dWFsPXt9KSlbdV09ZixlJmEuUiYmaiYmIWpbdV0mJnMoaix1LGYpKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsYS5VPTY0LGEuUj0xMjgsdC5leHBvcnRzPWF9LHsiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2N0eCIpLG49ZSgiLi9faXRlci1jYWxsIiksaT1lKCIuL19pcy1hcnJheS1pdGVyIikscz1lKCIuL19hbi1vYmplY3QiKSxjPWUoIi4vX3RvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKSx1PXt9LGw9e30scj10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgXyxwLGIsaCx5PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06YShlKSx2PW8ocixmLHQ/MjoxKSxqPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaSh5KSl7Zm9yKF89YyhlLmxlbmd0aCk7Xz5qO2orKylpZihoPXQ/dihzKHA9ZVtqXSlbMF0scFsxXSk6dihlW2pdKSxoPT09dXx8aD09PWwpcmV0dXJuIGh9ZWxzZSBmb3IoYj15LmNhbGwoZSk7IShwPWIubmV4dCgpKS5kb25lOylpZihoPW4oYix2LHAudmFsdWUsdCksaD09PXV8fGg9PT1sKXJldHVybiBofTtyLkJSRUFLPXUsci5SRVRVUk49bH0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1hcnJheS1pdGVyIjo1MiwiLi9faXRlci1jYWxsIjo1NSwiLi9fdG8tbGVuZ3RoIjo5MSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjk4fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9byl9LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNhbGwoZSx0KX19LHt9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1kcCIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gby5mKGUsdCxuKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX3Byb3BlcnR5LWRlc2MiOjc3fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQ1fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2Rlc2NyaXB0b3JzIikmJiFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2ZhaWxzIjo0M31dLDUwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBvP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBvP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBvP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBvP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW8oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuL19jb2YiOjM0fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pdGVyYXRvcnMiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG8uQXJyYXk9PT1lfHxpW25dPT09ZSl9fSx7Ii4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTd9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1vKGUpfX0seyIuL19jb2YiOjM0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXtyZXR1cm4gbj90KG8ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZvKHMuY2FsbChlKSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MzF9XSw1NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19vYmplY3QtY3JlYXRlIiksbj1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi9faGlkZSIpKHMsZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9byhzLHtuZXh0Om4oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6NDcsIi4vX29iamVjdC1jcmVhdGUiOjY1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fbGlicmFyeSIpLG49ZSgiLi9fZXhwb3J0IiksaT1lKCIuL19yZWRlZmluZSIpLHM9ZSgiLi9faGlkZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pdGVyYXRvcnMiKSx1PWUoIi4vX2l0ZXItY3JlYXRlIiksbD1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi9fb2JqZWN0LWdwbyIpLGQ9ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksXz0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPSJAQGl0ZXJhdG9yIixiPSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHYsaixtLGcpe3Uocix0LHYpO3ZhciB3LE8sayx4PWZ1bmN0aW9uKGUpe2lmKCFfJiZlIGluIFIpcmV0dXJuIFJbZV07c3dpdGNoKGUpe2Nhc2UgYjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LEM9dCsiIEl0ZXJhdG9yIixFPWo9PWgsUz0hMSxSPWUucHJvdG90eXBlLFQ9UltkXXx8UltwXXx8aiYmUltqXSxNPVR8fHgoaiksUD1qP0U/eCgiZW50cmllcyIpOk06dm9pZCAwLEE9IkFycmF5Ij09dD9SLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1mKEEuY2FsbChuZXcgZSkpLGshPT1PYmplY3QucHJvdG90eXBlJiYobChrLEMsITApLG98fGMoayxkKXx8cyhrLGQseSkpKSxFJiZUJiZULm5hbWUhPT1oJiYoUz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG8mJiFnfHwhXyYmIVMmJlJbZF18fHMoUixkLE0pLGFbdF09TSxhW0NdPXksailpZih3PXt2YWx1ZXM6RT9NOngoaCksa2V5czptP006eChiKSxlbnRyaWVzOlB9LGcpZm9yKE8gaW4gdylPIGluIFJ8fGkoUixPLHdbT10pO2Vsc2UgbihuLlArbi5GKihffHxTKSx0LHcpO3JldHVybiB3fX0seyIuL19leHBvcnQiOjQyLCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXRlci1jcmVhdGUiOjU2LCIuL19pdGVyYXRvcnMiOjYwLCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWdwbyI6NzIsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxuPSExO3RyeXt2YXIgaT1bN11bb10oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe249ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFuKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW29dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbb109ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6OTd9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1uKGUpLHM9byhpKSxjPXMubGVuZ3RoLGE9MDtjPmE7KWlmKGlbcj1zW2ErK11dPT09dClyZXR1cm4gcn19LHsiLi9fb2JqZWN0LWtleXMiOjc0LCIuL190by1pb2JqZWN0Ijo5MH1dLDYyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL191aWQiKSgibWV0YSIpLG49ZSgiLi9faXMtb2JqZWN0IiksaT1lKCIuL19oYXMiKSxzPWUoIi4vX29iamVjdC1kcCIpLmYsYz0wLGE9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdT0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiBhKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXtzKGUsbyx7dmFsdWU6e2k6Ik8iKyArK2Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbb10uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbykpe2lmKCFhKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbb10ud30sXz1mdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5ORUVEJiZhKGUpJiYhaShlLG8pJiZsKGUpLGV9LHA9dC5leHBvcnRzPXtLRVk6byxORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6X319LHsiLi9fZmFpbHMiOjQzLCIuL19oYXMiOjQ2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZHAiOjY2LCIuL191aWQiOjk0fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX3Rhc2siKS5zZXQsaT1vLk11dGF0aW9uT2JzZXJ2ZXJ8fG8uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW8ucHJvY2VzcyxjPW8uUHJvbWlzZSxhPSJwcm9jZXNzIj09ZSgiLi9fY29mIikocyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLHU9ZnVuY3Rpb24oKXt2YXIgbyxuO2ZvcihhJiYobz1zLmRvbWFpbikmJm8uZXhpdCgpO2U7KXtuPWUuZm4sZT1lLm5leHQ7dHJ5e24oKX1jYXRjaChpKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxpfX10PXZvaWQgMCxvJiZvLmVudGVyKCl9O2lmKGEpcj1mdW5jdGlvbigpe3MubmV4dFRpY2sodSl9O2Vsc2UgaWYoaSl7dmFyIGw9ITAsZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkodSkub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2YuZGF0YT1sPSFsfX1lbHNlIGlmKGMmJmMucmVzb2x2ZSl7dmFyIGQ9Yy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2QudGhlbih1KX19ZWxzZSByPWZ1bmN0aW9uKCl7bi5jYWxsKG8sdSl9O3JldHVybiBmdW5jdGlvbihvKXt2YXIgbj17Zm46byxuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1uKSxlfHwoZT1uLHIoKSksdD1ufX19LHsiLi9fY29mIjozNCwiLi9fZ2xvYmFsIjo0NSwiLi9fdGFzayI6ODd9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWRwcyIpLGk9ZSgiLi9fZW51bS1idWcta2V5cyIpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9ZnVuY3Rpb24oKXt9LGE9InByb3RvdHlwZSIsdT1mdW5jdGlvbigpe3ZhciB0LHI9ZSgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxvPWkubGVuZ3RoLG49Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLHQ9ci5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbiksdC5jbG9zZSgpLHU9dC5GO28tLTspZGVsZXRlIHVbYV1baVtvXV07cmV0dXJuIHUoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhjW2FdPW8oZSkscj1uZXcgYyxjW2FdPW51bGwscltzXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6bihyLHQpfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kb20tY3JlYXRlIjozOSwiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX2h0bWwiOjQ4LCIuL19vYmplY3QtZHBzIjo2NywiLi9fc2hhcmVkLWtleSI6ODN9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobyhlKSx0PWkodCwhMCksbyhyKSxuKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goYyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL190by1wcmltaXRpdmUiOjkzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWtleXMiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe24oZSk7Zm9yKHZhciByLHM9aSh0KSxjPXMubGVuZ3RoLGE9MDtjPmE7KW8uZihlLHI9c1thKytdLHRbcl0pO3JldHVybiBlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1rZXlzIjo3NH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LXBpZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fdG8taW9iamVjdCIpLHM9ZSgiLi9fdG8tcHJpbWl0aXZlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2llOC1kb20tZGVmaW5lIiksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPWkoZSksdD1zKHQsITApLGEpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2gocil7fWlmKGMoZSx0KSlyZXR1cm4gbighby5mLmNhbGwoZSx0KSxlW3RdKX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpuKG8oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbyhlLG4pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9bihlKSxvKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19oYXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9bihlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm8oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbyhjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG4uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxvKG8uUytvLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHQpciYmZVtuXT9lW25dPXRbbl06byhlLG4sdFtuXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG4pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBuW2VdP25bZV06b1tlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKS5mLG49ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFuKGU9cj9lOmUucHJvdG90eXBlLGkpJiZvKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fc2hhcmVkIikoImtleXMiKSxuPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09bihlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49Il9fY29yZS1qc19zaGFyZWRfXyIsaT1vW25dfHwob1tuXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW8oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9byhzKVtpXSk/dDpuKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG4odCkpLGE9byhyKSx1PWMubGVuZ3RoO3JldHVybiBhPDB8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLGk8NTUyOTZ8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvLG4saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLF89bC5jbGVhckltbWVkaWF0ZSxwPWwuTWVzc2FnZUNoYW5uZWwsYj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxqPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZffHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK2JdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxvKGIpLGJ9LF89ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bz1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06cD8obj1uZXcgcCxpPW4ucG9ydDIsbi5wb3J0MS5vbm1lc3NhZ2U9aixvPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obz1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixqLCExKSk6bz15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpffX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9byhlKSxlPDA/bihlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG89TWF0aC5jZWlsLG49TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOm8pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faW9iamVjdCIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9uKG8oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiBlO3ZhciByLG47aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFvKG49ci5jYWxsKGUpKSlyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG89MCxuPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbytuKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLlN5bWJvbHx8KG4uU3ltYm9sPWk/e306by5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxuPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPXMmJmlbZV18fChzP2k6bikoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1vfSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NsYXNzb2YiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbbl18fGVbIkBAaXRlcmF0b3IiXXx8aVtvKGUpXX19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbj1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG4oMSkpOiJrZXlzIj09dD9uKDAscik6InZhbHVlcyI9PXQ/bigwLGVbcl0pOm4oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG8oImtleXMiKSxvKCJ2YWx1ZXMiKSxvKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2V4cG9ydCIpO28oby5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUytvLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obyhlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbyxuLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLF89ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLGI9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsaj1jLlR5cGVFcnJvcixtPWMucHJvY2VzcyxnPWNbdl0sbT1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUobSksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG8pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWYoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG4oZSl9LFM9bj1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG8pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgaigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1vfSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUj1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG89ZS5fdixuPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW4/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhufHwoMj09ZS5faCYmQShlKSxlLl9oPTEpLHM9PT0hMD9yPW86KHUmJnUuZW50ZXIoKSxyPXMobyksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShqKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShvKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbyxuPWUuX3Y7aWYoUChlKSYmKHQ9UihmdW5jdGlvbigpe3c/bS5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpufSk6KG89Yy5jb25zb2xlKSYmby5lcnJvciYmby5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKX0pLGUuX2g9d3x8UChlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxQPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxvPTA7ci5sZW5ndGg+bzspaWYodD1yW28rK10sdC5mYWlsfHwhUCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxBPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9tLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksVCh0LCEwKSl9LE49ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgaigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG89e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbywxKSxhKEQsbywxKSl9Y2F0Y2gobil7RC5jYWxsKG8sbil9fSk6KHIuX3Y9ZSxyLl9zPTEsVChyLCExKSl9Y2F0Y2gobyl7RC5jYWxsKHtfdzpyLF9kOiExfSxvKX19fTtrfHwoZz1mdW5jdGlvbihlKXtfKHRoaXMsZyx2LCJfaCIpLGQoZSksby5jYWxsKHRoaXMpO3RyeXtlKGEoTix0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG89ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sby5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKGIodGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPXc/bS5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksUz1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1hKE4sZSwxKSx0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLAp0LnByb21pc2V9fSksbChsLlMrbC5GKihzfHwhayksdix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PUUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Zy5hbGwoZSlbImNhdGNoIl0oTyl9KSksdix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG89ci5yZXNvbHZlLG49ci5yZWplY3QsaT1SKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG8ocikpfSxuKX0pLC0tc3x8byhyKX0pO3JldHVybiBpJiZuKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVqZWN0LG49UihmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbyl9KX0pO3JldHVybiBuJiZvKG4uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4taW5zdGFuY2UiOjMwLCIuL19hbi1vYmplY3QiOjMxLCIuL19jbGFzc29mIjozMywiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2V4cG9ydCI6NDIsIi4vX2Zvci1vZiI6NDQsIi4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTQsIi4vX2l0ZXItZGV0ZWN0Ijo1OCwiLi9fbGlicmFyeSI6NjIsIi4vX21pY3JvdGFzayI6NjQsIi4vX3JlZGVmaW5lLWFsbCI6NzgsIi4vX3NldC1wcm90byI6ODAsIi4vX3NldC1zcGVjaWVzIjo4MSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo4NSwiLi9fdGFzayI6ODcsIi4vX3drcyI6OTd9XSwxMDg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fc3RyaW5nLWF0IikoITApO2UoIi4vX2l0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW8odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuL19pdGVyLWRlZmluZSI6NTcsIi4vX3N0cmluZy1hdCI6ODZ9XSwxMDk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19oYXMiKSxpPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL19leHBvcnQiKSxjPWUoIi4vX3JlZGVmaW5lIiksYT1lKCIuL19tZXRhIikuS0VZLHU9ZSgiLi9fZmFpbHMiKSxsPWUoIi4vX3NoYXJlZCIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vX3VpZCIpLF89ZSgiLi9fd2tzIikscD1lKCIuL193a3MtZXh0IiksYj1lKCIuL193a3MtZGVmaW5lIiksaD1lKCIuL19rZXlvZiIpLHk9ZSgiLi9fZW51bS1rZXlzIiksdj1lKCIuL19pcy1hcnJheSIpLGo9ZSgiLi9fYW4tb2JqZWN0IiksbT1lKCIuL190by1pb2JqZWN0IiksZz1lKCIuL190by1wcmltaXRpdmUiKSx3PWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxPPWUoIi4vX29iamVjdC1jcmVhdGUiKSxrPWUoIi4vX29iamVjdC1nb3BuLWV4dCIpLHg9ZSgiLi9fb2JqZWN0LWdvcGQiKSxDPWUoIi4vX29iamVjdC1kcCIpLEU9ZSgiLi9fb2JqZWN0LWtleXMiKSxTPXguZixSPUMuZixUPWsuZixNPW8uU3ltYm9sLFA9by5KU09OLEE9UCYmUC5zdHJpbmdpZnksRD0icHJvdG90eXBlIixOPV8oIl9oaWRkZW4iKSxMPV8oInRvUHJpbWl0aXZlIiksRj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxJPWwoInN5bWJvbC1yZWdpc3RyeSIpLFU9bCgic3ltYm9scyIpLHo9bCgib3Atc3ltYm9scyIpLEg9T2JqZWN0W0RdLFY9ImZ1bmN0aW9uIj09dHlwZW9mIE0sQj1vLlFPYmplY3QsSj0hQnx8IUJbRF18fCFCW0RdLmZpbmRDaGlsZCxXPWkmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TyhSKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFIodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPVMoSCx0KTtvJiZkZWxldGUgSFt0XSxSKGUsdCxyKSxvJiZlIT09SCYmUihILHQsbyl9OlIsWT1mdW5jdGlvbihlKXt2YXIgdD1VW2VdPU8oTVtEXSk7cmV0dXJuIHQuX2s9ZSx0fSxxPVYmJiJzeW1ib2wiPT10eXBlb2YgTS5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTX0sSz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZLKHosdCxyKSxqKGUpLHQ9Zyh0LCEwKSxqKHIpLG4oVSx0KT8oci5lbnVtZXJhYmxlPyhuKGUsTikmJmVbTl1bdF0mJihlW05dW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihuKGUsTil8fFIoZSxOLHcoMSx7fSkpLGVbTl1bdF09ITApLFcoZSx0LHIpKTpSKGUsdCxyKX0sRz1mdW5jdGlvbihlLHQpe2ooZSk7Zm9yKHZhciByLG89eSh0PW0odCkpLG49MCxpPW8ubGVuZ3RoO2k+bjspSyhlLHI9b1tuKytdLHRbcl0pO3JldHVybiBlfSxaPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpHKE8oZSksdCl9LFg9ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZuKFUsZSkmJiFuKHosZSkpJiYoISh0fHwhbih0aGlzLGUpfHwhbihVLGUpfHxuKHRoaXMsTikmJnRoaXNbTl1bZV0pfHx0KX0sJD1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PWcodCwhMCksZSE9PUh8fCFuKFUsdCl8fG4oeix0KSl7dmFyIHI9UyhlLHQpO3JldHVybiFyfHwhbihVLHQpfHxuKGUsTikmJmVbTl1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSxRPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPVQobShlKSksbz1bXSxpPTA7ci5sZW5ndGg+aTspbihVLHQ9cltpKytdKXx8dD09Tnx8dD09YXx8by5wdXNoKHQpO3JldHVybiBvfSxlZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09SCxvPVQocj96Om0oZSkpLGk9W10scz0wO28ubGVuZ3RoPnM7KSFuKFUsdD1vW3MrK10pfHxyJiYhbihILHQpfHxpLnB1c2goVVt0XSk7cmV0dXJuIGl9O1Z8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09SCYmdC5jYWxsKHosciksbih0aGlzLE4pJiZuKHRoaXNbTl0sZSkmJih0aGlzW05dW2VdPSExKSxXKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmSiYmVyhILGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyhILCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkscC5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKF8oZSkpfSkscyhzLkcrcy5XK3MuRiohVix7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKF8uc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOyliKHRlW3JlKytdKTtzKHMuUytzLkYqIVYsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBuKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtKPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtKPSExfX0pLHMocy5TK3MuRiohViwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLFAmJnMocy5TK3MuRiooIVZ8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPUEoW2VdKXx8Int9IiE9QSh7YTplfSl8fCJ7fSIhPUEoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbz1bZV0sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspby5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gdD1vWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZihyJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhcSh0KSlyZXR1cm4gdH0pLG9bMV09dCxBLmFwcGx5KFAsbyl9fX0pLE1bRF1bTF18fGUoIi4vX2hpZGUiKShNW0RdLEwsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wO2E8NTthKyspe3ZhciB1PWNbYV0sbD1vW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm4oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixvKXsidXNlIHN0cmljdCI7dmFyIG4saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbyl9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89cnx8MDtvPGUubGVuZ3RoO28rKylpZihlW29dPT09dClyZXR1cm4gbztyZXR1cm4tMX0sdT1yLk1hcCE9PW8mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG8pe3ZhciBuPWEoZSxyKTtuPT09LTE/KGUucHVzaChyKSx0LnB1c2gobyksdGhpcy5zaXplKyspOnRbbl09b30sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG89YShlLHIpO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtvXSxlW29dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBvPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO28ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBuLGk9MDtpPG8ubGVuZ3RoOykobj1hKHIsb1tpKytdKSk+LTEmJnIuc3BsaWNlKG4sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixvLG49W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZuLnB1c2gocik7ZWxzZXtvPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdClvLmNhbGwodCxyKSYmbi5wdXNoKHIpfXJldHVybiBjKHQpJiZuLnB1c2goImxlbmd0aCIpLG59LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXz1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCkscD1mdW5jdGlvbihlLHQscil7dmFyIG89bi5nZXQoZSk7bz8oaChvLGUpLG0oZSxvLHQscikpOihvPWIoZSksbShlLG8sdCxyKSwxPT09bi5zaXplJiZfKHkpKX0sYj1mdW5jdGlvbih0LHIpe3ZhciBvLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOiEhZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KSxleHRlbnNpYmxlOiFlLmlzRXh0ZW5zaWJsZXx8ZS5pc0V4dGVuc2libGUodCkscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6aih0LHIpfTtpZihkKWZvcihvPXIuZGVzY3JpcHRvcnM9W107YzxpLmxlbmd0aDspb1tjXT1kKHQsaVtjXSksc1tjXT10W2lbYysrXV07ZWxzZSBmb3IoO2M8aS5sZW5ndGg7KXNbY109dFtpW2MrK11dO3JldHVybiBuLnNldCh0LHIpLHJ9LGg9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG8sbil7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxjPXQudmFsdWVzW3JdLGE9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbiYmKGM9PT1zPzA9PT1jJiYxL2MhPT0xL3M6Yz09PWN8fHM9PT1zKSYmKGcoZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxvKSx0LnZhbHVlc1tyXT1zKSwhYS5jb25maWd1cmFibGV8fG4uY29uZmlndXJhYmxlJiZuLndyaXRhYmxlPT09YS53cml0YWJsZSYmbi5lbnVtZXJhYmxlPT09YS5lbnVtZXJhYmxlJiZuLmdldD09PWEuZ2V0JiZuLnNldD09PWEuc2V0fHwoZyhlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC5kZXNjcmlwdG9yc1tyXT1uKX06ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49dC5wcm9wZXJ0aWVzW3JdLGk9ZVtuXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihnKGUsdCx7bmFtZTpuLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbyksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbyxuLGkpe2Zvcih2YXIgcyxjPXIubGVuZ3RoO28mJmMtLTspbnVsbCE9PXJbY10mJihzPWQoZSxyW2NdKSxvLS0scz90KGUsbixjLGkscyk6KGcoZSxuLHtuYW1lOnJbY10sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tjXX0saSksbi5wcm9wZXJ0aWVzLnNwbGljZShjLDEpLG4udmFsdWVzLnNwbGljZShjLDEpLG4uZGVzY3JpcHRvcnMuc3BsaWNlKGMsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbyxuKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGcoZSxvLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1tpXX0sbiksby5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG8udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihvLG4saSl7aWYoby5oYW5kbGVycy5zaXplJiYhby5mcm96ZW4pe3ZhciBzLGMsdSxfLHAsYixoLHksdj1vLnZhbHVlcyxqPW8uZGVzY3JpcHRvcnMsbT0wO2lmKG8uZXh0ZW5zaWJsZSlpZihzPW8ucHJvcGVydGllcy5zbGljZSgpLGM9cy5sZW5ndGgsdT1sKG4pLGope2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCkseT1kKG4scCksXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChuW3BdKSxqLnB1c2goeSkpOihzW19dPW51bGwsYy0tLHQobixvLF8saSx5KSk7cihuLHMsYyxvLGkpLGUuaXNFeHRlbnNpYmxlKG4pfHwoby5leHRlbnNpYmxlPSExLGcobixvLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om59LGkpLG8uZnJvemVuPWUuaXNGcm96ZW4obikpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOylwPXVbbSsrXSxfPWEocyxwKSxiPW5bcF0sXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChiKSk6KHNbX109bnVsbCxjLS0sdChuLG8sXyxpKSk7cihuLHMsYyxvLGkpfWVsc2UgaWYoIW8uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKXA9c1ttXSx0KG4sbyxtLGksZChuLHApKTtlLmlzRnJvemVuKG4pJiYoby5mcm96ZW49ITApfWYmJihoPWYobiksaCE9PW8ucHJvdG8mJihnKG4sbyx7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpuLG9sZFZhbHVlOm8ucHJvdG99KSxvLnByb3RvPWgpKX19fSgpLHk9ZnVuY3Rpb24oKXtuLnNpemUmJihuLmZvckVhY2goaCksaS5mb3JFYWNoKHYpLF8oeSkpfSx2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9bi5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW4uZ2V0KGUpO2lmKHIpe3ZhciBvLGk9e29iamVjdDplfTtmb3IobyBpbiB0KSJvYmplY3QiIT09byYmKGlbb109dFtvXSk7ZyhlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxjPW4uZ2V0KGUpLGE9YXJndW1lbnRzWzJdLHU9YT09PW8/cigpOnIuY2FsbChhKTtpZihjJiZoKGMsZSx0KSxjJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2coZSxjLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPWkuZ2V0KHIpO258fGkuc2V0KHIsbj17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxuLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om8uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG4pfSxnPWZ1bmN0aW9uKGUsdCxyLG8pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG98fGEobixvKT09PS0xKSYmYShuLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O249dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbil7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobj09PW8pbj1zO2Vsc2UgaWYoIW58fCJvYmplY3QiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIHAodCxyLG4pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG89aS5nZXQodCk7cmV0dXJuIG8mJihyPW8ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG8ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksXyhmdW5jdGlvbigpe3Yobyx0KX0pLDE9PT1vLm9ic2VydmVkLnNpemUmJm8ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm8ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9uWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6aih0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksdih0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBuPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1vKG4pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGM9byhzKSxhPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW8oYSk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1jWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExNywiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL3N5bmNoZXIvU3luY2hlciI6MTIxLCJhcnJheS5vYnNlcnZlIjoxLCJvYmplY3Qub2JzZXJ2ZSI6MTEzfV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1vKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1vKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IiksXz1vKGQpLHA9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxiPW8ocCksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW8sYy5fc3RhdHVzPW4sYy5fc3luY09iaj1uZXcgX1siZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIG49citvLGk9dC5fYnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBvPXIuX293bmVyKyIjIityLl9jaGlsZElkLG49ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpuLGJvZHk6e3Jlc291cmNlOm8sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgYlsiZGVmYXVsdCJdKHIsbyx0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpuLGNoaWxkSWQ6b30pfSksci5fY2hpbGRyZW5PYmplY3RzW29dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBvPW5ldyBiWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW8sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbj17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixuKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihuKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG89e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYoby5ib2R5LnZhbHVlPWUuZGF0YSk6KG8uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsby5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG8uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihvLnRvPXQucGF0aCxvLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobyl9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG89dC5ib2R5LmF0dHJpYnV0ZSxuPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG8pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG4pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG4pfWVsc2UgaS5vYmpbaS5sYXN0XT1uO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bjpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxvPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtvP3QuX2NoYW5nZU9iamVjdChvLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNiwiLi9TeW5jT2JqZWN0IjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1vKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1vKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW4sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obyksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1vKG0pLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbz17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG49ZS5pbmRleE9mKCIqIik7bj09PWUubGVuZ3RoLTEmJigwPT09bj9vLnR5cGU9dy5BTlk6KG8udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09b319LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fZmlsdGVyc1tyXTtvLnR5cGU9PT13LkFOWT9vLmNhbGxiYWNrKGUpOm8udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmby5jYWxsYmFjayhlKTpvLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmby5jYWxsYmFjayhlKX0pfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTUsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbz17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bzt2YXIgbj17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtuW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6bn19fSksb30scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG89dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6b307dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0IjoxMTUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1vLHMuX2NoaWxkcmVuPW4scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgbiBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W25dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG4pLHRbbl0pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbyk7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgXyh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXS5vYmplY3QsaT12b2lkIDA7aWYobi5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Yi5PQkpFQ1QpLG4uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Yi5BUlJBWSksInNwbGljZSI9PT10W29dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtvXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtvXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtvXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG8pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK28pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtvXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgYj1uLnNsaWNlKHMscytkKTtiLmZvckVhY2goZnVuY3Rpb24odCxvKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWVbIm5ldyJdKG5ldyBfKHQscytvKSk7ci5faW50ZXJuYWxPYnNlcnZlKG4sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYil9KX1zIT09bi5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShuKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbb10ubmFtZSksYz1zLnRvU3RyaW5nKCk7aWYoYy5pbmRleE9mKCJTeW1ib2wiKSE9PS0xKWNvbnRpbnVlO3ZhciBhPW5bdFtvXS5uYW1lXTsidXBkYXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbb10udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtvXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fb2JzZXJ2YWJsZXNbcl0sbj1lLmluZGV4T2Yoby5vYmopO28uaWR4IT1uJiYoby5pZHg9bixkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbbl09byl9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09XyYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLHA9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sYj1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW8oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9byhsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIiksXz1vKGQpLHA9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxiPW8ocCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24uX293bmVyPXQsbi5fYnVzPXIsbi5fc3ViVVJMPW8ucnVudGltZVVSTCsiL3NtIixuLl9yZXBvcnRlcnM9e30sbi5fb2JzZXJ2ZXJzPXt9LG4uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpuLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm4uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpuLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXM7ci5yZXBvcnRlcj1vLl9vd25lcixyLnNjaGVtYT1lO3ZhciBuPXt0eXBlOiJjcmVhdGUiLGZyb206by5fb3duZXIsdG86by5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe28uX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBzPW4uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obyxzLGUsIm9uIixyLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyk7by5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG89e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG4saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKXM9bmV3IGJbImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09by5ib2R5LmNvZGUpe3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocix0LGUsIm9uIixvLmJvZHkudmFsdWUscy5jaGlsZHJlbixvLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbihjKSxzLmFwcGx5KGMpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbyl7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7CmNvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpvKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxvPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm99fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbz10Ll9vYnNlcnZlcnNbcl07aWYobyl7dmFyIG49e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLDIwMD09PW4mJm9bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTgsIi4vRGF0YVByb3Zpc2lvbmFsIjoxMTksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbihlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixvPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7b1swXT09PWUmJihvWzBdPSJodHRwcyIsb1sxXT1lKTt2YXIgbj17dHlwZTpvWzBdLGRvbWFpbjpvWzFdLGlkZW50aXR5Om9bMl19O3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9bihlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9bihlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1vKGYpLF89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1vKF8pO3IuZGl2aWRlVVJMPW4sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTRdKSgxMTQpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKgogKiAgQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLgogKgogKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZQogKiAgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBvZiB0aGUgc291cmNlCiAqICB0cmVlLgogKi8KCi8qIE1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlc2Ugb3B0aW9ucyBhdCBqc2hpbnQuY29tL2RvY3Mvb3B0aW9ucyAqLwovKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgY2FtZWxjYXNlOiB0cnVlLCBjdXJseTogdHJ1ZSwgZGV2ZWw6IHRydWUsCiAgIGVxZXFlcTogdHJ1ZSwgZm9yaW46IGZhbHNlLCBnbG9iYWxzdHJpY3Q6IHRydWUsIG5vZGU6IHRydWUsCiAgIHF1b3RtYXJrOiBzaW5nbGUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHN0cmljdCAqLwovKiBnbG9iYWwgbW96UlRDSWNlQ2FuZGlkYXRlLCBtb3pSVENQZWVyQ29ubmVjdGlvbiwgUHJvbWlzZSwKbW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiwgTWVkaWFTdHJlYW1UcmFjaywKTWVkaWFTdHJlYW0sIFJUQ0ljZUdhdGhlcmVyLCBSVENJY2VUcmFuc3BvcnQsIFJUQ0R0bHNUcmFuc3BvcnQsClJUQ1J0cFNlbmRlciwgUlRDUnRwUmVjZWl2ZXIqLwovKiBleHBvcnRlZCB0cmFjZSxyZXF1ZXN0VXNlck1lZGlhICovCgondXNlIHN0cmljdCc7Cgp2YXIgZ2V0VXNlck1lZGlhID0gbnVsbDsKdmFyIGF0dGFjaE1lZGlhU3RyZWFtID0gbnVsbDsKdmFyIHJlYXR0YWNoTWVkaWFTdHJlYW0gPSBudWxsOwp2YXIgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gbnVsbDsKdmFyIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9IG51bGw7CnZhciB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IG51bGw7CnZhciB3ZWJydGNVdGlscyA9IHsKICBsb2c6IGZ1bmN0aW9uKCkgewogICAgLy8gc3VwcHJlc3MgY29uc29sZS5sb2cgb3V0cHV0IHdoZW4gYmVpbmcgaW5jbHVkZWQgYXMgYSBtb2R1bGUuCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgfHwKICAgICAgICB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7CiAgfSwKICBleHRyYWN0VmVyc2lvbjogZnVuY3Rpb24odWFzdHJpbmcsIGV4cHIsIHBvcykgewogICAgdmFyIG1hdGNoID0gdWFzdHJpbmcubWF0Y2goZXhwcik7CiAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID49IHBvcyAmJiBwYXJzZUludChtYXRjaFtwb3NdLCAxMCk7CiAgfQp9OwoKZnVuY3Rpb24gdHJhY2UodGV4dCkgewogIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgbG9nZ2luZy4KICBpZiAodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnXG4nKSB7CiAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSAxKTsKICB9CiAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSkgewogICAgdmFyIG5vdyA9ICh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLyAxMDAwKS50b0ZpeGVkKDMpOwogICAgd2VicnRjVXRpbHMubG9nKG5vdyArICc6ICcgKyB0ZXh0KTsKICB9IGVsc2UgewogICAgd2VicnRjVXRpbHMubG9nKHRleHQpOwogIH0KfQoKaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSB7CiAgaWYgKHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50ICYmCiAgICAhKCdzcmNPYmplY3QnIGluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSkpIHsKICAgIC8vIFNoaW0gdGhlIHNyY09iamVjdCBwcm9wZXJ0eSwgb25jZSwgd2hlbiBIVE1MTWVkaWFFbGVtZW50IGlzIGZvdW5kLgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSwgJ3NyY09iamVjdCcsIHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICAvLyBJZiBwcmVmaXhlZCBzcmNPYmplY3QgcHJvcGVydHkgZXhpc3RzLCByZXR1cm4gaXQuCiAgICAgICAgLy8gT3RoZXJ3aXNlIHVzZSB0aGUgc2hpbW1lZCBwcm9wZXJ0eSwgX3NyY09iamVjdAogICAgICAgIHJldHVybiAnbW96U3JjT2JqZWN0JyBpbiB0aGlzID8gdGhpcy5tb3pTcmNPYmplY3QgOiB0aGlzLl9zcmNPYmplY3Q7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24oc3RyZWFtKSB7CiAgICAgICAgaWYgKCdtb3pTcmNPYmplY3QnIGluIHRoaXMpIHsKICAgICAgICAgIHRoaXMubW96U3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBVc2UgX3NyY09iamVjdCBhcyBhIHByaXZhdGUgcHJvcGVydHkgZm9yIHRoaXMgc2hpbQogICAgICAgICAgdGhpcy5fc3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICAgICAgLy8gVE9ETzogcmV2b2tlT2JqZWN0VXJsKHRoaXMuc3JjKSB3aGVuICFzdHJlYW0gdG8gcmVsZWFzZSByZXNvdXJjZXM/CiAgICAgICAgICB0aGlzLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KICAvLyBQcm94eSBleGlzdGluZyBnbG9iYWxzCiAgZ2V0VXNlck1lZGlhID0gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLmdldFVzZXJNZWRpYTsKfQoKLy8gQXR0YWNoIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuCmF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24oZWxlbWVudCwgc3RyZWFtKSB7CiAgZWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07Cn07CgpyZWF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24odG8sIGZyb20pIHsKICB0by5zcmNPYmplY3QgPSBmcm9tLnNyY09iamVjdDsKfTsKCmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93Lm5hdmlnYXRvcikgewogIHdlYnJ0Y1V0aWxzLmxvZygnVGhpcyBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSBicm93c2VyJyk7CiAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ25vdCBhIGJyb3dzZXInOwp9IGVsc2UgaWYgKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpIHsKICB3ZWJydGNVdGlscy5sb2coJ1RoaXMgYXBwZWFycyB0byBiZSBGaXJlZm94Jyk7CgogIHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9ICdmaXJlZm94JzsKCiAgLy8gdGhlIGRldGVjdGVkIGZpcmVmb3ggdmVyc2lvbi4KICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB3ZWJydGNVdGlscy5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LAogICAgICAvRmlyZWZveFwvKFswLTldKylcLi8sIDEpOwoKICAvLyB0aGUgbWluaW11bSBmaXJlZm94IHZlcnNpb24gc3RpbGwgc3VwcG9ydGVkIGJ5IGFkYXB0ZXIuCiAgd2VicnRjTWluaW11bVZlcnNpb24gPSAzMTsKCiAgLy8gU2hpbSBmb3IgUlRDUGVlckNvbm5lY3Rpb24gb24gb2xkZXIgdmVyc2lvbnMuCiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHsKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKSB7CiAgICAgIGlmICh3ZWJydGNEZXRlY3RlZFZlcnNpb24gPCAzOCkgewogICAgICAgIC8vIC51cmxzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gRkYgPCAzOC4KICAgICAgICAvLyBjcmVhdGUgUlRDSWNlU2VydmVycyB3aXRoIGEgc2luZ2xlIHVybC4KICAgICAgICBpZiAocGNDb25maWcgJiYgcGNDb25maWcuaWNlU2VydmVycykgewogICAgICAgICAgdmFyIG5ld0ljZVNlcnZlcnMgPSBbXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGNDb25maWcuaWNlU2VydmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgc2VydmVyID0gcGNDb25maWcuaWNlU2VydmVyc1tpXTsKICAgICAgICAgICAgaWYgKHNlcnZlci5oYXNPd25Qcm9wZXJ0eSgndXJscycpKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXJ2ZXIudXJscy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgdmFyIG5ld1NlcnZlciA9IHsKICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIudXJsc1tqXQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXIudXJsc1tqXS5pbmRleE9mKCd0dXJuJykgPT09IDApIHsKICAgICAgICAgICAgICAgICAgbmV3U2VydmVyLnVzZXJuYW1lID0gc2VydmVyLnVzZXJuYW1lOwogICAgICAgICAgICAgICAgICBuZXdTZXJ2ZXIuY3JlZGVudGlhbCA9IHNlcnZlci5jcmVkZW50aWFsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbmV3SWNlU2VydmVycy5wdXNoKG5ld1NlcnZlcik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5ld0ljZVNlcnZlcnMucHVzaChwY0NvbmZpZy5pY2VTZXJ2ZXJzW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcGNDb25maWcuaWNlU2VydmVycyA9IG5ld0ljZVNlcnZlcnM7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBuZXcgbW96UlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpOyAvLyBqc2NzOmlnbm9yZSByZXF1aXJlQ2FwaXRhbGl6ZWRDb25zdHJ1Y3RvcnMKICAgIH07CiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID0gbW96UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlOwoKICAgIC8vIHdyYXAgc3RhdGljIG1ldGhvZHMuIEN1cnJlbnRseSBqdXN0IGdlbmVyYXRlQ2VydGlmaWNhdGUuCiAgICBpZiAobW96UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLCAnZ2VuZXJhdGVDZXJ0aWZpY2F0ZScsIHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIG1velJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGUuYXBwbHkobnVsbCwKICAgICAgICAgICAgICAgIGFyZ3VtZW50cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gbW96UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gPSBtb3pSVENTZXNzaW9uRGVzY3JpcHRpb247CiAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlID0gbW96UlRDSWNlQ2FuZGlkYXRlOwogIH0KCiAgLy8gZ2V0VXNlck1lZGlhIGNvbnN0cmFpbnRzIHNoaW0uCiAgZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcikgewogICAgdmFyIGNvbnN0cmFpbnRzVG9GRjM3ID0gZnVuY3Rpb24oYykgewogICAgICBpZiAodHlwZW9mIGMgIT09ICdvYmplY3QnIHx8IGMucmVxdWlyZSkgewogICAgICAgIHJldHVybiBjOwogICAgICB9CiAgICAgIHZhciByZXF1aXJlID0gW107CiAgICAgIE9iamVjdC5rZXlzKGMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ3JlcXVpcmUnIHx8IGtleSA9PT0gJ2FkdmFuY2VkJyB8fCBrZXkgPT09ICdtZWRpYVNvdXJjZScpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHIgPSBjW2tleV0gPSAodHlwZW9mIGNba2V5XSA9PT0gJ29iamVjdCcpID8KICAgICAgICAgICAgY1trZXldIDoge2lkZWFsOiBjW2tleV19OwogICAgICAgIGlmIChyLm1pbiAhPT0gdW5kZWZpbmVkIHx8CiAgICAgICAgICAgIHIubWF4ICE9PSB1bmRlZmluZWQgfHwgci5leGFjdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXF1aXJlLnB1c2goa2V5KTsKICAgICAgICB9CiAgICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKHR5cGVvZiByLmV4YWN0ID09PSAnbnVtYmVyJykgewogICAgICAgICAgICByLm1pbiA9IHIubWF4ID0gci5leGFjdDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNba2V5XSA9IHIuZXhhY3Q7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgci5leGFjdDsKICAgICAgICB9CiAgICAgICAgaWYgKHIuaWRlYWwgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgYy5hZHZhbmNlZCA9IGMuYWR2YW5jZWQgfHwgW107CiAgICAgICAgICB2YXIgb2MgPSB7fTsKICAgICAgICAgIGlmICh0eXBlb2Ygci5pZGVhbCA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgb2Nba2V5XSA9IHttaW46IHIuaWRlYWwsIG1heDogci5pZGVhbH07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvY1trZXldID0gci5pZGVhbDsKICAgICAgICAgIH0KICAgICAgICAgIGMuYWR2YW5jZWQucHVzaChvYyk7CiAgICAgICAgICBkZWxldGUgci5pZGVhbDsKICAgICAgICAgIGlmICghT2JqZWN0LmtleXMocikubGVuZ3RoKSB7CiAgICAgICAgICAgIGRlbGV0ZSBjW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKHJlcXVpcmUubGVuZ3RoKSB7CiAgICAgICAgYy5yZXF1aXJlID0gcmVxdWlyZTsKICAgICAgfQogICAgICByZXR1cm4gYzsKICAgIH07CiAgICBpZiAod2VicnRjRGV0ZWN0ZWRWZXJzaW9uIDwgMzgpIHsKICAgICAgd2VicnRjVXRpbHMubG9nKCdzcGVjOiAnICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTsKICAgICAgaWYgKGNvbnN0cmFpbnRzLmF1ZGlvKSB7CiAgICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBjb25zdHJhaW50c1RvRkYzNyhjb25zdHJhaW50cy5hdWRpbyk7CiAgICAgIH0KICAgICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvKSB7CiAgICAgICAgY29uc3RyYWludHMudmlkZW8gPSBjb25zdHJhaW50c1RvRkYzNyhjb25zdHJhaW50cy52aWRlbyk7CiAgICAgIH0KICAgICAgd2VicnRjVXRpbHMubG9nKCdmZjM3OiAnICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTsKICAgIH0KICAgIHJldHVybiBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzLCBvblN1Y2Nlc3MsIG9uRXJyb3IpOwogIH07CgogIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7CgogIC8vIFNoaW0gZm9yIG1lZGlhRGV2aWNlcyBvbiBvbGRlciB2ZXJzaW9ucy4KICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7Z2V0VXNlck1lZGlhOiByZXF1ZXN0VXNlck1lZGlhLAogICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbigpIHsgfSwKICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7IH0KICAgIH07CiAgfQogIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyA9CiAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyB8fCBmdW5jdGlvbigpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICAgIHZhciBpbmZvcyA9IFsKICAgICAgICB7a2luZDogJ2F1ZGlvaW5wdXQnLCBkZXZpY2VJZDogJ2RlZmF1bHQnLCBsYWJlbDogJycsIGdyb3VwSWQ6ICcnfSwKICAgICAgICB7a2luZDogJ3ZpZGVvaW5wdXQnLCBkZXZpY2VJZDogJ2RlZmF1bHQnLCBsYWJlbDogJycsIGdyb3VwSWQ6ICcnfQogICAgICBdOwogICAgICByZXNvbHZlKGluZm9zKTsKICAgIH0pOwogIH07CgogIGlmICh3ZWJydGNEZXRlY3RlZFZlcnNpb24gPCA0MSkgewogICAgLy8gV29yayBhcm91bmQgaHR0cDovL2J1Z3ppbC5sYS8xMTY5NjY1CiAgICB2YXIgb3JnRW51bWVyYXRlRGV2aWNlcyA9CiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIG9yZ0VudW1lcmF0ZURldmljZXMoKS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24oZSkgewogICAgICAgIGlmIChlLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykgewogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0KICAgICAgICB0aHJvdyBlOwogICAgICB9KTsKICAgIH07CiAgfQp9IGVsc2UgaWYgKG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgJiYgd2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKSB7CiAgd2VicnRjVXRpbHMubG9nKCdUaGlzIGFwcGVhcnMgdG8gYmUgQ2hyb21lJyk7CgogIHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9ICdjaHJvbWUnOwoKICAvLyB0aGUgZGV0ZWN0ZWQgY2hyb21lIHZlcnNpb24uCiAgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gd2VicnRjVXRpbHMuZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgL0Nocm9tKGV8aXVtKVwvKFswLTldKylcLi8sIDIpOwoKICAvLyB0aGUgbWluaW11bSBjaHJvbWUgdmVyc2lvbiBzdGlsbCBzdXBwb3J0ZWQgYnkgYWRhcHRlci4KICB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IDM4OwoKICAvLyBUaGUgUlRDUGVlckNvbm5lY3Rpb24gb2JqZWN0LgogIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKSB7CiAgICAvLyBUcmFuc2xhdGUgaWNlVHJhbnNwb3J0UG9saWN5IHRvIGljZVRyYW5zcG9ydHMsCiAgICAvLyBzZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC93ZWJydGMvaXNzdWVzL2RldGFpbD9pZD00ODY5CiAgICBpZiAocGNDb25maWcgJiYgcGNDb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7CiAgICAgIHBjQ29uZmlnLmljZVRyYW5zcG9ydHMgPSBwY0NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3k7CiAgICB9CgogICAgdmFyIHBjID0gbmV3IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTsgLy8ganNjczppZ25vcmUgcmVxdWlyZUNhcGl0YWxpemVkQ29uc3RydWN0b3JzCiAgICB2YXIgb3JpZ0dldFN0YXRzID0gcGMuZ2V0U3RhdHMuYmluZChwYyk7CiAgICBwYy5nZXRTdGF0cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHsgLy8ganNoaW50IGlnbm9yZTogbGluZQogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzOwoKICAgICAgLy8gSWYgc2VsZWN0b3IgaXMgYSBmdW5jdGlvbiB0aGVuIHdlIGFyZSBpbiB0aGUgb2xkIHN0eWxlIHN0YXRzIHNvIGp1c3QKICAgICAgLy8gcGFzcyBiYWNrIHRoZSBvcmlnaW5hbCBnZXRTdGF0cyBmb3JtYXQgdG8gYXZvaWQgYnJlYWtpbmcgb2xkIHVzZXJzLgogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgdHlwZW9mIHNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cyhzZWxlY3Rvciwgc3VjY2Vzc0NhbGxiYWNrKTsKICAgICAgfQoKICAgICAgdmFyIGZpeENocm9tZVN0YXRzID0gZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICB2YXIgc3RhbmRhcmRSZXBvcnQgPSB7fTsKICAgICAgICB2YXIgcmVwb3J0cyA9IHJlc3BvbnNlLnJlc3VsdCgpOwogICAgICAgIHJlcG9ydHMuZm9yRWFjaChmdW5jdGlvbihyZXBvcnQpIHsKICAgICAgICAgIHZhciBzdGFuZGFyZFN0YXRzID0gewogICAgICAgICAgICBpZDogcmVwb3J0LmlkLAogICAgICAgICAgICB0aW1lc3RhbXA6IHJlcG9ydC50aW1lc3RhbXAsCiAgICAgICAgICAgIHR5cGU6IHJlcG9ydC50eXBlCiAgICAgICAgICB9OwogICAgICAgICAgcmVwb3J0Lm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7CiAgICAgICAgICAgIHN0YW5kYXJkU3RhdHNbbmFtZV0gPSByZXBvcnQuc3RhdChuYW1lKTsKICAgICAgICAgIH0pOwogICAgICAgICAgc3RhbmRhcmRSZXBvcnRbc3RhbmRhcmRTdGF0cy5pZF0gPSBzdGFuZGFyZFN0YXRzOwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gc3RhbmRhcmRSZXBvcnQ7CiAgICAgIH07CgogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgdmFyIHN1Y2Nlc3NDYWxsYmFja1dyYXBwZXIgPSBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgYXJnc1sxXShmaXhDaHJvbWVTdGF0cyhyZXNwb25zZSkpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBvcmlnR2V0U3RhdHMuYXBwbHkodGhpcywgW3N1Y2Nlc3NDYWxsYmFja1dyYXBwZXIsIGFyZ3VtZW50c1swXV0pOwogICAgICB9CgogICAgICAvLyBwcm9taXNlLXN1cHBvcnQKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBzZWxlY3RvciA9PT0gbnVsbCkgewogICAgICAgICAgb3JpZ0dldFN0YXRzLmFwcGx5KHNlbGYsIFsKICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgcmVzb2x2ZS5hcHBseShudWxsLCBbZml4Q2hyb21lU3RhdHMocmVzcG9uc2UpXSk7CiAgICAgICAgICAgICAgfSwgcmVqZWN0XSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9yaWdHZXRTdGF0cy5hcHBseShzZWxmLCBbcmVzb2x2ZSwgcmVqZWN0XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHBjOwogIH07CiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSA9IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTsKCiAgLy8gd3JhcCBzdGF0aWMgbWV0aG9kcy4gQ3VycmVudGx5IGp1c3QgZ2VuZXJhdGVDZXJ0aWZpY2F0ZS4KICBpZiAod2Via2l0UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZSkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiwgJ2dlbmVyYXRlQ2VydGlmaWNhdGUnLCB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybiB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlLmFwcGx5KG51bGwsCiAgICAgICAgICAgICAgYXJndW1lbnRzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGU7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9CgogIC8vIGFkZCBwcm9taXNlIHN1cHBvcnQKICBbJ2NyZWF0ZU9mZmVyJywgJ2NyZWF0ZUFuc3dlciddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7CiAgICB2YXIgbmF0aXZlTWV0aG9kID0gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07CiAgICB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSB8fCAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJgogICAgICAgICAgdHlwZW9mKGFyZ3VtZW50c1swXSkgPT09ICdvYmplY3QnKSkgewogICAgICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZDsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICBuYXRpdmVNZXRob2QuYXBwbHkoc2VsZiwgW3Jlc29sdmUsIHJlamVjdCwgb3B0c10pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuYXRpdmVNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgfTsKICB9KTsKCiAgWydzZXRMb2NhbERlc2NyaXB0aW9uJywgJ3NldFJlbW90ZURlc2NyaXB0aW9uJywKICAgICAgJ2FkZEljZUNhbmRpZGF0ZSddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7CiAgICB2YXIgbmF0aXZlTWV0aG9kID0gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07CiAgICB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgYXJncyA9IGFyZ3VtZW50czsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgbmF0aXZlTWV0aG9kLmFwcGx5KHNlbGYsIFthcmdzWzBdLAogICAgICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHsKICAgICAgICAgICAgICAgIGFyZ3NbMV0uYXBwbHkobnVsbCwgW10pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgIGFyZ3NbMl0uYXBwbHkobnVsbCwgW2Vycl0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV0KICAgICAgICAgICk7CiAgICAgIH0pOwogICAgfTsKICB9KTsKCiAgLy8gZ2V0VXNlck1lZGlhIGNvbnN0cmFpbnRzIHNoaW0uCiAgdmFyIGNvbnN0cmFpbnRzVG9DaHJvbWUgPSBmdW5jdGlvbihjKSB7CiAgICBpZiAodHlwZW9mIGMgIT09ICdvYmplY3QnIHx8IGMubWFuZGF0b3J5IHx8IGMub3B0aW9uYWwpIHsKICAgICAgcmV0dXJuIGM7CiAgICB9CiAgICB2YXIgY2MgPSB7fTsKICAgIE9iamVjdC5rZXlzKGMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7CiAgICAgIGlmIChrZXkgPT09ICdyZXF1aXJlJyB8fCBrZXkgPT09ICdhZHZhbmNlZCcgfHwga2V5ID09PSAnbWVkaWFTb3VyY2UnKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciByID0gKHR5cGVvZiBjW2tleV0gPT09ICdvYmplY3QnKSA/IGNba2V5XSA6IHtpZGVhbDogY1trZXldfTsKICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygci5leGFjdCA9PT0gJ251bWJlcicpIHsKICAgICAgICByLm1pbiA9IHIubWF4ID0gci5leGFjdDsKICAgICAgfQogICAgICB2YXIgb2xkbmFtZSA9IGZ1bmN0aW9uKHByZWZpeCwgbmFtZSkgewogICAgICAgIGlmIChwcmVmaXgpIHsKICAgICAgICAgIHJldHVybiBwcmVmaXggKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChuYW1lID09PSAnZGV2aWNlSWQnKSA/ICdzb3VyY2VJZCcgOiBuYW1lOwogICAgICB9OwogICAgICBpZiAoci5pZGVhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY2Mub3B0aW9uYWwgPSBjYy5vcHRpb25hbCB8fCBbXTsKICAgICAgICB2YXIgb2MgPSB7fTsKICAgICAgICBpZiAodHlwZW9mIHIuaWRlYWwgPT09ICdudW1iZXInKSB7CiAgICAgICAgICBvY1tvbGRuYW1lKCdtaW4nLCBrZXkpXSA9IHIuaWRlYWw7CiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTsKICAgICAgICAgIG9jID0ge307CiAgICAgICAgICBvY1tvbGRuYW1lKCdtYXgnLCBrZXkpXSA9IHIuaWRlYWw7CiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2Nbb2xkbmFtZSgnJywga2V5KV0gPSByLmlkZWFsOwogICAgICAgICAgY2Mub3B0aW9uYWwucHVzaChvYyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChyLmV4YWN0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHIuZXhhY3QgIT09ICdudW1iZXInKSB7CiAgICAgICAgY2MubWFuZGF0b3J5ID0gY2MubWFuZGF0b3J5IHx8IHt9OwogICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lKCcnLCBrZXkpXSA9IHIuZXhhY3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgWydtaW4nLCAnbWF4J10uZm9yRWFjaChmdW5jdGlvbihtaXgpIHsKICAgICAgICAgIGlmIChyW21peF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBjYy5tYW5kYXRvcnkgPSBjYy5tYW5kYXRvcnkgfHwge307CiAgICAgICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lKG1peCwga2V5KV0gPSByW21peF07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKGMuYWR2YW5jZWQpIHsKICAgICAgY2Mub3B0aW9uYWwgPSAoY2Mub3B0aW9uYWwgfHwgW10pLmNvbmNhdChjLmFkdmFuY2VkKTsKICAgIH0KICAgIHJldHVybiBjYzsKICB9OwoKICBnZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKSB7CiAgICBpZiAoY29uc3RyYWludHMuYXVkaW8pIHsKICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBjb25zdHJhaW50c1RvQ2hyb21lKGNvbnN0cmFpbnRzLmF1ZGlvKTsKICAgIH0KICAgIGlmIChjb25zdHJhaW50cy52aWRlbykgewogICAgICBjb25zdHJhaW50cy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWUoY29uc3RyYWludHMudmlkZW8pOwogICAgfQogICAgd2VicnRjVXRpbHMubG9nKCdjaHJvbWU6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpOwogICAgcmV0dXJuIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEoY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcik7CiAgfTsKICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhID0gZ2V0VXNlck1lZGlhOwoKICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7Z2V0VXNlck1lZGlhOiByZXF1ZXN0VXNlck1lZGlhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhdGVEZXZpY2VzOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgICB2YXIga2luZHMgPSB7YXVkaW86ICdhdWRpb2lucHV0JywgdmlkZW86ICd2aWRlb2lucHV0J307CiAgICAgICAgcmV0dXJuIE1lZGlhU3RyZWFtVHJhY2suZ2V0U291cmNlcyhmdW5jdGlvbihkZXZpY2VzKSB7CiAgICAgICAgICByZXNvbHZlKGRldmljZXMubWFwKGZ1bmN0aW9uKGRldmljZSkgewogICAgICAgICAgICByZXR1cm4ge2xhYmVsOiBkZXZpY2UubGFiZWwsCiAgICAgICAgICAgICAgICAgICAga2luZDoga2luZHNbZGV2aWNlLmtpbmRdLAogICAgICAgICAgICAgICAgICAgIGRldmljZUlkOiBkZXZpY2UuaWQsCiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogJyd9OwogICAgICAgICAgfSkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH19OwogIH0KCiAgLy8gQSBzaGltIGZvciBnZXRVc2VyTWVkaWEgbWV0aG9kIG9uIHRoZSBtZWRpYURldmljZXMgb2JqZWN0LgogIC8vIFRPRE8oS2FwdGVuSmFuc3NvbikgcmVtb3ZlIG9uY2UgaW1wbGVtZW50ZWQgaW4gQ2hyb21lIHN0YWJsZS4KICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7CiAgICAgIHJldHVybiByZXF1ZXN0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIC8vIEV2ZW4gdGhvdWdoIENocm9tZSA0NSBoYXMgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBhbmQgYSBnZXRVc2VyTWVkaWEKICAgIC8vIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSBQcm9taXNlLCBpdCBkb2VzIG5vdCBhY2NlcHQgc3BlYy1zdHlsZQogICAgLy8gY29uc3RyYWludHMuCiAgICB2YXIgb3JpZ0dldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLgogICAgICAgIGJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGMpIHsKICAgICAgd2VicnRjVXRpbHMubG9nKCdzcGVjOiAgICcgKyBKU09OLnN0cmluZ2lmeShjKSk7IC8vIHdoaXRlc3BhY2UgZm9yIGFsaWdubWVudAogICAgICBjLmF1ZGlvID0gY29uc3RyYWludHNUb0Nocm9tZShjLmF1ZGlvKTsKICAgICAgYy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWUoYy52aWRlbyk7CiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnY2hyb21lOiAnICsgSlNPTi5zdHJpbmdpZnkoYykpOwogICAgICByZXR1cm4gb3JpZ0dldFVzZXJNZWRpYShjKTsKICAgIH07CiAgfQoKICAvLyBEdW1teSBkZXZpY2VjaGFuZ2UgZXZlbnQgbWV0aG9kcy4KICAvLyBUT0RPKEthcHRlbkphbnNzb24pIHJlbW92ZSBvbmNlIGltcGxlbWVudGVkIGluIENocm9tZSBzdGFibGUuCiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgPT09ICd1bmRlZmluZWQnKSB7CiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpIHsKICAgICAgd2VicnRjVXRpbHMubG9nKCdEdW1teSBtZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciBjYWxsZWQuJyk7CiAgICB9OwogIH0KICBpZiAodHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKCkgewogICAgICB3ZWJydGNVdGlscy5sb2coJ0R1bW15IG1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyIGNhbGxlZC4nKTsKICAgIH07CiAgfQoKICAvLyBBdHRhY2ggYSBtZWRpYSBzdHJlYW0gdG8gYW4gZWxlbWVudC4KICBhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0cmVhbSkgewogICAgaWYgKHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA+PSA0MykgewogICAgICBlbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuc3JjICE9PSAndW5kZWZpbmVkJykgewogICAgICBlbGVtZW50LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTsKICAgIH0gZWxzZSB7CiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LicpOwogICAgfQogIH07CiAgcmVhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uKHRvLCBmcm9tKSB7CiAgICBpZiAod2VicnRjRGV0ZWN0ZWRWZXJzaW9uID49IDQzKSB7CiAgICAgIHRvLnNyY09iamVjdCA9IGZyb20uc3JjT2JqZWN0OwogICAgfSBlbHNlIHsKICAgICAgdG8uc3JjID0gZnJvbS5zcmM7CiAgICB9CiAgfTsKCn0gZWxzZSBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKAogICAgL0VkZ2VcLyhcZCspLihcZCspJC8pKSB7CiAgd2VicnRjVXRpbHMubG9nKCdUaGlzIGFwcGVhcnMgdG8gYmUgRWRnZScpOwogIHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9ICdlZGdlJzsKCiAgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gd2VicnRjVXRpbHMuZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgL0VkZ2VcLyhcZCspLihcZCspJC8sIDIpOwoKICAvLyBUaGUgbWluaW11bSB2ZXJzaW9uIHN0aWxsIHN1cHBvcnRlZCBieSBhZGFwdGVyLgogIC8vIFRoaXMgaXMgdGhlIGJ1aWxkIG51bWJlciBmb3IgRWRnZS4KICB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IDEwNTQ3OwoKICBpZiAod2luZG93LlJUQ0ljZUdhdGhlcmVyKSB7CiAgICAvLyBHZW5lcmF0ZSBhbiBhbHBoYW51bWVyaWMgaWRlbnRpZmllciBmb3IgY25hbWUgb3IgbWlkcy4KICAgIC8vIFRPRE86IHVzZSBVVUlEcyBpbnN0ZWFkPyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qZWQvOTgyODgzCiAgICB2YXIgZ2VuZXJhdGVJZGVudGlmaWVyID0gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgMTApOwogICAgfTsKCiAgICAvLyBUaGUgUlRDUCBDTkFNRSB1c2VkIGJ5IGFsbCBwZWVyY29ubmVjdGlvbnMgZnJvbSB0aGUgc2FtZSBKUy4KICAgIHZhciBsb2NhbENOYW1lID0gZ2VuZXJhdGVJZGVudGlmaWVyKCk7CgogICAgLy8gU0RQIGhlbHBlcnMgLSB0byBiZSBtb3ZlZCBpbnRvIHNlcGFyYXRlIG1vZHVsZS4KICAgIHZhciBTRFBVdGlscyA9IHt9OwoKICAgIC8vIFNwbGl0cyBTRFAgaW50byBsaW5lcywgZGVhbGluZyB3aXRoIGJvdGggQ1JMRiBhbmQgTEYuCiAgICBTRFBVdGlscy5zcGxpdExpbmVzID0gZnVuY3Rpb24oYmxvYikgewogICAgICByZXR1cm4gYmxvYi50cmltKCkuc3BsaXQoJ1xuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICByZXR1cm4gbGluZS50cmltKCk7CiAgICAgIH0pOwogICAgfTsKCiAgICAvLyBTcGxpdHMgU0RQIGludG8gc2Vzc2lvbnBhcnQgYW5kIG1lZGlhc2VjdGlvbnMuIEVuc3VyZXMgQ1JMRi4KICAgIFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMgPSBmdW5jdGlvbihibG9iKSB7CiAgICAgIHZhciBwYXJ0cyA9IGJsb2Iuc3BsaXQoJ1xyXG5tPScpOwogICAgICByZXR1cm4gcGFydHMubWFwKGZ1bmN0aW9uKHBhcnQsIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIChpbmRleCA+IDAgPyAnbT0nICsgcGFydCA6IHBhcnQpLnRyaW0oKSArICdcclxuJzsKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIFJldHVybnMgbGluZXMgdGhhdCBzdGFydCB3aXRoIGEgY2VydGFpbiBwcmVmaXguCiAgICBTRFBVdGlscy5tYXRjaFByZWZpeCA9IGZ1bmN0aW9uKGJsb2IsIHByZWZpeCkgewogICAgICByZXR1cm4gU0RQVXRpbHMuc3BsaXRMaW5lcyhibG9iKS5maWx0ZXIoZnVuY3Rpb24obGluZSkgewogICAgICAgIHJldHVybiBsaW5lLmluZGV4T2YocHJlZml4KSA9PT0gMDsKICAgICAgfSk7CiAgICB9OwoKICAgIC8vIFBhcnNlcyBhbiBJQ0UgY2FuZGlkYXRlIGxpbmUuIFNhbXBsZSBpbnB1dDoKICAgIC8vIGNhbmRpZGF0ZTo3MDI3ODYzNTAgMiB1ZHAgNDE4MTk5MDIgOC44LjguOCA2MDc2OSB0eXAgcmVsYXkgcmFkZHIgOC44LjguOCBycG9ydCA1NTk5NiIKICAgIFNEUFV0aWxzLnBhcnNlQ2FuZGlkYXRlID0gZnVuY3Rpb24obGluZSkgewogICAgICB2YXIgcGFydHM7CiAgICAgIC8vIFBhcnNlIGJvdGggdmFyaWFudHMuCiAgICAgIGlmIChsaW5lLmluZGV4T2YoJ2E9Y2FuZGlkYXRlOicpID09PSAwKSB7CiAgICAgICAgcGFydHMgPSBsaW5lLnN1YnN0cmluZygxMikuc3BsaXQoJyAnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKDEwKS5zcGxpdCgnICcpOwogICAgICB9CgogICAgICB2YXIgY2FuZGlkYXRlID0gewogICAgICAgIGZvdW5kYXRpb246IHBhcnRzWzBdLAogICAgICAgIGNvbXBvbmVudDogcGFydHNbMV0sCiAgICAgICAgcHJvdG9jb2w6IHBhcnRzWzJdLnRvTG93ZXJDYXNlKCksCiAgICAgICAgcHJpb3JpdHk6IHBhcnNlSW50KHBhcnRzWzNdLCAxMCksCiAgICAgICAgaXA6IHBhcnRzWzRdLAogICAgICAgIHBvcnQ6IHBhcnNlSW50KHBhcnRzWzVdLCAxMCksCiAgICAgICAgLy8gc2tpcCBwYXJ0c1s2XSA9PSAndHlwJwogICAgICAgIHR5cGU6IHBhcnRzWzddCiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gODsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgc3dpdGNoIChwYXJ0c1tpXSkgewogICAgICAgICAgY2FzZSAncmFkZHInOgogICAgICAgICAgICBjYW5kaWRhdGUucmVsYXRlZEFkZHJlc3MgPSBwYXJ0c1tpICsgMV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAncnBvcnQnOgogICAgICAgICAgICBjYW5kaWRhdGUucmVsYXRlZFBvcnQgPSBwYXJzZUludChwYXJ0c1tpICsgMV0sIDEwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd0Y3B0eXBlJzoKICAgICAgICAgICAgY2FuZGlkYXRlLnRjcFR5cGUgPSBwYXJ0c1tpICsgMV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDogLy8gVW5rbm93biBleHRlbnNpb25zIGFyZSBzaWxlbnRseSBpZ25vcmVkLgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGNhbmRpZGF0ZTsKICAgIH07CgogICAgLy8gVHJhbnNsYXRlcyBhIGNhbmRpZGF0ZSBvYmplY3QgaW50byBTRFAgY2FuZGlkYXRlIGF0dHJpYnV0ZS4KICAgIFNEUFV0aWxzLndyaXRlQ2FuZGlkYXRlID0gZnVuY3Rpb24oY2FuZGlkYXRlKSB7CiAgICAgIHZhciBzZHAgPSBbXTsKICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLmZvdW5kYXRpb24pOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUuY29tcG9uZW50KTsKICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnByb3RvY29sLnRvVXBwZXJDYXNlKCkpOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUucHJpb3JpdHkpOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUuaXApOwogICAgICBzZHAucHVzaChjYW5kaWRhdGUucG9ydCk7CgogICAgICB2YXIgdHlwZSA9IGNhbmRpZGF0ZS50eXBlOwogICAgICBzZHAucHVzaCgndHlwJyk7CiAgICAgIHNkcC5wdXNoKHR5cGUpOwogICAgICBpZiAodHlwZSAhPT0gJ2hvc3QnICYmIGNhbmRpZGF0ZS5yZWxhdGVkQWRkcmVzcyAmJgogICAgICAgICAgY2FuZGlkYXRlLnJlbGF0ZWRQb3J0KSB7CiAgICAgICAgc2RwLnB1c2goJ3JhZGRyJyk7CiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnJlbGF0ZWRBZGRyZXNzKTsgLy8gd2FzOiByZWxBZGRyCiAgICAgICAgc2RwLnB1c2goJ3Jwb3J0Jyk7CiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnJlbGF0ZWRQb3J0KTsgLy8gd2FzOiByZWxQb3J0CiAgICAgIH0KICAgICAgaWYgKGNhbmRpZGF0ZS50Y3BUeXBlICYmIGNhbmRpZGF0ZS5wcm90b2NvbC50b0xvd2VyQ2FzZSgpID09PSAndGNwJykgewogICAgICAgIHNkcC5wdXNoKCd0Y3B0eXBlJyk7CiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnRjcFR5cGUpOwogICAgICB9CiAgICAgIHJldHVybiAnY2FuZGlkYXRlOicgKyBzZHAuam9pbignICcpOwogICAgfTsKCiAgICAvLyBQYXJzZXMgYW4gcnRwbWFwIGxpbmUsIHJldHVybnMgUlRDUnRwQ29kZGVjUGFyYW1ldGVycy4gU2FtcGxlIGlucHV0OgogICAgLy8gYT1ydHBtYXA6MTExIG9wdXMvNDgwMDAvMgogICAgU0RQVXRpbHMucGFyc2VSdHBNYXAgPSBmdW5jdGlvbihsaW5lKSB7CiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKDkpLnNwbGl0KCcgJyk7CiAgICAgIHZhciBwYXJzZWQgPSB7CiAgICAgICAgcGF5bG9hZFR5cGU6IHBhcnNlSW50KHBhcnRzLnNoaWZ0KCksIDEwKSAvLyB3YXM6IGlkCiAgICAgIH07CgogICAgICBwYXJ0cyA9IHBhcnRzWzBdLnNwbGl0KCcvJyk7CgogICAgICBwYXJzZWQubmFtZSA9IHBhcnRzWzBdOwogICAgICBwYXJzZWQuY2xvY2tSYXRlID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTsgLy8gd2FzOiBjbG9ja3JhdGUKICAgICAgcGFyc2VkLm51bUNoYW5uZWxzID0gcGFydHMubGVuZ3RoID09PSAzID8gcGFyc2VJbnQocGFydHNbMl0sIDEwKSA6IDE7IC8vIHdhczogY2hhbm5lbHMKICAgICAgcmV0dXJuIHBhcnNlZDsKICAgIH07CgogICAgLy8gR2VuZXJhdGUgYW4gYT1ydHBtYXAgbGluZSBmcm9tIFJUQ1J0cENvZGVjQ2FwYWJpbGl0eSBvciBSVENSdHBDb2RlY1BhcmFtZXRlcnMuCiAgICBTRFBVdGlscy53cml0ZVJ0cE1hcCA9IGZ1bmN0aW9uKGNvZGVjKSB7CiAgICAgIHZhciBwdCA9IGNvZGVjLnBheWxvYWRUeXBlOwogICAgICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHB0ID0gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7CiAgICAgIH0KICAgICAgcmV0dXJuICdhPXJ0cG1hcDonICsgcHQgKyAnICcgKyBjb2RlYy5uYW1lICsgJy8nICsgY29kZWMuY2xvY2tSYXRlICsKICAgICAgICAgIChjb2RlYy5udW1DaGFubmVscyAhPT0gMSA/ICcvJyArIGNvZGVjLm51bUNoYW5uZWxzIDogJycpICsgJ1xyXG4nOwogICAgfTsKCiAgICAvLyBQYXJzZXMgYW4gZnRtcCBsaW5lLCByZXR1cm5zIGRpY3Rpb25hcnkuIFNhbXBsZSBpbnB1dDoKICAgIC8vIGE9Zm10cDo5NiB2YnI9b247Y25nPW9uCiAgICAvLyBBbHNvIGRlYWxzIHdpdGggdmJyPW9uOyBjbmc9b24KICAgIFNEUFV0aWxzLnBhcnNlRm10cCA9IGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgdmFyIHBhcnNlZCA9IHt9OwogICAgICB2YXIga3Y7CiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKGxpbmUuaW5kZXhPZignICcpICsgMSkuc3BsaXQoJzsnKTsKICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykgewogICAgICAgIGt2ID0gcGFydHNbal0udHJpbSgpLnNwbGl0KCc9Jyk7CiAgICAgICAgcGFyc2VkW2t2WzBdLnRyaW0oKV0gPSBrdlsxXTsKICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkOwogICAgfTsKCiAgICAvLyBHZW5lcmF0ZXMgYW4gYT1mdG1wIGxpbmUgZnJvbSBSVENSdHBDb2RlY0NhcGFiaWxpdHkgb3IgUlRDUnRwQ29kZWNQYXJhbWV0ZXJzLgogICAgU0RQVXRpbHMud3JpdGVGdG1wID0gZnVuY3Rpb24oY29kZWMpIHsKICAgICAgdmFyIGxpbmUgPSAnJzsKICAgICAgdmFyIHB0ID0gY29kZWMucGF5bG9hZFR5cGU7CiAgICAgIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTsKICAgICAgfQogICAgICBpZiAoY29kZWMucGFyYW1ldGVycyAmJiBjb2RlYy5wYXJhbWV0ZXJzLmxlbmd0aCkgewogICAgICAgIHZhciBwYXJhbXMgPSBbXTsKICAgICAgICBPYmplY3Qua2V5cyhjb2RlYy5wYXJhbWV0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICBwYXJhbXMucHVzaChwYXJhbSArICc9JyArIGNvZGVjLnBhcmFtZXRlcnNbcGFyYW1dKTsKICAgICAgICB9KTsKICAgICAgICBsaW5lICs9ICdhPWZtdHA6JyArIHB0ICsgJyAnICsgcGFyYW1zLmpvaW4oJzsnKSArICdcclxuJzsKICAgICAgfQogICAgICByZXR1cm4gbGluZTsKICAgIH07CgogICAgLy8gUGFyc2VzIGFuIHJ0Y3AtZmIgbGluZSwgcmV0dXJucyBSVENQUnRjcEZlZWRiYWNrIG9iamVjdC4gU2FtcGxlIGlucHV0OgogICAgLy8gYT1ydGNwLWZiOjk4IG5hY2sgcnBzaQogICAgU0RQVXRpbHMucGFyc2VSdGNwRmIgPSBmdW5jdGlvbihsaW5lKSB7CiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKGxpbmUuaW5kZXhPZignICcpICsgMSkuc3BsaXQoJyAnKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiBwYXJ0cy5zaGlmdCgpLAogICAgICAgIHBhcmFtZXRlcjogcGFydHMuam9pbignICcpCiAgICAgIH07CiAgICB9OwogICAgLy8gR2VuZXJhdGUgYT1ydGNwLWZiIGxpbmVzIGZyb20gUlRDUnRwQ29kZWNDYXBhYmlsaXR5IG9yIFJUQ1J0cENvZGVjUGFyYW1ldGVycy4KICAgIFNEUFV0aWxzLndyaXRlUnRjcEZiID0gZnVuY3Rpb24oY29kZWMpIHsKICAgICAgdmFyIGxpbmVzID0gJyc7CiAgICAgIHZhciBwdCA9IGNvZGVjLnBheWxvYWRUeXBlOwogICAgICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHB0ID0gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7CiAgICAgIH0KICAgICAgaWYgKGNvZGVjLnJ0Y3BGZWVkYmFjayAmJiBjb2RlYy5ydGNwRmVlZGJhY2subGVuZ3RoKSB7CiAgICAgICAgLy8gRklYTUU6IHNwZWNpYWwgaGFuZGxpbmcgZm9yIHRyci1pbnQ/CiAgICAgICAgY29kZWMucnRjcEZlZWRiYWNrLmZvckVhY2goZnVuY3Rpb24oZmIpIHsKICAgICAgICAgIGxpbmVzICs9ICdhPXJ0Y3AtZmI6JyArIHB0ICsgJyAnICsgZmIudHlwZSArICcgJyArIGZiLnBhcmFtZXRlciArCiAgICAgICAgICAgICAgJ1xyXG4nOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBsaW5lczsKICAgIH07CgogICAgLy8gUGFyc2VzIGFuIFJGQyA1NTc2IHNzcmMgbWVkaWEgYXR0cmlidXRlLiBTYW1wbGUgaW5wdXQ6CiAgICAvLyBhPXNzcmM6MzczNTkyODU1OSBjbmFtZTpzb21ldGhpbmcKICAgIFNEUFV0aWxzLnBhcnNlU3NyY01lZGlhID0gZnVuY3Rpb24obGluZSkgewogICAgICB2YXIgc3AgPSBsaW5lLmluZGV4T2YoJyAnKTsKICAgICAgdmFyIHBhcnRzID0gewogICAgICAgIHNzcmM6IGxpbmUuc3Vic3RyKDcsIHNwIC0gNyksCiAgICAgIH07CiAgICAgIHZhciBjb2xvbiA9IGxpbmUuaW5kZXhPZignOicsIHNwKTsKICAgICAgaWYgKGNvbG9uID4gLTEpIHsKICAgICAgICBwYXJ0cy5hdHRyaWJ1dGUgPSBsaW5lLnN1YnN0cihzcCArIDEsIGNvbG9uIC0gc3AgLSAxKTsKICAgICAgICBwYXJ0cy52YWx1ZSA9IGxpbmUuc3Vic3RyKGNvbG9uICsgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGFydHMuYXR0cmlidXRlID0gbGluZS5zdWJzdHIoc3AgKyAxKTsKICAgICAgfQogICAgICByZXR1cm4gcGFydHM7CiAgICB9OwoKICAgIC8vIEV4dHJhY3RzIERUTFMgcGFyYW1ldGVycyBmcm9tIFNEUCBtZWRpYSBzZWN0aW9uIG9yIHNlc3Npb25wYXJ0LgogICAgLy8gRklYTUU6IGZvciBjb25zaXN0ZW5jeSB3aXRoIG90aGVyIGZ1bmN0aW9ucyB0aGlzIHNob3VsZCBvbmx5CiAgICAvLyAgIGdldCB0aGUgZmluZ2VycHJpbnQgbGluZSBhcyBpbnB1dC4gU2VlIGFsc28gZ2V0SWNlUGFyYW1ldGVycy4KICAgIFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkgewogICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7CiAgICAgIGxpbmVzID0gbGluZXMuY29uY2F0KFNEUFV0aWxzLnNwbGl0TGluZXMoc2Vzc2lvbnBhcnQpKTsgLy8gU2VhcmNoIGluIHNlc3Npb24gcGFydCwgdG9vLgogICAgICB2YXIgZnBMaW5lID0gbGluZXMuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICByZXR1cm4gbGluZS5pbmRleE9mKCdhPWZpbmdlcnByaW50OicpID09PSAwOwogICAgICB9KVswXS5zdWJzdHIoMTQpOwogICAgICAvLyBOb3RlOiBhPXNldHVwIGxpbmUgaXMgaWdub3JlZCBzaW5jZSB3ZSB1c2UgdGhlICdhdXRvJyByb2xlLgogICAgICB2YXIgZHRsc1BhcmFtZXRlcnMgPSB7CiAgICAgICAgcm9sZTogJ2F1dG8nLAogICAgICAgIGZpbmdlcnByaW50czogW3sKICAgICAgICAgIGFsZ29yaXRobTogZnBMaW5lLnNwbGl0KCcgJylbMF0sCiAgICAgICAgICB2YWx1ZTogZnBMaW5lLnNwbGl0KCcgJylbMV0KICAgICAgICB9XQogICAgICB9OwogICAgICByZXR1cm4gZHRsc1BhcmFtZXRlcnM7CiAgICB9OwoKICAgIC8vIFNlcmlhbGl6ZXMgRFRMUyBwYXJhbWV0ZXJzIHRvIFNEUC4KICAgIFNEUFV0aWxzLndyaXRlRHRsc1BhcmFtZXRlcnMgPSBmdW5jdGlvbihwYXJhbXMsIHNldHVwVHlwZSkgewogICAgICB2YXIgc2RwID0gJ2E9c2V0dXA6JyArIHNldHVwVHlwZSArICdcclxuJzsKICAgICAgcGFyYW1zLmZpbmdlcnByaW50cy5mb3JFYWNoKGZ1bmN0aW9uKGZwKSB7CiAgICAgICAgc2RwICs9ICdhPWZpbmdlcnByaW50OicgKyBmcC5hbGdvcml0aG0gKyAnICcgKyBmcC52YWx1ZSArICdcclxuJzsKICAgICAgfSk7CiAgICAgIHJldHVybiBzZHA7CiAgICB9OwogICAgLy8gUGFyc2VzIElDRSBpbmZvcm1hdGlvbiBmcm9tIFNEUCBtZWRpYSBzZWN0aW9uIG9yIHNlc3Npb25wYXJ0LgogICAgLy8gRklYTUU6IGZvciBjb25zaXN0ZW5jeSB3aXRoIG90aGVyIGZ1bmN0aW9ucyB0aGlzIHNob3VsZCBvbmx5CiAgICAvLyAgIGdldCB0aGUgaWNlLXVmcmFnIGFuZCBpY2UtcHdkIGxpbmVzIGFzIGlucHV0LgogICAgU0RQVXRpbHMuZ2V0SWNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpIHsKICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pOwogICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChTRFBVdGlscy5zcGxpdExpbmVzKHNlc3Npb25wYXJ0KSk7IC8vIFNlYXJjaCBpbiBzZXNzaW9uIHBhcnQsIHRvby4KICAgICAgdmFyIGljZVBhcmFtZXRlcnMgPSB7CiAgICAgICAgdXNlcm5hbWVGcmFnbWVudDogbGluZXMuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICAgIHJldHVybiBsaW5lLmluZGV4T2YoJ2E9aWNlLXVmcmFnOicpID09PSAwOwogICAgICAgIH0pWzBdLnN1YnN0cigxMiksCiAgICAgICAgcGFzc3dvcmQ6IGxpbmVzLmZpbHRlcihmdW5jdGlvbihsaW5lKSB7CiAgICAgICAgICByZXR1cm4gbGluZS5pbmRleE9mKCdhPWljZS1wd2Q6JykgPT09IDA7CiAgICAgICAgfSlbMF0uc3Vic3RyKDEwKQogICAgICB9OwogICAgICByZXR1cm4gaWNlUGFyYW1ldGVyczsKICAgIH07CgogICAgLy8gU2VyaWFsaXplcyBJQ0UgcGFyYW1ldGVycyB0byBTRFAuCiAgICBTRFBVdGlscy53cml0ZUljZVBhcmFtZXRlcnMgPSBmdW5jdGlvbihwYXJhbXMpIHsKICAgICAgcmV0dXJuICdhPWljZS11ZnJhZzonICsgcGFyYW1zLnVzZXJuYW1lRnJhZ21lbnQgKyAnXHJcbicgKwogICAgICAgICAgJ2E9aWNlLXB3ZDonICsgcGFyYW1zLnBhc3N3b3JkICsgJ1xyXG4nOwogICAgfTsKCiAgICAvLyBQYXJzZXMgdGhlIFNEUCBtZWRpYSBzZWN0aW9uIGFuZCByZXR1cm5zIFJUQ1J0cFBhcmFtZXRlcnMuCiAgICBTRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHsKICAgICAgdmFyIGRlc2NyaXB0aW9uID0gewogICAgICAgIGNvZGVjczogW10sCiAgICAgICAgaGVhZGVyRXh0ZW5zaW9uczogW10sCiAgICAgICAgZmVjTWVjaGFuaXNtczogW10sCiAgICAgICAgcnRjcDogW10KICAgICAgfTsKICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pOwogICAgICB2YXIgbWxpbmUgPSBsaW5lc1swXS5zcGxpdCgnICcpOwogICAgICBmb3IgKHZhciBpID0gMzsgaSA8IG1saW5lLmxlbmd0aDsgaSsrKSB7IC8vIGZpbmQgYWxsIGNvZGVjcyBmcm9tIG1saW5lWzMuLl0KICAgICAgICB2YXIgcHQgPSBtbGluZVtpXTsKICAgICAgICB2YXIgcnRwbWFwbGluZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KAogICAgICAgICAgICBtZWRpYVNlY3Rpb24sICdhPXJ0cG1hcDonICsgcHQgKyAnICcpWzBdOwogICAgICAgIGlmIChydHBtYXBsaW5lKSB7CiAgICAgICAgICB2YXIgY29kZWMgPSBTRFBVdGlscy5wYXJzZVJ0cE1hcChydHBtYXBsaW5lKTsKICAgICAgICAgIHZhciBmbXRwcyA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KAogICAgICAgICAgICAgIG1lZGlhU2VjdGlvbiwgJ2E9Zm10cDonICsgcHQgKyAnICcpOwogICAgICAgICAgLy8gT25seSB0aGUgZmlyc3QgYT1mbXRwOjxwdD4gaXMgY29uc2lkZXJlZC4KICAgICAgICAgIGNvZGVjLnBhcmFtZXRlcnMgPSBmbXRwcy5sZW5ndGggPyBTRFBVdGlscy5wYXJzZUZtdHAoZm10cHNbMF0pIDoge307CiAgICAgICAgICBjb2RlYy5ydGNwRmVlZGJhY2sgPSBTRFBVdGlscy5tYXRjaFByZWZpeCgKICAgICAgICAgICAgICBtZWRpYVNlY3Rpb24sICdhPXJ0Y3AtZmI6JyArIHB0ICsgJyAnKQogICAgICAgICAgICAubWFwKFNEUFV0aWxzLnBhcnNlUnRjcEZiKTsKICAgICAgICAgIGRlc2NyaXB0aW9uLmNvZGVjcy5wdXNoKGNvZGVjKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gRklYTUU6IHBhcnNlIGhlYWRlckV4dGVuc2lvbnMsIGZlY01lY2hhbmlzbXMgYW5kIHJ0Y3AuCiAgICAgIHJldHVybiBkZXNjcmlwdGlvbjsKICAgIH07CgogICAgLy8gR2VuZXJhdGVzIHBhcnRzIG9mIHRoZSBTRFAgbWVkaWEgc2VjdGlvbiBkZXNjcmliaW5nIHRoZSBjYXBhYmlsaXRpZXMgLyBwYXJhbWV0ZXJzLgogICAgU0RQVXRpbHMud3JpdGVSdHBEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGtpbmQsIGNhcHMpIHsKICAgICAgdmFyIHNkcCA9ICcnOwoKICAgICAgLy8gQnVpbGQgdGhlIG1saW5lLgogICAgICBzZHAgKz0gJ209JyArIGtpbmQgKyAnICc7CiAgICAgIHNkcCArPSBjYXBzLmNvZGVjcy5sZW5ndGggPiAwID8gJzknIDogJzAnOyAvLyByZWplY3QgaWYgbm8gY29kZWNzLgogICAgICBzZHAgKz0gJyBVRFAvVExTL1JUUC9TQVZQRiAnOwogICAgICBzZHAgKz0gY2Fwcy5jb2RlY3MubWFwKGZ1bmN0aW9uKGNvZGVjKSB7CiAgICAgICAgaWYgKGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvZGVjLnBheWxvYWRUeXBlOwogICAgICB9KS5qb2luKCcgJykgKyAnXHJcbic7CgogICAgICBzZHAgKz0gJ2M9SU4gSVA0IDAuMC4wLjBcclxuJzsKICAgICAgc2RwICs9ICdhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxyXG4nOwoKICAgICAgLy8gQWRkIGE9cnRwbWFwIGxpbmVzIGZvciBlYWNoIGNvZGVjLiBBbHNvIGZtdHAgYW5kIHJ0Y3AtZmIuCiAgICAgIGNhcHMuY29kZWNzLmZvckVhY2goZnVuY3Rpb24oY29kZWMpIHsKICAgICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVSdHBNYXAoY29kZWMpOwogICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUZ0bXAoY29kZWMpOwogICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZVJ0Y3BGYihjb2RlYyk7CiAgICAgIH0pOwogICAgICAvLyBGSVhNRTogYWRkIGhlYWRlckV4dGVuc2lvbnMsIGZlY01lY2hhbmlzbcWfIGFuZCBydGNwLgogICAgICBzZHAgKz0gJ2E9cnRjcC1tdXhcclxuJzsKICAgICAgcmV0dXJuIHNkcDsKICAgIH07CgogICAgU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgLy8gRklYTUU6IHNlc3MtaWQgc2hvdWxkIGJlIGFuIE5UUCB0aW1lc3RhbXAuCiAgICAgIHJldHVybiAndj0wXHJcbicgKwogICAgICAgICAgJ289dGhpc2lzYWRhcHRlcm9ydGMgODE2OTYzOTkxNTY0Njk0MzEzNyAyIElOIElQNCAxMjcuMC4wLjFcclxuJyArCiAgICAgICAgICAncz0tXHJcbicgKwogICAgICAgICAgJ3Q9MCAwXHJcbic7CiAgICB9OwoKICAgIFNEUFV0aWxzLndyaXRlTWVkaWFTZWN0aW9uID0gZnVuY3Rpb24odHJhbnNjZWl2ZXIsIGNhcHMsIHR5cGUsIHN0cmVhbSkgewogICAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVSdHBEZXNjcmlwdGlvbih0cmFuc2NlaXZlci5raW5kLCBjYXBzKTsKCiAgICAgIC8vIE1hcCBJQ0UgcGFyYW1ldGVycyAodWZyYWcsIHB3ZCkgdG8gU0RQLgogICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVJY2VQYXJhbWV0ZXJzKAogICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIuZ2V0TG9jYWxQYXJhbWV0ZXJzKCkpOwoKICAgICAgLy8gTWFwIERUTFMgcGFyYW1ldGVycyB0byBTRFAuCiAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUR0bHNQYXJhbWV0ZXJzKAogICAgICAgICAgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKSwKICAgICAgICAgIHR5cGUgPT09ICdvZmZlcicgPyAnYWN0cGFzcycgOiAnYWN0aXZlJyk7CgogICAgICBzZHAgKz0gJ2E9bWlkOicgKyB0cmFuc2NlaXZlci5taWQgKyAnXHJcbic7CgogICAgICBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyICYmIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyKSB7CiAgICAgICAgc2RwICs9ICdhPXNlbmRyZWN2XHJcbic7CiAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7CiAgICAgICAgc2RwICs9ICdhPXNlbmRvbmx5XHJcbic7CiAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIpIHsKICAgICAgICBzZHAgKz0gJ2E9cmVjdm9ubHlcclxuJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZHAgKz0gJ2E9aW5hY3RpdmVcclxuJzsKICAgICAgfQoKICAgICAgLy8gRklYTUU6IGZvciBSVFggdGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgU1NSQ3MuIE5vdCBpbXBsZW1lbnRlZCBpbiBFZGdlIHlldC4KICAgICAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlcikgewogICAgICAgIHZhciBtc2lkID0gJ21zaWQ6JyArIHN0cmVhbS5pZCArICcgJyArCiAgICAgICAgICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci50cmFjay5pZCArICdcclxuJzsKICAgICAgICBzZHAgKz0gJ2E9JyArIG1zaWQ7CiAgICAgICAgc2RwICs9ICdhPXNzcmM6JyArIHRyYW5zY2VpdmVyLnNlbmRTc3JjICsgJyAnICsgbXNpZDsKICAgICAgfQogICAgICAvLyBGSVhNRTogdGhpcyBzaG91bGQgYmUgd3JpdHRlbiBieSB3cml0ZVJ0cERlc2NyaXB0aW9uLgogICAgICBzZHAgKz0gJ2E9c3NyYzonICsgdHJhbnNjZWl2ZXIuc2VuZFNzcmMgKyAnIGNuYW1lOicgKwogICAgICAgICAgbG9jYWxDTmFtZSArICdcclxuJzsKICAgICAgcmV0dXJuIHNkcDsKICAgIH07CgogICAgLy8gR2V0cyB0aGUgZGlyZWN0aW9uIGZyb20gdGhlIG1lZGlhU2VjdGlvbiBvciB0aGUgc2Vzc2lvbnBhcnQuCiAgICBTRFBVdGlscy5nZXREaXJlY3Rpb24gPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KSB7CiAgICAgIC8vIExvb2sgZm9yIHNlbmRyZWN2LCBzZW5kb25seSwgcmVjdm9ubHksIGluYWN0aXZlLCBkZWZhdWx0IHRvIHNlbmRyZWN2LgogICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBzd2l0Y2ggKGxpbmVzW2ldKSB7CiAgICAgICAgICBjYXNlICdhPXNlbmRyZWN2JzoKICAgICAgICAgIGNhc2UgJ2E9c2VuZG9ubHknOgogICAgICAgICAgY2FzZSAnYT1yZWN2b25seSc6CiAgICAgICAgICBjYXNlICdhPWluYWN0aXZlJzoKICAgICAgICAgICAgcmV0dXJuIGxpbmVzW2ldLnN1YnN0cigyKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHNlc3Npb25wYXJ0KSB7CiAgICAgICAgcmV0dXJuIFNEUFV0aWxzLmdldERpcmVjdGlvbihzZXNzaW9ucGFydCk7CiAgICAgIH0KICAgICAgcmV0dXJuICdzZW5kcmVjdic7CiAgICB9OwoKICAgIC8vIE9SVEMgZGVmaW5lcyBhbiBSVENJY2VDYW5kaWRhdGUgb2JqZWN0IGJ1dCBubyBjb25zdHJ1Y3Rvci4KICAgIC8vIE5vdCBpbXBsZW1lbnRlZCBpbiBFZGdlLgogICAgaWYgKCF3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlKSB7CiAgICAgIHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgPSBmdW5jdGlvbihhcmdzKSB7CiAgICAgICAgcmV0dXJuIGFyZ3M7CiAgICAgIH07CiAgICB9CiAgICAvLyBPUlRDIGRvZXMgbm90IGhhdmUgYSBzZXNzaW9uIGRlc2NyaXB0aW9uIG9iamVjdCBidXQKICAgIC8vIG90aGVyIGJyb3dzZXJzIChpLmUuIENocm9tZSkgdGhhdCB3aWxsIHN1cHBvcnQgYm90aCBQQyBhbmQgT1JUQwogICAgLy8gaW4gdGhlIGZ1dHVyZSBtaWdodCBoYXZlIHRoaXMgZGVmaW5lZCBhbHJlYWR5LgogICAgaWYgKCF3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKSB7CiAgICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gPSBmdW5jdGlvbihhcmdzKSB7CiAgICAgICAgcmV0dXJuIGFyZ3M7CiAgICAgIH07CiAgICB9CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24oY29uZmlnKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgIHRoaXMub25pY2VjYW5kaWRhdGUgPSBudWxsOwogICAgICB0aGlzLm9uYWRkc3RyZWFtID0gbnVsbDsKICAgICAgdGhpcy5vbnJlbW92ZXN0cmVhbSA9IG51bGw7CiAgICAgIHRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IG51bGw7CiAgICAgIHRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICB0aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQgPSBudWxsOwogICAgICB0aGlzLm9uZGF0YWNoYW5uZWwgPSBudWxsOwoKICAgICAgdGhpcy5sb2NhbFN0cmVhbXMgPSBbXTsKICAgICAgdGhpcy5yZW1vdGVTdHJlYW1zID0gW107CiAgICAgIHRoaXMuZ2V0TG9jYWxTdHJlYW1zID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLmxvY2FsU3RyZWFtczsgfTsKICAgICAgdGhpcy5nZXRSZW1vdGVTdHJlYW1zID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLnJlbW90ZVN0cmVhbXM7IH07CgogICAgICB0aGlzLmxvY2FsRGVzY3JpcHRpb24gPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHsKICAgICAgICB0eXBlOiAnJywKICAgICAgICBzZHA6ICcnCiAgICAgIH0pOwogICAgICB0aGlzLnJlbW90ZURlc2NyaXB0aW9uID0gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7CiAgICAgICAgdHlwZTogJycsCiAgICAgICAgc2RwOiAnJwogICAgICB9KTsKICAgICAgdGhpcy5zaWduYWxpbmdTdGF0ZSA9ICdzdGFibGUnOwogICAgICB0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZSA9ICduZXcnOwoKICAgICAgdGhpcy5pY2VPcHRpb25zID0gewogICAgICAgIGdhdGhlclBvbGljeTogJ2FsbCcsCiAgICAgICAgaWNlU2VydmVyczogW10KICAgICAgfTsKICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7CiAgICAgICAgc3dpdGNoIChjb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7CiAgICAgICAgICBjYXNlICdhbGwnOgogICAgICAgICAgY2FzZSAncmVsYXknOgogICAgICAgICAgICB0aGlzLmljZU9wdGlvbnMuZ2F0aGVyUG9saWN5ID0gY29uZmlnLmljZVRyYW5zcG9ydFBvbGljeTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdub25lJzoKICAgICAgICAgICAgLy8gRklYTUU6IHJlbW92ZSBvbmNlIGltcGxlbWVudGF0aW9uIGFuZCBzcGVjIGhhdmUgYWRkZWQgdGhpcy4KICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaWNlVHJhbnNwb3J0UG9saWN5ICJub25lIiBub3Qgc3VwcG9ydGVkJyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChjb25maWcgJiYgY29uZmlnLmljZVNlcnZlcnMpIHsKICAgICAgICAvLyBFZGdlIGRvZXMgbm90IGxpa2UKICAgICAgICAvLyAxKSBzdHVuOgogICAgICAgIC8vIDIpIHR1cm46IHRoYXQgZG9lcyBub3QgaGF2ZSBhbGwgb2YgdHVybjpob3N0OnBvcnQ/dHJhbnNwb3J0PXVkcAogICAgICAgIC8vIDMpIGFuIGFycmF5IG9mIHVybHMKICAgICAgICBjb25maWcuaWNlU2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHNlcnZlcikgewogICAgICAgICAgaWYgKHNlcnZlci51cmxzKSB7CiAgICAgICAgICAgIHZhciB1cmw7CiAgICAgICAgICAgIGlmICh0eXBlb2Yoc2VydmVyLnVybHMpID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgIHVybCA9IHNlcnZlci51cmxzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHVybCA9IHNlcnZlci51cmxzWzBdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZigndHJhbnNwb3J0PXVkcCcpICE9PSAtMSkgewogICAgICAgICAgICAgIHNlbGYuaWNlU2VydmVycy5wdXNoKHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBzZXJ2ZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBzZXJ2ZXIuY3JlZGVudGlhbCwKICAgICAgICAgICAgICAgIHVybHM6IHVybAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIHBlci10cmFjayBpY2VHYXRoZXJzLCBpY2VUcmFuc3BvcnRzLCBkdGxzVHJhbnNwb3J0cywgcnRwU2VuZGVycywgLi4uCiAgICAgIC8vIGV2ZXJ5dGhpbmcgdGhhdCBpcyBuZWVkZWQgdG8gZGVzY3JpYmUgYSBTRFAgbS1saW5lLgogICAgICB0aGlzLnRyYW5zY2VpdmVycyA9IFtdOwoKICAgICAgLy8gc2luY2UgdGhlIGljZUdhdGhlcmVyIGlzIGN1cnJlbnRseSBjcmVhdGVkIGluIGNyZWF0ZU9mZmVyIGJ1dCB3ZQogICAgICAvLyBtdXN0IG5vdCBlbWl0IGNhbmRpZGF0ZXMgdW50aWwgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbiB3ZSBidWZmZXIKICAgICAgLy8gdGhlbSBpbiB0aGlzIGFycmF5LgogICAgICB0aGlzLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIgPSBbXTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fZW1pdEJ1ZmZlcmVkQ2FuZGlkYXRlcyA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIC8vIEZJWE1FOiBuZWVkIHRvIGFwcGx5IGljZSBjYW5kaWRhdGVzIGluIGEgd2F5IHdoaWNoIGlzIGFzeW5jIGJ1dCBpbi1vcmRlcgogICAgICB0aGlzLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIuZm9yRWFjaChmdW5jdGlvbihldmVudCkgewogICAgICAgIGlmIChzZWxmLm9uaWNlY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICBzZWxmLm9uaWNlY2FuZGlkYXRlKGV2ZW50KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIgPSBbXTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHsKICAgICAgLy8gQ2xvbmUgaXMgbmVjZXNzYXJ5IGZvciBsb2NhbCBkZW1vcyBtb3N0bHksIGF0dGFjaGluZyBkaXJlY3RseQogICAgICAvLyB0byB0d28gZGlmZmVyZW50IHNlbmRlcnMgZG9lcyBub3Qgd29yayAoYnVpbGQgMTA1NDcpLgogICAgICB0aGlzLmxvY2FsU3RyZWFtcy5wdXNoKHN0cmVhbS5jbG9uZSgpKTsKICAgICAgdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW0gPSBmdW5jdGlvbihzdHJlYW0pIHsKICAgICAgdmFyIGlkeCA9IHRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2Yoc3RyZWFtKTsKICAgICAgaWYgKGlkeCA+IC0xKSB7CiAgICAgICAgdGhpcy5sb2NhbFN0cmVhbXMuc3BsaWNlKGlkeCwgMSk7CiAgICAgICAgdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKTsKICAgICAgfQogICAgfTsKCiAgICAvLyBEZXRlcm1pbmVzIHRoZSBpbnRlcnNlY3Rpb24gb2YgbG9jYWwgYW5kIHJlbW90ZSBjYXBhYmlsaXRpZXMuCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9nZXRDb21tb25DYXBhYmlsaXRpZXMgPQogICAgICAgIGZ1bmN0aW9uKGxvY2FsQ2FwYWJpbGl0aWVzLCByZW1vdGVDYXBhYmlsaXRpZXMpIHsKICAgICAgdmFyIGNvbW1vbkNhcGFiaWxpdGllcyA9IHsKICAgICAgICBjb2RlY3M6IFtdLAogICAgICAgIGhlYWRlckV4dGVuc2lvbnM6IFtdLAogICAgICAgIGZlY01lY2hhbmlzbXM6IFtdCiAgICAgIH07CiAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKGxDb2RlYykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3RlQ2FwYWJpbGl0aWVzLmNvZGVjcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHJDb2RlYyA9IHJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3NbaV07CiAgICAgICAgICBpZiAobENvZGVjLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gckNvZGVjLm5hbWUudG9Mb3dlckNhc2UoKSAmJgogICAgICAgICAgICAgIGxDb2RlYy5jbG9ja1JhdGUgPT09IHJDb2RlYy5jbG9ja1JhdGUgJiYKICAgICAgICAgICAgICBsQ29kZWMubnVtQ2hhbm5lbHMgPT09IHJDb2RlYy5udW1DaGFubmVscykgewogICAgICAgICAgICAvLyBwdXNoIHJDb2RlYyBzbyB3ZSByZXBseSB3aXRoIG9mZmVyZXIgcGF5bG9hZCB0eXBlCiAgICAgICAgICAgIGNvbW1vbkNhcGFiaWxpdGllcy5jb2RlY3MucHVzaChyQ29kZWMpOwoKICAgICAgICAgICAgLy8gRklYTUU6IGFsc28gbmVlZCB0byBkZXRlcm1pbmUgaW50ZXJzZWN0aW9uIGJldHdlZW4KICAgICAgICAgICAgLy8gLnJ0Y3BGZWVkYmFjayBhbmQgLnBhcmFtZXRlcnMKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihsSGVhZGVyRXh0ZW5zaW9uKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdGVDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHJIZWFkZXJFeHRlbnNpb24gPSByZW1vdGVDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9uc1tpXTsKICAgICAgICAgIGlmIChsSGVhZGVyRXh0ZW5zaW9uLnVyaSA9PT0gckhlYWRlckV4dGVuc2lvbi51cmkpIHsKICAgICAgICAgICAgY29tbW9uQ2FwYWJpbGl0aWVzLmhlYWRlckV4dGVuc2lvbnMucHVzaChySGVhZGVyRXh0ZW5zaW9uKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIEZJWE1FOiBmZWNNZWNoYW5pc21zCiAgICAgIHJldHVybiBjb21tb25DYXBhYmlsaXRpZXM7CiAgICB9OwoKICAgIC8vIENyZWF0ZSBJQ0UgZ2F0aGVyZXIsIElDRSB0cmFuc3BvcnQgYW5kIERUTFMgdHJhbnNwb3J0LgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5fY3JlYXRlSWNlQW5kRHRsc1RyYW5zcG9ydHMgPQogICAgICAgIGZ1bmN0aW9uKG1pZCwgc2RwTUxpbmVJbmRleCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBpY2VHYXRoZXJlciA9IG5ldyBSVENJY2VHYXRoZXJlcihzZWxmLmljZU9wdGlvbnMpOwogICAgICB2YXIgaWNlVHJhbnNwb3J0ID0gbmV3IFJUQ0ljZVRyYW5zcG9ydChpY2VHYXRoZXJlcik7CiAgICAgIGljZUdhdGhlcmVyLm9ubG9jYWxjYW5kaWRhdGUgPSBmdW5jdGlvbihldnQpIHsKICAgICAgICB2YXIgZXZlbnQgPSB7fTsKICAgICAgICBldmVudC5jYW5kaWRhdGUgPSB7c2RwTWlkOiBtaWQsIHNkcE1MaW5lSW5kZXg6IHNkcE1MaW5lSW5kZXh9OwoKICAgICAgICB2YXIgY2FuZCA9IGV2dC5jYW5kaWRhdGU7CiAgICAgICAgLy8gRWRnZSBlbWl0cyBhbiBlbXB0eSBvYmplY3QgZm9yIFJUQ0ljZUNhbmRpZGF0ZUNvbXBsZXRl4oClCiAgICAgICAgaWYgKCFjYW5kIHx8IE9iamVjdC5rZXlzKGNhbmQpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgLy8gcG9seWZpbGwgc2luY2UgUlRDSWNlR2F0aGVyZXIuc3RhdGUgaXMgbm90IGltcGxlbWVudGVkIGluIEVkZ2UgMTA1NDcgeWV0LgogICAgICAgICAgaWYgKGljZUdhdGhlcmVyLnN0YXRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgaWNlR2F0aGVyZXIuc3RhdGUgPSAnY29tcGxldGVkJzsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBFbWl0IGEgY2FuZGlkYXRlIHdpdGggdHlwZSBlbmRPZkNhbmRpZGF0ZXMgdG8gbWFrZSB0aGUgc2FtcGxlcyB3b3JrLgogICAgICAgICAgLy8gRWRnZSByZXF1aXJlcyBhZGRJY2VDYW5kaWRhdGUgd2l0aCB0aGlzIGVtcHR5IGNhbmRpZGF0ZSB0byBzdGFydCBjaGVja2luZy4KICAgICAgICAgIC8vIFRoZSByZWFsIHNvbHV0aW9uIGlzIHRvIHNpZ25hbCBlbmQtb2YtY2FuZGlkYXRlcyB0byB0aGUgb3RoZXIgc2lkZSB3aGVuCiAgICAgICAgICAvLyBnZXR0aW5nIHRoZSBudWxsIGNhbmRpZGF0ZSBidXQgc29tZSBhcHBzIChsaWtlIHRoZSBzYW1wbGVzKSBkb24ndCBkbyB0aGF0LgogICAgICAgICAgZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZSA9CiAgICAgICAgICAgICAgJ2NhbmRpZGF0ZToxIDEgdWRwIDEgMC4wLjAuMCA5IHR5cCBlbmRPZkNhbmRpZGF0ZXMnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBSVENJY2VDYW5kaWRhdGUgZG9lc24ndCBoYXZlIGEgY29tcG9uZW50LCBuZWVkcyB0byBiZSBhZGRlZAogICAgICAgICAgY2FuZC5jb21wb25lbnQgPSBpY2VUcmFuc3BvcnQuY29tcG9uZW50ID09PSAnUlRDUCcgPyAyIDogMTsKICAgICAgICAgIGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGUgPSBTRFBVdGlscy53cml0ZUNhbmRpZGF0ZShjYW5kKTsKICAgICAgICB9CgogICAgICAgIHZhciBjb21wbGV0ZSA9IHNlbGYudHJhbnNjZWl2ZXJzLmV2ZXJ5KGZ1bmN0aW9uKHRyYW5zY2VpdmVyKSB7CiAgICAgICAgICByZXR1cm4gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIgJiYKICAgICAgICAgICAgICB0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCc7CiAgICAgICAgfSk7CiAgICAgICAgLy8gRklYTUU6IHVwZGF0ZSAubG9jYWxEZXNjcmlwdGlvbiB3aXRoIGNhbmRpZGF0ZSBhbmQgKHBvdGVudGlhbGx5KSBlbmQtb2YtY2FuZGlkYXRlcy4KICAgICAgICAvLyAgICAgVG8gbWFrZSB0aGlzIGhhcmRlciwgdGhlIGdhdGhlcmVyIG1pZ2h0IGVtaXQgY2FuZGlkYXRlcyBiZWZvcmUgbG9jYWxkZXNjcmlwdGlvbgogICAgICAgIC8vICAgICBpcyBzZXQuIFRvIG1ha2UgdGhpbmdzIHdvcnNlLCBnYXRoZXIuZ2V0TG9jYWxDYW5kaWRhdGVzIHN0aWxsIGVycm9ycyBpbgogICAgICAgIC8vICAgICBFZGdlIDEwNTQ3IHdoZW4gbm8gY2FuZGlkYXRlcyBoYXZlIGJlZW4gZ2F0aGVyZWQgeWV0LgoKICAgICAgICBpZiAoc2VsZi5vbmljZWNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgLy8gRW1pdCBjYW5kaWRhdGUgaWYgbG9jYWxEZXNjcmlwdGlvbiBpcyBzZXQuCiAgICAgICAgICAvLyBBbHNvIGVtaXRzIG51bGwgY2FuZGlkYXRlIHdoZW4gYWxsIGdhdGhlcmVycyBhcmUgY29tcGxldGUuCiAgICAgICAgICBpZiAoc2VsZi5sb2NhbERlc2NyaXB0aW9uICYmIHNlbGYubG9jYWxEZXNjcmlwdGlvbi50eXBlID09PSAnJykgewogICAgICAgICAgICBzZWxmLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIucHVzaChldmVudCk7CiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkgewogICAgICAgICAgICAgIHNlbGYuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlci5wdXNoKHt9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi5vbmljZWNhbmRpZGF0ZShldmVudCk7CiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkgewogICAgICAgICAgICAgIHNlbGYub25pY2VjYW5kaWRhdGUoe30pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICBpY2VUcmFuc3BvcnQub25pY2VzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHNlbGYuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgpOwogICAgICB9OwoKICAgICAgdmFyIGR0bHNUcmFuc3BvcnQgPSBuZXcgUlRDRHRsc1RyYW5zcG9ydChpY2VUcmFuc3BvcnQpOwogICAgICBkdGxzVHJhbnNwb3J0Lm9uZHRsc3N0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc2VsZi5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCk7CiAgICAgIH07CiAgICAgIGR0bHNUcmFuc3BvcnQub25lcnJvciA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIG9uZXJyb3IgZG9lcyBub3Qgc2V0IHN0YXRlIHRvIGZhaWxlZCBieSBpdHNlbGYuCiAgICAgICAgZHRsc1RyYW5zcG9ydC5zdGF0ZSA9ICdmYWlsZWQnOwogICAgICAgIHNlbGYuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgpOwogICAgICB9OwoKICAgICAgcmV0dXJuIHsKICAgICAgICBpY2VHYXRoZXJlcjogaWNlR2F0aGVyZXIsCiAgICAgICAgaWNlVHJhbnNwb3J0OiBpY2VUcmFuc3BvcnQsCiAgICAgICAgZHRsc1RyYW5zcG9ydDogZHRsc1RyYW5zcG9ydAogICAgICB9OwogICAgfTsKCiAgICAvLyBTdGFydCB0aGUgUlRQIFNlbmRlciBhbmQgUmVjZWl2ZXIgZm9yIGEgdHJhbnNjZWl2ZXIuCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl90cmFuc2NlaXZlID0gZnVuY3Rpb24odHJhbnNjZWl2ZXIsCiAgICAgICAgc2VuZCwgcmVjdikgewogICAgICB2YXIgcGFyYW1zID0gdGhpcy5fZ2V0Q29tbW9uQ2FwYWJpbGl0aWVzKHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLAogICAgICAgICAgdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzKTsKICAgICAgaWYgKHNlbmQgJiYgdHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7CiAgICAgICAgcGFyYW1zLmVuY29kaW5ncyA9IFt7CiAgICAgICAgICBzc3JjOiB0cmFuc2NlaXZlci5zZW5kU3NyYwogICAgICAgIH1dOwogICAgICAgIHBhcmFtcy5ydGNwID0gewogICAgICAgICAgY25hbWU6IGxvY2FsQ05hbWUsCiAgICAgICAgICBzc3JjOiB0cmFuc2NlaXZlci5yZWN2U3NyYwogICAgICAgIH07CiAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnNlbmQocGFyYW1zKTsKICAgICAgfQogICAgICBpZiAocmVjdiAmJiB0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikgewogICAgICAgIHBhcmFtcy5lbmNvZGluZ3MgPSBbewogICAgICAgICAgc3NyYzogdHJhbnNjZWl2ZXIucmVjdlNzcmMKICAgICAgICB9XTsKICAgICAgICBwYXJhbXMucnRjcCA9IHsKICAgICAgICAgIGNuYW1lOiB0cmFuc2NlaXZlci5jbmFtZSwKICAgICAgICAgIHNzcmM6IHRyYW5zY2VpdmVyLnNlbmRTc3JjCiAgICAgICAgfTsKICAgICAgICB0cmFuc2NlaXZlci5ydHBSZWNlaXZlci5yZWNlaXZlKHBhcmFtcyk7CiAgICAgIH0KICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uID0KICAgICAgICBmdW5jdGlvbihkZXNjcmlwdGlvbikgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSB7CiAgICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nT2ZmZXIpIHsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50cmFuc2NlaXZlcnMgPSB0aGlzLl9wZW5kaW5nT2ZmZXI7CiAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ09mZmVyOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJykgewogICAgICAgIHZhciBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoc2VsZi5yZW1vdGVEZXNjcmlwdGlvbi5zZHApOwogICAgICAgIHZhciBzZXNzaW9ucGFydCA9IHNlY3Rpb25zLnNoaWZ0KCk7CiAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNkcE1MaW5lSW5kZXgpIHsKICAgICAgICAgIHZhciB0cmFuc2NlaXZlciA9IHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdOwogICAgICAgICAgdmFyIGljZUdhdGhlcmVyID0gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXI7CiAgICAgICAgICB2YXIgaWNlVHJhbnNwb3J0ID0gdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0OwogICAgICAgICAgdmFyIGR0bHNUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0OwogICAgICAgICAgdmFyIGxvY2FsQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXM7CiAgICAgICAgICB2YXIgcmVtb3RlQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzOwogICAgICAgICAgdmFyIHJlamVjdGVkID0gbWVkaWFTZWN0aW9uLnNwbGl0KCdcbicsIDEpWzBdCiAgICAgICAgICAgICAgLnNwbGl0KCcgJywgMilbMV0gPT09ICcwJzsKCiAgICAgICAgICBpZiAoIXJlamVjdGVkKSB7CiAgICAgICAgICAgIHZhciByZW1vdGVJY2VQYXJhbWV0ZXJzID0gU0RQVXRpbHMuZ2V0SWNlUGFyYW1ldGVycyhtZWRpYVNlY3Rpb24sCiAgICAgICAgICAgICAgICBzZXNzaW9ucGFydCk7CiAgICAgICAgICAgIGljZVRyYW5zcG9ydC5zdGFydChpY2VHYXRoZXJlciwgcmVtb3RlSWNlUGFyYW1ldGVycywgJ2NvbnRyb2xsZWQnKTsKCiAgICAgICAgICAgIHZhciByZW1vdGVEdGxzUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbiwKICAgICAgICAgICAgICBzZXNzaW9ucGFydCk7CiAgICAgICAgICAgIGR0bHNUcmFuc3BvcnQuc3RhcnQocmVtb3RlRHRsc1BhcmFtZXRlcnMpOwoKICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbiBvZiBjYXBhYmlsaXRpZXMuCiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZWxmLl9nZXRDb21tb25DYXBhYmlsaXRpZXMobG9jYWxDYXBhYmlsaXRpZXMsCiAgICAgICAgICAgICAgICByZW1vdGVDYXBhYmlsaXRpZXMpOwoKICAgICAgICAgICAgLy8gU3RhcnQgdGhlIFJUQ1J0cFNlbmRlci4gVGhlIFJUQ1J0cFJlY2VpdmVyIGZvciB0aGlzIHRyYW5zY2VpdmVyCiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBpbiBzZXRSZW1vdGVEZXNjcmlwdGlvbi4KICAgICAgICAgICAgc2VsZi5fdHJhbnNjZWl2ZSh0cmFuc2NlaXZlciwKICAgICAgICAgICAgICAgIHBhcmFtcy5jb2RlY3MubGVuZ3RoID4gMCwKICAgICAgICAgICAgICAgIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5sb2NhbERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb24udHlwZSkgewogICAgICAgIGNhc2UgJ29mZmVyJzoKICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdoYXZlLWxvY2FsLW9mZmVyJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdhbnN3ZXInOgogICAgICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ3N0YWJsZScpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHR5cGUgIicgKyBkZXNjcmlwdGlvbi50eXBlICsgJyInKTsKICAgICAgfQoKICAgICAgLy8gSWYgYSBzdWNjZXNzIGNhbGxiYWNrIHdhcyBwcm92aWRlZCwgZW1pdCBJQ0UgY2FuZGlkYXRlcyBhZnRlciBpdCBoYXMgYmVlbgogICAgICAvLyBleGVjdXRlZC4gT3RoZXJ3aXNlLCBlbWl0IGNhbGxiYWNrIGFmdGVyIHRoZSBQcm9taXNlIGlzIHJlc29sdmVkLgogICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJgogICAgICAgIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbic7CiAgICAgIGlmIChoYXNDYWxsYmFjaykgewogICAgICAgIHZhciBjYiA9IGFyZ3VtZW50c1sxXTsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIGNiKCk7CiAgICAgICAgICBzZWxmLl9lbWl0QnVmZmVyZWRDYW5kaWRhdGVzKCk7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KICAgICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTsKICAgICAgcC50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIGlmICghaGFzQ2FsbGJhY2spIHsKICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNlbGYuX2VtaXRCdWZmZXJlZENhbmRpZGF0ZXMuYmluZChzZWxmKSwgMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHA7CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24gPQogICAgICAgIGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIHN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpOwogICAgICB2YXIgc2VjdGlvbnMgPSBTRFBVdGlscy5zcGxpdFNlY3Rpb25zKGRlc2NyaXB0aW9uLnNkcCk7CiAgICAgIHZhciBzZXNzaW9ucGFydCA9IHNlY3Rpb25zLnNoaWZ0KCk7CiAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZHBNTGluZUluZGV4KSB7CiAgICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pOwogICAgICAgIHZhciBtbGluZSA9IGxpbmVzWzBdLnN1YnN0cigyKS5zcGxpdCgnICcpOwogICAgICAgIHZhciBraW5kID0gbWxpbmVbMF07CiAgICAgICAgdmFyIHJlamVjdGVkID0gbWxpbmVbMV0gPT09ICcwJzsKICAgICAgICB2YXIgZGlyZWN0aW9uID0gU0RQVXRpbHMuZ2V0RGlyZWN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpOwoKICAgICAgICB2YXIgdHJhbnNjZWl2ZXI7CiAgICAgICAgdmFyIGljZUdhdGhlcmVyOwogICAgICAgIHZhciBpY2VUcmFuc3BvcnQ7CiAgICAgICAgdmFyIGR0bHNUcmFuc3BvcnQ7CiAgICAgICAgdmFyIHJ0cFNlbmRlcjsKICAgICAgICB2YXIgcnRwUmVjZWl2ZXI7CiAgICAgICAgdmFyIHNlbmRTc3JjOwogICAgICAgIHZhciByZWN2U3NyYzsKICAgICAgICB2YXIgbG9jYWxDYXBhYmlsaXRpZXM7CgogICAgICAgIC8vIEZJWE1FOiBlbnN1cmUgdGhlIG1lZGlhU2VjdGlvbiBoYXMgcnRjcC1tdXggc2V0LgogICAgICAgIHZhciByZW1vdGVDYXBhYmlsaXRpZXMgPSBTRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMobWVkaWFTZWN0aW9uKTsKICAgICAgICB2YXIgcmVtb3RlSWNlUGFyYW1ldGVyczsKICAgICAgICB2YXIgcmVtb3RlRHRsc1BhcmFtZXRlcnM7CiAgICAgICAgaWYgKCFyZWplY3RlZCkgewogICAgICAgICAgcmVtb3RlSWNlUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldEljZVBhcmFtZXRlcnMobWVkaWFTZWN0aW9uLAogICAgICAgICAgICAgIHNlc3Npb25wYXJ0KTsKICAgICAgICAgIHJlbW90ZUR0bHNQYXJhbWV0ZXJzID0gU0RQVXRpbHMuZ2V0RHRsc1BhcmFtZXRlcnMobWVkaWFTZWN0aW9uLAogICAgICAgICAgICAgIHNlc3Npb25wYXJ0KTsKICAgICAgICB9CiAgICAgICAgdmFyIG1pZCA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9bWlkOicpWzBdLnN1YnN0cig2KTsKCiAgICAgICAgdmFyIGNuYW1lOwogICAgICAgIC8vIEdldHMgdGhlIGZpcnN0IFNTUkMuIE5vdGUgdGhhdCB3aXRoIFJUWCB0aGVyZSBtaWdodCBiZSBtdWx0aXBsZSBTU1JDcy4KICAgICAgICB2YXIgcmVtb3RlU3NyYyA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9c3NyYzonKQogICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgICAgICAgICByZXR1cm4gU0RQVXRpbHMucGFyc2VTc3JjTWVkaWEobGluZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG9iai5hdHRyaWJ1dGUgPT09ICdjbmFtZSc7CiAgICAgICAgICAgIH0pWzBdOwogICAgICAgIGlmIChyZW1vdGVTc3JjKSB7CiAgICAgICAgICByZWN2U3NyYyA9IHBhcnNlSW50KHJlbW90ZVNzcmMuc3NyYywgMTApOwogICAgICAgICAgY25hbWUgPSByZW1vdGVTc3JjLnZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicpIHsKICAgICAgICAgIHZhciB0cmFuc3BvcnRzID0gc2VsZi5fY3JlYXRlSWNlQW5kRHRsc1RyYW5zcG9ydHMobWlkLCBzZHBNTGluZUluZGV4KTsKCiAgICAgICAgICBsb2NhbENhcGFiaWxpdGllcyA9IFJUQ1J0cFJlY2VpdmVyLmdldENhcGFiaWxpdGllcyhraW5kKTsKICAgICAgICAgIHNlbmRTc3JjID0gKDIgKiBzZHBNTGluZUluZGV4ICsgMikgKiAxMDAxOwoKICAgICAgICAgIHJ0cFJlY2VpdmVyID0gbmV3IFJUQ1J0cFJlY2VpdmVyKHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCwga2luZCk7CgogICAgICAgICAgLy8gRklYTUU6IG5vdCBjb3JyZWN0IHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIHN0cmVhbXMgYnV0IHRoYXQgaXMKICAgICAgICAgIC8vIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluIHRoaXMgc2hpbS4KICAgICAgICAgIHN0cmVhbS5hZGRUcmFjayhydHBSZWNlaXZlci50cmFjayk7CgogICAgICAgICAgLy8gRklYTUU6IGxvb2sgYXQgZGlyZWN0aW9uLgogICAgICAgICAgaWYgKHNlbGYubG9jYWxTdHJlYW1zLmxlbmd0aCA+IDAgJiYKICAgICAgICAgICAgICBzZWxmLmxvY2FsU3RyZWFtc1swXS5nZXRUcmFja3MoKS5sZW5ndGggPj0gc2RwTUxpbmVJbmRleCkgewogICAgICAgICAgICAvLyBGSVhNRTogYWN0dWFsbHkgbW9yZSBjb21wbGljYXRlZCwgbmVlZHMgdG8gbWF0Y2ggdHlwZXMgZXRjCiAgICAgICAgICAgIHZhciBsb2NhbHRyYWNrID0gc2VsZi5sb2NhbFN0cmVhbXNbMF0uZ2V0VHJhY2tzKClbc2RwTUxpbmVJbmRleF07CiAgICAgICAgICAgIHJ0cFNlbmRlciA9IG5ldyBSVENSdHBTZW5kZXIobG9jYWx0cmFjaywgdHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSA9IHsKICAgICAgICAgICAgaWNlR2F0aGVyZXI6IHRyYW5zcG9ydHMuaWNlR2F0aGVyZXIsCiAgICAgICAgICAgIGljZVRyYW5zcG9ydDogdHJhbnNwb3J0cy5pY2VUcmFuc3BvcnQsCiAgICAgICAgICAgIGR0bHNUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCwKICAgICAgICAgICAgbG9jYWxDYXBhYmlsaXRpZXM6IGxvY2FsQ2FwYWJpbGl0aWVzLAogICAgICAgICAgICByZW1vdGVDYXBhYmlsaXRpZXM6IHJlbW90ZUNhcGFiaWxpdGllcywKICAgICAgICAgICAgcnRwU2VuZGVyOiBydHBTZW5kZXIsCiAgICAgICAgICAgIHJ0cFJlY2VpdmVyOiBydHBSZWNlaXZlciwKICAgICAgICAgICAga2luZDoga2luZCwKICAgICAgICAgICAgbWlkOiBtaWQsCiAgICAgICAgICAgIGNuYW1lOiBjbmFtZSwKICAgICAgICAgICAgc2VuZFNzcmM6IHNlbmRTc3JjLAogICAgICAgICAgICByZWN2U3NyYzogcmVjdlNzcmMKICAgICAgICAgIH07CiAgICAgICAgICAvLyBTdGFydCB0aGUgUlRDUnRwUmVjZWl2ZXIgbm93LiBUaGUgUlRQU2VuZGVyIGlzIHN0YXJ0ZWQgaW4gc2V0TG9jYWxEZXNjcmlwdGlvbi4KICAgICAgICAgIHNlbGYuX3RyYW5zY2VpdmUoc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0sCiAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgZGlyZWN0aW9uID09PSAnc2VuZHJlY3YnIHx8IGRpcmVjdGlvbiA9PT0gJ3NlbmRvbmx5Jyk7CiAgICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJyAmJiAhcmVqZWN0ZWQpIHsKICAgICAgICAgIHRyYW5zY2VpdmVyID0gc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF07CiAgICAgICAgICBpY2VHYXRoZXJlciA9IHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyOwogICAgICAgICAgaWNlVHJhbnNwb3J0ID0gdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0OwogICAgICAgICAgZHRsc1RyYW5zcG9ydCA9IHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQ7CiAgICAgICAgICBydHBTZW5kZXIgPSB0cmFuc2NlaXZlci5ydHBTZW5kZXI7CiAgICAgICAgICBydHBSZWNlaXZlciA9IHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyOwogICAgICAgICAgc2VuZFNzcmMgPSB0cmFuc2NlaXZlci5zZW5kU3NyYzsKICAgICAgICAgIC8vcmVjdlNzcmMgPSB0cmFuc2NlaXZlci5yZWN2U3NyYzsKICAgICAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXM7CgogICAgICAgICAgc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0ucmVjdlNzcmMgPSByZWN2U3NyYzsKICAgICAgICAgIHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLnJlbW90ZUNhcGFiaWxpdGllcyA9CiAgICAgICAgICAgICAgcmVtb3RlQ2FwYWJpbGl0aWVzOwogICAgICAgICAgc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0uY25hbWUgPSBjbmFtZTsKCiAgICAgICAgICBpY2VUcmFuc3BvcnQuc3RhcnQoaWNlR2F0aGVyZXIsIHJlbW90ZUljZVBhcmFtZXRlcnMsICdjb250cm9sbGluZycpOwogICAgICAgICAgZHRsc1RyYW5zcG9ydC5zdGFydChyZW1vdGVEdGxzUGFyYW1ldGVycyk7CgogICAgICAgICAgc2VsZi5fdHJhbnNjZWl2ZSh0cmFuc2NlaXZlciwKICAgICAgICAgICAgICBkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAncmVjdm9ubHknLAogICAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2JyB8fCBkaXJlY3Rpb24gPT09ICdzZW5kb25seScpOwoKICAgICAgICAgIGlmIChydHBSZWNlaXZlciAmJgogICAgICAgICAgICAgIChkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAnc2VuZG9ubHknKSkgewogICAgICAgICAgICBzdHJlYW0uYWRkVHJhY2socnRwUmVjZWl2ZXIudHJhY2spOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gRklYTUU6IGFjdHVhbGx5IHRoZSByZWNlaXZlciBzaG91bGQgYmUgY3JlYXRlZCBsYXRlci4KICAgICAgICAgICAgZGVsZXRlIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0aGlzLnJlbW90ZURlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb24udHlwZSkgewogICAgICAgIGNhc2UgJ29mZmVyJzoKICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdoYXZlLXJlbW90ZS1vZmZlcicpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYW5zd2VyJzoKICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdzdGFibGUnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bnN1cHBvcnRlZCB0eXBlICInICsgZGVzY3JpcHRpb24udHlwZSArICciJyk7CiAgICAgIH0KICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHNlbGYub25hZGRzdHJlYW0gIT09IG51bGwgJiYgc3RyZWFtLmdldFRyYWNrcygpLmxlbmd0aCkgewogICAgICAgICAgc2VsZi5yZW1vdGVTdHJlYW1zLnB1c2goc3RyZWFtKTsKICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZWxmLm9uYWRkc3RyZWFtKHtzdHJlYW06IHN0cmVhbX0pOwogICAgICAgICAgfSwgMCk7CiAgICAgICAgfQogICAgICB9LCAwKTsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMV0sIDApOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH07CgogICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnRyYW5zY2VpdmVycy5mb3JFYWNoKGZ1bmN0aW9uKHRyYW5zY2VpdmVyKSB7CiAgICAgICAgLyogbm90IHlldAogICAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VHYXRoZXJlcikgewogICAgICAgICAgdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXIuY2xvc2UoKTsKICAgICAgICB9CiAgICAgICAgKi8KICAgICAgICBpZiAodHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0KSB7CiAgICAgICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuc3RvcCgpOwogICAgICAgIH0KICAgICAgICBpZiAodHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydCkgewogICAgICAgICAgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5zdG9wKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHsKICAgICAgICAgIHRyYW5zY2VpdmVyLnJ0cFNlbmRlci5zdG9wKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikgewogICAgICAgICAgdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIC8vIEZJWE1FOiBjbGVhbiB1cCB0cmFja3MsIGxvY2FsIHN0cmVhbXMsIHJlbW90ZSBzdHJlYW1zLCBldGMKICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2Nsb3NlZCcpOwogICAgfTsKCiAgICAvLyBVcGRhdGUgdGhlIHNpZ25hbGluZyBzdGF0ZS4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlID0KICAgICAgICBmdW5jdGlvbihuZXdTdGF0ZSkgewogICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID0gbmV3U3RhdGU7CiAgICAgIGlmICh0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgIT09IG51bGwpIHsKICAgICAgICB0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UoKTsKICAgICAgfQogICAgfTsKCiAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0byBmaXJlIHRoZSBuZWdvdGlhdGlvbm5lZWRlZCBldmVudC4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX21heWJlRmlyZU5lZ290aWF0aW9uTmVlZGVkID0KICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgLy8gRmlyZSBhd2F5IChmb3Igbm93KS4KICAgICAgaWYgKHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCgpOwogICAgICB9CiAgICB9OwoKICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbiBzdGF0ZS4KICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSA9CiAgICAgICAgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIG5ld1N0YXRlOwogICAgICB2YXIgc3RhdGVzID0gewogICAgICAgICduZXcnOiAwLAogICAgICAgIGNsb3NlZDogMCwKICAgICAgICBjb25uZWN0aW5nOiAwLAogICAgICAgIGNoZWNraW5nOiAwLAogICAgICAgIGNvbm5lY3RlZDogMCwKICAgICAgICBjb21wbGV0ZWQ6IDAsCiAgICAgICAgZmFpbGVkOiAwCiAgICAgIH07CiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHsKICAgICAgICBzdGF0ZXNbdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LnN0YXRlXSsrOwogICAgICAgIHN0YXRlc1t0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0LnN0YXRlXSsrOwogICAgICB9KTsKICAgICAgLy8gSUNFVHJhbnNwb3J0LmNvbXBsZXRlZCBhbmQgY29ubmVjdGVkIGFyZSB0aGUgc2FtZSBmb3IgdGhpcyBwdXJwb3NlLgogICAgICBzdGF0ZXMuY29ubmVjdGVkICs9IHN0YXRlcy5jb21wbGV0ZWQ7CgogICAgICBuZXdTdGF0ZSA9ICduZXcnOwogICAgICBpZiAoc3RhdGVzLmZhaWxlZCA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICdmYWlsZWQnOwogICAgICB9IGVsc2UgaWYgKHN0YXRlcy5jb25uZWN0aW5nID4gMCB8fCBzdGF0ZXMuY2hlY2tpbmcgPiAwKSB7CiAgICAgICAgbmV3U3RhdGUgPSAnY29ubmVjdGluZyc7CiAgICAgIH0gZWxzZSBpZiAoc3RhdGVzLmRpc2Nvbm5lY3RlZCA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICdkaXNjb25uZWN0ZWQnOwogICAgICB9IGVsc2UgaWYgKHN0YXRlcy5uZXcgPiAwKSB7CiAgICAgICAgbmV3U3RhdGUgPSAnbmV3JzsKICAgICAgfSBlbHNlIGlmIChzdGF0ZXMuY29ubmVjdGluZyA+IDAgfHwgc3RhdGVzLmNvbXBsZXRlZCA+IDApIHsKICAgICAgICBuZXdTdGF0ZSA9ICdjb25uZWN0ZWQnOwogICAgICB9CgogICAgICBpZiAobmV3U3RhdGUgIT09IHNlbGYuaWNlQ29ubmVjdGlvblN0YXRlKSB7CiAgICAgICAgc2VsZi5pY2VDb25uZWN0aW9uU3RhdGUgPSBuZXdTdGF0ZTsKICAgICAgICBpZiAodGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSAhPT0gbnVsbCkgewogICAgICAgICAgdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaWYgKHRoaXMuX3BlbmRpbmdPZmZlcikgewogICAgICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlT2ZmZXIgY2FsbGVkIHdoaWxlIHRoZXJlIGlzIGEgcGVuZGluZyBvZmZlci4nKTsKICAgICAgfQogICAgICB2YXIgb2ZmZXJPcHRpb25zOwogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgb2ZmZXJPcHRpb25zID0gYXJndW1lbnRzWzBdOwogICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHsKICAgICAgICBvZmZlck9wdGlvbnMgPSBhcmd1bWVudHNbMl07CiAgICAgIH0KCiAgICAgIHZhciB0cmFja3MgPSBbXTsKICAgICAgdmFyIG51bUF1ZGlvVHJhY2tzID0gMDsKICAgICAgdmFyIG51bVZpZGVvVHJhY2tzID0gMDsKICAgICAgLy8gRGVmYXVsdCB0byBzZW5kcmVjdi4KICAgICAgaWYgKHRoaXMubG9jYWxTdHJlYW1zLmxlbmd0aCkgewogICAgICAgIG51bUF1ZGlvVHJhY2tzID0gdGhpcy5sb2NhbFN0cmVhbXNbMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGg7CiAgICAgICAgbnVtVmlkZW9UcmFja3MgPSB0aGlzLmxvY2FsU3RyZWFtc1swXS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aDsKICAgICAgfQogICAgICAvLyBEZXRlcm1pbmUgbnVtYmVyIG9mIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3Mgd2UgbmVlZCB0byBzZW5kL3JlY3YuCiAgICAgIGlmIChvZmZlck9wdGlvbnMpIHsKICAgICAgICAvLyBSZWplY3QgQ2hyb21lIGxlZ2FjeSBjb25zdHJhaW50cy4KICAgICAgICBpZiAob2ZmZXJPcHRpb25zLm1hbmRhdG9yeSB8fCBvZmZlck9wdGlvbnMub3B0aW9uYWwpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoCiAgICAgICAgICAgICAgJ0xlZ2FjeSBtYW5kYXRvcnkvb3B0aW9uYWwgY29uc3RyYWludHMgbm90IHN1cHBvcnRlZC4nKTsKICAgICAgICB9CiAgICAgICAgaWYgKG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZUF1ZGlvICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG51bUF1ZGlvVHJhY2tzID0gb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW87CiAgICAgICAgfQogICAgICAgIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBudW1WaWRlb1RyYWNrcyA9IG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5sb2NhbFN0cmVhbXMubGVuZ3RoKSB7CiAgICAgICAgLy8gUHVzaCBsb2NhbCBzdHJlYW1zLgogICAgICAgIHRoaXMubG9jYWxTdHJlYW1zWzBdLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHsKICAgICAgICAgIHRyYWNrcy5wdXNoKHsKICAgICAgICAgICAga2luZDogdHJhY2sua2luZCwKICAgICAgICAgICAgdHJhY2s6IHRyYWNrLAogICAgICAgICAgICB3YW50UmVjZWl2ZTogdHJhY2sua2luZCA9PT0gJ2F1ZGlvJyA/CiAgICAgICAgICAgICAgICBudW1BdWRpb1RyYWNrcyA+IDAgOiBudW1WaWRlb1RyYWNrcyA+IDAKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKHRyYWNrLmtpbmQgPT09ICdhdWRpbycpIHsKICAgICAgICAgICAgbnVtQXVkaW9UcmFja3MtLTsKICAgICAgICAgIH0gZWxzZSBpZiAodHJhY2sua2luZCA9PT0gJ3ZpZGVvJykgewogICAgICAgICAgICBudW1WaWRlb1RyYWNrcy0tOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8vIENyZWF0ZSBNLWxpbmVzIGZvciByZWN2b25seSBzdHJlYW1zLgogICAgICB3aGlsZSAobnVtQXVkaW9UcmFja3MgPiAwIHx8IG51bVZpZGVvVHJhY2tzID4gMCkgewogICAgICAgIGlmIChudW1BdWRpb1RyYWNrcyA+IDApIHsKICAgICAgICAgIHRyYWNrcy5wdXNoKHsKICAgICAgICAgICAga2luZDogJ2F1ZGlvJywKICAgICAgICAgICAgd2FudFJlY2VpdmU6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgbnVtQXVkaW9UcmFja3MtLTsKICAgICAgICB9CiAgICAgICAgaWYgKG51bVZpZGVvVHJhY2tzID4gMCkgewogICAgICAgICAgdHJhY2tzLnB1c2goewogICAgICAgICAgICBraW5kOiAndmlkZW8nLAogICAgICAgICAgICB3YW50UmVjZWl2ZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBudW1WaWRlb1RyYWNrcy0tOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHNkcCA9IFNEUFV0aWxzLndyaXRlU2Vzc2lvbkJvaWxlcnBsYXRlKCk7CiAgICAgIHZhciB0cmFuc2NlaXZlcnMgPSBbXTsKICAgICAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24obWxpbmUsIHNkcE1MaW5lSW5kZXgpIHsKICAgICAgICAvLyBGb3IgZWFjaCB0cmFjaywgY3JlYXRlIGFuIGljZSBnYXRoZXJlciwgaWNlIHRyYW5zcG9ydCwgZHRscyB0cmFuc3BvcnQsCiAgICAgICAgLy8gcG90ZW50aWFsbHkgcnRwc2VuZGVyIGFuZCBydHByZWNlaXZlci4KICAgICAgICB2YXIgdHJhY2sgPSBtbGluZS50cmFjazsKICAgICAgICB2YXIga2luZCA9IG1saW5lLmtpbmQ7CiAgICAgICAgdmFyIG1pZCA9IGdlbmVyYXRlSWRlbnRpZmllcigpOwoKICAgICAgICB2YXIgdHJhbnNwb3J0cyA9IHNlbGYuX2NyZWF0ZUljZUFuZER0bHNUcmFuc3BvcnRzKG1pZCwgc2RwTUxpbmVJbmRleCk7CgogICAgICAgIHZhciBsb2NhbENhcGFiaWxpdGllcyA9IFJUQ1J0cFNlbmRlci5nZXRDYXBhYmlsaXRpZXMoa2luZCk7CiAgICAgICAgdmFyIHJ0cFNlbmRlcjsKICAgICAgICB2YXIgcnRwUmVjZWl2ZXI7CgogICAgICAgIC8vIGdlbmVyYXRlIGFuIHNzcmMgbm93LCB0byBiZSB1c2VkIGxhdGVyIGluIHJ0cFNlbmRlci5zZW5kCiAgICAgICAgdmFyIHNlbmRTc3JjID0gKDIgKiBzZHBNTGluZUluZGV4ICsgMSkgKiAxMDAxOwogICAgICAgIGlmICh0cmFjaykgewogICAgICAgICAgcnRwU2VuZGVyID0gbmV3IFJUQ1J0cFNlbmRlcih0cmFjaywgdHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0KTsKICAgICAgICB9CgogICAgICAgIGlmIChtbGluZS53YW50UmVjZWl2ZSkgewogICAgICAgICAgcnRwUmVjZWl2ZXIgPSBuZXcgUlRDUnRwUmVjZWl2ZXIodHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0LCBraW5kKTsKICAgICAgICB9CgogICAgICAgIHRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSA9IHsKICAgICAgICAgIGljZUdhdGhlcmVyOiB0cmFuc3BvcnRzLmljZUdhdGhlcmVyLAogICAgICAgICAgaWNlVHJhbnNwb3J0OiB0cmFuc3BvcnRzLmljZVRyYW5zcG9ydCwKICAgICAgICAgIGR0bHNUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCwKICAgICAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzOiBsb2NhbENhcGFiaWxpdGllcywKICAgICAgICAgIHJlbW90ZUNhcGFiaWxpdGllczogbnVsbCwKICAgICAgICAgIHJ0cFNlbmRlcjogcnRwU2VuZGVyLAogICAgICAgICAgcnRwUmVjZWl2ZXI6IHJ0cFJlY2VpdmVyLAogICAgICAgICAga2luZDoga2luZCwKICAgICAgICAgIG1pZDogbWlkLAogICAgICAgICAgc2VuZFNzcmM6IHNlbmRTc3JjLAogICAgICAgICAgcmVjdlNzcmM6IG51bGwKICAgICAgICB9OwogICAgICAgIHZhciB0cmFuc2NlaXZlciA9IHRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XTsKICAgICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVNZWRpYVNlY3Rpb24odHJhbnNjZWl2ZXIsCiAgICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLCAnb2ZmZXInLCBzZWxmLmxvY2FsU3RyZWFtc1swXSk7CiAgICAgIH0pOwoKICAgICAgdGhpcy5fcGVuZGluZ09mZmVyID0gdHJhbnNjZWl2ZXJzOwogICAgICB2YXIgZGVzYyA9IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oewogICAgICAgIHR5cGU6ICdvZmZlcicsCiAgICAgICAgc2RwOiBzZHAKICAgICAgfSk7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sIDAsIGRlc2MpOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzYyk7CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGFuc3dlck9wdGlvbnM7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdmdW5jdGlvbicpIHsKICAgICAgICBhbnN3ZXJPcHRpb25zID0gYXJndW1lbnRzWzBdOwogICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHsKICAgICAgICBhbnN3ZXJPcHRpb25zID0gYXJndW1lbnRzWzJdOwogICAgICB9CgogICAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUoKTsKICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikgewogICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlcnNlY3Rpb24gb2YgY2FwYWJpbGl0aWVzLgogICAgICAgIHZhciBjb21tb25DYXBhYmlsaXRpZXMgPSBzZWxmLl9nZXRDb21tb25DYXBhYmlsaXRpZXMoCiAgICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLAogICAgICAgICAgICB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXMpOwoKICAgICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVNZWRpYVNlY3Rpb24odHJhbnNjZWl2ZXIsIGNvbW1vbkNhcGFiaWxpdGllcywKICAgICAgICAgICAgJ2Fuc3dlcicsIHNlbGYubG9jYWxTdHJlYW1zWzBdKTsKICAgICAgfSk7CgogICAgICB2YXIgZGVzYyA9IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oewogICAgICAgIHR5cGU6ICdhbnN3ZXInLAogICAgICAgIHNkcDogc2RwCiAgICAgIH0pOwogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzBdLCAwLCBkZXNjKTsKICAgICAgfQogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlc2MpOwogICAgfTsKCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGNhbmRpZGF0ZSkgewogICAgICB2YXIgbUxpbmVJbmRleCA9IGNhbmRpZGF0ZS5zZHBNTGluZUluZGV4OwogICAgICBpZiAoY2FuZGlkYXRlLnNkcE1pZCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmFuc2NlaXZlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLnRyYW5zY2VpdmVyc1tpXS5taWQgPT09IGNhbmRpZGF0ZS5zZHBNaWQpIHsKICAgICAgICAgICAgbUxpbmVJbmRleCA9IGk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyc1ttTGluZUluZGV4XTsKICAgICAgaWYgKHRyYW5zY2VpdmVyKSB7CiAgICAgICAgdmFyIGNhbmQgPSBPYmplY3Qua2V5cyhjYW5kaWRhdGUuY2FuZGlkYXRlKS5sZW5ndGggPiAwID8KICAgICAgICAgICAgU0RQVXRpbHMucGFyc2VDYW5kaWRhdGUoY2FuZGlkYXRlLmNhbmRpZGF0ZSkgOiB7fTsKICAgICAgICAvLyBJZ25vcmUgQ2hyb21lJ3MgaW52YWxpZCBjYW5kaWRhdGVzIHNpbmNlIEVkZ2UgZG9lcyBub3QgbGlrZSB0aGVtLgogICAgICAgIGlmIChjYW5kLnByb3RvY29sID09PSAndGNwJyAmJiBjYW5kLnBvcnQgPT09IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gSWdub3JlIFJUQ1AgY2FuZGlkYXRlcywgd2UgYXNzdW1lIFJUQ1AtTVVYLgogICAgICAgIGlmIChjYW5kLmNvbXBvbmVudCAhPT0gJzEnKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIEEgZGlydHkgaGFjayB0byBtYWtlIHNhbXBsZXMgd29yay4KICAgICAgICBpZiAoY2FuZC50eXBlID09PSAnZW5kT2ZDYW5kaWRhdGVzJykgewogICAgICAgICAgY2FuZCA9IHt9OwogICAgICAgIH0KICAgICAgICB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQuYWRkUmVtb3RlQ2FuZGlkYXRlKGNhbmQpOwogICAgICB9CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzFdLCAwKTsKICAgICAgfQogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB9OwoKICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIHByb21pc2VzID0gW107CiAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24odHJhbnNjZWl2ZXIpIHsKICAgICAgICBbJ3J0cFNlbmRlcicsICdydHBSZWNlaXZlcicsICdpY2VHYXRoZXJlcicsICdpY2VUcmFuc3BvcnQnLAogICAgICAgICAgICAnZHRsc1RyYW5zcG9ydCddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7CiAgICAgICAgICBpZiAodHJhbnNjZWl2ZXJbbWV0aG9kXSkgewogICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zY2VpdmVyW21ldGhvZF0uZ2V0U3RhdHMoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB2YXIgY2IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nICYmCiAgICAgICAgICBhcmd1bWVudHNbMV07CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTsKICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihyZXMpIHsKICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgICBPYmplY3Qua2V5cyhyZXN1bHQpLmZvckVhY2goZnVuY3Rpb24oaWQpIHsKICAgICAgICAgICAgICByZXN1bHRzW2lkXSA9IHJlc3VsdFtpZF07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoY2IpIHsKICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2IsIDAsIHJlc3VsdHMpOwogICAgICAgICAgfQogICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9OwogIH0KfSBlbHNlIHsKICB3ZWJydGNVdGlscy5sb2coJ0Jyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIGJlIFdlYlJUQy1jYXBhYmxlJyk7Cn0KCi8vIFBvbHlmaWxsIG9udHJhY2sgb24gYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgaGF2ZSBpdAppZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmICEoJ29udHJhY2snIGluCiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCAnb250cmFjaycsIHsKICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9vbnRyYWNrOyB9LAogICAgc2V0OiBmdW5jdGlvbihmKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgaWYgKHRoaXMuX29udHJhY2spIHsKICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5fb250cmFjayk7CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLCB0aGlzLl9vbnRyYWNrcG9seSk7CiAgICAgIH0KICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29udHJhY2sgPSBmKTsKICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLCB0aGlzLl9vbnRyYWNrcG9seSA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZiAod2VicnRjRGV0ZWN0ZWRCcm93c2VyID09PSAnY2hyb21lJykgewogICAgICAgICAgLy8gb25hZGRzdHJlYW0gZG9lcyBub3QgZmlyZSB3aGVuIGEgdHJhY2sgaXMgYWRkZWQgdG8gYW4gZXhpc3Rpbmcgc3RyZWFtLgogICAgICAgICAgLy8gYnV0IHN0cmVhbS5vbmFkZHRyYWNrIGlzIGltcGxlbWVudGVkIHNvIHdlIHVzZSB0aOOBn3QKICAgICAgICAgIGUuc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgZnVuY3Rpb24odGUpIHsKICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCd0cmFjaycpOwogICAgICAgICAgICBldmVudC50cmFjayA9IHRlLnRyYWNrOwogICAgICAgICAgICBldmVudC5yZWNlaXZlciA9IHt0cmFjazogdGUudHJhY2t9OwogICAgICAgICAgICBldmVudC5zdHJlYW1zID0gW2Uuc3RyZWFtXTsKICAgICAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7CiAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7CiAgICAgICAgICBldmVudC50cmFjayA9IHRyYWNrOwogICAgICAgICAgZXZlbnQucmVjZWl2ZXIgPSB7dHJhY2s6IHRyYWNrfTsKICAgICAgICAgIGV2ZW50LnN0cmVhbXMgPSBbZS5zdHJlYW1dOwogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICB9LmJpbmQodGhpcykpOwogICAgICB9LmJpbmQodGhpcykpOwogICAgfQogIH0pOwp9CgovLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgZ2V0VXNlck1lZGlhIGFzIGEgUHJvbWlzZS4KZnVuY3Rpb24gcmVxdWVzdFVzZXJNZWRpYShjb25zdHJhaW50cykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKICAgIGdldFVzZXJNZWRpYShjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KTsKICB9KTsKfQoKdmFyIHdlYnJ0Y1Rlc3RpbmcgPSB7fTsKdHJ5IHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2VicnRjVGVzdGluZywgJ3ZlcnNpb24nLCB7CiAgICBzZXQ6IGZ1bmN0aW9uKHZlcnNpb24pIHsKICAgICAgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gdmVyc2lvbjsKICAgIH0KICB9KTsKfSBjYXRjaCAoZSkge30KCmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgewogIHZhciBSVENQZWVyQ29ubmVjdGlvbjsKICB2YXIgUlRDSWNlQ2FuZGlkYXRlOwogIHZhciBSVENTZXNzaW9uRGVzY3JpcHRpb247CiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICBSVENQZWVyQ29ubmVjdGlvbiA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbjsKICAgIFJUQ0ljZUNhbmRpZGF0ZSA9IHdpbmRvdy5SVENJY2VDYW5kaWRhdGU7CiAgICBSVENTZXNzaW9uRGVzY3JpcHRpb24gPSB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOwogIH0KICBtb2R1bGUuZXhwb3J0cyA9IHsKICAgIFJUQ1BlZXJDb25uZWN0aW9uOiBSVENQZWVyQ29ubmVjdGlvbiwKICAgIFJUQ0ljZUNhbmRpZGF0ZTogUlRDSWNlQ2FuZGlkYXRlLAogICAgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOiBSVENTZXNzaW9uRGVzY3JpcHRpb24sCiAgICBnZXRVc2VyTWVkaWE6IGdldFVzZXJNZWRpYSwKICAgIGF0dGFjaE1lZGlhU3RyZWFtOiBhdHRhY2hNZWRpYVN0cmVhbSwKICAgIHJlYXR0YWNoTWVkaWFTdHJlYW06IHJlYXR0YWNoTWVkaWFTdHJlYW0sCiAgICB3ZWJydGNEZXRlY3RlZEJyb3dzZXI6IHdlYnJ0Y0RldGVjdGVkQnJvd3NlciwKICAgIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbjogd2VicnRjRGV0ZWN0ZWRWZXJzaW9uLAogICAgd2VicnRjTWluaW11bVZlcnNpb246IHdlYnJ0Y01pbmltdW1WZXJzaW9uLAogICAgd2VicnRjVGVzdGluZzogd2VicnRjVGVzdGluZywKICAgIHdlYnJ0Y1V0aWxzOiB3ZWJydGNVdGlscwogICAgLy9yZXF1ZXN0VXNlck1lZGlhOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLgogICAgLy90cmFjZTogbm90IGV4cG9zZWQgb24gcHVycG9zZS4KICB9Owp9IGVsc2UgaWYgKCh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykgJiYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicpKSB7CiAgLy8gRXhwb3NlIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyB3aGVuIFJlcXVpcmVKUyBpcyBkb2luZyB0aGUgbG9hZGluZy4KICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgUlRDUGVlckNvbm5lY3Rpb246IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiwKICAgICAgUlRDSWNlQ2FuZGlkYXRlOiB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlLAogICAgICBSVENTZXNzaW9uRGVzY3JpcHRpb246IHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24sCiAgICAgIGdldFVzZXJNZWRpYTogZ2V0VXNlck1lZGlhLAogICAgICBhdHRhY2hNZWRpYVN0cmVhbTogYXR0YWNoTWVkaWFTdHJlYW0sCiAgICAgIHJlYXR0YWNoTWVkaWFTdHJlYW06IHJlYXR0YWNoTWVkaWFTdHJlYW0sCiAgICAgIHdlYnJ0Y0RldGVjdGVkQnJvd3Nlcjogd2VicnRjRGV0ZWN0ZWRCcm93c2VyLAogICAgICB3ZWJydGNEZXRlY3RlZFZlcnNpb246IHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiwKICAgICAgd2VicnRjTWluaW11bVZlcnNpb246IHdlYnJ0Y01pbmltdW1WZXJzaW9uLAogICAgICB3ZWJydGNUZXN0aW5nOiB3ZWJydGNUZXN0aW5nLAogICAgICB3ZWJydGNVdGlsczogd2VicnRjVXRpbHMKICAgICAgLy9yZXF1ZXN0VXNlck1lZGlhOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLgogICAgICAvL3RyYWNlOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLgogICAgfTsKICB9KTsKfQoKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvKioKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKi8KCi8qIGpzaGludCB1bmRlZjogdHJ1ZSAqLwovKiBnbG9iYWxzIFJUQ1BlZXJDb25uZWN0aW9uICovCi8qIGdsb2JhbHMgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uICovCi8qIGdsb2JhbHMgUlRDSWNlQ2FuZGlkYXRlICovCgpyZXF1aXJlKCd3ZWJydGMtYWRhcHRlci10ZXN0Jyk7Cgp2YXIgX3BlZXIgPSByZXF1aXJlKCcuL3BlZXInKTsKCnZhciBfcGVlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wZWVyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCnZhciBDb25uZWN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDb25uZWN0aW9uQ29udHJvbGxlcihzeW5jaGVyLCBkb21haW4sIGNvbmZpZ3VyYXRpb24pIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25uZWN0aW9uQ29udHJvbGxlcik7CgogICAgaWYgKCFzeW5jaGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzeW5jaGVyIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFkb21haW4pIHRocm93IG5ldyBFcnJvcignVGhlIGRvbWFpbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghY29uZmlndXJhdGlvbikgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF90aGlzLm1vZGUgPSAnb2ZmZXInOwogICAgX3RoaXMucGVlciA9IF9wZWVyMi5kZWZhdWx0OwoKICAgIC8vIFByaXZhdGUKICAgIF90aGlzLl9zeW5jaGVyID0gc3luY2hlcjsKICAgIF90aGlzLl9jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbi53ZWJydGM7CiAgICBfdGhpcy5fZG9tYWluID0gZG9tYWluOwogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIF90aGlzLl9kb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29ubmVjdGlvbic7CgogICAgLy8gUHJlcGFyZSB0aGUgUGVlckNvbm5lY3Rpb24KICAgIHZhciBwZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihfdGhpcy5fY29uZmlndXJhdGlvbik7CgogICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHsKCiAgICAgIGNvbnNvbGUuaW5mbygnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlKTsKCiAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1sb2NhbC1vZmZlcicpIHsKICAgICAgICBjb25zb2xlLmluZm8oJ3NpZ25hbGluZ3N0YXRlY2hhbmdlIC0gaGF2ZS1sb2NhbC1vZmZlcjogJywgZXZlbnQuY3VycmVudFRhcmdldC5zaWduYWxpbmdTdGF0ZSk7CiAgICAgIH0KCiAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1yZW1vdGUtb2ZmZXInKSB7CiAgICAgICAgY29uc29sZS5pbmZvKCdzaWduYWxpbmdzdGF0ZWNoYW5nZSAtIGhhdmUtcmVtb3RlLW9mZmVyOiAnLCBldmVudC5jdXJyZW50VGFyZ2V0LnNpZ25hbGluZ1N0YXRlKTsKICAgICAgICBfdGhpcy5tb2RlID0gJ2Fuc3dlcic7CiAgICAgIH0KICAgIH0pOwoKICAgIHBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBjb25zb2xlLmluZm8oJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsIGV2ZW50LmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlLCBfdGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXIpOwogICAgICB2YXIgZGF0YSA9IF90aGlzLmRhdGFPYmplY3RSZXBvcnRlci5kYXRhOwogICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3RhdHVzJykpIHsKICAgICAgICBkYXRhLnN0YXR1cyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlOwogICAgICB9CiAgICB9KTsKCiAgICBwZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHsKCiAgICAgIGNvbnNvbGUuaW5mbygnaWNlY2FuZGlkYXRlIGNoYW5nZXMnLCBldmVudC5jYW5kaWRhdGUsIF90aGlzLmRhdGFPYmplY3RSZXBvcnRlcik7CgogICAgICBpZiAoIWV2ZW50LmNhbmRpZGF0ZSkgcmV0dXJuOwoKICAgICAgdmFyIGljZWNhbmRpZGF0ZSA9IHsKICAgICAgICB0eXBlOiAnY2FuZGlkYXRlJywKICAgICAgICBjYW5kaWRhdGU6IGV2ZW50LmNhbmRpZGF0ZS5jYW5kaWRhdGUsCiAgICAgICAgc2RwTWlkOiBldmVudC5jYW5kaWRhdGUuc2RwTWlkLAogICAgICAgIHNkcE1MaW5lSW5kZXg6IGV2ZW50LmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4CiAgICAgIH07CgogICAgICB2YXIgZGF0YSA9IF90aGlzLmRhdGFPYmplY3RSZXBvcnRlci5kYXRhOwoKICAgICAgaWYgKF90aGlzLm1vZGUgPT09ICdvZmZlcicpIHsKICAgICAgICBkYXRhLm93bmVyUGVlci5pY2VDYW5kaWRhdGVzLnB1c2goaWNlY2FuZGlkYXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhLlBlZXIuaWNlQ2FuZGlkYXRlcy5wdXNoKGljZWNhbmRpZGF0ZSk7CiAgICAgIH0KICAgIH0pOwoKICAgIC8vIEFkZCBzdHJlYW0gdG8gUGVlckNvbm5lY3Rpb24KICAgIHBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBjb25zb2xlLmluZm8oJ0FkZCBTdHJlYW06ICcsIGV2ZW50KTsKCiAgICAgIGlmIChfdGhpcy5fb25BZGRTdHJlYW0pIF90aGlzLl9vbkFkZFN0cmVhbShldmVudCk7CiAgICB9KTsKCiAgICBwZWVyQ29ubmVjdGlvbi5vbnJlbW92ZXN0cmVhbSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICBjb25zb2xlLmluZm8oJ1N0cmVhbSByZW1vdmVkOiAnLCBldmVudCk7CiAgICB9OwoKICAgIF90aGlzLnBlZXJDb25uZWN0aW9uID0gcGVlckNvbm5lY3Rpb247CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ29ubmVjdGlvbkNvbnRyb2xsZXIsIFt7CiAgICBrZXk6ICdfcmVtb3ZlTWVkaWFTdHJlYW0nLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVNZWRpYVN0cmVhbSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgY29uc29sZS5sb2coX3RoaXMubWVkaWFTdHJlYW0sIF90aGlzLnBlZXJDb25uZWN0aW9uKTsKCiAgICAgIGlmIChfdGhpcy5tZWRpYVN0cmVhbSkgewoKICAgICAgICB2YXIgdHJhY2tzID0gX3RoaXMubWVkaWFTdHJlYW0uZ2V0VHJhY2tzKCk7CgogICAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykgewogICAgICAgICAgdHJhY2suc3RvcCgpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVTdHJlYW0oX3RoaXMubWVkaWFTdHJlYW0pOwogICAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogJ19jaGFuZ2VQZWVySW5mb3JtYXRpb24nLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jaGFuZ2VQZWVySW5mb3JtYXRpb24oZGF0YU9iamVjdE9ic2VydmVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gZGF0YU9iamVjdE9ic2VydmVyLmRhdGE7CiAgICAgIHZhciBpc093bmVyID0gZGF0YS5oYXNPd25Qcm9wZXJ0eSgnb3duZXJQZWVyJyk7CgogICAgICB2YXIgcGVlckRhdGEgPSBpc093bmVyID8gZGF0YS5vd25lclBlZXIgOiBkYXRhLlBlZXI7CgogICAgICBjb25zb2xlLmluZm8oJ1BlZXIgRGF0YTonLCBKU09OLnN0cmluZ2lmeShwZWVyRGF0YSkpOwoKICAgICAgaWYgKHBlZXJEYXRhLmhhc093blByb3BlcnR5KCdjb25uZWN0aW9uRGVzY3JpcHRpb24nKSkgewogICAgICAgIF90aGlzLl9wcm9jZXNzUGVlckluZm9ybWF0aW9uKHBlZXJEYXRhLmNvbm5lY3Rpb25EZXNjcmlwdGlvbik7CiAgICAgIH0KCiAgICAgIGlmIChwZWVyRGF0YS5oYXNPd25Qcm9wZXJ0eSgnaWNlQ2FuZGlkYXRlcycpKSB7CgogICAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzIFBlZXIgZGF0YTogJywgcGVlckRhdGEpOwoKICAgICAgICBwZWVyRGF0YS5pY2VDYW5kaWRhdGVzLmZvckVhY2goZnVuY3Rpb24gKGljZSkgewogICAgICAgICAgX3RoaXMuX3Byb2Nlc3NQZWVySW5mb3JtYXRpb24oaWNlKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZGF0YU9iamVjdE9ic2VydmVyLm9uQ2hhbmdlKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgY29uc29sZS5pbmZvKCdPYnNlcnZlciBvbiBjaGFuZ2UgbWVzc2FnZTogJywgZXZlbnQpOwogICAgICAgIF90aGlzLl9wcm9jZXNzUGVlckluZm9ybWF0aW9uKGV2ZW50LmRhdGEpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdfcHJvY2Vzc1BlZXJJbmZvcm1hdGlvbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NQZWVySW5mb3JtYXRpb24oZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5pbmZvKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKCiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdvZmZlcicgfHwgZGF0YS50eXBlID09PSAnYW5zd2VyJykgewogICAgICAgIGNvbnNvbGUuaW5mbygnUHJvY2VzcyBDb25uZWN0aW9uIERlc2NyaXB0aW9uOiAnLCBkYXRhLnNkcCk7CiAgICAgICAgX3RoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihkYXRhKSwgX3RoaXMuX3JlbW90ZURlc2NyaXB0aW9uU3VjY2VzcywgX3RoaXMuX3JlbW90ZURlc2NyaXB0aW9uRXJyb3IpOwogICAgICB9CgogICAgICBpZiAoZGF0YS50eXBlID09PSAnY2FuZGlkYXRlJykgewogICAgICAgIGNvbnNvbGUuaW5mbygnUHJvY2VzcyBJY2UgQ2FuZGlkYXRlOiAnLCBkYXRhKTsKICAgICAgICBfdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUobmV3IFJUQ0ljZUNhbmRpZGF0ZSh7IGNhbmRpZGF0ZTogZGF0YS5jYW5kaWRhdGUgfSksIF90aGlzLl9yZW1vdGVEZXNjcmlwdGlvblN1Y2Nlc3MsIF90aGlzLl9yZW1vdGVEZXNjcmlwdGlvbkVycm9yKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogJ19yZW1vdGVEZXNjcmlwdGlvblN1Y2Nlc3MnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdGVEZXNjcmlwdGlvblN1Y2Nlc3MoKSB7CiAgICAgIGNvbnNvbGUuaW5mbygncmVtb3RlIHN1Y2Nlc3MnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdfcmVtb3RlRGVzY3JpcHRpb25FcnJvcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW90ZURlc2NyaXB0aW9uRXJyb3IoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcignZXJyb3I6ICcsIGVycm9yKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdfY3JlYXRlT2ZmZXInLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVPZmZlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikgewogICAgICAgIF90aGlzLl9vbkxvY2FsU2Vzc2lvbkNyZWF0ZWQoZGVzY3JpcHRpb24pOwogICAgICB9LCBfdGhpcy5faW5mb0Vycm9yKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdfY3JlYXRlQW5zd2VyJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlQW5zd2VyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikgewogICAgICAgIF90aGlzLl9vbkxvY2FsU2Vzc2lvbkNyZWF0ZWQoZGVzY3JpcHRpb24pOwogICAgICB9LCBfdGhpcy5faW5mb0Vycm9yKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdfb25Mb2NhbFNlc3Npb25DcmVhdGVkJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Mb2NhbFNlc3Npb25DcmVhdGVkKGRlc2NyaXB0aW9uKSB7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbiwgZnVuY3Rpb24gKCkgewoKICAgICAgICB2YXIgZGF0YSA9IF90aGlzLmRhdGFPYmplY3RSZXBvcnRlci5kYXRhOwogICAgICAgIHZhciBzZHBDb25uZWN0aW9uID0gewogICAgICAgICAgc2RwOiBkZXNjcmlwdGlvbi5zZHAsCiAgICAgICAgICB0eXBlOiBkZXNjcmlwdGlvbi50eXBlCiAgICAgICAgfTsKCiAgICAgICAgaWYgKF90aGlzLm1vZGUgPT09ICdvZmZlcicpIHsKICAgICAgICAgIGRhdGEub3duZXJQZWVyLmNvbm5lY3Rpb25EZXNjcmlwdGlvbiA9IHNkcENvbm5lY3Rpb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRhdGEuUGVlci5jb25uZWN0aW9uRGVzY3JpcHRpb24gPSBzZHBDb25uZWN0aW9uOwogICAgICAgIH0KICAgICAgfSwgX3RoaXMuX2luZm9FcnJvcik7CiAgICB9CiAgfSwgewogICAga2V5OiAnX2luZm9FcnJvcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2luZm9FcnJvcihlcnIpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnIudG9TdHJpbmcoKSwgZXJyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byByZWNlaXZlIGFsbCBjaGFuZ2VzIGRpZCB0byBkYXRhT2JqZWN0T2Jqc2VydmVyLgogICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uCiAgICAgKiBAcmV0dXJuIHtDaGFuZ2VFdmVudH0gICAgICAgcHJvcGVydGllcyBhbmQgdHlwZSBvZiBjaGFuZ2VzOwogICAgICovCgogICAgLy8gb25DaGFuZ2UoY2FsbGJhY2spIHsKICAgIC8vICAgbGV0IF90aGlzID0gdGhpczsKICAgIC8vICAgX3RoaXMuX29uQ2hhbmdlID0gY2FsbGJhY2s7CiAgICAvLyB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaGFuZGxlIHRoZSBwZWVyIHN0cmVhbQogICAgICogQHJldHVybiB7TWVkaWFTdHJlYW19ICAgICAgICAgICBXZWJSVEMgcmVtb3RlIE1lZGlhU3RyZWFtIHJldHJpZXZlZCBieSB0aGUgQXBwbGljYXRpb24KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdvbkFkZFN0cmVhbScsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25BZGRTdHJlYW0oY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX29uQWRkU3RyZWFtID0gY2FsbGJhY2s7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcmVjZWl2ZSByZXF1ZXN0cyB0byBjbG9zZSBhbiBleGlzdGluZyBjb25uZWN0aW9uIGluc3RhbmNlLgogICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGhhbmRsZSB3aXRoIHRoZSBkaXNjb25uZWN0CiAgICAgKiBAcmV0dXJuIHtEZWxldGVFdmVudH0gICAgICAgdGhlIERlbGV0ZUV2ZW50IGZpcmVkIGJ5IHRoZSBTeW5jaGVyIHdoZW4gdGhlIENvbm5lY3Rpb24gaXMgY2xvc2VkLgogICAgICovCgogIH0sIHsKICAgIGtleTogJ29uRGlzY29ubmVjdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25EaXNjb25uZWN0KGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9vbkRpc2Nvbm5lY3QgPSBjYWxsYmFjazsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhY2NlcHQgYW4gaW5jb21pbmcgY29ubmVjdGlvbiByZXF1ZXN0IHJlY2VpdmVkIGJ5IGNvbm5lY3Rpb24ub25JbnZpdGF0aW9uKCkuCiAgICAgKiBAcGFyYW0gIHtNZWRpYVN0cmVhbX0gICAgICAgICBzdHJlYW0gICAgIFdlYlJUQyBsb2NhbCBNZWRpYVN0cmVhbSByZXRyaWV2ZWQgYnkgdGhlIEFwcGxpY2F0aW9uCiAgICAgKiBAcmV0dXJuIHs8UHJvbWlzZT4gYm9vbGVhbn0gICAgICAgICAgICAgIEl0IHJldHVybnMsIGFzIGEgUHJvbWlzZSwgdHJ1ZSBpbiBjYXNlIHRoZSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWxseSBhY2NlcHRlZCwgZmFsc2Ugb3RoZXJ3aXNlLgogICAgICovCgogIH0sIHsKICAgIGtleTogJ2FjY2VwdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWNjZXB0KHN0cmVhbSkgewoKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHN5bmNoZXIgPSBfdGhpcy5fc3luY2hlcjsKCiAgICAgIGNvbnNvbGUubG9nKCdSZW1vdGUgUGVlciBJbmZvcm1hdGlvbjogJywgX3RoaXMuZGF0YU9iamVjdE9ic2VydmVyLmRhdGEpOwogICAgICB2YXIgcmVtb3RlUGVlciA9IF90aGlzLmRhdGFPYmplY3RPYnNlcnZlci5kYXRhLnJlcG9ydGVyOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgQ3JlYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgICAgIHN5bmNoZXIuY3JlYXRlKF90aGlzLl9vYmplY3REZXNjVVJMLCBbcmVtb3RlUGVlcl0sIF90aGlzLnBlZXIpLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3RSZXBvcnRlcikgewogICAgICAgICAgICBjb25zb2xlLmluZm8oJzIuIFJldHVybiB0aGUgRGF0YSBPYmplY3QgUmVwb3J0ZXIgJywgZGF0YU9iamVjdFJlcG9ydGVyKTsKCiAgICAgICAgICAgIF90aGlzLm1lZGlhU3RyZWFtID0gc3RyZWFtOwogICAgICAgICAgICBfdGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXIgPSBkYXRhT2JqZWN0UmVwb3J0ZXI7CiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgICAgICAgcmVqZWN0KGZhbHNlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJlamVjdCgnZXJyb3IgYWNjZXB0aW5nIGNvbm5lY3Rpb24nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGRlY2xpbmUgYW4gaW5jb21pbmcgY29ubmVjdGlvbiByZXF1ZXN0IHJlY2VpdmVkIGJ5IGNvbm5lY3Rpb24ub25JbnZpdGF0aW9uKCkuCiAgICAgKiBAcGFyYW0gIHtpbnR9IHJlYXNvbiAgICAgICAgICAgICAgIEludGVnZXIgZGVjbGluZSByZWFzb24gdGhhdCBpcyBjb21wbGlhbnQgd2l0aCBSRkM3MjMxLiBJZiBub3QgcHJlc2VudCA0MDAgaXMgdXNlZC4gKG9wdGlvbmFsKQogICAgICogQHJldHVybiB7PFByb21pc2U+IGJvb2xlYW59ICAgICAgICBJdCByZXR1cm5zLCBhcyBhIFByb21pc2UsIHRydWUgaW4gY2FzZSB0aGUgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsbHkgZGVjbGluZWQsIGZhbHNlIG90aGVyd2lzZS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdkZWNsaW5lJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWNsaW5lKHJlYXNvbikgewoKICAgICAgLy8gVE9ETzogT3B0aW1pemUgdGhpcyBwcm9jZXNzCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZGVjbGluZVJlYXNvbiA9IDQwMDsKICAgICAgaWYgKHJlYXNvbikgZGVjbGluZVJlYXNvbiA9IHJlYXNvbjsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uRXZlbnQuYWNrKGRlY2xpbmVSZWFzb24pOwogICAgICAgICAgX3RoaXMuZGlzY29ubmVjdCgpOwogICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgcmVqZWN0KGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNsb3NlIGFuIGV4aXN0aW5nIGNvbm5lY3Rpb24gaW5zdGFuY2UuCiAgICAgKiBAcmV0dXJuIHs8UHJvbWlzZT4gYm9vbGVhbn0gSXQgcmV0dXJucyBhcyBhIFByb21pc2UgdHJ1ZSBpZiBzdWNjZXNzZnVsbHkgZGlzY29ubmVjdGVkIG9yIGZhbHNlIG90aGVyd2lzZS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdkaXNjb25uZWN0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KCkgewogICAgICAvLyBUT0RPOiBPcHRpbWl6ZSB0aGlzIHByb2Nlc3MKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB0cnkgewoKICAgICAgICAgIHZhciBkYXRhID0gdm9pZCAwOwogICAgICAgICAgaWYgKF90aGlzLmRhdGFPYmplY3RSZXBvcnRlcikgewogICAgICAgICAgICBkYXRhID0gX3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyOwogICAgICAgICAgICBkYXRhLmRlbGV0ZSgpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpcy5kYXRhT2JqZWN0T2JzZXJ2ZXIpIHsKICAgICAgICAgICAgZGF0YSA9IF90aGlzLmRhdGFPYmplY3RPYnNlcnZlcjsKICAgICAgICAgICAgZGF0YS5kZWxldGUoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy5fcmVtb3ZlTWVkaWFTdHJlYW0oKTsKCiAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogRGlzYWJsZSBNaWNyb2ZvbmUKICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IHZhbHVlIHN0YXR1cyBvZiBtaWNyb2ZvbmUKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnZGlzYWJsZUF1ZGlvJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlQXVkaW8odmFsdWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgbG9jYWxTdHJlYW0gPSBfdGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRMb2NhbFN0cmVhbXMoKVswXTsKICAgICAgICAgIHZhciBhdWRpb1RyYWNrID0gbG9jYWxTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTsKCiAgICAgICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgICAgIGF1ZGlvVHJhY2suZW5hYmxlZCA9IGF1ZGlvVHJhY2suZW5hYmxlZCA/IGZhbHNlIDogdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGF1ZGlvVHJhY2suZW5hYmxlZCA9IHZhbHVlOwogICAgICAgICAgfQoKICAgICAgICAgIHJlc29sdmUoYXVkaW9UcmFjay5lbmFibGVkKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIERpc2FibGUgdmlkZW8KICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IHZhbHVlIHN0YXR1cyBvZiB2aWRlbwogICAgICogQHJldHVybiB7Ym9vbGVhbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdkaXNhYmxlVmlkZW8nLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVWaWRlbyh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBsb2NhbFN0cmVhbSA9IF90aGlzLnBlZXJDb25uZWN0aW9uLmdldExvY2FsU3RyZWFtcygpWzBdOwogICAgICAgICAgdmFyIHZpZGVvVHJhY2sgPSBsb2NhbFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdOwoKICAgICAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICAgICAgdmlkZW9UcmFjay5lbmFibGVkID0gdmlkZW9UcmFjay5lbmFibGVkID8gZmFsc2UgOiB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmlkZW9UcmFjay5lbmFibGVkID0gdmFsdWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZSh2aWRlb1RyYWNrLmVuYWJsZWQpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ211dGUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG11dGUodmFsdWUpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHJlbW90ZVN0cmVhbSA9IF90aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlbW90ZVN0cmVhbXMoKVswXTsKICAgICAgICAgIHZhciBhdWRpb1RyYWNrID0gcmVtb3RlU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07CgogICAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgICBhdWRpb1RyYWNrLmVuYWJsZWQgPSBhdWRpb1RyYWNrLmVuYWJsZWQgPyBmYWxzZSA6IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhdWRpb1RyYWNrLmVuYWJsZWQgPSB2YWx1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKGF1ZGlvVHJhY2suZW5hYmxlZCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnbWVkaWFTdHJlYW0nLAogICAgc2V0OiBmdW5jdGlvbiBzZXQobWVkaWFTdHJlYW0pIHsKICAgICAgaWYgKCFtZWRpYVN0cmVhbSkgdGhyb3cgbmV3IEVycm9yKCdUaGUgbWVkaWFTdHJlYW0gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb25zb2xlLmluZm8oJ3NldCBzdHJlYW06ICcsIG1lZGlhU3RyZWFtKTsKICAgICAgX3RoaXMuX21lZGlhU3RyZWFtID0gbWVkaWFTdHJlYW07CiAgICAgIF90aGlzLnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShtZWRpYVN0cmVhbSk7CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5fbWVkaWFTdHJlYW07CiAgICB9CgogICAgLyoqCiAgICAqIFNldCB0aGUgZGF0YU9iamVjdCBpbiB0aGUgY29udHJvbGxlcgogICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb25EYXRhT2JqZWN0fSBkYXRhT2JqZWN0IC0gaGF2ZSBhbGwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHN5bmNoZXIgb2JqZWN0OwogICAgKi8KCiAgfSwgewogICAga2V5OiAnZGF0YU9iamVjdFJlcG9ydGVyJywKICAgIHNldDogZnVuY3Rpb24gc2V0KGRhdGFPYmplY3RSZXBvcnRlcikgewogICAgICBpZiAoIWRhdGFPYmplY3RSZXBvcnRlcikgdGhyb3cgbmV3IEVycm9yKCdUaGUgRGF0YSBPYmplY3QgUmVwb3J0ZXIgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb25zb2xlLmluZm8oJ3NldCBkYXRhIG9iamVjdCByZXBvcnRlcjogJywgZGF0YU9iamVjdFJlcG9ydGVyKTsKICAgICAgX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlciA9IGRhdGFPYmplY3RSZXBvcnRlcjsKCiAgICAgIGRhdGFPYmplY3RSZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBldmVudC5hY2NlcHQoKTsKICAgICAgfSk7CgogICAgICBpZiAoX3RoaXMubW9kZSA9PT0gJ29mZmVyJykgewoKICAgICAgICBfdGhpcy5fY3JlYXRlT2ZmZXIoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZGF0YSA9IGRhdGFPYmplY3RSZXBvcnRlci5kYXRhOwogICAgICAgIGRhdGEucGVlciA9IF9wZWVyMi5kZWZhdWx0OwoKICAgICAgICBfdGhpcy5fY3JlYXRlQW5zd2VyKCk7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogcmV0dXJuIHRoZSBkYXRhT2JqZWN0IGluIHRoZSBjb250cm9sbGVyCiAgICAqIEByZXR1cm4ge0Nvbm5lY3Rpb25EYXRhT2JqZWN0fSBkYXRhT2JqZWN0CiAgICAqLwogICAgLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyOwogICAgfQoKICAgIC8qKgogICAgKiBTZXQgdGhlIGRhdGFPYmplY3QgaW4gdGhlIGNvbnRyb2xsZXIKICAgICogQHBhcmFtIHtDb25uZWN0aW9uRGF0YU9iamVjdH0gZGF0YU9iamVjdCAtIGhhdmUgYWxsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzeW5jaGVyIG9iamVjdDsKICAgICovCgogIH0sIHsKICAgIGtleTogJ2RhdGFPYmplY3RPYnNlcnZlcicsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChkYXRhT2JqZWN0T2JzZXJ2ZXIpIHsKICAgICAgaWYgKCFkYXRhT2JqZWN0T2JzZXJ2ZXIpIHRocm93IG5ldyBFcnJvcignVGhlIERhdGEgT2JqZWN0IE9ic2VydmVyIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUuaW5mbygnc2V0IGRhdGEgb2JqZWN0IG9ic2VydmVyOiAnLCBkYXRhT2JqZWN0T2JzZXJ2ZXIpOwogICAgICBfdGhpcy5fZGF0YU9iamVjdE9ic2VydmVyID0gZGF0YU9iamVjdE9ic2VydmVyOwogICAgICBfdGhpcy5fY2hhbmdlUGVlckluZm9ybWF0aW9uKGRhdGFPYmplY3RPYnNlcnZlcik7CiAgICB9CgogICAgLyoqCiAgICAqIHJldHVybiB0aGUgZGF0YU9iamVjdCBpbiB0aGUgY29udHJvbGxlcgogICAgKiBAcmV0dXJuIHtDb25uZWN0aW9uRGF0YU9iamVjdH0gZGF0YU9iamVjdAogICAgKi8KICAgICwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlcjsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgY29ubmVjdGlvbiBldmVudCB0byBhY2NlcHQgb3IgcmVqZWN0CiAgICAgKiBAcGFyYW0gIHtDcmVhdGVFdmVudH0gZXZlbnQgRXZlbnQgd2l0aCBhY3Rpb25zIHRvIGFjY2VwdCBvciByZWplY3QgdGhlIGNvbm5lY3Rpb24KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdjb25uZWN0aW9uRXZlbnQnLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX2Nvbm5lY3Rpb25FdmVudCA9IGV2ZW50OwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRoZSBjb25uZWN0aW9uIGV2ZW50IHRvIGFjY2VwdCBvciByZWplY3QKICAgICAqIEByZXR1cm4ge0NyZWF0ZUV2ZW50fQogICAgICovCiAgICAsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF90aGlzLl9jb25uZWN0aW9uRXZlbnQ7CiAgICB9CiAgfSwgewogICAga2V5OiAnZGVsZXRlRXZlbnQnLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX2RlbGV0ZUV2ZW50ID0gZXZlbnQ7CgogICAgICBfdGhpcy5fcmVtb3ZlTWVkaWFTdHJlYW0oKTsKICAgICAgaWYgKF90aGlzLl9vbkRpc2Nvbm5lY3QpIF90aGlzLl9vbkRpc2Nvbm5lY3QoZXZlbnQuaWRlbnRpdHkpOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX2RlbGV0ZUV2ZW50OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBDb25uZWN0aW9uQ29udHJvbGxlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi9wZWVyIjo4LCJ3ZWJydGMtYWRhcHRlci10ZXN0Ijo0fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvKioKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKi8KCi8qIGpzaGludCB1bmRlZjogdHJ1ZSAqLwoKLy8gU2VydmljZSBGcmFtZXdvcmsKCgovLyBVdGlscwoKCi8vIEludGVybmFscwoKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlcicpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRlbnRpdHlNYW5hZ2VyKTsKCnZhciBfRGlzY292ZXJ5ID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9EaXNjb3ZlcnknKTsKCnZhciBfRGlzY292ZXJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc2NvdmVyeSk7Cgp2YXIgX1N5bmNoZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKdmFyIF9Db25uZWN0aW9uQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vQ29ubmVjdGlvbkNvbnRyb2xsZXInKTsKCnZhciBfQ29ubmVjdGlvbkNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29ubmVjdGlvbkNvbnRyb2xsZXIpOwoKdmFyIF9jb25uZWN0aW9uID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uJyk7Cgp2YXIgX1NlYXJjaCA9IHJlcXVpcmUoJy4uL3V0aWxzL1NlYXJjaCcpOwoKdmFyIF9TZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgogKgogKi8KdmFyIENvbm5lY3RvciA9IGZ1bmN0aW9uICgpIHsKCiAgLyoqCiAgKiBDcmVhdGUgYSBuZXcgSHlwZXJ0eSBDb25uZWN0b3IKICAqIEBwYXJhbSAge1N5bmNoZXJ9IHN5bmNoZXIgLSBTeW5jaGVyIHByb3ZpZGVkIGZyb20gdGhlIHJ1bnRpbWUgY29yZQogICovCiAgZnVuY3Rpb24gQ29ubmVjdG9yKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3Rvcik7CgogICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgdmFyIF90aGlzID0gdGhpczsKICAgIF90aGlzLl9oeXBlcnR5VVJMID0gaHlwZXJ0eVVSTDsKICAgIF90aGlzLl9idXMgPSBidXM7CiAgICBfdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247CiAgICBfdGhpcy5fZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjsKCiAgICBfdGhpcy5fb2JqZWN0RGVzY1VSTCA9ICdoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4nICsgX3RoaXMuX2RvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db25uZWN0aW9uJzsKCiAgICBfdGhpcy5fY29udHJvbGxlcnMgPSB7fTsKICAgIF90aGlzLmNvbm5lY3Rpb25PYmplY3QgPSBfY29ubmVjdGlvbi5jb25uZWN0aW9uOwoKICAgIHZhciBkaXNjb3ZlcnkgPSBuZXcgX0Rpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLCBidXMpOwogICAgdmFyIGlkZW50aXR5TWFuYWdlciA9IG5ldyBfSWRlbnRpdHlNYW5hZ2VyMi5kZWZhdWx0KGh5cGVydHlVUkwsIGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCwgYnVzKTsKCiAgICBfdGhpcy5kaXNjb3ZlcnkgPSBkaXNjb3Zlcnk7CiAgICBfdGhpcy5pZGVudGl0eU1hbmFnZXIgPSBpZGVudGl0eU1hbmFnZXI7CgogICAgX3RoaXMuc2VhcmNoID0gbmV3IF9TZWFyY2gyLmRlZmF1bHQoZGlzY292ZXJ5LCBpZGVudGl0eU1hbmFnZXIpOwoKICAgIGNvbnNvbGUubG9nKCdEaXNjb3ZlcjogJywgZGlzY292ZXJ5KTsKICAgIGNvbnNvbGUubG9nKCdJZGVudGl0eSBNYW5hZ2VyOiAnLCBpZGVudGl0eU1hbmFnZXIpOwoKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTsKCiAgICBzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uIChldmVudCkgewoKICAgICAgdmFyIF90aGlzID0gX3RoaXMyOwoKICAgICAgY29uc29sZS5sb2coJ09uIE5vdGlmaWNhdGlvbjogJywgZXZlbnQpOwoKICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjcmVhdGUnKSB7CiAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0gQWNrbm93bGVkZ2VzIHRoZSBSZXBvcnRlciAtIENyZWF0ZSAtLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgICBldmVudC5hY2soMjAwKTsKCiAgICAgICAgaWYgKF90aGlzLl9jb250cm9sbGVyc1tldmVudC5mcm9tXSkgewogICAgICAgICAgX3RoaXMuX2F1dG9TdWJzY3JpYmUoZXZlbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5fYXV0b0FjY2VwdChldmVudCk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFbmQgQ3JlYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgfQoKICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdkZWxldGUnKSB7CiAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0gQWNrbm93bGVkZ2VzIHRoZSBSZXBvcnRlciAtIERlbGV0ZSAtLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgICBldmVudC5hY2soMjAwKTsKCiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuX2NvbnRyb2xsZXJzKTsKICAgICAgICBpZiAoX3RoaXMuX2NvbnRyb2xsZXJzKSB7CiAgICAgICAgICBPYmplY3Qua2V5cyhfdGhpcy5fY29udHJvbGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgX3RoaXMuX2NvbnRyb2xsZXJzW2NvbnRyb2xsZXJdLmRlbGV0ZUV2ZW50ID0gZXZlbnQ7CiAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fY29udHJvbGxlcnNbY29udHJvbGxlcl07CgogICAgICAgICAgICBjb25zb2xlLmxvZygnQ29udHJvbGxlcnM6JywgX3RoaXMuX2NvbnRyb2xsZXJzKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRW5kIENyZWF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuJyk7CiAgICAgIH0KICAgIH0pOwoKICAgIF90aGlzLl9zeW5jaGVyID0gc3luY2hlcjsKICB9CgogIF9jcmVhdGVDbGFzcyhDb25uZWN0b3IsIFt7CiAgICBrZXk6ICdfYXV0b1N1YnNjcmliZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2F1dG9TdWJzY3JpYmUoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHN5bmNoZXIgPSBfdGhpcy5fc3luY2hlcjsKCiAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLSBTeW5jaGVyIFN1YnNjcmliZSAoQXV0byBTdWJzY3JpYmUpIC0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgY29uc29sZS5pbmZvKCdTdWJzY3JpYmUgVVJMIE9iamVjdCAnLCBldmVudCk7CiAgICAgIHN5bmNoZXIuc3Vic2NyaWJlKF90aGlzLl9vYmplY3REZXNjVVJMLCBldmVudC51cmwpLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3RPYnNlcnZlcikgewogICAgICAgIGNvbnNvbGUuaW5mbygnMS4gUmV0dXJuIFN1YnNjcmliZSBEYXRhIE9iamVjdCBPYnNlcnZlcicsIGRhdGFPYmplY3RPYnNlcnZlcik7CiAgICAgICAgX3RoaXMuX2NvbnRyb2xsZXJzW2V2ZW50LmZyb21dLmRhdGFPYmplY3RPYnNlcnZlciA9IGRhdGFPYmplY3RPYnNlcnZlcjsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnX2F1dG9BY2NlcHQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9hdXRvQWNjZXB0KGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBzeW5jaGVyID0gX3RoaXMuX3N5bmNoZXI7CgogICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBTdWJzY3JpYmUgKEF1dG8gQWNjZXB0KSAtLS0tLS0tLS0tLS0tLS0tIFxuJyk7CiAgICAgIGNvbnNvbGUuaW5mbygnU3Vic2NyaWJlIFVSTCBPYmplY3QgJywgZXZlbnQpOwogICAgICBzeW5jaGVyLnN1YnNjcmliZShfdGhpcy5fb2JqZWN0RGVzY1VSTCwgZXZlbnQudXJsKS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0T2JzZXJ2ZXIpIHsKICAgICAgICBjb25zb2xlLmluZm8oJzEuIFJldHVybiBTdWJzY3JpYmUgRGF0YSBPYmplY3QgT2JzZXJ2ZXInLCBkYXRhT2JqZWN0T2JzZXJ2ZXIpOwoKICAgICAgICB2YXIgY29ubmVjdGlvbkNvbnRyb2xsZXIgPSBuZXcgX0Nvbm5lY3Rpb25Db250cm9sbGVyMi5kZWZhdWx0KHN5bmNoZXIsIF90aGlzLl9kb21haW4sIF90aGlzLl9jb25maWd1cmF0aW9uKTsKICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlci5jb25uZWN0aW9uRXZlbnQgPSBldmVudDsKICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlci5kYXRhT2JqZWN0T2JzZXJ2ZXIgPSBkYXRhT2JqZWN0T2JzZXJ2ZXI7CiAgICAgICAgX3RoaXMuX2NvbnRyb2xsZXJzW2V2ZW50LmZyb21dID0gY29ubmVjdGlvbkNvbnRyb2xsZXI7CgogICAgICAgIC8vIFRPRE86IHVzZXIgb2JqZWN0IHdpdGgge2lkZW50aXR5OiBldmVudC5pZGVudGl0eSwgYXNzZXJ0ZWRJZGVudGl0eTogYXNzZXJ0ZWRJZGVudGl0eX0KICAgICAgICBpZiAoX3RoaXMuX29uSW52aXRhdGlvbikgX3RoaXMuX29uSW52aXRhdGlvbihjb25uZWN0aW9uQ29udHJvbGxlciwgZXZlbnQuaWRlbnRpdHkudXNlclByb2ZpbGUpOwoKICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbicpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgYSBuZXcgY29ubmVjdGlvbiBwcm92aWRpbmcgdGhlIGlkZW50aWZpZXIgb2YgdGhlIHVzZXIgdG8gYmUgbm90aWZpZWQuCiAgICAgKiBAcGFyYW0gIHtVUkwuVXNlclVSTH0gICAgICAgIHVzZXJVUkwgICAgICB1c2VyIHRvIGJlIGludml0ZWQgdGhhdCBpcyBpZGVudGlmaWVkIHdpdGggcmVUSElOSyBVc2VyIFVSTC4KICAgICAqIEBwYXJhbSAge01lZGlhU3RyZWFtfSAgICAgICAgc3RyZWFtICAgICAgIFdlYlJUQyBsb2NhbCBNZWRpYVN0cmVhbSByZXRyaWV2ZWQgYnkgdGhlIEFwcGxpY2F0aW9uCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgIG5hbWUgICAgICAgICBpcyBhIHN0cmluZyB0byBpZGVudGlmeSB0aGUgY29ubmVjdGlvbi4KICAgICAqIEByZXR1cm4gezxQcm9taXNlPkNvbm5lY3Rpb25Db250cm9sbGVyfSAgIEEgQ29ubmVjdGlvbkNvbnRyb2xsZXIgb2JqZWN0IGFzIGEgUHJvbWlzZS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdjb25uZWN0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0KHVzZXJVUkwsIHN0cmVhbSwgbmFtZSwgZG9tYWluKSB7CiAgICAgIC8vIFRPRE86IFBhc3MgYXJndW1lbnQgb3B0aW9ucyBhcyBhIHN0cmVhbSwgYmVjYXVzZSBpcyBzcGVjaWZpYyBvZiBpbXBsZW1lbnRhdGlvbjsKICAgICAgLy8gVE9ETzogQ0hhbmdlIHRoZSBoeXBlcnR5VVJMIGZvciBhIGxpc3Qgb2YgVVJMUwogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgc3luY2hlciA9IF90aGlzLl9zeW5jaGVyOwogICAgICB2YXIgc2NoZW1lID0gWydjb25uZWN0aW9uJ107CiAgICAgIHZhciByZXNvdXJjZSA9IFsnYXVkaW8nLCAndmlkZW8nXTsKCiAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW5nOiAnLCB1c2VyVVJMKTsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIHZhciBjb25uZWN0aW9uQ29udHJvbGxlciA9IHZvaWQgMDsKICAgICAgICB2YXIgc2VsZWN0ZWRIeXBlcnR5ID0gdm9pZCAwOwogICAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgQ3JlYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKCiAgICAgICAgX3RoaXMuc2VhcmNoLm15SWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uIChpZGVudGl0eSkgewoKICAgICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0b3Igc2VhcmNoaW5nOiAnLCBbdXNlclVSTF0sICdhdCBkb21haW4gJywgW2RvbWFpbl0pOwogICAgICAgICAgY29uc29sZS5sb2coJ2lkZW50aXR5OiAnLCBpZGVudGl0eSwgX3RoaXMuY29ubmVjdGlvbk9iamVjdCk7CgogICAgICAgICAgcmV0dXJuIF90aGlzLnNlYXJjaC51c2VycyhbdXNlclVSTF0sIFtkb21haW5dLCBzY2hlbWUsIHJlc291cmNlKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChoeXBlcnRpZXNJRHMpIHsKCiAgICAgICAgICAvLyBPbmx5IHN1cHBvcnQgb25lIHRvIG9uZSBjb25uZWN0aW9uOyovCiAgICAgICAgICBzZWxlY3RlZEh5cGVydHkgPSBoeXBlcnRpZXNJRHNbMF0uaHlwZXJ0eUlEOwogICAgICAgICAgY29uc29sZS5pbmZvKCdPbmx5IHN1cHBvcnQgY29tbXVuaWNhdGlvbiBvbmUgdG8gb25lLCBzZWxlY3RlZCBoeXBlcnR5OiAnLCBzZWxlY3RlZEh5cGVydHkpOwoKICAgICAgICAgIHZhciBjb25uZWN0aW9uTmFtZSA9ICdDb25uZWN0aW9uJzsKICAgICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICAgIGNvbm5lY3Rpb25OYW1lID0gbmFtZTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBJbml0aWFsIGRhdGEKICAgICAgICAgIF90aGlzLmNvbm5lY3Rpb25PYmplY3QubmFtZSA9IGNvbm5lY3Rpb25OYW1lOwogICAgICAgICAgX3RoaXMuY29ubmVjdGlvbk9iamVjdC5zY2hlbWUgPSAnY29ubmVjdGlvbic7CiAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uT2JqZWN0Lm93bmVyID0gX3RoaXMuX2h5cGVydHlVUkw7CiAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uT2JqZWN0LnBlZXIgPSBzZWxlY3RlZEh5cGVydHk7CiAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uT2JqZWN0LnN0YXR1cyA9ICcnOwoKICAgICAgICAgIHJldHVybiBzeW5jaGVyLmNyZWF0ZShfdGhpcy5fb2JqZWN0RGVzY1VSTCwgW3NlbGVjdGVkSHlwZXJ0eV0sIF90aGlzLmNvbm5lY3Rpb25PYmplY3QpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgICAgIHJlamVjdChyZWFzb24pOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3RSZXBvcnRlcikgewogICAgICAgICAgY29uc29sZS5pbmZvKCcxLiBSZXR1cm4gQ3JlYXRlIERhdGEgT2JqZWN0IFJlcG9ydGVyJywgZGF0YU9iamVjdFJlcG9ydGVyKTsKCiAgICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlciA9IG5ldyBfQ29ubmVjdGlvbkNvbnRyb2xsZXIyLmRlZmF1bHQoc3luY2hlciwgX3RoaXMuX2RvbWFpbiwgX3RoaXMuX2NvbmZpZ3VyYXRpb24pOwogICAgICAgICAgY29ubmVjdGlvbkNvbnRyb2xsZXIubWVkaWFTdHJlYW0gPSBzdHJlYW07CiAgICAgICAgICBjb25uZWN0aW9uQ29udHJvbGxlci5kYXRhT2JqZWN0UmVwb3J0ZXIgPSBkYXRhT2JqZWN0UmVwb3J0ZXI7CgogICAgICAgICAgX3RoaXMuX2NvbnRyb2xsZXJzW3NlbGVjdGVkSHlwZXJ0eV0gPSBjb25uZWN0aW9uQ29udHJvbGxlcjsKCiAgICAgICAgICByZXNvbHZlKGNvbm5lY3Rpb25Db250cm9sbGVyKTsKICAgICAgICAgIGNvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4nKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKHJlYXNvbik7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaGFuZGxlIG5vdGlmaWNhdGlvbnMgYWJvdXQgaW5jb21pbmcgcmVxdWVzdHMgdG8gY3JlYXRlIGEgbmV3IGNvbm5lY3Rpb24uCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sKICAgICAqIEByZXR1cm4ge2V2ZW50fQogICAgICovCgogIH0sIHsKICAgIGtleTogJ29uSW52aXRhdGlvbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnZpdGF0aW9uKGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9vbkludml0YXRpb24gPSBjYWxsYmFjazsKICAgIH0KICB9XSk7CgogIHJldHVybiBDb25uZWN0b3I7Cn0oKTsKCi8qKgogKiBGdW5jdGlvbiB3aWxsIGFjdGl2YXRlIHRoZSBoeXBlcnR5IG9uIHRoZSBydW50aW1lCiAqIEBwYXJhbSAge1VSTC5VUkx9IGh5cGVydHlVUkwgICB1cmwgd2hpY2ggaWRlbnRpZmllcyB0aGUgaHlwZXJ0eQogKiBAcGFyYW0gIHtNaW5pQnVzfSBidXMgICAgICAgICAgTWluaWJ1cyB1c2VkIHRvIG1ha2UgdGhlIGNvbW11bmljYXRpb24gYmV0d2VlbiBoeXBlcnR5IGFuZCBydW50aW1lOwogKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZ3VyYXRpb24gY29uZmlndXJhdGlvbgogKi8KCgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKCiAgcmV0dXJuIHsKICAgIG5hbWU6ICdDb25uZWN0b3InLAogICAgaW5zdGFuY2U6IG5ldyBDb25uZWN0b3IoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKQogIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvU2VhcmNoIjo5LCIuLi91dGlscy91dGlscyI6MTAsIi4vQ29ubmVjdGlvbkNvbnRyb2xsZXIiOjUsIi4vY29ubmVjdGlvbiI6Nywic2VydmljZS1mcmFtZXdvcmsvZGlzdC9EaXNjb3ZlcnkiOjEsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyIjoyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjN9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJydMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBkYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YSA9IHsKLy8gICAgc3RhdHVzIDogImNvbm5lY3RlZCIsCi8vICAgIG93bmVyIDogImh5cGVydHk6Ly9leGFtcGxlLmNvbS9hbGljZWh5IiwKLy8gICAgcGVlciA6ICJjb25uZWN0aW9uOi8vZXhhbXBsZS5jb20vYWxpY2UvYm9iMjcwMTIwMTYiLAovLyAgICBvd25lclBlZXIgOiB7Ci8vICAgICAgICAgIGNvbm5lY3Rpb25EZXNjcmlwdGlvbjogewovLyAgICAgICAgICAgICBzZHA6ICdzNGRmYWYxc2EzZjFhc2Q1ZjRzZGFmYScsCi8vICAgICAgICAgICAgIHR5cGU6ICdvZmZlcicKLy8gICAgICAgICAgfSwKLy8gICAgICAgICAgaWNlQ2FuZGlkYXRlczogW3sKLy8gICAgICAgICAgICAgIHR5cGU6ICdjYW5kaWRhdGUnLAovLyAgICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlLAovLyAgICAgICAgICAgICAgc2RwTWlkOiBldmVudC5jYW5kaWRhdGUuc2RwTWlkLAovLyAgICAgICAgICAgICAgc2RwTUxpbmVJbmRleDogZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgKLy8gICAgICAgICAgICB9LAovLyAgICAgICAgICAgIHsKLy8gICAgICAgICAgICAgIHR5cGU6ICdjYW5kaWRhdGUnLAovLyAgICAgICAgICAgICAgY2FuZGlkYXRlOiBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlLAovLyAgICAgICAgICAgICAgc2RwTWlkOiBldmVudC5jYW5kaWRhdGUuc2RwTWlkLAovLyAgICAgICAgICAgICAgc2RwTUxpbmVJbmRleDogZXZlbnQuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgKLy8gICAgICAgICAgICB9LAovLyAgICAgICAgICAgIC4uLi4uCi8vICAgICAgICBdCi8vICAgICAgfQovLyAgfQoKdmFyIGNvbm5lY3Rpb24gPSBleHBvcnRzLmNvbm5lY3Rpb24gPSB7CiAgbmFtZTogJycsCiAgc2NoZW1lOiAnJywKICBzdGF0dXM6ICcnLAogIG93bmVyOiAnJywKICBwZWVyOiAnJywKICBvd25lclBlZXI6IHsKICAgIGNvbm5lY3Rpb25EZXNjcmlwdGlvbjoge30sCiAgICBpY2VDYW5kaWRhdGVzOiBbXQogIH0KfTsKCn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKdmFyIHBlZXIgPSB7CiAgc3RhdHVzOiAnJywKICBvd25lcjogJycsCiAgc2NoZW1lOiAnJywKICBwZWVyOiAnJywKICBQZWVyOiB7CiAgICBjb25uZWN0aW9uRGVzY3JpcHRpb246IHt9LAogICAgaWNlQ2FuZGlkYXRlczogW10KICB9Cn07CgpleHBvcnRzLmRlZmF1bHQgPSBwZWVyOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIFNlYXJjaCA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTZWFyY2goZGlzY292ZXJ5LCBpZGVudGl0eU1hbmFnZXIpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWFyY2gpOwoKICAgIGlmICghZGlzY292ZXJ5KSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBkaXNjb3ZlcnkgY29tcG9uZW50IGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFpZGVudGl0eU1hbmFnZXIpIHRocm93IG5ldyBFcnJvcignVGhlIGlkZW50aXR5TWFuYWdlciBjb21wb25lbnQgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfdGhpcy5kaXNjb3ZlcnkgPSBkaXNjb3Zlcnk7CiAgICBfdGhpcy5pZGVudGl0eU1hbmFnZXIgPSBpZGVudGl0eU1hbmFnZXI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU2VhcmNoLCBbewogICAga2V5OiAnbXlJZGVudGl0eScsCiAgICB2YWx1ZTogZnVuY3Rpb24gbXlJZGVudGl0eSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIF90aGlzLmlkZW50aXR5TWFuYWdlci5kaXNjb3ZlclVzZXJSZWdpc3RlcmVkKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogTGlzdCBvZiB1c2Vyc1VSTCB0byBzZWFyY2gKICAgICAqIEBwYXJhbSAge2FycmF5PFVSTC51c2VyVVJMPn0gIHVzZXJzIExpc3Qgb2YgVXNlclVSLCBsaWtlIHRoaXMgZm9ybWF0IHVzZXI6Ly88aXBkZG9tYWluPi88dXNlci1pZGVudGlmaWVyPgogICAgICogQHJldHVybiB7UHJvbWlzZX0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICd1c2VycycsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlcnModXNlcnNVUkxzLCBwcm92aWRlZERvbWFpbnMsIHNjaGVtZXMsIHJlc291cmNlcykgewoKICAgICAgaWYgKCF1c2Vyc1VSTHMpIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGxpc3Qgb2YgdXNlcnMnKTsKICAgICAgaWYgKCFwcm92aWRlZERvbWFpbnMpIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGxpc3Qgb2YgZG9tYWlucycpOwogICAgICBpZiAoIXJlc291cmNlcykgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZiByZXNvdXJjZXMnKTsKICAgICAgaWYgKCFzY2hlbWVzKSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBuZWVkIHRvIHByb3ZpZGUgYSBsaXN0IG9mIHNjaGVtZXMnKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKCiAgICAgICAgY29uc29sZS5sb2coJ1VzZXJzOiAnLCB1c2Vyc1VSTHMsIHVzZXJzVVJMcy5sZW5ndGgpOwogICAgICAgIGNvbnNvbGUubG9nKCdEb21haW5zOiAnLCBwcm92aWRlZERvbWFpbnMsIHByb3ZpZGVkRG9tYWlucy5sZW5ndGgpOwoKICAgICAgICBpZiAodXNlcnNVUkxzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgY29uc29sZS5pbmZvKCdEb25cJ3QgaGF2ZSB1c2VycyB0byBkaXNjb3ZlcnknKTsKICAgICAgICAgIHJlc29sdmUodXNlcnNVUkxzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGdldFVzZXJzID0gW107CgogICAgICAgICAgICB1c2Vyc1VSTHMuZm9yRWFjaChmdW5jdGlvbiAodXNlclVSTCwgaW5kZXgpIHsKICAgICAgICAgICAgICB2YXIgY3VycmVudERvbWFpbiA9IHByb3ZpZGVkRG9tYWluc1tpbmRleF07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlYXJjaCB1c2VyICcgKyB1c2VyVVJMICsgJyBmb3IgcHJvdmlkZWQgZG9tYWluOicsIGN1cnJlbnREb21haW4pOwogICAgICAgICAgICAgIGdldFVzZXJzLnB1c2goX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eSh1c2VyVVJMLCBzY2hlbWVzLCByZXNvdXJjZXMsIGN1cnJlbnREb21haW4pKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zb2xlLmluZm8oJ1JlcXVlc3RzIHByb21pc2VzOiAnLCBnZXRVc2Vycyk7CgogICAgICAgICAgICBQcm9taXNlLmFsbChnZXRVc2VycykudGhlbihmdW5jdGlvbiAoaHlwZXJ0aWVzKSB7CgogICAgICAgICAgICAgIHZhciByZXN1bHQgPSBoeXBlcnRpZXMubWFwKGZ1bmN0aW9uIChoeXBlcnR5KSB7CgogICAgICAgICAgICAgICAgdmFyIHJlY2VudCA9IE9iamVjdC5rZXlzKGh5cGVydHkpLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICAgIHZhciBoeXBlcnR5RGF0ZSA9IG5ldyBEYXRlKGh5cGVydHlbYl0ubGFzdE1vZGlmaWVkKTsKICAgICAgICAgICAgICAgICAgdmFyIGh5cGVydHlEYXRlUCA9IG5ldyBEYXRlKGh5cGVydHlbYV0ubGFzdE1vZGlmaWVkKTsKICAgICAgICAgICAgICAgICAgaWYgKGh5cGVydHlEYXRlUC5nZXRUaW1lKCkgPCBoeXBlcnR5RGF0ZS5nZXRUaW1lKCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICByZXR1cm4gYTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGh5cGVydHlbcmVjZW50XTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgdmFyIGNsZWFuID0gcmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoaHlwZXJ0eSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGh5cGVydHk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnUmVxdWVzdHMgcmVzdWx0OiAnLCBjbGVhbik7CiAgICAgICAgICAgICAgcmVzb2x2ZShjbGVhbik7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlYXNvbik7CiAgICAgICAgICAgICAgcmVzb2x2ZSh1c2Vyc1VSTHMpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTZWFyY2g7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IFNlYXJjaDsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kaXZpZGVVUkwgPSBkaXZpZGVVUkw7CmV4cG9ydHMuZGVlcENsb25lID0gZGVlcENsb25lOwpleHBvcnRzLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTsKLyoqCiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKiovCgovLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8KCi8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCgovKioKICogQHR5cGVkZWYgZGl2aWRlVVJMCiAqIEB0eXBlIE9iamVjdAogKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTAogKi8KCi8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi8KZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkgewoKICAvLyBsZXQgcmUgPSAvKFthLXpBLVotXSopPzpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKSooXC9bXC9cZFx3XC4tXSopKig/OltcP10pKiguKykqL2dpOwogIHZhciByZSA9IC8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpOwogIHZhciBzdWJzdCA9ICckMSwkMiwkMyc7CiAgdmFyIHBhcnRzID0gdXJsLnJlcGxhY2UocmUsIHN1YnN0KS5zcGxpdCgnLCcpOwoKICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzCiAgaWYgKHBhcnRzWzBdID09PSB1cmwpIHsKICAgIHBhcnRzWzBdID0gJ2h0dHBzJzsKICAgIHBhcnRzWzFdID0gdXJsOwogIH0KCiAgdmFyIHJlc3VsdCA9IHsKICAgIHR5cGU6IHBhcnRzWzBdLAogICAgZG9tYWluOiBwYXJ0c1sxXSwKICAgIGlkZW50aXR5OiBwYXJ0c1syXQogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHsKICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCiAgaWYgKG9iaikgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0KCi8qKgogKiBHZXQgV2ViUlRDIEFQSSByZXNvdXJjZXMKICogQHBhcmFtICB7b2JqZWN0fSAgICAgb3B0aW9ucyBPYmplY3QgY29udGFpbmluZyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXNvdXJjZXMgd2lsbCBiZSB1c2VkIChjYW1lcmEsIG1pYywgcmVzb2x1dGlvbiwgZXRjKTsKICogQHJldHVybiB7UHJvbWlzZX0KICovCmZ1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cykgewoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChtZWRpYVN0cmVhbSkgewogICAgICByZXNvbHZlKG1lZGlhU3RyZWFtKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICB9KTsKICB9KTsKfQoKfSx7fV19LHt9LFs2XSkoNikKfSk7",
      "sourceCodeClassname": "Connector",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10002,
    "version": "0.1",
    "description": "Description of Connector",
    "language": "Javascript",
    "hypertyType": [
      "audio",
      "video"
    ],
    "objectName": "Connector",
    "configuration": {
      "webrtc": {
        "iceServers": [
          {
            "url": "stun:stun.l.google.com:19302"
          },
          {
            "url": "turn:194.65.138.95:3478",
            "credential": "luis123",
            "username": "luis"
          }
        ]
      }
    },
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "dataObjects": [
      "https://catalogue.hybroker.rethink.ptinovacao.pt/.well-known/dataschema/Connection"
    ]
  },
  "GroupChatManager": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOCBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1uKHQpLHU9byhhLmxlbmd0aCksZj1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1PmY7KWlmKGM9YVtmKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+ZjtmKyspaWYoKGV8fGYgaW4gYSkmJmFbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGYsbCxfPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyx2PWUmYS5QLHk9ZSZhLkIsYj1lJmEuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksbT1oW2NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW2NdO2QmJihyPXQpO2Zvcih1IGluIHIpZj0hXyYmZyYmdm9pZCAwIT09Z1t1XSxmJiZ1IGluIGh8fChsPWY/Z1t1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbdV0/clt1XTp5JiZmP2kobCxuKTpiJiZnW3VdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0obCk6diYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsdiYmKChoLnZpcnR1YWx8fChoLnZpcnR1YWw9e30pKVt1XT1sLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsbCkpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixsLF8pe3ZhciBkLHAsdix5LGI9Xz9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLGg9bihyLGwsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IoZD1jKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9oKHMocD1lW21dKVswXSxwWzFdKTpoKGVbbV0pLHk9PT11fHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWIuY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGgscC52YWx1ZSx0KSx5PT09dXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9dSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vX29iamVjdC1ncG8iKSxfPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixoLG0sZyxqKXt1KHIsdCxoKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFU9ITEsUz1lLnByb3RvdHlwZSxFPVNbX118fFNbcF18fG0mJlNbbV0sUj1FfHxPKG0pLEw9bT9QP08oImVudHJpZXMiKTpSOnZvaWQgMCxUPSJBcnJheSI9PXQ/Uy5lbnRyaWVzfHxFOkU7aWYoVCYmKGs9bChULmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxjKGssXyl8fHMoayxfLGIpKSksUCYmRSYmRS5uYW1lIT09eSYmKFU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFVJiZTW19dfHxzKFMsXyxSKSxhW3RdPVIsYVtNXT1iLG0paWYoeD17dmFsdWVzOlA/UjpPKHkpLGtleXM6Zz9SOk8odiksZW50cmllczpMfSxqKWZvcih3IGluIHgpdyBpbiBTfHxpKFMsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8VSksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYz1uLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IoYSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLGw9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUobCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtsLmRhdGE9Zj0hZn19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBfPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtfLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLHUpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSx1PXQuRjtuLS07KWRlbGV0ZSB1W2FdW2lbbl1dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1uKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOyluLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG8oIW4uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSkscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYz1vKGUpLGE9MCx1PVtdO2ZvcihyIGluIGMpciE9cyYmbihjLHIpJiZ1LnB1c2gocik7Zm9yKDt0Lmxlbmd0aD5hOyluKGMscj10W2ErK10pJiYofmkodSxyKXx8dS5wdXNoKHIpKTtyZXR1cm4gdX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oaWRlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdClyJiZlW29dP2Vbb109dFtvXTpuKGUsbyx0W29dKTtyZXR1cm4gZX19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbil7dHJ5e249ZSgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCxlKCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLHI/ZS5fX3Byb3RvX189dDpuKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fb2JqZWN0LWRwIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGM9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2NdJiZpLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLmYsbz1lKCIuL19oYXMiKSxpPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgia2V5cyIpLG89ZSgiLi9fdWlkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19hLWZ1bmN0aW9uIiksaT1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIGE8MHx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksaTw1NTI5Nnx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fY3R4IiksYz1lKCIuL19pbnZva2UiKSxhPWUoIi4vX2h0bWwiKSx1PWUoIi4vX2RvbS1jcmVhdGUiKSxmPWUoIi4vX2dsb2JhbCIpLGw9Zi5wcm9jZXNzLF89Zi5zZXRJbW1lZGlhdGUsZD1mLmNsZWFySW1tZWRpYXRlLHA9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGg9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7aC5jYWxsKGUuZGF0YSl9O18mJmR8fChfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0sZD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuL19jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhoLGUsMSkpfTpwPyhvPW5ldyBwLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLGguY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhoLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpfLGNsZWFyOmR9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9vKGUrdCwwKTppKGUsdCl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pb2JqZWN0Iiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgid2tzIiksbz1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jbGFzc29mIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TK24uRiohZSgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6ZSgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8tb2JqZWN0Iiksbz1lKCIuL19vYmplY3Qta2V5cyIpO2UoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbihlLHQscil7fSx7fV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxmPWUoIi4vX2V4cG9ydCIpLGw9ZSgiLi9faXMtb2JqZWN0IiksXz0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxkPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSx2PShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx5PWUoIi4vX3Rhc2siKS5zZXQsYj1lKCIuL19taWNyb3Rhc2siKSgpLGg9IlByb21pc2UiLG09Yy5UeXBlRXJyb3IsZz1jLnByb2Nlc3Msaj1jW2hdLGc9Yy5wcm9jZXNzLHg9InByb2Nlc3MiPT11KGcpLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1qLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZSh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1qJiZ0PT09aX0sTT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFsKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTyhqLGUpP25ldyBVKGUpOm5ldyBvKGUpfSxVPW89ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1fKHQpLHRoaXMucmVqZWN0PV8ocil9LFM9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8ob3x8KDI9PWUuX2gmJlQoZSksZS5faD0xKSxzPT09ITA/cj1uOih1JiZ1LmVudGVyKCkscj1zKG4pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobil9Y2F0Y2goZil7YShmKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJlIoZSl9KX19LFI9ZnVuY3Rpb24oZSl7eS5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG4sbz1lLl92O2lmKEwoZSkmJih0PVMoZnVuY3Rpb24oKXt4P2cuZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246b30pOihuPWMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSxlLl9oPXh8fEwoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sTD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbj0wO3IubGVuZ3RoPm47KWlmKHQ9cltuKytdLHQuZmFpbHx8IUwodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sVD1mdW5jdGlvbihlKXt5LmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3g/Zy5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9TShlKSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShDLG4sMSksYShBLG4sMSkpfWNhdGNoKG8pe0EuY2FsbChuLG8pfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGo9ZnVuY3Rpb24oZSl7ZCh0aGlzLGosaCwiX2giKSxfKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShhKEMsdGhpcywxKSxhKEEsdGhpcywxKSl9Y2F0Y2godCl7QS5jYWxsKHRoaXMsdCl9fSxuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGoucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9UCh2KHRoaXMsaikpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJkUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShDLGUsMSksdGhpcy5yZWplY3Q9YShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosaCksZSgiLi9fc2V0LXNwZWNpZXMiKShoKSxpPWUoIi4vX2NvcmUiKVtoXSxmKGYuUytmLkYqIWssaCx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhayksaCx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksaCx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1TKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG4ocikpfSxvKX0pLC0tc3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSxhPTA7YTw1O2ErKyl7dmFyIHU9Y1thXSxmPW5bdV0sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFtzXSYmbyhsLHMsdSksaVt1XT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiRGF0YU9iamVjdCBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bj9uOm8uZG9tYWluO3ZhciBjPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MrIi8iLGJvZHk6e3Jlc291cmNlOmUsY3JpdGVyaWE6e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnR9fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwLGM9KDAsZi5jb252ZXJ0VG9Vc2VyVVJMKShlKTtzPW4/bjpvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzKyIvIixib2R5OntyZXNvdXJjZTpjLGNyaXRlcmlhOntyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7by5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciBhPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTxhLmdldFRpbWUoKSYmKGk9YSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgdT1zO2lmKHZvaWQgMD09PXUpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbdV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOnV9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19LHtrZXk6ImRlbGV0ZUh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89dm9pZCAwO289cj9yOm4uZG9tYWluO3ZhciBzPXt0eXBlOiJkZWxldGUiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbysiLyIsYm9keTp7dmFsdWU6e3VzZXI6ZSx1cmw6dH19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlO24/ZSgiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOnQoIkVycm9yIG9uIGRlbGV0aW5nIGh5cGVydHkiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxfWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksXz1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1uKGQpO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs4MF0pKDgwKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5JZGVudGl0eU1hbmFnZXI9dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChlLHIsbil7ZnVuY3Rpb24gbyhjLHMpe2lmKCFyW2NdKXtpZighZVtjXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXMmJnUpcmV0dXJuIHUoYywhMCk7aWYoaSlyZXR1cm4gaShjLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitjKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbY109e2V4cG9ydHM6e319O2VbY11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVtjXVsxXVt0XTtyZXR1cm4gbyhyP3I6dCl9LGYsZi5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW2NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGM9MDtjPG4ubGVuZ3RoO2MrKylvKG5bY10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dCgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24odCxlLHIpe3QoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj10KCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkodCxlLHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbih0LGUscil7dCgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSxlLmV4cG9ydHM9dCgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24odCxlLHIpe3QoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0KCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSx0KCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0KCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksZS5leHBvcnRzPXQoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiB0fX0se31dLDEyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx2b2lkIDAhPT1uJiZuIGluIHQpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIHR9fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pcy1vYmplY3QiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIW4odCkpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiB0fX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pb2JqZWN0Iiksbz10KCIuL190by1sZW5ndGgiKSxpPXQoIi4vX3RvLWluZGV4Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsYyl7dmFyIHMsdT1uKGUpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYodCYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKHR8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2NvZiIpLG89dCgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gocil7fX07ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLHIscztyZXR1cm4gdm9pZCAwPT09dD8iVW5kZWZpbmVkIjpudWxsPT09dD8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWMoZT1PYmplY3QodCksbykpP3I6aT9uKGUpOiJPYmplY3QiPT0ocz1uKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbih0LGUscil7dmFyIG49ZS5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hLWZ1bmN0aW9uIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtpZihuKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHQuY2FsbChlLHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQuY2FsbChlLHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiB0LmNhbGwoZSxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrdCk7cmV0dXJuIHR9fSx7fV0sMjE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9IXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iiksbz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19jb3JlIiksaT10KCIuL19jdHgiKSxjPXQoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24odCxlLHIpe3ZhciBhLGYsXyxsPXQmdS5GLHA9dCZ1LkcsZD10JnUuUyxoPXQmdS5QLHY9dCZ1LkIsYj10JnUuVyx5PXA/bzpvW2VdfHwob1tlXT17fSksbT15W3NdLGo9cD9uOmQ/bltlXToobltlXXx8e30pW3NdO3AmJihyPWUpO2ZvcihhIGluIHIpZj0hbCYmaiYmdm9pZCAwIT09althXSxmJiZhIGluIHl8fChfPWY/althXTpyW2FdLHlbYV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbYV0/clthXTp2JiZmP2koXyxuKTpiJiZqW2FdPT1fP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUscixuKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUscil9cmV0dXJuIG5ldyB0KGUscixuKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW3NdPXRbc10sZX0oXyk6aCYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8saCYmKCh5LnZpcnR1YWx8fCh5LnZpcnR1YWw9e30pKVthXT1fLHQmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCxlLmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY3R4Iiksbz10KCIuL19pdGVyLWNhbGwiKSxpPXQoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPXQoIi4vX2FuLW9iamVjdCIpLHM9dCgiLi9fdG8tbGVuZ3RoIiksdT10KCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPWUuZXhwb3J0cz1mdW5jdGlvbih0LGUscixfLGwpe3ZhciBwLGQsaCx2LGI9bD9mdW5jdGlvbigpe3JldHVybiB0fTp1KHQpLHk9bihyLF8sZT8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IocD1zKHQubGVuZ3RoKTtwPm07bSsrKWlmKHY9ZT95KGMoZD10W21dKVswXSxkWzFdKTp5KHRbbV0pLHY9PT1hfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWIuY2FsbCh0KTshKGQ9aC5uZXh0KCkpLmRvbmU7KWlmKHY9byhoLHksZC52YWx1ZSxlKSx2PT09YXx8dj09PWYpcmV0dXJuIHZ9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbih0LGUscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0se31dLDI5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19wcm9wZXJ0eS1kZXNjIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuLmYodCxlLG8oMSxyKSl9OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yLHR9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hdCgiLi9fZGVzY3JpcHRvcnMiKSYmIXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/dCgpOnQuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/dChlWzBdKTp0LmNhbGwocixlWzBdKTtjYXNlIDI6cmV0dXJuIG4/dChlWzBdLGVbMV0pOnQuY2FsbChyLGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuP3QoZVswXSxlWzFdLGVbMl0pOnQuY2FsbChyLGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG4/dChlWzBdLGVbMV0sZVsyXSxlWzNdKTp0LmNhbGwocixlWzBdLGVbMV0sZVsyXSxlWzNdKX1yZXR1cm4gdC5hcHBseShyLGUpfX0se31dLDMzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY29mIik7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm4iU3RyaW5nIj09bih0KT90LnNwbGl0KCIiKTpPYmplY3QodCl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2l0ZXJhdG9ycyIpLG89dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYobi5BcnJheT09PXR8fGlbb109PT10KX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD9udWxsIT09dDoiZnVuY3Rpb24iPT10eXBlb2YgdH19LHt9XSwzNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscixvKXt0cnl7cmV0dXJuIG8/ZShuKHIpWzBdLHJbMV0pOmUocil9Y2F0Y2goaSl7dmFyIGM9dFsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwodCkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49dCgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89dCgiLi9fcHJvcGVydHktZGVzYyIpLGk9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O3QoIi4vX2hpZGUiKShjLHQoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3QucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2xpYnJhcnkiKSxvPXQoIi4vX2V4cG9ydCIpLGk9dCgiLi9fcmVkZWZpbmUiKSxjPXQoIi4vX2hpZGUiKSxzPXQoIi4vX2hhcyIpLHU9dCgiLi9faXRlcmF0b3JzIiksYT10KCIuL19pdGVyLWNyZWF0ZSIpLGY9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPXQoIi4vX29iamVjdC1ncG8iKSxsPXQoIi4vX3drcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksZD0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscix5LG0saixnKXthKHIsZSx5KTt2YXIgeCx3LGssTz1mdW5jdGlvbih0KXtpZighcCYmdCBpbiBQKXJldHVybiBQW3RdO3N3aXRjaCh0KXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9fSxNPWUrIiBJdGVyYXRvciIsUz1tPT12LEU9ITEsUD10LnByb3RvdHlwZSxUPVBbbF18fFBbZF18fG0mJlBbbV0sUj1UfHxPKG0pLFU9bT9TP08oImVudHJpZXMiKTpSOnZvaWQgMCxBPSJBcnJheSI9PWU/UC5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9XyhBLmNhbGwobmV3IHQpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGIpKSksUyYmVCYmVC5uYW1lIT09diYmKEU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxuJiYhZ3x8IXAmJiFFJiZQW2xdfHxjKFAsbCxSKSx1W2VdPVIsdVtNXT1iLG0paWYoeD17dmFsdWVzOlM/UjpPKHYpLGtleXM6aj9SOk8oaCksZW50cmllczpVfSxnKWZvcih3IGluIHgpdyBpbiBQfHxpKFAsdyx4W3ddKTtlbHNlIG8oby5QK28uRioocHx8RSksZSx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fWUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LHQoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEhdH19fSx7fV0sNDE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PXQoIi4vX2NvZiIpKGMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTt0Oyl7bz10LmZuLHQ9dC5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgdD9yKCk6ZT12b2lkIDAsaX19ZT12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O2UmJihlLm5leHQ9byksdHx8KHQ9byxyKCkpLGU9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX29iamVjdC1kcHMiKSxpPXQoIi4vX2VudW0tYnVnLWtleXMiKSxjPXQoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgZSxyPXQoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIix0KCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6IixlPXIuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLGUuY2xvc2UoKSxhPWUuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiBudWxsIT09dD8oc1t1XT1uKHQpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109dCk6cj1hKCksdm9pZCAwPT09ZT9yOm8ocixlKX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX2llOC1kb20tZGVmaW5lIiksaT10KCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLHIpe2lmKG4odCksZT1pKGUsITApLG4ociksbyl0cnl7cmV0dXJuIGModCxlLHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYodFtlXT1yLnZhbHVlKSx0fX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19hbi1vYmplY3QiKSxpPXQoIi4vX29iamVjdC1rZXlzIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtvKHQpO2Zvcih2YXIgcixjPWkoZSkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYodCxyPWNbdSsrXSxlW3JdKTtyZXR1cm4gdH19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1waWUiKSxvPXQoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPXQoIi4vX3RvLWlvYmplY3QiKSxjPXQoIi4vX3RvLXByaW1pdGl2ZSIpLHM9dCgiLi9faGFzIiksdT10KCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKHQsZSl7aWYodD1pKHQpLGU9YyhlLCEwKSx1KXRyeXtyZXR1cm4gYSh0LGUpfWNhdGNoKHIpe31pZihzKHQsZSkpcmV0dXJuIG8oIW4uZi5jYWxsKHQsZSksdFtlXSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oYXMiKSxvPXQoIi4vX3RvLW9iamVjdCIpLGk9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLG4odCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2hhcyIpLG89dCgiLi9fdG8taW9iamVjdCIpLGk9dCgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSksYz10KCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1vKHQpLHU9MCxhPVtdO2ZvcihyIGluIHMpciE9YyYmbihzLHIpJiZhLnB1c2gocik7Zm9yKDtlLmxlbmd0aD51OyluKHMscj1lW3UrK10pJiYofmkoYSxyKXx8YS5wdXNoKHIpKTtyZXR1cm4gYX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz10KCIuL19lbnVtLWJ1Zy1rZXlzIik7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fZmFpbHMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGM9e307Y1t0XT1lKHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLGMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oaWRlIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG8gaW4gZSlyJiZ0W29dP3Rbb109ZVtvXTpuKHQsbyxlW29dKTtyZXR1cm4gdH19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpLG89dCgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbih0LGUpe2lmKG8odCksIW4oZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHIsbil7dHJ5e249dCgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCx0KCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSkscj0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLHI/dC5fX3Byb3RvX189ZTpuKHQsZSksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2dsb2JhbCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fb2JqZWN0LWRwIiksYz10KCIuL19kZXNjcmlwdG9ycyIpLHM9dCgiLi9fd2tzIikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIG9bdF0/b1t0XTpuW3RdO2MmJmUmJiFlW3NdJiZpLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1kcCIpLmYsbz10KCIuL19oYXMiKSxpPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dCYmIW8odD1yP3Q6dC5wcm90b3R5cGUsaSkmJm4odCxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgia2V5cyIpLG89dCgiLi9fdWlkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1vKHQpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iiksbz10KCIuL19hLWZ1bmN0aW9uIiksaT10KCIuL193a3MiKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGM9bih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09Y3x8dm9pZCAwPT0ocj1uKGMpW2ldKT9lOm8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pbnRlZ2VyIiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBpLGMscz1TdHJpbmcobyhlKSksdT1uKHIpLGE9cy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49YT90PyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09YXx8KGM9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxjPjU3MzQzP3Q/cy5jaGFyQXQodSk6aTp0P3Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKGMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGM9dCgiLi9fY3R4Iikscz10KCIuL19pbnZva2UiKSx1PXQoIi4vX2h0bWwiKSxhPXQoIi4vX2RvbS1jcmVhdGUiKSxmPXQoIi4vX2dsb2JhbCIpLF89Zi5wcm9jZXNzLGw9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHk9ZnVuY3Rpb24oKXt2YXIgdD0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KHQpKXt2YXIgZT12W3RdO2RlbGV0ZSB2W3RdLGUoKX19LG09ZnVuY3Rpb24odCl7eS5jYWxsKHQuZGF0YSl9O2wmJnB8fChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyllLnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXtzKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LG4oaCksaH0scD1mdW5jdGlvbih0KXtkZWxldGUgdlt0XX0sInByb2Nlc3MiPT10KCIuL19jb2YiKShfKT9uPWZ1bmN0aW9uKHQpe18ubmV4dFRpY2soYyh5LHQsMSkpfTpkPyhvPW5ldyBkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49YyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24odCl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYyh5LHQsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpsLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQpLHQ8MD9vKHQrZSwwKTppKHQsZSl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP286bikodCl9fSx7fV0sNjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pb2JqZWN0Iiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKG8odCkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28obih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZGVmaW5lZCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIW4odCkpcmV0dXJuIHQ7dmFyIHIsbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LnRvU3RyaW5nKSYmIW4obz1yLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPXQudmFsdWVPZikmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKHI9dC50b1N0cmluZykmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgid2tzIiksbz10KCIuL191aWQiKSxpPXQoIi4vX2dsb2JhbCIpLlN5bWJvbCxjPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1jJiZpW3RdfHwoYz9pOm8pKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jbGFzc29mIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpO2UuZXhwb3J0cz10KCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT10KXJldHVybiB0W29dfHx0WyJAQGl0ZXJhdG9yIl18fGlbbih0KV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89dCgiLi9faXRlci1zdGVwIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3RvLWlvYmplY3QiKTtlLmV4cG9ydHM9dCgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKHQsZSl7dGhpcy5fdD1jKHQpLHRoaXMuX2k9MCx0aGlzLl9rPWV9LGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdCxlPXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PWU/bygwLHIpOiJ2YWx1ZXMiPT1lP28oMCx0W3JdKTpvKDAsW3IsdFtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpO24obi5TK24uRiohdCgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6dCgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8tb2JqZWN0Iiksbz10KCIuL19vYmplY3Qta2V5cyIpO3QoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG8obih0KSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbih0LGUscil7fSx7fV0sNzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLGM9dCgiLi9fbGlicmFyeSIpLHM9dCgiLi9fZ2xvYmFsIiksdT10KCIuL19jdHgiKSxhPXQoIi4vX2NsYXNzb2YiKSxmPXQoIi4vX2V4cG9ydCIpLF89dCgiLi9faXMtb2JqZWN0IiksbD0odCgiLi9fYW4tb2JqZWN0IiksdCgiLi9fYS1mdW5jdGlvbiIpKSxwPXQoIi4vX2FuLWluc3RhbmNlIiksZD10KCIuL19mb3Itb2YiKSxoPSh0KCIuL19zZXQtcHJvdG8iKS5zZXQsdCgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx2PXQoIi4vX3Rhc2siKS5zZXQsYj10KCIuL19taWNyb3Rhc2siKSgpLHk9IlByb21pc2UiLG09cy5UeXBlRXJyb3Isaj1zLnByb2Nlc3MsZz1zW3ldLGo9cy5wcm9jZXNzLHg9InByb2Nlc3MiPT1hKGopLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1nLnJlc29sdmUoMSkscj0oZS5jb25zdHJ1Y3Rvcj17fSlbdCgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24odCl7dCh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQ9PT1nJiZlPT09aX0sTT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4hKCFfKHQpfHwiZnVuY3Rpb24iIT10eXBlb2YoZT10LnRoZW4pKSYmZX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTyhnLHQpP25ldyBFKHQpOm5ldyBvKHQpfSxFPW89ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7ZT10LHI9bn0pLHRoaXMucmVzb2x2ZT1sKGUpLHRoaXMucmVqZWN0PWwocil9LFA9ZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fSxUPWZ1bmN0aW9uKHQsZSl7aWYoIXQuX24pe3QuX249ITA7dmFyIHI9dC5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuX3Ysbz0xPT10Ll9zLGk9MCxjPWZ1bmN0aW9uKGUpe3ZhciByLGksYz1vP2Uub2s6ZS5mYWlsLHM9ZS5yZXNvbHZlLHU9ZS5yZWplY3QsYT1lLmRvbWFpbjt0cnl7Yz8ob3x8KDI9PXQuX2gmJkEodCksdC5faD0xKSxjPT09ITA/cj1uOihhJiZhLmVudGVyKCkscj1jKG4pLGEmJmEuZXhpdCgpKSxyPT09ZS5wcm9taXNlP3UobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixzLHUpOnMocikpOnUobil9Y2F0Y2goZil7dShmKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTt0Ll9jPVtdLHQuX249ITEsZSYmIXQuX2gmJlIodCl9KX19LFI9ZnVuY3Rpb24odCl7di5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgZSxyLG4sbz10Ll92O2lmKFUodCkmJihlPVAoZnVuY3Rpb24oKXt4P2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLHQpOihyPXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6dCxyZWFzb246b30pOihuPXMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSx0Ll9oPXh8fFUodCk/MjoxKSx0Ll9hPXZvaWQgMCxlKXRocm93IGUuZXJyb3J9KX0sVT1mdW5jdGlvbih0KXtpZigxPT10Ll9oKXJldHVybiExO2Zvcih2YXIgZSxyPXQuX2F8fHQuX2Msbj0wO3IubGVuZ3RoPm47KWlmKGU9cltuKytdLGUuZmFpbHx8IVUoZS5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbih0KXt2LmNhbGwocyxmdW5jdGlvbigpe3ZhciBlO3g/ai5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIix0KTooZT1zLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCxlPWUuX3d8fGUsZS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFQoZSwhMCkpfSxDPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT10KXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9TSh0KSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7ZS5jYWxsKHQsdShDLG4sMSksdShMLG4sMSkpfWNhdGNoKG8pe0wuY2FsbChuLG8pfX0pOihyLl92PXQsci5fcz0xLFQociwhMSkpfWNhdGNoKG4pe0wuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGc9ZnVuY3Rpb24odCl7cCh0aGlzLGcseSwiX2giKSxsKHQpLG4uY2FsbCh0aGlzKTt0cnl7dCh1KEMsdGhpcywxKSx1KEwsdGhpcywxKSl9Y2F0Y2goZSl7TC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXQoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIHI9UyhoKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiB0fHx0LHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxyLmRvbWFpbj14P2ouZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfX0pLEU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbjt0aGlzLnByb21pc2U9dCx0aGlzLnJlc29sdmU9dShDLHQsMSksdGhpcy5yZWplY3Q9dShMLHQsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmd9KSx0KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcseSksdCgiLi9fc2V0LXNwZWNpZXMiKSh5KSxpPXQoIi4vX2NvcmUiKVt5XSxmKGYuUytmLkYqIWsseSx7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPVModGhpcykscj1lLnJlamVjdDtyZXR1cm4gcih0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhaykseSx7cmVzb2x2ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZyYmTyh0LmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiB0O3ZhciBlPVModGhpcykscj1lLnJlc29sdmU7cmV0dXJuIHIodCksZS5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJnQoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24odCl7Zy5hbGwodClbImNhdGNoIl0odyl9KSkseSx7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1TKGUpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1QKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtkKHQsITEsZnVuY3Rpb24odCl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLGUucmVzb2x2ZSh0KS50aGVuKGZ1bmN0aW9uKHQpe3V8fCh1PSEwLHJbc109dCwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9UyhlKSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpe2QodCwhMSxmdW5jdGlvbih0KXtlLnJlc29sdmUodCkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19zdHJpbmctYXQiKSghMCk7dCgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PWUubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9bihlLHIpLHRoaXMuX2krPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbih0LGUscil7dCgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19oaWRlIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7dTw1O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj10KCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuKXsoMCxzWyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLG8uaHlwZXJ0eVVSTD1lLG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkodCxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLG49dm9pZCAwLG89dD90OiIuIjtuPWU/ZTpyLmh5cGVydHlVUkw7dmFyIGM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24mJjIwMD09PXIuYm9keS5jb2RlP3Qobik6ZSgiY29kZTogIityLmJvZHkuY29kZSsiIE5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksdH0oKTtyWyJkZWZhdWx0Il09XyxlLmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo4MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sODE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1mdW5jdGlvbiBvKHQpe2lmKCF0KXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIGU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49dC5yZXBsYWNlKGUscikuc3BsaXQoIiwiKTtuWzBdPT09dCYmKG5bMF09Imh0dHBzIixuWzFdPXQpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTp0LnN1YnN0cmluZygwLGUpLGRvbWFpbjp0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiEoKDAsZFsiZGVmYXVsdCJdKSh0KS5sZW5ndGg+MCl9ZnVuY3Rpb24gcyh0KXtpZih0KXJldHVybiBKU09OLnBhcnNlKCgwLGxbImRlZmF1bHQiXSkodCkpfWZ1bmN0aW9uIHUodCl7dmFyIGU9dC5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK3Quc3Vic3RyaW5nKGUrMSx0Lmxlbmd0aCkrIi8iK3Quc3Vic3RyaW5nKDAsZSl9ZnVuY3Rpb24gYSh0KXt2YXIgZT1vKHQpO3JldHVybiBlLmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrZS5kb21haW59ZnVuY3Rpb24gZih0KXtpZigidXNlcjovLyI9PT10LnN1YnN0cmluZygwLDcpKXt2YXIgZT1vKHQpO2lmKGUuZG9tYWluJiZlLmlkZW50aXR5KXJldHVybiB0O3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiB1KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgXz10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxsPW4oXykscD10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxkPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1jLHIuZGVlcENsb25lPXMsci5nZXRVc2VyVVJMRnJvbUVtYWlsPXUsci5nZXRVc2VyRW1haWxGcm9tVVJMPWEsci5jb252ZXJ0VG9Vc2VyVVJMPWZ9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoxLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjN9XX0se30sWzgwXSkoODApfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKLy8gRGlzdHJpYnV0aW9uIGZpbGUgZm9yIFN5bmNoZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTo0OSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG8pe2Z1bmN0aW9uIG4ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG4ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixvKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxvLmxlbmd0aDtzKyspbihvW3NdKTtyZXR1cm4gbn0oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbz0icGVyZm9ybUNoYW5nZSIsbj0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYShlKXt2YXIgdD1hcmd1bWVudHMscz1hW25dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltuXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGM9ZFtuXS5hcHBseSh0aGlzLHMpO3JldHVybihjLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmN9fSx0aGlzKSxjfX07Zm9yKHZhciBjIGluIHMpc1tjXVtuXT10LnByb3RvdHlwZVtjXSx0LnByb3RvdHlwZVtjXT1zW2NdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MjB9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjF9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIzfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjR9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiOjI3fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW8ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1vKXt2YXIgbj0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bj92b2lkIDA6YShuLHQscil9aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHM9by5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjZ9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1vKHMpLGE9ZSgiLi4vaGVscGVycy90eXBlb2YiKSx1PW8oYSk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisoInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLHVbImRlZmF1bHQiXSkodCkpKTtlLnByb3RvdHlwZT0oMCxjWyJkZWZhdWx0Il0pKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoaVsiZGVmYXVsdCJdPygwLGlbImRlZmF1bHQiXSkoZSx0KTplLl9fcHJvdG9fXz10KX19LHsiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCIuLi9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL3N5bWJvbCIpLGM9byhzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7Ii4uL2NvcmUtanMvc3ltYm9sIjoxMCwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIiksbj1vLkpTT058fChvLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpbmdpZnkuYXBwbHkobixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNX1dLDE5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIjoxMDB9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6MTAxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjEwMn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjEwM31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6MTA0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6MTA1fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzL19jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjoxMDcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI2OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjoxMDksIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI6MTEwLCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSI6MTExfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCIpLmYoIml0ZXJhdG9yIil9LHsiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCI6OTYsIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW8mJm8gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX3RvLWxlbmd0aCIpLGk9ZSgiLi9fdG8taW5kZXgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYyxhPW8odCksdT1uKGEubGVuZ3RoKSxsPWkocyx1KTtpZihlJiZyIT1yKXtmb3IoO3U+bDspaWYoYz1hW2wrK10sYyE9YylyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigoZXx8bCBpbiBhKSYmYVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LHsiLi9fdG8taW5kZXgiOjg4LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tbGVuZ3RoIjo5MX1dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fY29mIiksbj1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChyKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixjO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxuKSk/cjppP28odCk6Ik9iamVjdCI9PShjPW8odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6Y319LHsiLi9fY29mIjozNCwiLi9fd2tzIjo5N31dLDM0OltmdW5jdGlvbihlLHQscil7dmFyIG89e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9byl9LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2EtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixvKXtyZXR1cm4gZS5jYWxsKHQscixvKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG8sbil7cmV0dXJuIGUuY2FsbCh0LHIsbyxuKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6Mjh9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjQzfV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9byhuKSYmbyhuLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9uLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTR9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cyIpLG49ZSgiLi9fb2JqZWN0LWdvcHMiKSxpPWUoIi4vX29iamVjdC1waWUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKSxyPW4uZjtpZihyKWZvcih2YXIgcyxjPXIoZSksYT1pLmYsdT0wO2MubGVuZ3RoPnU7KWEuY2FsbChlLHM9Y1t1KytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0seyIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzV9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fY3R4Iikscz1lKCIuL19oaWRlIiksYz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxsLGYsZD1lJmEuRixfPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHk9ZSZhLlcsdj1fP246blt0XXx8KG5bdF09e30pLGo9dltjXSxtPV8/bzpwP29bdF06KG9bdF18fHt9KVtjXTtfJiYocj10KTtmb3IodSBpbiByKWw9IWQmJm0mJnZvaWQgMCE9PW1bdV0sbCYmdSBpbiB2fHwoZj1sP21bdV06clt1XSx2W3VdPV8mJiJmdW5jdGlvbiIhPXR5cGVvZiBtW3VdP3JbdV06aCYmbD9pKGYsbyk6eSYmbVt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbyl7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbyl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFtjXT1lW2NdLHR9KGYpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLGImJigodi52aXJ0dWFsfHwodi52aXJ0dWFsPXt9KSlbdV09ZixlJmEuUiYmaiYmIWpbdV0mJnMoaix1LGYpKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsYS5VPTY0LGEuUj0xMjgsdC5leHBvcnRzPWF9LHsiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2N0eCIpLG49ZSgiLi9faXRlci1jYWxsIiksaT1lKCIuL19pcy1hcnJheS1pdGVyIikscz1lKCIuL19hbi1vYmplY3QiKSxjPWUoIi4vX3RvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKSx1PXt9LGw9e30scj10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgXyxwLGIsaCx5PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06YShlKSx2PW8ocixmLHQ/MjoxKSxqPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaSh5KSl7Zm9yKF89YyhlLmxlbmd0aCk7Xz5qO2orKylpZihoPXQ/dihzKHA9ZVtqXSlbMF0scFsxXSk6dihlW2pdKSxoPT09dXx8aD09PWwpcmV0dXJuIGh9ZWxzZSBmb3IoYj15LmNhbGwoZSk7IShwPWIubmV4dCgpKS5kb25lOylpZihoPW4oYix2LHAudmFsdWUsdCksaD09PXV8fGg9PT1sKXJldHVybiBofTtyLkJSRUFLPXUsci5SRVRVUk49bH0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1hcnJheS1pdGVyIjo1MiwiLi9faXRlci1jYWxsIjo1NSwiLi9fdG8tbGVuZ3RoIjo5MSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjk4fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9byl9LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNhbGwoZSx0KX19LHt9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1kcCIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gby5mKGUsdCxuKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX3Byb3BlcnR5LWRlc2MiOjc3fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQ1fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2Rlc2NyaXB0b3JzIikmJiFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2ZhaWxzIjo0M31dLDUwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBvP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBvP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBvP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBvP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW8oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuL19jb2YiOjM0fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pdGVyYXRvcnMiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG8uQXJyYXk9PT1lfHxpW25dPT09ZSl9fSx7Ii4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTd9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1vKGUpfX0seyIuL19jb2YiOjM0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXtyZXR1cm4gbj90KG8ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZvKHMuY2FsbChlKSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MzF9XSw1NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19vYmplY3QtY3JlYXRlIiksbj1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi9faGlkZSIpKHMsZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9byhzLHtuZXh0Om4oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6NDcsIi4vX29iamVjdC1jcmVhdGUiOjY1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fbGlicmFyeSIpLG49ZSgiLi9fZXhwb3J0IiksaT1lKCIuL19yZWRlZmluZSIpLHM9ZSgiLi9faGlkZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pdGVyYXRvcnMiKSx1PWUoIi4vX2l0ZXItY3JlYXRlIiksbD1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi9fb2JqZWN0LWdwbyIpLGQ9ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksXz0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPSJAQGl0ZXJhdG9yIixiPSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHYsaixtLGcpe3Uocix0LHYpO3ZhciB3LE8sayx4PWZ1bmN0aW9uKGUpe2lmKCFfJiZlIGluIFIpcmV0dXJuIFJbZV07c3dpdGNoKGUpe2Nhc2UgYjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LEM9dCsiIEl0ZXJhdG9yIixFPWo9PWgsUz0hMSxSPWUucHJvdG90eXBlLFQ9UltkXXx8UltwXXx8aiYmUltqXSxNPVR8fHgoaiksUD1qP0U/eCgiZW50cmllcyIpOk06dm9pZCAwLEE9IkFycmF5Ij09dD9SLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1mKEEuY2FsbChuZXcgZSkpLGshPT1PYmplY3QucHJvdG90eXBlJiYobChrLEMsITApLG98fGMoayxkKXx8cyhrLGQseSkpKSxFJiZUJiZULm5hbWUhPT1oJiYoUz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG8mJiFnfHwhXyYmIVMmJlJbZF18fHMoUixkLE0pLGFbdF09TSxhW0NdPXksailpZih3PXt2YWx1ZXM6RT9NOngoaCksa2V5czptP006eChiKSxlbnRyaWVzOlB9LGcpZm9yKE8gaW4gdylPIGluIFJ8fGkoUixPLHdbT10pO2Vsc2UgbihuLlArbi5GKihffHxTKSx0LHcpO3JldHVybiB3fX0seyIuL19leHBvcnQiOjQyLCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXRlci1jcmVhdGUiOjU2LCIuL19pdGVyYXRvcnMiOjYwLCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWdwbyI6NzIsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxuPSExO3RyeXt2YXIgaT1bN11bb10oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe249ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFuKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW29dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbb109ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6OTd9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1uKGUpLHM9byhpKSxjPXMubGVuZ3RoLGE9MDtjPmE7KWlmKGlbcj1zW2ErK11dPT09dClyZXR1cm4gcn19LHsiLi9fb2JqZWN0LWtleXMiOjc0LCIuL190by1pb2JqZWN0Ijo5MH1dLDYyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL191aWQiKSgibWV0YSIpLG49ZSgiLi9faXMtb2JqZWN0IiksaT1lKCIuL19oYXMiKSxzPWUoIi4vX29iamVjdC1kcCIpLmYsYz0wLGE9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdT0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiBhKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXtzKGUsbyx7dmFsdWU6e2k6Ik8iKyArK2Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbb10uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbykpe2lmKCFhKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbb10ud30sXz1mdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5ORUVEJiZhKGUpJiYhaShlLG8pJiZsKGUpLGV9LHA9dC5leHBvcnRzPXtLRVk6byxORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6X319LHsiLi9fZmFpbHMiOjQzLCIuL19oYXMiOjQ2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZHAiOjY2LCIuL191aWQiOjk0fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX3Rhc2siKS5zZXQsaT1vLk11dGF0aW9uT2JzZXJ2ZXJ8fG8uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW8ucHJvY2VzcyxjPW8uUHJvbWlzZSxhPSJwcm9jZXNzIj09ZSgiLi9fY29mIikocyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLHU9ZnVuY3Rpb24oKXt2YXIgbyxuO2ZvcihhJiYobz1zLmRvbWFpbikmJm8uZXhpdCgpO2U7KXtuPWUuZm4sZT1lLm5leHQ7dHJ5e24oKX1jYXRjaChpKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxpfX10PXZvaWQgMCxvJiZvLmVudGVyKCl9O2lmKGEpcj1mdW5jdGlvbigpe3MubmV4dFRpY2sodSl9O2Vsc2UgaWYoaSl7dmFyIGw9ITAsZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkodSkub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2YuZGF0YT1sPSFsfX1lbHNlIGlmKGMmJmMucmVzb2x2ZSl7dmFyIGQ9Yy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2QudGhlbih1KX19ZWxzZSByPWZ1bmN0aW9uKCl7bi5jYWxsKG8sdSl9O3JldHVybiBmdW5jdGlvbihvKXt2YXIgbj17Zm46byxuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1uKSxlfHwoZT1uLHIoKSksdD1ufX19LHsiLi9fY29mIjozNCwiLi9fZ2xvYmFsIjo0NSwiLi9fdGFzayI6ODd9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWRwcyIpLGk9ZSgiLi9fZW51bS1idWcta2V5cyIpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9ZnVuY3Rpb24oKXt9LGE9InByb3RvdHlwZSIsdT1mdW5jdGlvbigpe3ZhciB0LHI9ZSgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxvPWkubGVuZ3RoLG49Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLHQ9ci5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbiksdC5jbG9zZSgpLHU9dC5GO28tLTspZGVsZXRlIHVbYV1baVtvXV07cmV0dXJuIHUoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhjW2FdPW8oZSkscj1uZXcgYyxjW2FdPW51bGwscltzXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6bihyLHQpfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kb20tY3JlYXRlIjozOSwiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX2h0bWwiOjQ4LCIuL19vYmplY3QtZHBzIjo2NywiLi9fc2hhcmVkLWtleSI6ODN9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobyhlKSx0PWkodCwhMCksbyhyKSxuKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goYyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL190by1wcmltaXRpdmUiOjkzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWtleXMiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe24oZSk7Zm9yKHZhciByLHM9aSh0KSxjPXMubGVuZ3RoLGE9MDtjPmE7KW8uZihlLHI9c1thKytdLHRbcl0pO3JldHVybiBlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1rZXlzIjo3NH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LXBpZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fdG8taW9iamVjdCIpLHM9ZSgiLi9fdG8tcHJpbWl0aXZlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2llOC1kb20tZGVmaW5lIiksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPWkoZSksdD1zKHQsITApLGEpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2gocil7fWlmKGMoZSx0KSlyZXR1cm4gbighby5mLmNhbGwoZSx0KSxlW3RdKX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpuKG8oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbyhlLG4pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9bihlKSxvKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19oYXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9bihlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm8oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbyhjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG4uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxvKG8uUytvLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHQpciYmZVtuXT9lW25dPXRbbl06byhlLG4sdFtuXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG4pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBuW2VdP25bZV06b1tlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKS5mLG49ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFuKGU9cj9lOmUucHJvdG90eXBlLGkpJiZvKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fc2hhcmVkIikoImtleXMiKSxuPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09bihlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49Il9fY29yZS1qc19zaGFyZWRfXyIsaT1vW25dfHwob1tuXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW8oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9byhzKVtpXSk/dDpuKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG4odCkpLGE9byhyKSx1PWMubGVuZ3RoO3JldHVybiBhPDB8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLGk8NTUyOTZ8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvLG4saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLF89bC5jbGVhckltbWVkaWF0ZSxwPWwuTWVzc2FnZUNoYW5uZWwsYj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxqPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZffHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK2JdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxvKGIpLGJ9LF89ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bz1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06cD8obj1uZXcgcCxpPW4ucG9ydDIsbi5wb3J0MS5vbm1lc3NhZ2U9aixvPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obz1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixqLCExKSk6bz15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpffX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9byhlKSxlPDA/bihlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG89TWF0aC5jZWlsLG49TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOm8pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faW9iamVjdCIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9uKG8oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiBlO3ZhciByLG47aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFvKG49ci5jYWxsKGUpKSlyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG89MCxuPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbytuKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLlN5bWJvbHx8KG4uU3ltYm9sPWk/e306by5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxuPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPXMmJmlbZV18fChzP2k6bikoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1vfSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NsYXNzb2YiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbbl18fGVbIkBAaXRlcmF0b3IiXXx8aVtvKGUpXX19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbj1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG4oMSkpOiJrZXlzIj09dD9uKDAscik6InZhbHVlcyI9PXQ/bigwLGVbcl0pOm4oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG8oImtleXMiKSxvKCJ2YWx1ZXMiKSxvKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2V4cG9ydCIpO28oby5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUytvLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obyhlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbyxuLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLF89ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLGI9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsaj1jLlR5cGVFcnJvcixtPWMucHJvY2VzcyxnPWNbdl0sbT1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUobSksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG8pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWYoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG4oZSl9LFM9bj1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG8pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgaigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1vfSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUj1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG89ZS5fdixuPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW4/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhufHwoMj09ZS5faCYmQShlKSxlLl9oPTEpLHM9PT0hMD9yPW86KHUmJnUuZW50ZXIoKSxyPXMobyksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShqKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShvKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbyxuPWUuX3Y7aWYoUChlKSYmKHQ9UihmdW5jdGlvbigpe3c/bS5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpufSk6KG89Yy5jb25zb2xlKSYmby5lcnJvciYmby5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKX0pLGUuX2g9d3x8UChlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxQPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxvPTA7ci5sZW5ndGg+bzspaWYodD1yW28rK10sdC5mYWlsfHwhUCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxBPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9tLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksVCh0LCEwKSl9LE49ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgaigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG89e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbywxKSxhKEQsbywxKSl9Y2F0Y2gobil7RC5jYWxsKG8sbil9fSk6KHIuX3Y9ZSxyLl9zPTEsVChyLCExKSl9Y2F0Y2gobyl7RC5jYWxsKHtfdzpyLF9kOiExfSxvKX19fTtrfHwoZz1mdW5jdGlvbihlKXtfKHRoaXMsZyx2LCJfaCIpLGQoZSksby5jYWxsKHRoaXMpO3RyeXtlKGEoTix0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG89ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sby5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKGIodGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPXc/bS5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksUz1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1hKE4sZSwxKSx0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLAp0LnByb21pc2V9fSksbChsLlMrbC5GKihzfHwhayksdix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PUUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Zy5hbGwoZSlbImNhdGNoIl0oTyl9KSksdix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG89ci5yZXNvbHZlLG49ci5yZWplY3QsaT1SKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG8ocikpfSxuKX0pLC0tc3x8byhyKX0pO3JldHVybiBpJiZuKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVqZWN0LG49UihmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbyl9KX0pO3JldHVybiBuJiZvKG4uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4taW5zdGFuY2UiOjMwLCIuL19hbi1vYmplY3QiOjMxLCIuL19jbGFzc29mIjozMywiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2V4cG9ydCI6NDIsIi4vX2Zvci1vZiI6NDQsIi4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTQsIi4vX2l0ZXItZGV0ZWN0Ijo1OCwiLi9fbGlicmFyeSI6NjIsIi4vX21pY3JvdGFzayI6NjQsIi4vX3JlZGVmaW5lLWFsbCI6NzgsIi4vX3NldC1wcm90byI6ODAsIi4vX3NldC1zcGVjaWVzIjo4MSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo4NSwiLi9fdGFzayI6ODcsIi4vX3drcyI6OTd9XSwxMDg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fc3RyaW5nLWF0IikoITApO2UoIi4vX2l0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW8odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuL19pdGVyLWRlZmluZSI6NTcsIi4vX3N0cmluZy1hdCI6ODZ9XSwxMDk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19oYXMiKSxpPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL19leHBvcnQiKSxjPWUoIi4vX3JlZGVmaW5lIiksYT1lKCIuL19tZXRhIikuS0VZLHU9ZSgiLi9fZmFpbHMiKSxsPWUoIi4vX3NoYXJlZCIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vX3VpZCIpLF89ZSgiLi9fd2tzIikscD1lKCIuL193a3MtZXh0IiksYj1lKCIuL193a3MtZGVmaW5lIiksaD1lKCIuL19rZXlvZiIpLHk9ZSgiLi9fZW51bS1rZXlzIiksdj1lKCIuL19pcy1hcnJheSIpLGo9ZSgiLi9fYW4tb2JqZWN0IiksbT1lKCIuL190by1pb2JqZWN0IiksZz1lKCIuL190by1wcmltaXRpdmUiKSx3PWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxPPWUoIi4vX29iamVjdC1jcmVhdGUiKSxrPWUoIi4vX29iamVjdC1nb3BuLWV4dCIpLHg9ZSgiLi9fb2JqZWN0LWdvcGQiKSxDPWUoIi4vX29iamVjdC1kcCIpLEU9ZSgiLi9fb2JqZWN0LWtleXMiKSxTPXguZixSPUMuZixUPWsuZixNPW8uU3ltYm9sLFA9by5KU09OLEE9UCYmUC5zdHJpbmdpZnksRD0icHJvdG90eXBlIixOPV8oIl9oaWRkZW4iKSxMPV8oInRvUHJpbWl0aXZlIiksRj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxJPWwoInN5bWJvbC1yZWdpc3RyeSIpLFU9bCgic3ltYm9scyIpLHo9bCgib3Atc3ltYm9scyIpLEg9T2JqZWN0W0RdLFY9ImZ1bmN0aW9uIj09dHlwZW9mIE0sQj1vLlFPYmplY3QsSj0hQnx8IUJbRF18fCFCW0RdLmZpbmRDaGlsZCxXPWkmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TyhSKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFIodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPVMoSCx0KTtvJiZkZWxldGUgSFt0XSxSKGUsdCxyKSxvJiZlIT09SCYmUihILHQsbyl9OlIsWT1mdW5jdGlvbihlKXt2YXIgdD1VW2VdPU8oTVtEXSk7cmV0dXJuIHQuX2s9ZSx0fSxxPVYmJiJzeW1ib2wiPT10eXBlb2YgTS5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTX0sSz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZLKHosdCxyKSxqKGUpLHQ9Zyh0LCEwKSxqKHIpLG4oVSx0KT8oci5lbnVtZXJhYmxlPyhuKGUsTikmJmVbTl1bdF0mJihlW05dW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihuKGUsTil8fFIoZSxOLHcoMSx7fSkpLGVbTl1bdF09ITApLFcoZSx0LHIpKTpSKGUsdCxyKX0sRz1mdW5jdGlvbihlLHQpe2ooZSk7Zm9yKHZhciByLG89eSh0PW0odCkpLG49MCxpPW8ubGVuZ3RoO2k+bjspSyhlLHI9b1tuKytdLHRbcl0pO3JldHVybiBlfSxaPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpHKE8oZSksdCl9LFg9ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZuKFUsZSkmJiFuKHosZSkpJiYoISh0fHwhbih0aGlzLGUpfHwhbihVLGUpfHxuKHRoaXMsTikmJnRoaXNbTl1bZV0pfHx0KX0sJD1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PWcodCwhMCksZSE9PUh8fCFuKFUsdCl8fG4oeix0KSl7dmFyIHI9UyhlLHQpO3JldHVybiFyfHwhbihVLHQpfHxuKGUsTikmJmVbTl1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSxRPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPVQobShlKSksbz1bXSxpPTA7ci5sZW5ndGg+aTspbihVLHQ9cltpKytdKXx8dD09Tnx8dD09YXx8by5wdXNoKHQpO3JldHVybiBvfSxlZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09SCxvPVQocj96Om0oZSkpLGk9W10scz0wO28ubGVuZ3RoPnM7KSFuKFUsdD1vW3MrK10pfHxyJiYhbihILHQpfHxpLnB1c2goVVt0XSk7cmV0dXJuIGl9O1Z8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09SCYmdC5jYWxsKHosciksbih0aGlzLE4pJiZuKHRoaXNbTl0sZSkmJih0aGlzW05dW2VdPSExKSxXKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmSiYmVyhILGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyhILCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkscC5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKF8oZSkpfSkscyhzLkcrcy5XK3MuRiohVix7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKF8uc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOyliKHRlW3JlKytdKTtzKHMuUytzLkYqIVYsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBuKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtKPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtKPSExfX0pLHMocy5TK3MuRiohViwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLFAmJnMocy5TK3MuRiooIVZ8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPUEoW2VdKXx8Int9IiE9QSh7YTplfSl8fCJ7fSIhPUEoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbz1bZV0sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspby5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gdD1vWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZihyJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhcSh0KSlyZXR1cm4gdH0pLG9bMV09dCxBLmFwcGx5KFAsbyl9fX0pLE1bRF1bTF18fGUoIi4vX2hpZGUiKShNW0RdLEwsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wO2E8NTthKyspe3ZhciB1PWNbYV0sbD1vW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm4oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixvKXsidXNlIHN0cmljdCI7dmFyIG4saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbyl9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89cnx8MDtvPGUubGVuZ3RoO28rKylpZihlW29dPT09dClyZXR1cm4gbztyZXR1cm4tMX0sdT1yLk1hcCE9PW8mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG8pe3ZhciBuPWEoZSxyKTtuPT09LTE/KGUucHVzaChyKSx0LnB1c2gobyksdGhpcy5zaXplKyspOnRbbl09b30sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG89YShlLHIpO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtvXSxlW29dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBvPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO28ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBuLGk9MDtpPG8ubGVuZ3RoOykobj1hKHIsb1tpKytdKSk+LTEmJnIuc3BsaWNlKG4sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixvLG49W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZuLnB1c2gocik7ZWxzZXtvPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdClvLmNhbGwodCxyKSYmbi5wdXNoKHIpfXJldHVybiBjKHQpJiZuLnB1c2goImxlbmd0aCIpLG59LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXz1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCkscD1mdW5jdGlvbihlLHQscil7dmFyIG89bi5nZXQoZSk7bz8oaChvLGUpLG0oZSxvLHQscikpOihvPWIoZSksbShlLG8sdCxyKSwxPT09bi5zaXplJiZfKHkpKX0sYj1mdW5jdGlvbih0LHIpe3ZhciBvLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOiEhZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KSxleHRlbnNpYmxlOiFlLmlzRXh0ZW5zaWJsZXx8ZS5pc0V4dGVuc2libGUodCkscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6aih0LHIpfTtpZihkKWZvcihvPXIuZGVzY3JpcHRvcnM9W107YzxpLmxlbmd0aDspb1tjXT1kKHQsaVtjXSksc1tjXT10W2lbYysrXV07ZWxzZSBmb3IoO2M8aS5sZW5ndGg7KXNbY109dFtpW2MrK11dO3JldHVybiBuLnNldCh0LHIpLHJ9LGg9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG8sbil7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxjPXQudmFsdWVzW3JdLGE9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbiYmKGM9PT1zPzA9PT1jJiYxL2MhPT0xL3M6Yz09PWN8fHM9PT1zKSYmKGcoZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxvKSx0LnZhbHVlc1tyXT1zKSwhYS5jb25maWd1cmFibGV8fG4uY29uZmlndXJhYmxlJiZuLndyaXRhYmxlPT09YS53cml0YWJsZSYmbi5lbnVtZXJhYmxlPT09YS5lbnVtZXJhYmxlJiZuLmdldD09PWEuZ2V0JiZuLnNldD09PWEuc2V0fHwoZyhlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC5kZXNjcmlwdG9yc1tyXT1uKX06ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49dC5wcm9wZXJ0aWVzW3JdLGk9ZVtuXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihnKGUsdCx7bmFtZTpuLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbyksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbyxuLGkpe2Zvcih2YXIgcyxjPXIubGVuZ3RoO28mJmMtLTspbnVsbCE9PXJbY10mJihzPWQoZSxyW2NdKSxvLS0scz90KGUsbixjLGkscyk6KGcoZSxuLHtuYW1lOnJbY10sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tjXX0saSksbi5wcm9wZXJ0aWVzLnNwbGljZShjLDEpLG4udmFsdWVzLnNwbGljZShjLDEpLG4uZGVzY3JpcHRvcnMuc3BsaWNlKGMsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbyxuKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGcoZSxvLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1tpXX0sbiksby5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG8udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihvLG4saSl7aWYoby5oYW5kbGVycy5zaXplJiYhby5mcm96ZW4pe3ZhciBzLGMsdSxfLHAsYixoLHksdj1vLnZhbHVlcyxqPW8uZGVzY3JpcHRvcnMsbT0wO2lmKG8uZXh0ZW5zaWJsZSlpZihzPW8ucHJvcGVydGllcy5zbGljZSgpLGM9cy5sZW5ndGgsdT1sKG4pLGope2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCkseT1kKG4scCksXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChuW3BdKSxqLnB1c2goeSkpOihzW19dPW51bGwsYy0tLHQobixvLF8saSx5KSk7cihuLHMsYyxvLGkpLGUuaXNFeHRlbnNpYmxlKG4pfHwoby5leHRlbnNpYmxlPSExLGcobixvLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om59LGkpLG8uZnJvemVuPWUuaXNGcm96ZW4obikpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOylwPXVbbSsrXSxfPWEocyxwKSxiPW5bcF0sXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChiKSk6KHNbX109bnVsbCxjLS0sdChuLG8sXyxpKSk7cihuLHMsYyxvLGkpfWVsc2UgaWYoIW8uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKXA9c1ttXSx0KG4sbyxtLGksZChuLHApKTtlLmlzRnJvemVuKG4pJiYoby5mcm96ZW49ITApfWYmJihoPWYobiksaCE9PW8ucHJvdG8mJihnKG4sbyx7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpuLG9sZFZhbHVlOm8ucHJvdG99KSxvLnByb3RvPWgpKX19fSgpLHk9ZnVuY3Rpb24oKXtuLnNpemUmJihuLmZvckVhY2goaCksaS5mb3JFYWNoKHYpLF8oeSkpfSx2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9bi5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW4uZ2V0KGUpO2lmKHIpe3ZhciBvLGk9e29iamVjdDplfTtmb3IobyBpbiB0KSJvYmplY3QiIT09byYmKGlbb109dFtvXSk7ZyhlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxjPW4uZ2V0KGUpLGE9YXJndW1lbnRzWzJdLHU9YT09PW8/cigpOnIuY2FsbChhKTtpZihjJiZoKGMsZSx0KSxjJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2coZSxjLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPWkuZ2V0KHIpO258fGkuc2V0KHIsbj17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxuLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om8uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG4pfSxnPWZ1bmN0aW9uKGUsdCxyLG8pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG98fGEobixvKT09PS0xKSYmYShuLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O249dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbil7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobj09PW8pbj1zO2Vsc2UgaWYoIW58fCJvYmplY3QiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIHAodCxyLG4pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG89aS5nZXQodCk7cmV0dXJuIG8mJihyPW8ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG8ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksXyhmdW5jdGlvbigpe3Yobyx0KX0pLDE9PT1vLm9ic2VydmVkLnNpemUmJm8ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm8ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9uWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6aih0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksdih0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBuPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1vKG4pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGM9byhzKSxhPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW8oYSk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1jWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExNywiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL3N5bmNoZXIvU3luY2hlciI6MTIxLCJhcnJheS5vYnNlcnZlIjoxLCJvYmplY3Qub2JzZXJ2ZSI6MTEzfV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1vKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1vKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IiksXz1vKGQpLHA9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxiPW8ocCksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW8sYy5fc3RhdHVzPW4sYy5fc3luY09iaj1uZXcgX1siZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIG49citvLGk9dC5fYnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBvPXIuX293bmVyKyIjIityLl9jaGlsZElkLG49ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpuLGJvZHk6e3Jlc291cmNlOm8sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgYlsiZGVmYXVsdCJdKHIsbyx0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpuLGNoaWxkSWQ6b30pfSksci5fY2hpbGRyZW5PYmplY3RzW29dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBvPW5ldyBiWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW8sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbj17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixuKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihuKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG89e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYoby5ib2R5LnZhbHVlPWUuZGF0YSk6KG8uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsby5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG8uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihvLnRvPXQucGF0aCxvLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobyl9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG89dC5ib2R5LmF0dHJpYnV0ZSxuPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG8pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG4pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG4pfWVsc2UgaS5vYmpbaS5sYXN0XT1uO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bjpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxvPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtvP3QuX2NoYW5nZU9iamVjdChvLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNiwiLi9TeW5jT2JqZWN0IjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1vKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1vKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW4sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obyksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1vKG0pLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbz17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG49ZS5pbmRleE9mKCIqIik7bj09PWUubGVuZ3RoLTEmJigwPT09bj9vLnR5cGU9dy5BTlk6KG8udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09b319LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fZmlsdGVyc1tyXTtvLnR5cGU9PT13LkFOWT9vLmNhbGxiYWNrKGUpOm8udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmby5jYWxsYmFjayhlKTpvLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmby5jYWxsYmFjayhlKX0pfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTUsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbz17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bzt2YXIgbj17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtuW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6bn19fSksb30scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG89dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6b307dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0IjoxMTUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1vLHMuX2NoaWxkcmVuPW4scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgbiBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W25dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG4pLHRbbl0pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbyk7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgXyh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXS5vYmplY3QsaT12b2lkIDA7aWYobi5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Yi5PQkpFQ1QpLG4uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Yi5BUlJBWSksInNwbGljZSI9PT10W29dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtvXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtvXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtvXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG8pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK28pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtvXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgYj1uLnNsaWNlKHMscytkKTtiLmZvckVhY2goZnVuY3Rpb24odCxvKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWVbIm5ldyJdKG5ldyBfKHQscytvKSk7ci5faW50ZXJuYWxPYnNlcnZlKG4sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYil9KX1zIT09bi5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShuKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbb10ubmFtZSksYz1zLnRvU3RyaW5nKCk7aWYoYy5pbmRleE9mKCJTeW1ib2wiKSE9PS0xKWNvbnRpbnVlO3ZhciBhPW5bdFtvXS5uYW1lXTsidXBkYXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbb10udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtvXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fb2JzZXJ2YWJsZXNbcl0sbj1lLmluZGV4T2Yoby5vYmopO28uaWR4IT1uJiYoby5pZHg9bixkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbbl09byl9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09XyYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLHA9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sYj1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW8oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9byhsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIiksXz1vKGQpLHA9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxiPW8ocCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24uX293bmVyPXQsbi5fYnVzPXIsbi5fc3ViVVJMPW8ucnVudGltZVVSTCsiL3NtIixuLl9yZXBvcnRlcnM9e30sbi5fb2JzZXJ2ZXJzPXt9LG4uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpuLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm4uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpuLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXM7ci5yZXBvcnRlcj1vLl9vd25lcixyLnNjaGVtYT1lO3ZhciBuPXt0eXBlOiJjcmVhdGUiLGZyb206by5fb3duZXIsdG86by5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe28uX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBzPW4uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obyxzLGUsIm9uIixyLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyk7by5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG89e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG4saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKXM9bmV3IGJbImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09by5ib2R5LmNvZGUpe3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocix0LGUsIm9uIixvLmJvZHkudmFsdWUscy5jaGlsZHJlbixvLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbihjKSxzLmFwcGx5KGMpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbyl7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7CmNvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpvKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxvPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm99fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbz10Ll9vYnNlcnZlcnNbcl07aWYobyl7dmFyIG49e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLDIwMD09PW4mJm9bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTgsIi4vRGF0YVByb3Zpc2lvbmFsIjoxMTksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbihlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixvPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7b1swXT09PWUmJihvWzBdPSJodHRwcyIsb1sxXT1lKTt2YXIgbj17dHlwZTpvWzBdLGRvbWFpbjpvWzFdLGlkZW50aXR5Om9bMl19O3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9bihlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9bihlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1vKGYpLF89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1vKF8pO3IuZGl2aWRlVVJMPW4sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTRdKSgxMTQpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovKioKKiBUaGUgR3JvdXAgQ2hhdCBBUEkgaXMgdXNlZCB0byBjb250cm9sIGEgR3JvdXAgQ2hhdCBpbnN0YW5jZS4KKiBAYXV0aG9yIFZpdG9yIFNpbHZhIFt2aXRvci10LXNpbHZhQHRlbGVjb20ucHRdCiogQHZlcnNpb24gMC4xLjAKKi8KCnZhciBDaGF0Q29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDaGF0Q29udHJvbGxlcihzeW5jaGVyLCBkaXNjb3ZlcnksIGRvbWFpbiwgc2VhcmNoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhdENvbnRyb2xsZXIpOwoKICAgIGlmICghc3luY2hlcikgdGhyb3cgRXJyb3IoJ1N5bmNoZXIgaXMgYSBuZWNlc3NhcnkgZGVwZW5kZWN5Jyk7CiAgICBpZiAoIWRpc2NvdmVyeSkgdGhyb3cgRXJyb3IoJ0Rpc2NvdmVyIGlzIGEgbmVjZXNzYXJ5IGRlcGVuZGVjeScpOwogICAgaWYgKCFkb21haW4pIHRocm93IEVycm9yKCdEb21haW4gaXMgYSBuZWNlc3NhcnkgZGVwZW5kZWN5Jyk7CiAgICBpZiAoIXNlYXJjaCkgdGhyb3cgRXJyb3IoJ1NlYXJjaCBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3knKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgX3RoaXMuX3N5bmNoZXIgPSBzeW5jaGVyOwogICAgX3RoaXMuZGlzY292ZXJ5ID0gZGlzY292ZXJ5OwogICAgX3RoaXMuc2VhcmNoID0gc2VhcmNoOwogICAgX3RoaXMubXlJZGVudGl0eSA9IG51bGw7CgogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIGRvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uJzsKCiAgICAvLyBzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAvLwogICAgLy8gICBpZiAoZXZlbnQudHlwZSA9PT0gJ2RlbGV0ZScpIHsKICAgIC8vICAgICBpZiAoX3RoaXMuX29uQ2xvc2UpIF90aGlzLl9vbkNsb3NlKGV2ZW50KTsKICAgIC8vICAgfQogICAgLy8KICAgIC8vIH0pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENoYXRDb250cm9sbGVyLCBbewogICAga2V5OiAnc2VuZCcsCgoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNlbmQgYSBjaGF0IG1lc3NhZ2UuCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICBtZXNzYWdlICAgICAgICAgICAgICAgICAgICAgICAgSXMgdGhlIENoYXRNZXNzYWdlIHRvIGJlIHNlbnQuCiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPENvbW11bmljYXRpb24uQ2hhdE1lc3NhZ2U+fSAgICAgICAgSXQgcmV0dXJucyB0aGUgQ2hhdE1lc3NhZ2UgY2hpbGQgb2JqZWN0IGNyZWF0ZWQgYnkgdGhlIFN5bmNoZXIgYXMgYSBQcm9taXNlLgogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZChtZXNzYWdlKSB7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZGF0YU9iamVjdCA9IF90aGlzLmRhdGFPYmplY3RSZXBvcnRlciA/IF90aGlzLmRhdGFPYmplY3RSZXBvcnRlciA6IF90aGlzLmRhdGFPYmplY3RPYnNlcnZlcjsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIHZhciBfZGF0YU9iamVjdENoaWxkID0gdm9pZCAwOwoKICAgICAgICAvLyBUT0RPOiBjaGFuZ2UgY2hhdG1lc3NhZ2VzIHRvIHJlc291cmNlIC0gY2hhdCwgZmlsZQogICAgICAgIC8vIFRPRE86IGNoYW5nZSBtZXNzYWdlIHRvIGh5cGVydHlSZXNvdXJjZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvZGV2LXNlcnZpY2UtZnJhbWV3b3JrL3RyZWUvZGV2ZWxvcC9kb2NzL2RhdGFtb2RlbC9kYXRhLW9iamVjdHMvaHlwZXJ0eS1yZXNvdXJjZQogICAgICAgIC8vIFRPRE86IGhhbmRsZSB3aXRoIG11bHRpcGxlIHJlc291cmNlcyAtIGlmIHRoZSAibWVzc2FnZSIgd2lsbCBiZSBkaWZmZXJlbnQgZm9yIGVhY2ggdHlwZSBvZiByZXNvdXJjZXMKICAgICAgICBkYXRhT2JqZWN0LmFkZENoaWxkKCdjaGF0bWVzc2FnZXMnLCB7IG1lc3NhZ2U6IG1lc3NhZ2UgfSkudGhlbihmdW5jdGlvbiAoZGF0YU9iamVjdENoaWxkKSB7CgogICAgICAgICAgY29uc29sZS5sb2coJ1thZGRDaGlsZCAtIENoYXQgTWVzc2FnZV06ICcsIGRhdGFPYmplY3RDaGlsZCk7CiAgICAgICAgICBfZGF0YU9iamVjdENoaWxkID0gZGF0YU9iamVjdENoaWxkOwoKICAgICAgICAgIHZhciBpZGVudGl0eSA9IF90aGlzLm15SWRlbnRpdHk7CgogICAgICAgICAgaWYgKCFpZGVudGl0eSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuc2VhcmNoLm15SWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uIChpZGVudGl0eSkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5teUlkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBZGQgQ2hpbGQgLSBHZXQgbXkgSWRlbnRpdHkgZmFpbHMnLCByZWFzb24pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBpZGVudGl0eTsKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChteUlkZW50aXR5KSB7CgogICAgICAgICAgY29uc29sZS5sb2coJ015IElkZW50aXR5OiAnLCBteUlkZW50aXR5KTsKCiAgICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgICBjaGlsZElkOiBfZGF0YU9iamVjdENoaWxkLl9jaGlsZElkLAogICAgICAgICAgICBmcm9tOiBfZGF0YU9iamVjdENoaWxkLl9vd25lciwKICAgICAgICAgICAgdmFsdWU6IF9kYXRhT2JqZWN0Q2hpbGQuZGF0YSwKICAgICAgICAgICAgdHlwZTogJ2NyZWF0ZScsCiAgICAgICAgICAgIGlkZW50aXR5OiB7CiAgICAgICAgICAgICAgdXNlclByb2ZpbGU6IG15SWRlbnRpdHkKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICByZXNvbHZlKG1zZyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY29uc29sZS5lcnJvcignUmVhc29uOicsIHJlYXNvbik7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBbb25DaGFuZ2UgZGVzY3JpcHRpb25dCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgW2Rlc2NyaXB0aW9uXQogICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdvbkNoYW5nZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX29uQ2hhbmdlID0gY2FsbGJhY2s7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcmVjZWl2ZSBuZXcgbWVzc2FnZXMuCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gaGFuZGxlIHdpdGggbmV3IG1lc3NhZ2VzCiAgICAgKiBAcmV0dXJuIHtDb21tdW5pY2F0aW9uLkNoYXRNZXNzYWdlfSBtCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnb25NZXNzYWdlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1lc3NhZ2UoY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX29uTWVzc2FnZSA9IGNhbGxiYWNrOwogICAgfQoKICAgIC8qKgogICAgICogW29uVXNlckFkZGVkIGRlc2NyaXB0aW9uXQogICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIFtkZXNjcmlwdGlvbl0KICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnb25Vc2VyQWRkZWQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uVXNlckFkZGVkKGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9vblVzZXJBZGRlZCA9IGNhbGxiYWNrOwogICAgfQoKICAgIC8qKgogICAgICogV2hlbiB0aGUgYW4gdXNlciB3YXMgcmVtb3ZlZAogICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIEZ1bmN0aW9uIGhhbmRsZSB3aXRoIHRoZSByZW1vdmVkIHVzZXIKICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnb25Vc2VyUmVtb3ZlZCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25Vc2VyUmVtb3ZlZChjYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBfdGhpcy5fb25Vc2VyUmVtb3ZlZCA9IGNhbGxiYWNrOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlY2VpdmUgcmVxdWVzdHMgdG8gY2xvc2UgdGhlIEdyb3VwIENoYXQgaW5zdGFuY2UuCiAgICAgKiBAcmV0dXJuIHtEZWxldGVFdmVudH0gVGhlIERlbGV0ZUV2ZW50IGZpcmVkIGJ5IHRoZSBTeW5jaGVyIHdoZW4gdGhlIENoYXQgaXMgY2xvc2VkLgogICAgICovCgogIH0sIHsKICAgIGtleTogJ29uQ2xvc2UnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xvc2UoY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX29uQ2xvc2UgPSBjYWxsYmFjazsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhZGQgLyBpbnZpdGUgbmV3IHVzZXIgb24gYW4gZXhpc3RpbmcgR3JvdXAgQ2hhdCBpbnN0YW5jZS4KICAgICAqIE9ubHkgdGhlIFJlcG9ydGVyLCBpLmUuIHRoZSBIeXBlcnR5IHRoYXQgaGFzIGNyZWF0ZWQgdGhlIEdyb3VwIENoYXQsIGlzIGFsbG93ZWQgdG8gdXNlIHRoaXMgZnVuY3Rpb24uCiAgICAgKiBAcGFyYW0ge1VSTC5Vc2VyVVJMfSAgdXNlcnMgIFVzZXIgdG8gYmUgaW52aXRlZCB0byBqb2luIHRoZSBHcm91cCBDaGF0IHRoYXQgaXMgaWRlbnRpZmllZCB3aXRoIHJlVEhJTksgVXNlciBVUkwuCiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPGJvb2xlYW4+fSAgIEl0IHJldHVybnMgYXMgYSBQcm9taXNlIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IGludml0ZWQgb3IgZmFsc2Ugb3RoZXJ3aXNlLgogICAgICovCgogIH0sIHsKICAgIGtleTogJ2FkZFVzZXInLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFVzZXIodXNlcnMsIGRvbWFpbnMpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEludml0aW5nIHVzZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuJyk7CiAgICAgICAgY29uc29sZS5pbmZvKCdVc2VyczogJywgdXNlcnMsICdcbkRvbWFpbnM6JywgZG9tYWlucyk7CiAgICAgICAgX3RoaXMuc2VhcmNoLnVzZXJzKHVzZXJzLCBkb21haW5zLCBbJ2NvbW0nXSwgWydjaGF0J10pLnRoZW4oZnVuY3Rpb24gKGh5cGVydGllcykgewogICAgICAgICAgdmFyIGh5cGVydGllc0lEcyA9IGh5cGVydGllcy5tYXAoZnVuY3Rpb24gKGh5cGVydHkpIHsKICAgICAgICAgICAgcmV0dXJuIGh5cGVydHkuaHlwZXJ0eUlEOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gX3RoaXMuZGF0YU9iamVjdC5pbnZpdGVPYnNlcnZlcnMoaHlwZXJ0aWVzSURzKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbygnQXJlIGludml0ZWQgd2l0aCBzdWNjZXNzICcgKyB1c2Vycy5sZW5ndGggKyAnIHVzZXJzOycpOwogICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBpbnZpdGUgdXNlcnM7XG4nLCByZWFzb24pOwogICAgICAgICAgcmVqZWN0KGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcmVtb3ZlIGEgdXNlciBmcm9tIGFuIGV4aXN0aW5nIEdyb3VwIENoYXQgaW5zdGFuY2UuCiAgICAgKiBPbmx5IHRoZSBSZXBvcnRlciwgaS5lLiB0aGUgSHlwZXJ0eSB0aGF0IGhhcyBjcmVhdGVkIHRoZSBHcm91cCBDaGF0LCBpcyBhbGxvd2VkIHRvIHVzZSB0aGlzIGZ1bmN0aW9uLgogICAgICogQHJldHVybiB7PFByb21pc2U+IGJvb2xlYW59IFByb21pc2Ugd2l0aCB0aGUgc3RhdHVzCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byByZW1vdmUgYSB1c2VyIGZyb20gYW4gZXhpc3RpbmcgR3JvdXAgQ2hhdCBpbnN0YW5jZS4KICAgICAqIE9ubHkgdGhlIFJlcG9ydGVyLCBpLmUuIHRoZSBIeXBlcnR5IHRoYXQgaGFzIGNyZWF0ZWQgdGhlIEdyb3VwIENoYXQsIGlzIGFsbG93ZWQgdG8gdXNlIHRoaXMgZnVuY3Rpb24uCiAgICAgKiBAcGFyYW0gIHtVUkwuVXNlclVSTH0gdXNlciAgICAgICBVc2VyIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgR3JvdXAgQ2hhdCB0aGF0IGlzIGlkZW50aWZpZWQgd2l0aCByZVRISU5LIFVzZXIgVVJMLgogICAgICogQHJldHVybiB7PFByb21pc2U+IGJvb2xlYW59ICAgICAgSXQgcmV0dXJucyBhcyBhIFByb21pc2UgdHJ1ZSBpZiBzdWNjZXNzZnVsbHkgcmVtb3ZlZCBvciBmYWxzZSBvdGhlcndpc2UuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAncmVtb3ZlVXNlcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlVXNlcih1c2VyKSB7CgogICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgdGhlIHJlbW92ZVVzZXI7CiAgICAgIGNvbnNvbGUubG9nKCdOb3QgeWV0IGltcGxlbWVudGVkOiAnLCB1c2VyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjbG9zZSBhbiBleGlzdGluZyBHcm91cCBDaGF0IGluc3RhbmNlLgogICAgICogT25seSBhdmFpbGFibGUgdG8gQ2hhdCBHcm91cCBSZXBvcnRlcnMgaS5lLiB0aGUgSHlwZXJ0eSBpbnN0YW5jZSB0aGF0IGNyZWF0ZWQgdGhlIEdyb3VwIENoYXQuCiAgICAgKiBAcmV0dXJuIHs8UHJvbWlzZT5Cb29sZWFufSBJdCByZXR1cm5zIGFzIGEgUHJvbWlzZSB0cnVlIGlmIHN1Y2Nlc3NmdWxseSBjbG9zZWQgb3IgZmFsc2Ugb3RoZXJ3aXNlLgogICAgICovCgogIH0sIHsKICAgIGtleTogJ2Nsb3NlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgLy8gVE9ETzogdGhlIGRhdGFPYmplY3RSZXBvcnRlci5kZWxldGUgc2hvdWxkIGJlIGFuIFByb21pc2U7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIF90aGlzLmRhdGFPYmplY3RSZXBvcnRlci5kZWxldGUoKTsKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmVqZWN0KGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ2RhdGFPYmplY3RSZXBvcnRlcicsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChkYXRhT2JqZWN0UmVwb3J0ZXIpIHsKCiAgICAgIGlmICghZGF0YU9iamVjdFJlcG9ydGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBkYXRhIG9iamVjdCByZXBvcnRlciBpcyBuZWNlc3NhcnkgcGFyYW1ldGVyJyk7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkYXRhT2JqZWN0UmVwb3J0ZXIub25TdWJzY3JpcHRpb24oZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgZXZlbnQuYWNjZXB0KCk7CgogICAgICAgIGNvbnNvbGUubG9nKCdOZXcgdXNlciBoYXMgc3Vic2NyaWJlIHRoaXMgb2JqZWN0OiAnLCBldmVudC5pZGVudGl0eSk7CiAgICAgICAgZGF0YU9iamVjdFJlcG9ydGVyLmRhdGEucGFydGljaXBhbnRzLnB1c2goZXZlbnQuaWRlbnRpdHkudXNlclByb2ZpbGUpOwoKICAgICAgICBpZiAoX3RoaXMuX29uVXNlckFkZGVkKSBfdGhpcy5fb25Vc2VyQWRkZWQoZXZlbnQuaWRlbnRpdHkudXNlclByb2ZpbGUpOwogICAgICB9KTsKCiAgICAgIGRhdGFPYmplY3RSZXBvcnRlci5vbkFkZENoaWxkKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgIGNvbnNvbGUuaW5mbygnUmVwb3J0ZXIgLSBBZGQgQ2hpbGQ6ICcsIGNoaWxkKTsKICAgICAgICBkYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YS5sYXN0TW9kaWZpZWQgPSBuZXcgRGF0ZSgpLnRvSlNPTigpOwogICAgICAgIGlmIChfdGhpcy5fb25NZXNzYWdlKSBfdGhpcy5fb25NZXNzYWdlKGNoaWxkKTsKICAgICAgfSk7CgogICAgICBfdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyID0gZGF0YU9iamVjdFJlcG9ydGVyOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdkYXRhT2JqZWN0T2JzZXJ2ZXInLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZGF0YU9iamVjdE9ic2VydmVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5fZGF0YU9iamVjdE9ic2VydmVyID0gZGF0YU9iamVjdE9ic2VydmVyOwoKICAgICAgZGF0YU9iamVjdE9ic2VydmVyLm9uQ2hhbmdlKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgY29uc29sZS5pbmZvKCdPYnNlcnZlciAtIG9uQ2hhbmdlJywgZXZlbnQpOwoKICAgICAgICBpZiAoZXZlbnQuZmllbGQuaW5jbHVkZXMoJ3BhcnRpY2lwYW50cycpKSB7CiAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmNUeXBlKSB7CiAgICAgICAgICAgIGNhc2UgJ2FkZCc6CiAgICAgICAgICAgICAgaWYgKF90aGlzLl9vblVzZXJBZGRlZCkgX3RoaXMuX29uVXNlckFkZGVkKGV2ZW50KTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ3JlbW92ZSc6CiAgICAgICAgICAgICAgaWYgKF90aGlzLl9vblVzZXJSZW1vdmVkKSBfdGhpcy5fb25Vc2VyUmVtb3ZlZChldmVudCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMuX29uQ2hhbmdlKSBfdGhpcy5fb25DaGFuZ2UoZXZlbnQpOwogICAgICB9KTsKCiAgICAgIGRhdGFPYmplY3RPYnNlcnZlci5vbkFkZENoaWxkKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgIGNvbnNvbGUuaW5mbygnT2JzZXJ2ZXIgLSBBZGQgQ2hpbGQ6ICcsIGNoaWxkKTsKICAgICAgICBpZiAoX3RoaXMuX29uTWVzc2FnZSkgX3RoaXMuX29uTWVzc2FnZShjaGlsZCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX2RhdGFPYmplY3RPYnNlcnZlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdkYXRhT2JqZWN0JywKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlciA/IF90aGlzLmRhdGFPYmplY3RSZXBvcnRlciA6IF90aGlzLmRhdGFPYmplY3RPYnNlcnZlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjbG9zZUV2ZW50JywKICAgIHNldDogZnVuY3Rpb24gc2V0KGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9jbG9zZUV2ZW50ID0gZXZlbnQ7CgogICAgICBpZiAoX3RoaXMuX29uQ2xvc2UpIF90aGlzLl9vbkNsb3NlKGV2ZW50KTsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF90aGlzLl9jbG9zZUV2ZW50OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENoYXRDb250cm9sbGVyOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBDaGF0Q29udHJvbGxlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7IC8qKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqLwoKLy8gU2VydmljZSBGcmFtZXdvcmsKCgovLyBVdGlscwoKCi8vIEludGVybmFscwoKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlcicpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRlbnRpdHlNYW5hZ2VyKTsKCnZhciBfRGlzY292ZXJ5ID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9EaXNjb3ZlcnknKTsKCnZhciBfRGlzY292ZXJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc2NvdmVyeSk7Cgp2YXIgX1N5bmNoZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKdmFyIF9TZWFyY2ggPSByZXF1aXJlKCcuLi91dGlscy9TZWFyY2gnKTsKCnZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7Cgp2YXIgX2NvbW11bmljYXRpb24gPSByZXF1aXJlKCcuL2NvbW11bmljYXRpb24nKTsKCnZhciBfQ2hhdENvbnRyb2xsZXIgPSByZXF1aXJlKCcuL0NoYXRDb250cm9sbGVyJyk7Cgp2YXIgX0NoYXRDb250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoYXRDb250cm9sbGVyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgoqIEh5cGVydHkgR3JvdXAgQ2hhdCBNYW5hZ2VyIEFQSSAoSHlwZXJ0eUNoYXQpCiogQGF1dGhvciBWaXRvciBTaWx2YSBbdml0b3ItdC1zaWx2YUB0ZWxlY29tLnB0XQoqIEB2ZXJzaW9uIDAuMS4wCiovCnZhciBHcm91cENoYXRNYW5hZ2VyID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEdyb3VwQ2hhdE1hbmFnZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JvdXBDaGF0TWFuYWdlcik7CgogICAgaWYgKCFoeXBlcnR5VVJMKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHRocm93IG5ldyBFcnJvcignVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTsKCiAgICB2YXIgZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjsKICAgIHZhciBkaXNjb3ZlcnkgPSBuZXcgX0Rpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLCBidXMpOwogICAgdmFyIGlkZW50aXR5TWFuYWdlciA9IG5ldyBfSWRlbnRpdHlNYW5hZ2VyMi5kZWZhdWx0KGh5cGVydHlVUkwsIGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCwgYnVzKTsKCiAgICBfdGhpcy5fb2JqZWN0RGVzY1VSTCA9ICdoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4nICsgZG9tYWluICsgJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0NvbW11bmljYXRpb24nOwoKICAgIF90aGlzLl9oeXBlcnR5VVJMID0gaHlwZXJ0eVVSTDsKICAgIF90aGlzLl9zeW5jaGVyID0gc3luY2hlcjsKICAgIF90aGlzLl9kb21haW4gPSBkb21haW47CgogICAgX3RoaXMuZGlzY292ZXJ5ID0gZGlzY292ZXJ5OwogICAgX3RoaXMuaWRlbnRpdHlNYW5hZ2VyID0gaWRlbnRpdHlNYW5hZ2VyOwoKICAgIF90aGlzLnNlYXJjaCA9IG5ldyBfU2VhcmNoMi5kZWZhdWx0KGRpc2NvdmVyeSwgaWRlbnRpdHlNYW5hZ2VyKTsKCiAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0ID0gX2NvbW11bmljYXRpb24uY29tbXVuaWNhdGlvbk9iamVjdDsKCiAgICBjb25zb2xlLmxvZygnRGlzY292ZXI6ICcsIGRpc2NvdmVyeSk7CiAgICBjb25zb2xlLmxvZygnSWRlbnRpdHkgTWFuYWdlcjogJywgaWRlbnRpdHlNYW5hZ2VyKTsKCiAgICBzeW5jaGVyLm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uIChldmVudCkgewoKICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjcmVhdGUnKSB7CgogICAgICAgIC8vIFRPRE86IHJlcGxhY2UgdGhlIDEwMCBmb3IgTWVzc2FnZS5SZXNwb25zZQogICAgICAgIGV2ZW50LmFjaygxMDApOwoKICAgICAgICBpZiAoX3RoaXMuX29uSW52aXRhdGlvbikgewogICAgICAgICAgX3RoaXMuX29uSW52aXRhdGlvbihldmVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2RlbGV0ZScpIHsKICAgICAgICAvLyBUT0RPOiByZXBsYWNlIHRoZSAyMDAgZm9yIE1lc3NhZ2UuUmVzcG9uc2UKICAgICAgICBldmVudC5hY2soMjAwKTsKCiAgICAgICAgLy9SZXNldCBhbGwgdGhlIHBhcmFtZXRlcnMKICAgICAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0Lm93bmVyID0gJyc7CiAgICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdC5uYW1lID0gJyc7CiAgICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdC5pZCA9ICcnOwogICAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3Quc3RhdHVzID0gJyc7CiAgICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdC5zdGFydGluZ1RpbWUgPSAnJzsKICAgICAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0Lmxhc3RNb2RpZmllZCA9ICcnOwogICAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3QucGFydGljaXBhbnRzID0gW107CiAgICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdC5yZXNvdXJjZXMgPSBbJ2NoYXQnXTsKICAgICAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0LmNoaWxkcmVuID0gW107CgogICAgICAgIGlmIChfdGhpcy5jaGF0Q29udHJvbGxlcikgewogICAgICAgICAgX3RoaXMuY2hhdENvbnRyb2xsZXIuY2xvc2VFdmVudChldmVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9CgogIC8qKgogICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgYSBuZXcgR3JvdXAgQ2hhdCBwcm92aWRpbmcgdGhlIG5hbWUgYW5kIHRoZSBpZGVudGlmaWVycyBvZiB1c2VycyB0byBiZSBpbnZpdGVkLgogICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgICBuYW1lICBJcyBhIHN0cmluZyB0byBpZGVudGlmeSB0aGUgR3JvdXAgQ2hhdAogICAqIEBwYXJhbSAge2FycmF5PFVSTC51c2VyVVJMPn0gICAgICAgICB1c2VycyBBcnJheSBvZiB1c2VycyB0byBiZSBpbnZpdGVkIHRvIGpvaW4gdGhlIEdyb3VwIENoYXQuIFVzZXJzIGFyZSBpZGVudGlmaWVkIHdpdGggcmVUSElOSyBVc2VyIFVSTCwgbGlrZSB0aGlzIGZvcm1hdCB1c2VyOi8vPGlwZGRvbWFpbj4vPHVzZXItaWRlbnRpZmllcj4KICAgKiBAcmV0dXJuIHs8UHJvbWlzZT5DaGF0Q29udHJvbGxlcn0gICAgQSBDaGF0Q29udHJvbGxlciBvYmplY3QgYXMgYSBQcm9taXNlLgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEdyb3VwQ2hhdE1hbmFnZXIsIFt7CiAgICBrZXk6ICdjcmVhdGUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShuYW1lLCB1c2VycywgZG9tYWlucykgewoKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHN5bmNoZXIgPSBfdGhpcy5fc3luY2hlcjsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIC8vIENyZWF0ZSBvd25lciBwYXJ0aWNpcGFudAogICAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3Qub3duZXIgPSBfdGhpcy5faHlwZXJ0eVVSTDsKICAgICAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0Lm5hbWUgPSBuYW1lOwogICAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3QuaWQgPSBuYW1lOwogICAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3QucmVzb3VyY2VzID0gWydjaGF0J107CiAgICAgICAgX3RoaXMuY29tbXVuaWNhdGlvbk9iamVjdC5jaGlsZHJlbiA9IFtdOwogICAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3Quc3RhdHVzID0gX2NvbW11bmljYXRpb24uQ29tbXVuaWNhdGlvblN0YXR1cy5PUEVOOwogICAgICAgIF90aGlzLmNvbW11bmljYXRpb25PYmplY3Quc3RhcnRpbmdUaW1lID0gbmV3IERhdGUoKS50b0pTT04oKTsKICAgICAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0Lmxhc3RNb2RpZmllZCA9IF90aGlzLmNvbW11bmljYXRpb25PYmplY3Quc3RhcnRpbmdUaW1lOwoKICAgICAgICBfdGhpcy5zZWFyY2gubXlJZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24gKGlkZW50aXR5KSB7CgogICAgICAgICAgLy8gQWRkIG15IGlkZW50aXR5CiAgICAgICAgICBfdGhpcy5jb21tdW5pY2F0aW9uT2JqZWN0LnBhcnRpY2lwYW50cy5wdXNoKGlkZW50aXR5KTsKCiAgICAgICAgICBjb25zb2xlLmluZm8oJ3NlYXJjaGluZyAnICsgdXNlcnMgKyAnIGF0IGRvbWFpbiAnICsgZG9tYWlucyk7CgogICAgICAgICAgcmV0dXJuIF90aGlzLnNlYXJjaC51c2Vycyh1c2VycywgZG9tYWlucywgWydjb21tJ10sIFsnY2hhdCddKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChoeXBlcnRpZXNJRHMpIHsKCiAgICAgICAgICB2YXIgc2VsZWN0ZWRIeXBlcnRpZXMgPSBoeXBlcnRpZXNJRHMuZmlsdGVyKGZ1bmN0aW9uIChoeXBlcnR5KSB7CiAgICAgICAgICAgIHJldHVybiBoeXBlcnR5Lmhhc093blByb3BlcnR5KCdoeXBlcnR5SUQnKTsKICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaHlwZXJ0eSkgewogICAgICAgICAgICByZXR1cm4gaHlwZXJ0eS5oeXBlcnR5SUQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTeW5jaGVyIENyZWF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuJyk7CiAgICAgICAgICBjb25zb2xlLmluZm8oJ1NlbGVjdGVkIEh5cGVydGllczogJywgc2VsZWN0ZWRIeXBlcnRpZXMpOwogICAgICAgICAgY29uc29sZS5pbmZvKCdIYXZlICcgKyBzZWxlY3RlZEh5cGVydGllcy5sZW5ndGggKyAnIHVzZXJzOycpOwoKICAgICAgICAgIHJldHVybiBzeW5jaGVyLmNyZWF0ZShfdGhpcy5fb2JqZWN0RGVzY1VSTCwgc2VsZWN0ZWRIeXBlcnRpZXMsIF90aGlzLmNvbW11bmljYXRpb25PYmplY3QpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjonLCByZWFzb24pOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3RSZXBvcnRlcikgewogICAgICAgICAgY29uc29sZS5pbmZvKCczLiBSZXR1cm4gQ3JlYXRlIERhdGEgT2JqZWN0IFJlcG9ydGVyJywgZGF0YU9iamVjdFJlcG9ydGVyKTsKCiAgICAgICAgICB2YXIgY2hhdENvbnRyb2xsZXIgPSBuZXcgX0NoYXRDb250cm9sbGVyMi5kZWZhdWx0KHN5bmNoZXIsIF90aGlzLmRpc2NvdmVyeSwgX3RoaXMuX2RvbWFpbiwgX3RoaXMuc2VhcmNoKTsKICAgICAgICAgIGNoYXRDb250cm9sbGVyLmRhdGFPYmplY3RSZXBvcnRlciA9IGRhdGFPYmplY3RSZXBvcnRlcjsKICAgICAgICAgIF90aGlzLmNoYXRDb250cm9sbGVyID0gY2hhdENvbnRyb2xsZXI7CiAgICAgICAgICByZXNvbHZlKGNoYXRDb250cm9sbGVyKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gaGFuZGxlIG5vdGlmaWNhdGlvbnMgYWJvdXQgaW5jb21pbmcgaW52aXRhdGlvbnMgdG8gam9pbiBhIEdyb3VwIENoYXQuCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gQ3JlYXRlRXZlbnQgVGhlIENyZWF0ZUV2ZW50IGZpcmVkIGJ5IHRoZSBTeW5jaGVyIHdoZW4gYW4gaW52aXRhaW9uIGlzIHJlY2VpdmVkCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnb25JbnZpdGF0aW9uJywKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkludml0YXRpb24oY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMuX29uSW52aXRhdGlvbiA9IGNhbGxiYWNrOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGpvaW4gYSBHcm91cCBDaGF0LgogICAgICogQHBhcmFtICB7VVJMLkNvbW11bmljYXRpb25VUkx9IGludml0YXRpb25VUkwgIFRoZSBDb21tdW5pY2F0aW9uIFVSTCBvZiB0aGUgR3JvdXAgQ2hhdCB0byBqb2luIHRoYXQgaXMgcHJvdmlkZWQgaW4gdGhlIGludml0YXRpb24gZXZlbnQKICAgICAqIEByZXR1cm4gezxQcm9taXNlPkNoYXRDb250cm9sbGVyfSAgICAgICAgICAgICBJdCByZXR1cm5zIHRoZSBDaGF0Q29udHJvbGxlciBvYmplY3QgYXMgYSBQcm9taXNlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnam9pbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbihpbnZpdGF0aW9uVVJMKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBzeW5jaGVyID0gX3RoaXMuX3N5bmNoZXI7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTeW5jaGVyIHN1YnNjcmliZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuJyk7CiAgICAgICAgY29uc29sZS5pbmZvKGludml0YXRpb25VUkwpOwoKICAgICAgICBzeW5jaGVyLnN1YnNjcmliZShfdGhpcy5fb2JqZWN0RGVzY1VSTCwgaW52aXRhdGlvblVSTCkudGhlbihmdW5jdGlvbiAoZGF0YU9iamVjdE9ic2VydmVyKSB7CiAgICAgICAgICBjb25zb2xlLmluZm8oJ0RhdGEgT2JqZWN0IE9ic2VydmVyOiAnLCBkYXRhT2JqZWN0T2JzZXJ2ZXIpOwogICAgICAgICAgdmFyIGNoYXRDb250cm9sbGVyID0gbmV3IF9DaGF0Q29udHJvbGxlcjIuZGVmYXVsdChzeW5jaGVyLCBfdGhpcy5kaXNjb3ZlcnksIF90aGlzLl9kb21haW4sIF90aGlzLnNlYXJjaCk7CiAgICAgICAgICByZXNvbHZlKGNoYXRDb250cm9sbGVyKTsKCiAgICAgICAgICBjaGF0Q29udHJvbGxlci5kYXRhT2JqZWN0T2JzZXJ2ZXIgPSBkYXRhT2JqZWN0T2JzZXJ2ZXI7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEdyb3VwQ2hhdE1hbmFnZXI7Cn0oKTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewoKICByZXR1cm4gewogICAgbmFtZTogJ0dyb3VwQ2hhdE1hbmFnZXInLAogICAgaW5zdGFuY2U6IG5ldyBHcm91cENoYXRNYW5hZ2VyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikKICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL1NlYXJjaCI6NywiLi4vdXRpbHMvdXRpbHMiOjgsIi4vQ2hhdENvbnRyb2xsZXIiOjQsIi4vY29tbXVuaWNhdGlvbiI6Niwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9EaXNjb3ZlcnkiOjEsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyIjoyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjN9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCnZhciBDb21tdW5pY2F0aW9uU3RhdHVzID0gZXhwb3J0cy5Db21tdW5pY2F0aW9uU3RhdHVzID0gewogIE9QRU46ICdvcGVuJywKICBQRU5ESU5HOiAncGVuZGluZycsCiAgQ0xPU0VEOiAnY2xvc2VkJywKICBQQVVTRUQ6ICdwYXVzZWQnLAogIEZBSUxFRDogJ2ZhaWxlZCcKfTsKCnZhciBjb21tdW5pY2F0aW9uT2JqZWN0ID0gZXhwb3J0cy5jb21tdW5pY2F0aW9uT2JqZWN0ID0gewogIGlkOiAnJywKICBuYW1lOiAnJywKICBvd25lcjogJycsCiAgc2NoZW1lOiAnY29tbScsCiAgc3RhcnRpbmdUaW1lOiAnJywKICBsYXN0TW9kaWZpZWQ6ICcnLAogIGR1cmF0aW9uOiAnJywKICBzdGF0dXM6ICcnLAogIHBhcnRpY2lwYW50czogW10KfTsKCn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIFNlYXJjaCA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTZWFyY2goZGlzY292ZXJ5LCBpZGVudGl0eU1hbmFnZXIpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWFyY2gpOwoKICAgIGlmICghZGlzY292ZXJ5KSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBkaXNjb3ZlcnkgY29tcG9uZW50IGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFpZGVudGl0eU1hbmFnZXIpIHRocm93IG5ldyBFcnJvcignVGhlIGlkZW50aXR5TWFuYWdlciBjb21wb25lbnQgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfdGhpcy5kaXNjb3ZlcnkgPSBkaXNjb3Zlcnk7CiAgICBfdGhpcy5pZGVudGl0eU1hbmFnZXIgPSBpZGVudGl0eU1hbmFnZXI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU2VhcmNoLCBbewogICAga2V5OiAnbXlJZGVudGl0eScsCiAgICB2YWx1ZTogZnVuY3Rpb24gbXlJZGVudGl0eSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIF90aGlzLmlkZW50aXR5TWFuYWdlci5kaXNjb3ZlclVzZXJSZWdpc3RlcmVkKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogTGlzdCBvZiB1c2Vyc1VSTCB0byBzZWFyY2gKICAgICAqIEBwYXJhbSAge2FycmF5PFVSTC51c2VyVVJMPn0gIHVzZXJzIExpc3Qgb2YgVXNlclVSLCBsaWtlIHRoaXMgZm9ybWF0IHVzZXI6Ly88aXBkZG9tYWluPi88dXNlci1pZGVudGlmaWVyPgogICAgICogQHJldHVybiB7UHJvbWlzZX0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICd1c2VycycsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlcnModXNlcnNVUkxzLCBwcm92aWRlZERvbWFpbnMsIHNjaGVtZXMsIHJlc291cmNlcykgewoKICAgICAgaWYgKCF1c2Vyc1VSTHMpIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGxpc3Qgb2YgdXNlcnMnKTsKICAgICAgaWYgKCFwcm92aWRlZERvbWFpbnMpIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGxpc3Qgb2YgZG9tYWlucycpOwogICAgICBpZiAoIXJlc291cmNlcykgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZiByZXNvdXJjZXMnKTsKICAgICAgaWYgKCFzY2hlbWVzKSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBuZWVkIHRvIHByb3ZpZGUgYSBsaXN0IG9mIHNjaGVtZXMnKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKCiAgICAgICAgY29uc29sZS5sb2coJ1VzZXJzOiAnLCB1c2Vyc1VSTHMsIHVzZXJzVVJMcy5sZW5ndGgpOwogICAgICAgIGNvbnNvbGUubG9nKCdEb21haW5zOiAnLCBwcm92aWRlZERvbWFpbnMsIHByb3ZpZGVkRG9tYWlucy5sZW5ndGgpOwoKICAgICAgICBpZiAodXNlcnNVUkxzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgY29uc29sZS5pbmZvKCdEb25cJ3QgaGF2ZSB1c2VycyB0byBkaXNjb3ZlcnknKTsKICAgICAgICAgIHJlc29sdmUodXNlcnNVUkxzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGdldFVzZXJzID0gW107CgogICAgICAgICAgICB1c2Vyc1VSTHMuZm9yRWFjaChmdW5jdGlvbiAodXNlclVSTCwgaW5kZXgpIHsKICAgICAgICAgICAgICB2YXIgY3VycmVudERvbWFpbiA9IHByb3ZpZGVkRG9tYWluc1tpbmRleF07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlYXJjaCB1c2VyICcgKyB1c2VyVVJMICsgJyBmb3IgcHJvdmlkZWQgZG9tYWluOicsIGN1cnJlbnREb21haW4pOwogICAgICAgICAgICAgIGdldFVzZXJzLnB1c2goX3RoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eSh1c2VyVVJMLCBzY2hlbWVzLCByZXNvdXJjZXMsIGN1cnJlbnREb21haW4pKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zb2xlLmluZm8oJ1JlcXVlc3RzIHByb21pc2VzOiAnLCBnZXRVc2Vycyk7CgogICAgICAgICAgICBQcm9taXNlLmFsbChnZXRVc2VycykudGhlbihmdW5jdGlvbiAoaHlwZXJ0aWVzKSB7CgogICAgICAgICAgICAgIHZhciByZXN1bHQgPSBoeXBlcnRpZXMubWFwKGZ1bmN0aW9uIChoeXBlcnR5KSB7CgogICAgICAgICAgICAgICAgdmFyIHJlY2VudCA9IE9iamVjdC5rZXlzKGh5cGVydHkpLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICAgIHZhciBoeXBlcnR5RGF0ZSA9IG5ldyBEYXRlKGh5cGVydHlbYl0ubGFzdE1vZGlmaWVkKTsKICAgICAgICAgICAgICAgICAgdmFyIGh5cGVydHlEYXRlUCA9IG5ldyBEYXRlKGh5cGVydHlbYV0ubGFzdE1vZGlmaWVkKTsKICAgICAgICAgICAgICAgICAgaWYgKGh5cGVydHlEYXRlUC5nZXRUaW1lKCkgPCBoeXBlcnR5RGF0ZS5nZXRUaW1lKCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICByZXR1cm4gYTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGh5cGVydHlbcmVjZW50XTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgdmFyIGNsZWFuID0gcmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoaHlwZXJ0eSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGh5cGVydHk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnUmVxdWVzdHMgcmVzdWx0OiAnLCBjbGVhbik7CiAgICAgICAgICAgICAgcmVzb2x2ZShjbGVhbik7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlYXNvbik7CiAgICAgICAgICAgICAgcmVzb2x2ZSh1c2Vyc1VSTHMpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTZWFyY2g7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IFNlYXJjaDsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRpdmlkZVVSTCA9IGRpdmlkZVVSTDsKZXhwb3J0cy5kZWVwQ2xvbmUgPSBkZWVwQ2xvbmU7CmV4cG9ydHMuZ2V0VXNlck1lZGlhID0gZ2V0VXNlck1lZGlhOwovKioKICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqKi8KCi8vIGpzaGludCBicm93c2VyOnRydWUsIGpxdWVyeTogdHJ1ZQovLyBqc2hpbnQgdmFyc3RtdDogdHJ1ZQovKiBnbG9iYWwgSGFuZGxlYmFycyAqLwoKLyoqCiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWwKICogQG1vZHVsZSB1dGlscwogKi8KCi8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLwoKLyoqCiAqIERpdmlkZSBhbiB1cmwgaW4gdHlwZSwgZG9tYWluIGFuZCBpZGVudGl0eQogKiBAcGFyYW0gIHtVUkwuVVJMfSB1cmwgLSB1cmwgYWRkcmVzcwogKiBAcmV0dXJuIHtkaXZpZGVVUkx9IHRoZSByZXN1bHQgb2YgZGl2aWRlVVJMCiAqLwpmdW5jdGlvbiBkaXZpZGVVUkwodXJsKSB7CgogIC8vIGxldCByZSA9IC8oW2EtekEtWi1dKik/OlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIpKihcL1tcL1xkXHdcLi1dKikqKD86W1w/XSkqKC4rKSovZ2k7CiAgdmFyIHJlID0gLyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2k7CiAgdmFyIHN1YnN0ID0gJyQxLCQyLCQzJzsKICB2YXIgcGFydHMgPSB1cmwucmVwbGFjZShyZSwgc3Vic3QpLnNwbGl0KCcsJyk7CgogIC8vIElmIHRoZSB1cmwgaGFzIG5vIHByb3RvY29sLCB0aGUgZGVmYXVsdCBwcm90b2NvbCBzZXQgaXMgaHR0cHMKICBpZiAocGFydHNbMF0gPT09IHVybCkgewogICAgcGFydHNbMF0gPSAnaHR0cHMnOwogICAgcGFydHNbMV0gPSB1cmw7CiAgfQoKICB2YXIgcmVzdWx0ID0gewogICAgdHlwZTogcGFydHNbMF0sCiAgICBkb21haW46IHBhcnRzWzFdLAogICAgaWRlbnRpdHk6IHBhcnRzWzJdCiAgfTsKCiAgcmV0dXJuIHJlc3VsdDsKfQoKLyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi8KZnVuY3Rpb24gZGVlcENsb25lKG9iaikgewogIC8vVE9ETzogc2ltcGxlIGJ1dCBpbmVmZmljaWVudCBKU09OIGRlZXAgY2xvbmUuLi4KICBpZiAob2JqKSByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTsKfQoKLyoqCiAqIEdldCBXZWJSVEMgQVBJIHJlc291cmNlcwogKiBAcGFyYW0gIHtvYmplY3R9ICAgICBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlc291cmNlcyB3aWxsIGJlIHVzZWQgKGNhbWVyYSwgbWljLCByZXNvbHV0aW9uLCBldGMpOwogKiBAcmV0dXJuIHtQcm9taXNlfQogKi8KZnVuY3Rpb24gZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKSB7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKG1lZGlhU3RyZWFtKSB7CiAgICAgIHJlc29sdmUobWVkaWFTdHJlYW0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICByZWplY3QocmVhc29uKTsKICAgIH0pOwogIH0pOwp9Cgp9LHt9XX0se30sWzVdKSg1KQp9KTs=",
      "sourceCodeClassname": "GroupChatManager",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10003,
    "version": "0.1",
    "description": "Description of GroupChatManager",
    "language": "javascript",
    "hypertyType": [
      "chat"
    ],
    "objectName": "GroupChatManager",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "dataObjects": [
      "https://catalogue.hybroker.rethink.ptinovacao.pt/.well-known/dataschema/Communication"
    ]
  },
  "RoomServer": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOCBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1uKHQpLHU9byhhLmxlbmd0aCksZj1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1PmY7KWlmKGM9YVtmKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+ZjtmKyspaWYoKGV8fGYgaW4gYSkmJmFbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGYsbCxfPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyx2PWUmYS5QLHk9ZSZhLkIsYj1lJmEuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksbT1oW2NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW2NdO2QmJihyPXQpO2Zvcih1IGluIHIpZj0hXyYmZyYmdm9pZCAwIT09Z1t1XSxmJiZ1IGluIGh8fChsPWY/Z1t1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbdV0/clt1XTp5JiZmP2kobCxuKTpiJiZnW3VdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0obCk6diYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsdiYmKChoLnZpcnR1YWx8fChoLnZpcnR1YWw9e30pKVt1XT1sLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsbCkpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixsLF8pe3ZhciBkLHAsdix5LGI9Xz9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLGg9bihyLGwsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IoZD1jKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9oKHMocD1lW21dKVswXSxwWzFdKTpoKGVbbV0pLHk9PT11fHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWIuY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGgscC52YWx1ZSx0KSx5PT09dXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9dSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vX29iamVjdC1ncG8iKSxfPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixoLG0sZyxqKXt1KHIsdCxoKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFU9ITEsUz1lLnByb3RvdHlwZSxFPVNbX118fFNbcF18fG0mJlNbbV0sUj1FfHxPKG0pLEw9bT9QP08oImVudHJpZXMiKTpSOnZvaWQgMCxUPSJBcnJheSI9PXQ/Uy5lbnRyaWVzfHxFOkU7aWYoVCYmKGs9bChULmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxjKGssXyl8fHMoayxfLGIpKSksUCYmRSYmRS5uYW1lIT09eSYmKFU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFVJiZTW19dfHxzKFMsXyxSKSxhW3RdPVIsYVtNXT1iLG0paWYoeD17dmFsdWVzOlA/UjpPKHkpLGtleXM6Zz9SOk8odiksZW50cmllczpMfSxqKWZvcih3IGluIHgpdyBpbiBTfHxpKFMsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8VSksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYz1uLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IoYSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLGw9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUobCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtsLmRhdGE9Zj0hZn19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBfPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtfLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLHUpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSx1PXQuRjtuLS07KWRlbGV0ZSB1W2FdW2lbbl1dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1uKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOyluLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG8oIW4uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSkscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYz1vKGUpLGE9MCx1PVtdO2ZvcihyIGluIGMpciE9cyYmbihjLHIpJiZ1LnB1c2gocik7Zm9yKDt0Lmxlbmd0aD5hOyluKGMscj10W2ErK10pJiYofmkodSxyKXx8dS5wdXNoKHIpKTtyZXR1cm4gdX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oaWRlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdClyJiZlW29dP2Vbb109dFtvXTpuKGUsbyx0W29dKTtyZXR1cm4gZX19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbil7dHJ5e249ZSgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCxlKCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLHI/ZS5fX3Byb3RvX189dDpuKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fb2JqZWN0LWRwIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGM9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2NdJiZpLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLmYsbz1lKCIuL19oYXMiKSxpPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgia2V5cyIpLG89ZSgiLi9fdWlkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19hLWZ1bmN0aW9uIiksaT1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIGE8MHx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksaTw1NTI5Nnx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fY3R4IiksYz1lKCIuL19pbnZva2UiKSxhPWUoIi4vX2h0bWwiKSx1PWUoIi4vX2RvbS1jcmVhdGUiKSxmPWUoIi4vX2dsb2JhbCIpLGw9Zi5wcm9jZXNzLF89Zi5zZXRJbW1lZGlhdGUsZD1mLmNsZWFySW1tZWRpYXRlLHA9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGg9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7aC5jYWxsKGUuZGF0YSl9O18mJmR8fChfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0sZD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuL19jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhoLGUsMSkpfTpwPyhvPW5ldyBwLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLGguY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhoLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpfLGNsZWFyOmR9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9vKGUrdCwwKTppKGUsdCl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pb2JqZWN0Iiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgid2tzIiksbz1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jbGFzc29mIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TK24uRiohZSgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6ZSgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8tb2JqZWN0Iiksbz1lKCIuL19vYmplY3Qta2V5cyIpO2UoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbihlLHQscil7fSx7fV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxmPWUoIi4vX2V4cG9ydCIpLGw9ZSgiLi9faXMtb2JqZWN0IiksXz0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxkPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSx2PShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx5PWUoIi4vX3Rhc2siKS5zZXQsYj1lKCIuL19taWNyb3Rhc2siKSgpLGg9IlByb21pc2UiLG09Yy5UeXBlRXJyb3IsZz1jLnByb2Nlc3Msaj1jW2hdLGc9Yy5wcm9jZXNzLHg9InByb2Nlc3MiPT11KGcpLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1qLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZSh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1qJiZ0PT09aX0sTT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFsKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTyhqLGUpP25ldyBVKGUpOm5ldyBvKGUpfSxVPW89ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1fKHQpLHRoaXMucmVqZWN0PV8ocil9LFM9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8ob3x8KDI9PWUuX2gmJlQoZSksZS5faD0xKSxzPT09ITA/cj1uOih1JiZ1LmVudGVyKCkscj1zKG4pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobil9Y2F0Y2goZil7YShmKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJlIoZSl9KX19LFI9ZnVuY3Rpb24oZSl7eS5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG4sbz1lLl92O2lmKEwoZSkmJih0PVMoZnVuY3Rpb24oKXt4P2cuZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246b30pOihuPWMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSxlLl9oPXh8fEwoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sTD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbj0wO3IubGVuZ3RoPm47KWlmKHQ9cltuKytdLHQuZmFpbHx8IUwodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sVD1mdW5jdGlvbihlKXt5LmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3g/Zy5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9TShlKSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShDLG4sMSksYShBLG4sMSkpfWNhdGNoKG8pe0EuY2FsbChuLG8pfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGo9ZnVuY3Rpb24oZSl7ZCh0aGlzLGosaCwiX2giKSxfKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShhKEMsdGhpcywxKSxhKEEsdGhpcywxKSl9Y2F0Y2godCl7QS5jYWxsKHRoaXMsdCl9fSxuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGoucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9UCh2KHRoaXMsaikpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJkUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShDLGUsMSksdGhpcy5yZWplY3Q9YShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosaCksZSgiLi9fc2V0LXNwZWNpZXMiKShoKSxpPWUoIi4vX2NvcmUiKVtoXSxmKGYuUytmLkYqIWssaCx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhayksaCx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksaCx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1TKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG4ocikpfSxvKX0pLC0tc3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSxhPTA7YTw1O2ErKyl7dmFyIHU9Y1thXSxmPW5bdV0sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFtzXSYmbyhsLHMsdSksaVt1XT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiRGF0YU9iamVjdCBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bj9uOm8uZG9tYWluO3ZhciBjPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MrIi8iLGJvZHk6e3Jlc291cmNlOmUsY3JpdGVyaWE6e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnR9fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwLGM9KDAsZi5jb252ZXJ0VG9Vc2VyVVJMKShlKTtzPW4/bjpvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzKyIvIixib2R5OntyZXNvdXJjZTpjLGNyaXRlcmlhOntyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7by5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciBhPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTxhLmdldFRpbWUoKSYmKGk9YSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgdT1zO2lmKHZvaWQgMD09PXUpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbdV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOnV9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19LHtrZXk6ImRlbGV0ZUh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89dm9pZCAwO289cj9yOm4uZG9tYWluO3ZhciBzPXt0eXBlOiJkZWxldGUiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbysiLyIsYm9keTp7dmFsdWU6e3VzZXI6ZSx1cmw6dH19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlO24/ZSgiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOnQoIkVycm9yIG9uIGRlbGV0aW5nIGh5cGVydHkiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxfWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksXz1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1uKGQpO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs4MF0pKDgwKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5JZGVudGl0eU1hbmFnZXI9dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChlLHIsbil7ZnVuY3Rpb24gbyhjLHMpe2lmKCFyW2NdKXtpZighZVtjXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXMmJnUpcmV0dXJuIHUoYywhMCk7aWYoaSlyZXR1cm4gaShjLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitjKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbY109e2V4cG9ydHM6e319O2VbY11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVtjXVsxXVt0XTtyZXR1cm4gbyhyP3I6dCl9LGYsZi5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW2NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGM9MDtjPG4ubGVuZ3RoO2MrKylvKG5bY10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dCgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24odCxlLHIpe3QoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj10KCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkodCxlLHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbih0LGUscil7dCgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSxlLmV4cG9ydHM9dCgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24odCxlLHIpe3QoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0KCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSx0KCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0KCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksZS5leHBvcnRzPXQoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiB0fX0se31dLDEyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx2b2lkIDAhPT1uJiZuIGluIHQpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIHR9fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pcy1vYmplY3QiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIW4odCkpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiB0fX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pb2JqZWN0Iiksbz10KCIuL190by1sZW5ndGgiKSxpPXQoIi4vX3RvLWluZGV4Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsYyl7dmFyIHMsdT1uKGUpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYodCYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKHR8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2NvZiIpLG89dCgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gocil7fX07ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLHIscztyZXR1cm4gdm9pZCAwPT09dD8iVW5kZWZpbmVkIjpudWxsPT09dD8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWMoZT1PYmplY3QodCksbykpP3I6aT9uKGUpOiJPYmplY3QiPT0ocz1uKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbih0LGUscil7dmFyIG49ZS5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hLWZ1bmN0aW9uIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtpZihuKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHQuY2FsbChlLHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQuY2FsbChlLHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiB0LmNhbGwoZSxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrdCk7cmV0dXJuIHR9fSx7fV0sMjE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9IXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iiksbz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19jb3JlIiksaT10KCIuL19jdHgiKSxjPXQoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24odCxlLHIpe3ZhciBhLGYsXyxsPXQmdS5GLHA9dCZ1LkcsZD10JnUuUyxoPXQmdS5QLHY9dCZ1LkIsYj10JnUuVyx5PXA/bzpvW2VdfHwob1tlXT17fSksbT15W3NdLGo9cD9uOmQ/bltlXToobltlXXx8e30pW3NdO3AmJihyPWUpO2ZvcihhIGluIHIpZj0hbCYmaiYmdm9pZCAwIT09althXSxmJiZhIGluIHl8fChfPWY/althXTpyW2FdLHlbYV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbYV0/clthXTp2JiZmP2koXyxuKTpiJiZqW2FdPT1fP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUscixuKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUscil9cmV0dXJuIG5ldyB0KGUscixuKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW3NdPXRbc10sZX0oXyk6aCYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8saCYmKCh5LnZpcnR1YWx8fCh5LnZpcnR1YWw9e30pKVthXT1fLHQmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCxlLmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY3R4Iiksbz10KCIuL19pdGVyLWNhbGwiKSxpPXQoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPXQoIi4vX2FuLW9iamVjdCIpLHM9dCgiLi9fdG8tbGVuZ3RoIiksdT10KCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPWUuZXhwb3J0cz1mdW5jdGlvbih0LGUscixfLGwpe3ZhciBwLGQsaCx2LGI9bD9mdW5jdGlvbigpe3JldHVybiB0fTp1KHQpLHk9bihyLF8sZT8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IocD1zKHQubGVuZ3RoKTtwPm07bSsrKWlmKHY9ZT95KGMoZD10W21dKVswXSxkWzFdKTp5KHRbbV0pLHY9PT1hfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWIuY2FsbCh0KTshKGQ9aC5uZXh0KCkpLmRvbmU7KWlmKHY9byhoLHksZC52YWx1ZSxlKSx2PT09YXx8dj09PWYpcmV0dXJuIHZ9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbih0LGUscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0se31dLDI5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19wcm9wZXJ0eS1kZXNjIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuLmYodCxlLG8oMSxyKSl9OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yLHR9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hdCgiLi9fZGVzY3JpcHRvcnMiKSYmIXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/dCgpOnQuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/dChlWzBdKTp0LmNhbGwocixlWzBdKTtjYXNlIDI6cmV0dXJuIG4/dChlWzBdLGVbMV0pOnQuY2FsbChyLGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuP3QoZVswXSxlWzFdLGVbMl0pOnQuY2FsbChyLGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG4/dChlWzBdLGVbMV0sZVsyXSxlWzNdKTp0LmNhbGwocixlWzBdLGVbMV0sZVsyXSxlWzNdKX1yZXR1cm4gdC5hcHBseShyLGUpfX0se31dLDMzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY29mIik7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm4iU3RyaW5nIj09bih0KT90LnNwbGl0KCIiKTpPYmplY3QodCl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2l0ZXJhdG9ycyIpLG89dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYobi5BcnJheT09PXR8fGlbb109PT10KX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD9udWxsIT09dDoiZnVuY3Rpb24iPT10eXBlb2YgdH19LHt9XSwzNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscixvKXt0cnl7cmV0dXJuIG8/ZShuKHIpWzBdLHJbMV0pOmUocil9Y2F0Y2goaSl7dmFyIGM9dFsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwodCkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49dCgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89dCgiLi9fcHJvcGVydHktZGVzYyIpLGk9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O3QoIi4vX2hpZGUiKShjLHQoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3QucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2xpYnJhcnkiKSxvPXQoIi4vX2V4cG9ydCIpLGk9dCgiLi9fcmVkZWZpbmUiKSxjPXQoIi4vX2hpZGUiKSxzPXQoIi4vX2hhcyIpLHU9dCgiLi9faXRlcmF0b3JzIiksYT10KCIuL19pdGVyLWNyZWF0ZSIpLGY9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPXQoIi4vX29iamVjdC1ncG8iKSxsPXQoIi4vX3drcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksZD0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscix5LG0saixnKXthKHIsZSx5KTt2YXIgeCx3LGssTz1mdW5jdGlvbih0KXtpZighcCYmdCBpbiBQKXJldHVybiBQW3RdO3N3aXRjaCh0KXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9fSxNPWUrIiBJdGVyYXRvciIsUz1tPT12LEU9ITEsUD10LnByb3RvdHlwZSxUPVBbbF18fFBbZF18fG0mJlBbbV0sUj1UfHxPKG0pLFU9bT9TP08oImVudHJpZXMiKTpSOnZvaWQgMCxBPSJBcnJheSI9PWU/UC5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9XyhBLmNhbGwobmV3IHQpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGIpKSksUyYmVCYmVC5uYW1lIT09diYmKEU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxuJiYhZ3x8IXAmJiFFJiZQW2xdfHxjKFAsbCxSKSx1W2VdPVIsdVtNXT1iLG0paWYoeD17dmFsdWVzOlM/UjpPKHYpLGtleXM6aj9SOk8oaCksZW50cmllczpVfSxnKWZvcih3IGluIHgpdyBpbiBQfHxpKFAsdyx4W3ddKTtlbHNlIG8oby5QK28uRioocHx8RSksZSx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fWUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LHQoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEhdH19fSx7fV0sNDE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PXQoIi4vX2NvZiIpKGMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTt0Oyl7bz10LmZuLHQ9dC5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgdD9yKCk6ZT12b2lkIDAsaX19ZT12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O2UmJihlLm5leHQ9byksdHx8KHQ9byxyKCkpLGU9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX29iamVjdC1kcHMiKSxpPXQoIi4vX2VudW0tYnVnLWtleXMiKSxjPXQoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgZSxyPXQoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIix0KCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6IixlPXIuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLGUuY2xvc2UoKSxhPWUuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiBudWxsIT09dD8oc1t1XT1uKHQpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109dCk6cj1hKCksdm9pZCAwPT09ZT9yOm8ocixlKX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX2llOC1kb20tZGVmaW5lIiksaT10KCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLHIpe2lmKG4odCksZT1pKGUsITApLG4ociksbyl0cnl7cmV0dXJuIGModCxlLHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYodFtlXT1yLnZhbHVlKSx0fX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19hbi1vYmplY3QiKSxpPXQoIi4vX29iamVjdC1rZXlzIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtvKHQpO2Zvcih2YXIgcixjPWkoZSkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYodCxyPWNbdSsrXSxlW3JdKTtyZXR1cm4gdH19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1waWUiKSxvPXQoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPXQoIi4vX3RvLWlvYmplY3QiKSxjPXQoIi4vX3RvLXByaW1pdGl2ZSIpLHM9dCgiLi9faGFzIiksdT10KCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKHQsZSl7aWYodD1pKHQpLGU9YyhlLCEwKSx1KXRyeXtyZXR1cm4gYSh0LGUpfWNhdGNoKHIpe31pZihzKHQsZSkpcmV0dXJuIG8oIW4uZi5jYWxsKHQsZSksdFtlXSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oYXMiKSxvPXQoIi4vX3RvLW9iamVjdCIpLGk9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLG4odCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2hhcyIpLG89dCgiLi9fdG8taW9iamVjdCIpLGk9dCgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSksYz10KCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1vKHQpLHU9MCxhPVtdO2ZvcihyIGluIHMpciE9YyYmbihzLHIpJiZhLnB1c2gocik7Zm9yKDtlLmxlbmd0aD51OyluKHMscj1lW3UrK10pJiYofmkoYSxyKXx8YS5wdXNoKHIpKTtyZXR1cm4gYX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz10KCIuL19lbnVtLWJ1Zy1rZXlzIik7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fZmFpbHMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGM9e307Y1t0XT1lKHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLGMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oaWRlIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG8gaW4gZSlyJiZ0W29dP3Rbb109ZVtvXTpuKHQsbyxlW29dKTtyZXR1cm4gdH19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpLG89dCgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbih0LGUpe2lmKG8odCksIW4oZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHIsbil7dHJ5e249dCgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCx0KCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSkscj0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLHI/dC5fX3Byb3RvX189ZTpuKHQsZSksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2dsb2JhbCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fb2JqZWN0LWRwIiksYz10KCIuL19kZXNjcmlwdG9ycyIpLHM9dCgiLi9fd2tzIikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIG9bdF0/b1t0XTpuW3RdO2MmJmUmJiFlW3NdJiZpLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1kcCIpLmYsbz10KCIuL19oYXMiKSxpPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dCYmIW8odD1yP3Q6dC5wcm90b3R5cGUsaSkmJm4odCxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgia2V5cyIpLG89dCgiLi9fdWlkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1vKHQpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iiksbz10KCIuL19hLWZ1bmN0aW9uIiksaT10KCIuL193a3MiKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGM9bih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09Y3x8dm9pZCAwPT0ocj1uKGMpW2ldKT9lOm8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pbnRlZ2VyIiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBpLGMscz1TdHJpbmcobyhlKSksdT1uKHIpLGE9cy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49YT90PyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09YXx8KGM9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxjPjU3MzQzP3Q/cy5jaGFyQXQodSk6aTp0P3Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKGMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGM9dCgiLi9fY3R4Iikscz10KCIuL19pbnZva2UiKSx1PXQoIi4vX2h0bWwiKSxhPXQoIi4vX2RvbS1jcmVhdGUiKSxmPXQoIi4vX2dsb2JhbCIpLF89Zi5wcm9jZXNzLGw9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHk9ZnVuY3Rpb24oKXt2YXIgdD0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KHQpKXt2YXIgZT12W3RdO2RlbGV0ZSB2W3RdLGUoKX19LG09ZnVuY3Rpb24odCl7eS5jYWxsKHQuZGF0YSl9O2wmJnB8fChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyllLnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXtzKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LG4oaCksaH0scD1mdW5jdGlvbih0KXtkZWxldGUgdlt0XX0sInByb2Nlc3MiPT10KCIuL19jb2YiKShfKT9uPWZ1bmN0aW9uKHQpe18ubmV4dFRpY2soYyh5LHQsMSkpfTpkPyhvPW5ldyBkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49YyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24odCl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYyh5LHQsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpsLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQpLHQ8MD9vKHQrZSwwKTppKHQsZSl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP286bikodCl9fSx7fV0sNjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pb2JqZWN0Iiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKG8odCkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28obih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZGVmaW5lZCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIW4odCkpcmV0dXJuIHQ7dmFyIHIsbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LnRvU3RyaW5nKSYmIW4obz1yLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPXQudmFsdWVPZikmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKHI9dC50b1N0cmluZykmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgid2tzIiksbz10KCIuL191aWQiKSxpPXQoIi4vX2dsb2JhbCIpLlN5bWJvbCxjPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1jJiZpW3RdfHwoYz9pOm8pKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jbGFzc29mIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpO2UuZXhwb3J0cz10KCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT10KXJldHVybiB0W29dfHx0WyJAQGl0ZXJhdG9yIl18fGlbbih0KV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89dCgiLi9faXRlci1zdGVwIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3RvLWlvYmplY3QiKTtlLmV4cG9ydHM9dCgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKHQsZSl7dGhpcy5fdD1jKHQpLHRoaXMuX2k9MCx0aGlzLl9rPWV9LGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdCxlPXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PWU/bygwLHIpOiJ2YWx1ZXMiPT1lP28oMCx0W3JdKTpvKDAsW3IsdFtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpO24obi5TK24uRiohdCgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6dCgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8tb2JqZWN0Iiksbz10KCIuL19vYmplY3Qta2V5cyIpO3QoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG8obih0KSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbih0LGUscil7fSx7fV0sNzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLGM9dCgiLi9fbGlicmFyeSIpLHM9dCgiLi9fZ2xvYmFsIiksdT10KCIuL19jdHgiKSxhPXQoIi4vX2NsYXNzb2YiKSxmPXQoIi4vX2V4cG9ydCIpLF89dCgiLi9faXMtb2JqZWN0IiksbD0odCgiLi9fYW4tb2JqZWN0IiksdCgiLi9fYS1mdW5jdGlvbiIpKSxwPXQoIi4vX2FuLWluc3RhbmNlIiksZD10KCIuL19mb3Itb2YiKSxoPSh0KCIuL19zZXQtcHJvdG8iKS5zZXQsdCgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx2PXQoIi4vX3Rhc2siKS5zZXQsYj10KCIuL19taWNyb3Rhc2siKSgpLHk9IlByb21pc2UiLG09cy5UeXBlRXJyb3Isaj1zLnByb2Nlc3MsZz1zW3ldLGo9cy5wcm9jZXNzLHg9InByb2Nlc3MiPT1hKGopLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1nLnJlc29sdmUoMSkscj0oZS5jb25zdHJ1Y3Rvcj17fSlbdCgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24odCl7dCh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQ9PT1nJiZlPT09aX0sTT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4hKCFfKHQpfHwiZnVuY3Rpb24iIT10eXBlb2YoZT10LnRoZW4pKSYmZX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTyhnLHQpP25ldyBFKHQpOm5ldyBvKHQpfSxFPW89ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7ZT10LHI9bn0pLHRoaXMucmVzb2x2ZT1sKGUpLHRoaXMucmVqZWN0PWwocil9LFA9ZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fSxUPWZ1bmN0aW9uKHQsZSl7aWYoIXQuX24pe3QuX249ITA7dmFyIHI9dC5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuX3Ysbz0xPT10Ll9zLGk9MCxjPWZ1bmN0aW9uKGUpe3ZhciByLGksYz1vP2Uub2s6ZS5mYWlsLHM9ZS5yZXNvbHZlLHU9ZS5yZWplY3QsYT1lLmRvbWFpbjt0cnl7Yz8ob3x8KDI9PXQuX2gmJkEodCksdC5faD0xKSxjPT09ITA/cj1uOihhJiZhLmVudGVyKCkscj1jKG4pLGEmJmEuZXhpdCgpKSxyPT09ZS5wcm9taXNlP3UobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixzLHUpOnMocikpOnUobil9Y2F0Y2goZil7dShmKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTt0Ll9jPVtdLHQuX249ITEsZSYmIXQuX2gmJlIodCl9KX19LFI9ZnVuY3Rpb24odCl7di5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgZSxyLG4sbz10Ll92O2lmKFUodCkmJihlPVAoZnVuY3Rpb24oKXt4P2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLHQpOihyPXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6dCxyZWFzb246b30pOihuPXMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSx0Ll9oPXh8fFUodCk/MjoxKSx0Ll9hPXZvaWQgMCxlKXRocm93IGUuZXJyb3J9KX0sVT1mdW5jdGlvbih0KXtpZigxPT10Ll9oKXJldHVybiExO2Zvcih2YXIgZSxyPXQuX2F8fHQuX2Msbj0wO3IubGVuZ3RoPm47KWlmKGU9cltuKytdLGUuZmFpbHx8IVUoZS5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbih0KXt2LmNhbGwocyxmdW5jdGlvbigpe3ZhciBlO3g/ai5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIix0KTooZT1zLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCxlPWUuX3d8fGUsZS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFQoZSwhMCkpfSxDPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT10KXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9TSh0KSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7ZS5jYWxsKHQsdShDLG4sMSksdShMLG4sMSkpfWNhdGNoKG8pe0wuY2FsbChuLG8pfX0pOihyLl92PXQsci5fcz0xLFQociwhMSkpfWNhdGNoKG4pe0wuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGc9ZnVuY3Rpb24odCl7cCh0aGlzLGcseSwiX2giKSxsKHQpLG4uY2FsbCh0aGlzKTt0cnl7dCh1KEMsdGhpcywxKSx1KEwsdGhpcywxKSl9Y2F0Y2goZSl7TC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXQoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIHI9UyhoKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiB0fHx0LHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxyLmRvbWFpbj14P2ouZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfX0pLEU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbjt0aGlzLnByb21pc2U9dCx0aGlzLnJlc29sdmU9dShDLHQsMSksdGhpcy5yZWplY3Q9dShMLHQsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmd9KSx0KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcseSksdCgiLi9fc2V0LXNwZWNpZXMiKSh5KSxpPXQoIi4vX2NvcmUiKVt5XSxmKGYuUytmLkYqIWsseSx7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPVModGhpcykscj1lLnJlamVjdDtyZXR1cm4gcih0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhaykseSx7cmVzb2x2ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZyYmTyh0LmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiB0O3ZhciBlPVModGhpcykscj1lLnJlc29sdmU7cmV0dXJuIHIodCksZS5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJnQoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24odCl7Zy5hbGwodClbImNhdGNoIl0odyl9KSkseSx7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1TKGUpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1QKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtkKHQsITEsZnVuY3Rpb24odCl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLGUucmVzb2x2ZSh0KS50aGVuKGZ1bmN0aW9uKHQpe3V8fCh1PSEwLHJbc109dCwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9UyhlKSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpe2QodCwhMSxmdW5jdGlvbih0KXtlLnJlc29sdmUodCkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19zdHJpbmctYXQiKSghMCk7dCgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PWUubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9bihlLHIpLHRoaXMuX2krPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbih0LGUscil7dCgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19oaWRlIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7dTw1O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj10KCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuKXsoMCxzWyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLG8uaHlwZXJ0eVVSTD1lLG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkodCxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLG49dm9pZCAwLG89dD90OiIuIjtuPWU/ZTpyLmh5cGVydHlVUkw7dmFyIGM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24mJjIwMD09PXIuYm9keS5jb2RlP3Qobik6ZSgiY29kZTogIityLmJvZHkuY29kZSsiIE5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksdH0oKTtyWyJkZWZhdWx0Il09XyxlLmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo4MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sODE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1mdW5jdGlvbiBvKHQpe2lmKCF0KXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIGU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49dC5yZXBsYWNlKGUscikuc3BsaXQoIiwiKTtuWzBdPT09dCYmKG5bMF09Imh0dHBzIixuWzFdPXQpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTp0LnN1YnN0cmluZygwLGUpLGRvbWFpbjp0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiEoKDAsZFsiZGVmYXVsdCJdKSh0KS5sZW5ndGg+MCl9ZnVuY3Rpb24gcyh0KXtpZih0KXJldHVybiBKU09OLnBhcnNlKCgwLGxbImRlZmF1bHQiXSkodCkpfWZ1bmN0aW9uIHUodCl7dmFyIGU9dC5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK3Quc3Vic3RyaW5nKGUrMSx0Lmxlbmd0aCkrIi8iK3Quc3Vic3RyaW5nKDAsZSl9ZnVuY3Rpb24gYSh0KXt2YXIgZT1vKHQpO3JldHVybiBlLmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrZS5kb21haW59ZnVuY3Rpb24gZih0KXtpZigidXNlcjovLyI9PT10LnN1YnN0cmluZygwLDcpKXt2YXIgZT1vKHQpO2lmKGUuZG9tYWluJiZlLmlkZW50aXR5KXJldHVybiB0O3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiB1KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgXz10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxsPW4oXykscD10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxkPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1jLHIuZGVlcENsb25lPXMsci5nZXRVc2VyVVJMRnJvbUVtYWlsPXUsci5nZXRVc2VyRW1haWxGcm9tVVJMPWEsci5jb252ZXJ0VG9Vc2VyVVJMPWZ9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoxLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjN9XX0se30sWzgwXSkoODApfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKLy8gRGlzdHJpYnV0aW9uIGZpbGUgZm9yIFN5bmNoZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTo0OSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG8pe2Z1bmN0aW9uIG4ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG4ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixvKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxvLmxlbmd0aDtzKyspbihvW3NdKTtyZXR1cm4gbn0oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbz0icGVyZm9ybUNoYW5nZSIsbj0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYShlKXt2YXIgdD1hcmd1bWVudHMscz1hW25dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltuXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGM9ZFtuXS5hcHBseSh0aGlzLHMpO3JldHVybihjLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmN9fSx0aGlzKSxjfX07Zm9yKHZhciBjIGluIHMpc1tjXVtuXT10LnByb3RvdHlwZVtjXSx0LnByb3RvdHlwZVtjXT1zW2NdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MjB9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjF9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIzfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjR9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiOjI3fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW8ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1vKXt2YXIgbj0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bj92b2lkIDA6YShuLHQscil9aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHM9by5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjZ9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1vKHMpLGE9ZSgiLi4vaGVscGVycy90eXBlb2YiKSx1PW8oYSk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisoInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLHVbImRlZmF1bHQiXSkodCkpKTtlLnByb3RvdHlwZT0oMCxjWyJkZWZhdWx0Il0pKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoaVsiZGVmYXVsdCJdPygwLGlbImRlZmF1bHQiXSkoZSx0KTplLl9fcHJvdG9fXz10KX19LHsiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCIuLi9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL3N5bWJvbCIpLGM9byhzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7Ii4uL2NvcmUtanMvc3ltYm9sIjoxMCwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIiksbj1vLkpTT058fChvLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpbmdpZnkuYXBwbHkobixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNX1dLDE5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIjoxMDB9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6MTAxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjEwMn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjEwM31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6MTA0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6MTA1fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzL19jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjoxMDcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI2OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjoxMDksIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI6MTEwLCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSI6MTExfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCIpLmYoIml0ZXJhdG9yIil9LHsiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCI6OTYsIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW8mJm8gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX3RvLWxlbmd0aCIpLGk9ZSgiLi9fdG8taW5kZXgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYyxhPW8odCksdT1uKGEubGVuZ3RoKSxsPWkocyx1KTtpZihlJiZyIT1yKXtmb3IoO3U+bDspaWYoYz1hW2wrK10sYyE9YylyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigoZXx8bCBpbiBhKSYmYVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LHsiLi9fdG8taW5kZXgiOjg4LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tbGVuZ3RoIjo5MX1dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fY29mIiksbj1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChyKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixjO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxuKSk/cjppP28odCk6Ik9iamVjdCI9PShjPW8odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6Y319LHsiLi9fY29mIjozNCwiLi9fd2tzIjo5N31dLDM0OltmdW5jdGlvbihlLHQscil7dmFyIG89e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9byl9LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2EtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixvKXtyZXR1cm4gZS5jYWxsKHQscixvKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG8sbil7cmV0dXJuIGUuY2FsbCh0LHIsbyxuKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6Mjh9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjQzfV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9byhuKSYmbyhuLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9uLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTR9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cyIpLG49ZSgiLi9fb2JqZWN0LWdvcHMiKSxpPWUoIi4vX29iamVjdC1waWUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKSxyPW4uZjtpZihyKWZvcih2YXIgcyxjPXIoZSksYT1pLmYsdT0wO2MubGVuZ3RoPnU7KWEuY2FsbChlLHM9Y1t1KytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0seyIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzV9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fY3R4Iikscz1lKCIuL19oaWRlIiksYz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxsLGYsZD1lJmEuRixfPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHk9ZSZhLlcsdj1fP246blt0XXx8KG5bdF09e30pLGo9dltjXSxtPV8/bzpwP29bdF06KG9bdF18fHt9KVtjXTtfJiYocj10KTtmb3IodSBpbiByKWw9IWQmJm0mJnZvaWQgMCE9PW1bdV0sbCYmdSBpbiB2fHwoZj1sP21bdV06clt1XSx2W3VdPV8mJiJmdW5jdGlvbiIhPXR5cGVvZiBtW3VdP3JbdV06aCYmbD9pKGYsbyk6eSYmbVt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbyl7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbyl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFtjXT1lW2NdLHR9KGYpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLGImJigodi52aXJ0dWFsfHwodi52aXJ0dWFsPXt9KSlbdV09ZixlJmEuUiYmaiYmIWpbdV0mJnMoaix1LGYpKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsYS5VPTY0LGEuUj0xMjgsdC5leHBvcnRzPWF9LHsiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2N0eCIpLG49ZSgiLi9faXRlci1jYWxsIiksaT1lKCIuL19pcy1hcnJheS1pdGVyIikscz1lKCIuL19hbi1vYmplY3QiKSxjPWUoIi4vX3RvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKSx1PXt9LGw9e30scj10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgXyxwLGIsaCx5PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06YShlKSx2PW8ocixmLHQ/MjoxKSxqPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaSh5KSl7Zm9yKF89YyhlLmxlbmd0aCk7Xz5qO2orKylpZihoPXQ/dihzKHA9ZVtqXSlbMF0scFsxXSk6dihlW2pdKSxoPT09dXx8aD09PWwpcmV0dXJuIGh9ZWxzZSBmb3IoYj15LmNhbGwoZSk7IShwPWIubmV4dCgpKS5kb25lOylpZihoPW4oYix2LHAudmFsdWUsdCksaD09PXV8fGg9PT1sKXJldHVybiBofTtyLkJSRUFLPXUsci5SRVRVUk49bH0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1hcnJheS1pdGVyIjo1MiwiLi9faXRlci1jYWxsIjo1NSwiLi9fdG8tbGVuZ3RoIjo5MSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjk4fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9byl9LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNhbGwoZSx0KX19LHt9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1kcCIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gby5mKGUsdCxuKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX3Byb3BlcnR5LWRlc2MiOjc3fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQ1fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2Rlc2NyaXB0b3JzIikmJiFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2ZhaWxzIjo0M31dLDUwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBvP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBvP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBvP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBvP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW8oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuL19jb2YiOjM0fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pdGVyYXRvcnMiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG8uQXJyYXk9PT1lfHxpW25dPT09ZSl9fSx7Ii4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTd9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1vKGUpfX0seyIuL19jb2YiOjM0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXtyZXR1cm4gbj90KG8ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZvKHMuY2FsbChlKSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MzF9XSw1NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19vYmplY3QtY3JlYXRlIiksbj1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi9faGlkZSIpKHMsZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9byhzLHtuZXh0Om4oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6NDcsIi4vX29iamVjdC1jcmVhdGUiOjY1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fbGlicmFyeSIpLG49ZSgiLi9fZXhwb3J0IiksaT1lKCIuL19yZWRlZmluZSIpLHM9ZSgiLi9faGlkZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pdGVyYXRvcnMiKSx1PWUoIi4vX2l0ZXItY3JlYXRlIiksbD1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi9fb2JqZWN0LWdwbyIpLGQ9ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksXz0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPSJAQGl0ZXJhdG9yIixiPSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHYsaixtLGcpe3Uocix0LHYpO3ZhciB3LE8sayx4PWZ1bmN0aW9uKGUpe2lmKCFfJiZlIGluIFIpcmV0dXJuIFJbZV07c3dpdGNoKGUpe2Nhc2UgYjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LEM9dCsiIEl0ZXJhdG9yIixFPWo9PWgsUz0hMSxSPWUucHJvdG90eXBlLFQ9UltkXXx8UltwXXx8aiYmUltqXSxNPVR8fHgoaiksUD1qP0U/eCgiZW50cmllcyIpOk06dm9pZCAwLEE9IkFycmF5Ij09dD9SLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1mKEEuY2FsbChuZXcgZSkpLGshPT1PYmplY3QucHJvdG90eXBlJiYobChrLEMsITApLG98fGMoayxkKXx8cyhrLGQseSkpKSxFJiZUJiZULm5hbWUhPT1oJiYoUz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG8mJiFnfHwhXyYmIVMmJlJbZF18fHMoUixkLE0pLGFbdF09TSxhW0NdPXksailpZih3PXt2YWx1ZXM6RT9NOngoaCksa2V5czptP006eChiKSxlbnRyaWVzOlB9LGcpZm9yKE8gaW4gdylPIGluIFJ8fGkoUixPLHdbT10pO2Vsc2UgbihuLlArbi5GKihffHxTKSx0LHcpO3JldHVybiB3fX0seyIuL19leHBvcnQiOjQyLCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXRlci1jcmVhdGUiOjU2LCIuL19pdGVyYXRvcnMiOjYwLCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWdwbyI6NzIsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxuPSExO3RyeXt2YXIgaT1bN11bb10oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe249ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFuKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW29dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbb109ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6OTd9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1uKGUpLHM9byhpKSxjPXMubGVuZ3RoLGE9MDtjPmE7KWlmKGlbcj1zW2ErK11dPT09dClyZXR1cm4gcn19LHsiLi9fb2JqZWN0LWtleXMiOjc0LCIuL190by1pb2JqZWN0Ijo5MH1dLDYyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL191aWQiKSgibWV0YSIpLG49ZSgiLi9faXMtb2JqZWN0IiksaT1lKCIuL19oYXMiKSxzPWUoIi4vX29iamVjdC1kcCIpLmYsYz0wLGE9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdT0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiBhKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXtzKGUsbyx7dmFsdWU6e2k6Ik8iKyArK2Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbb10uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbykpe2lmKCFhKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbb10ud30sXz1mdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5ORUVEJiZhKGUpJiYhaShlLG8pJiZsKGUpLGV9LHA9dC5leHBvcnRzPXtLRVk6byxORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6X319LHsiLi9fZmFpbHMiOjQzLCIuL19oYXMiOjQ2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZHAiOjY2LCIuL191aWQiOjk0fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX3Rhc2siKS5zZXQsaT1vLk11dGF0aW9uT2JzZXJ2ZXJ8fG8uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW8ucHJvY2VzcyxjPW8uUHJvbWlzZSxhPSJwcm9jZXNzIj09ZSgiLi9fY29mIikocyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLHU9ZnVuY3Rpb24oKXt2YXIgbyxuO2ZvcihhJiYobz1zLmRvbWFpbikmJm8uZXhpdCgpO2U7KXtuPWUuZm4sZT1lLm5leHQ7dHJ5e24oKX1jYXRjaChpKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxpfX10PXZvaWQgMCxvJiZvLmVudGVyKCl9O2lmKGEpcj1mdW5jdGlvbigpe3MubmV4dFRpY2sodSl9O2Vsc2UgaWYoaSl7dmFyIGw9ITAsZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkodSkub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2YuZGF0YT1sPSFsfX1lbHNlIGlmKGMmJmMucmVzb2x2ZSl7dmFyIGQ9Yy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2QudGhlbih1KX19ZWxzZSByPWZ1bmN0aW9uKCl7bi5jYWxsKG8sdSl9O3JldHVybiBmdW5jdGlvbihvKXt2YXIgbj17Zm46byxuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1uKSxlfHwoZT1uLHIoKSksdD1ufX19LHsiLi9fY29mIjozNCwiLi9fZ2xvYmFsIjo0NSwiLi9fdGFzayI6ODd9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWRwcyIpLGk9ZSgiLi9fZW51bS1idWcta2V5cyIpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9ZnVuY3Rpb24oKXt9LGE9InByb3RvdHlwZSIsdT1mdW5jdGlvbigpe3ZhciB0LHI9ZSgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxvPWkubGVuZ3RoLG49Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLHQ9ci5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbiksdC5jbG9zZSgpLHU9dC5GO28tLTspZGVsZXRlIHVbYV1baVtvXV07cmV0dXJuIHUoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhjW2FdPW8oZSkscj1uZXcgYyxjW2FdPW51bGwscltzXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6bihyLHQpfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kb20tY3JlYXRlIjozOSwiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX2h0bWwiOjQ4LCIuL19vYmplY3QtZHBzIjo2NywiLi9fc2hhcmVkLWtleSI6ODN9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobyhlKSx0PWkodCwhMCksbyhyKSxuKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goYyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL190by1wcmltaXRpdmUiOjkzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWtleXMiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe24oZSk7Zm9yKHZhciByLHM9aSh0KSxjPXMubGVuZ3RoLGE9MDtjPmE7KW8uZihlLHI9c1thKytdLHRbcl0pO3JldHVybiBlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1rZXlzIjo3NH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LXBpZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fdG8taW9iamVjdCIpLHM9ZSgiLi9fdG8tcHJpbWl0aXZlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2llOC1kb20tZGVmaW5lIiksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPWkoZSksdD1zKHQsITApLGEpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2gocil7fWlmKGMoZSx0KSlyZXR1cm4gbighby5mLmNhbGwoZSx0KSxlW3RdKX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpuKG8oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbyhlLG4pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9bihlKSxvKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19oYXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9bihlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm8oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbyhjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG4uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxvKG8uUytvLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHQpciYmZVtuXT9lW25dPXRbbl06byhlLG4sdFtuXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG4pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBuW2VdP25bZV06b1tlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKS5mLG49ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFuKGU9cj9lOmUucHJvdG90eXBlLGkpJiZvKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fc2hhcmVkIikoImtleXMiKSxuPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09bihlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49Il9fY29yZS1qc19zaGFyZWRfXyIsaT1vW25dfHwob1tuXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW8oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9byhzKVtpXSk/dDpuKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG4odCkpLGE9byhyKSx1PWMubGVuZ3RoO3JldHVybiBhPDB8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLGk8NTUyOTZ8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvLG4saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLF89bC5jbGVhckltbWVkaWF0ZSxwPWwuTWVzc2FnZUNoYW5uZWwsYj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxqPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZffHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK2JdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxvKGIpLGJ9LF89ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bz1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06cD8obj1uZXcgcCxpPW4ucG9ydDIsbi5wb3J0MS5vbm1lc3NhZ2U9aixvPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obz1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixqLCExKSk6bz15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpffX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9byhlKSxlPDA/bihlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG89TWF0aC5jZWlsLG49TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOm8pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faW9iamVjdCIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9uKG8oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiBlO3ZhciByLG47aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFvKG49ci5jYWxsKGUpKSlyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG89MCxuPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbytuKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLlN5bWJvbHx8KG4uU3ltYm9sPWk/e306by5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxuPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPXMmJmlbZV18fChzP2k6bikoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1vfSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NsYXNzb2YiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbbl18fGVbIkBAaXRlcmF0b3IiXXx8aVtvKGUpXX19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbj1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG4oMSkpOiJrZXlzIj09dD9uKDAscik6InZhbHVlcyI9PXQ/bigwLGVbcl0pOm4oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG8oImtleXMiKSxvKCJ2YWx1ZXMiKSxvKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2V4cG9ydCIpO28oby5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUytvLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obyhlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbyxuLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLF89ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLGI9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsaj1jLlR5cGVFcnJvcixtPWMucHJvY2VzcyxnPWNbdl0sbT1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUobSksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG8pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWYoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG4oZSl9LFM9bj1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG8pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgaigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1vfSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUj1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG89ZS5fdixuPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW4/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhufHwoMj09ZS5faCYmQShlKSxlLl9oPTEpLHM9PT0hMD9yPW86KHUmJnUuZW50ZXIoKSxyPXMobyksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShqKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShvKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbyxuPWUuX3Y7aWYoUChlKSYmKHQ9UihmdW5jdGlvbigpe3c/bS5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpufSk6KG89Yy5jb25zb2xlKSYmby5lcnJvciYmby5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKX0pLGUuX2g9d3x8UChlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxQPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxvPTA7ci5sZW5ndGg+bzspaWYodD1yW28rK10sdC5mYWlsfHwhUCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxBPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9tLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksVCh0LCEwKSl9LE49ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgaigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG89e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbywxKSxhKEQsbywxKSl9Y2F0Y2gobil7RC5jYWxsKG8sbil9fSk6KHIuX3Y9ZSxyLl9zPTEsVChyLCExKSl9Y2F0Y2gobyl7RC5jYWxsKHtfdzpyLF9kOiExfSxvKX19fTtrfHwoZz1mdW5jdGlvbihlKXtfKHRoaXMsZyx2LCJfaCIpLGQoZSksby5jYWxsKHRoaXMpO3RyeXtlKGEoTix0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG89ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sby5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKGIodGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPXc/bS5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksUz1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1hKE4sZSwxKSx0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLAp0LnByb21pc2V9fSksbChsLlMrbC5GKihzfHwhayksdix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PUUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Zy5hbGwoZSlbImNhdGNoIl0oTyl9KSksdix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG89ci5yZXNvbHZlLG49ci5yZWplY3QsaT1SKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG8ocikpfSxuKX0pLC0tc3x8byhyKX0pO3JldHVybiBpJiZuKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVqZWN0LG49UihmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbyl9KX0pO3JldHVybiBuJiZvKG4uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4taW5zdGFuY2UiOjMwLCIuL19hbi1vYmplY3QiOjMxLCIuL19jbGFzc29mIjozMywiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2V4cG9ydCI6NDIsIi4vX2Zvci1vZiI6NDQsIi4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTQsIi4vX2l0ZXItZGV0ZWN0Ijo1OCwiLi9fbGlicmFyeSI6NjIsIi4vX21pY3JvdGFzayI6NjQsIi4vX3JlZGVmaW5lLWFsbCI6NzgsIi4vX3NldC1wcm90byI6ODAsIi4vX3NldC1zcGVjaWVzIjo4MSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo4NSwiLi9fdGFzayI6ODcsIi4vX3drcyI6OTd9XSwxMDg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fc3RyaW5nLWF0IikoITApO2UoIi4vX2l0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW8odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuL19pdGVyLWRlZmluZSI6NTcsIi4vX3N0cmluZy1hdCI6ODZ9XSwxMDk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19oYXMiKSxpPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL19leHBvcnQiKSxjPWUoIi4vX3JlZGVmaW5lIiksYT1lKCIuL19tZXRhIikuS0VZLHU9ZSgiLi9fZmFpbHMiKSxsPWUoIi4vX3NoYXJlZCIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vX3VpZCIpLF89ZSgiLi9fd2tzIikscD1lKCIuL193a3MtZXh0IiksYj1lKCIuL193a3MtZGVmaW5lIiksaD1lKCIuL19rZXlvZiIpLHk9ZSgiLi9fZW51bS1rZXlzIiksdj1lKCIuL19pcy1hcnJheSIpLGo9ZSgiLi9fYW4tb2JqZWN0IiksbT1lKCIuL190by1pb2JqZWN0IiksZz1lKCIuL190by1wcmltaXRpdmUiKSx3PWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxPPWUoIi4vX29iamVjdC1jcmVhdGUiKSxrPWUoIi4vX29iamVjdC1nb3BuLWV4dCIpLHg9ZSgiLi9fb2JqZWN0LWdvcGQiKSxDPWUoIi4vX29iamVjdC1kcCIpLEU9ZSgiLi9fb2JqZWN0LWtleXMiKSxTPXguZixSPUMuZixUPWsuZixNPW8uU3ltYm9sLFA9by5KU09OLEE9UCYmUC5zdHJpbmdpZnksRD0icHJvdG90eXBlIixOPV8oIl9oaWRkZW4iKSxMPV8oInRvUHJpbWl0aXZlIiksRj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxJPWwoInN5bWJvbC1yZWdpc3RyeSIpLFU9bCgic3ltYm9scyIpLHo9bCgib3Atc3ltYm9scyIpLEg9T2JqZWN0W0RdLFY9ImZ1bmN0aW9uIj09dHlwZW9mIE0sQj1vLlFPYmplY3QsSj0hQnx8IUJbRF18fCFCW0RdLmZpbmRDaGlsZCxXPWkmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TyhSKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFIodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPVMoSCx0KTtvJiZkZWxldGUgSFt0XSxSKGUsdCxyKSxvJiZlIT09SCYmUihILHQsbyl9OlIsWT1mdW5jdGlvbihlKXt2YXIgdD1VW2VdPU8oTVtEXSk7cmV0dXJuIHQuX2s9ZSx0fSxxPVYmJiJzeW1ib2wiPT10eXBlb2YgTS5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTX0sSz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZLKHosdCxyKSxqKGUpLHQ9Zyh0LCEwKSxqKHIpLG4oVSx0KT8oci5lbnVtZXJhYmxlPyhuKGUsTikmJmVbTl1bdF0mJihlW05dW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihuKGUsTil8fFIoZSxOLHcoMSx7fSkpLGVbTl1bdF09ITApLFcoZSx0LHIpKTpSKGUsdCxyKX0sRz1mdW5jdGlvbihlLHQpe2ooZSk7Zm9yKHZhciByLG89eSh0PW0odCkpLG49MCxpPW8ubGVuZ3RoO2k+bjspSyhlLHI9b1tuKytdLHRbcl0pO3JldHVybiBlfSxaPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpHKE8oZSksdCl9LFg9ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZuKFUsZSkmJiFuKHosZSkpJiYoISh0fHwhbih0aGlzLGUpfHwhbihVLGUpfHxuKHRoaXMsTikmJnRoaXNbTl1bZV0pfHx0KX0sJD1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PWcodCwhMCksZSE9PUh8fCFuKFUsdCl8fG4oeix0KSl7dmFyIHI9UyhlLHQpO3JldHVybiFyfHwhbihVLHQpfHxuKGUsTikmJmVbTl1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSxRPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPVQobShlKSksbz1bXSxpPTA7ci5sZW5ndGg+aTspbihVLHQ9cltpKytdKXx8dD09Tnx8dD09YXx8by5wdXNoKHQpO3JldHVybiBvfSxlZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09SCxvPVQocj96Om0oZSkpLGk9W10scz0wO28ubGVuZ3RoPnM7KSFuKFUsdD1vW3MrK10pfHxyJiYhbihILHQpfHxpLnB1c2goVVt0XSk7cmV0dXJuIGl9O1Z8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09SCYmdC5jYWxsKHosciksbih0aGlzLE4pJiZuKHRoaXNbTl0sZSkmJih0aGlzW05dW2VdPSExKSxXKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmSiYmVyhILGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyhILCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkscC5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKF8oZSkpfSkscyhzLkcrcy5XK3MuRiohVix7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKF8uc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOyliKHRlW3JlKytdKTtzKHMuUytzLkYqIVYsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBuKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtKPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtKPSExfX0pLHMocy5TK3MuRiohViwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLFAmJnMocy5TK3MuRiooIVZ8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPUEoW2VdKXx8Int9IiE9QSh7YTplfSl8fCJ7fSIhPUEoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbz1bZV0sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspby5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gdD1vWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZihyJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhcSh0KSlyZXR1cm4gdH0pLG9bMV09dCxBLmFwcGx5KFAsbyl9fX0pLE1bRF1bTF18fGUoIi4vX2hpZGUiKShNW0RdLEwsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wO2E8NTthKyspe3ZhciB1PWNbYV0sbD1vW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm4oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixvKXsidXNlIHN0cmljdCI7dmFyIG4saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbyl9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89cnx8MDtvPGUubGVuZ3RoO28rKylpZihlW29dPT09dClyZXR1cm4gbztyZXR1cm4tMX0sdT1yLk1hcCE9PW8mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG8pe3ZhciBuPWEoZSxyKTtuPT09LTE/KGUucHVzaChyKSx0LnB1c2gobyksdGhpcy5zaXplKyspOnRbbl09b30sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG89YShlLHIpO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtvXSxlW29dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBvPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO28ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBuLGk9MDtpPG8ubGVuZ3RoOykobj1hKHIsb1tpKytdKSk+LTEmJnIuc3BsaWNlKG4sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixvLG49W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZuLnB1c2gocik7ZWxzZXtvPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdClvLmNhbGwodCxyKSYmbi5wdXNoKHIpfXJldHVybiBjKHQpJiZuLnB1c2goImxlbmd0aCIpLG59LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXz1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCkscD1mdW5jdGlvbihlLHQscil7dmFyIG89bi5nZXQoZSk7bz8oaChvLGUpLG0oZSxvLHQscikpOihvPWIoZSksbShlLG8sdCxyKSwxPT09bi5zaXplJiZfKHkpKX0sYj1mdW5jdGlvbih0LHIpe3ZhciBvLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOiEhZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KSxleHRlbnNpYmxlOiFlLmlzRXh0ZW5zaWJsZXx8ZS5pc0V4dGVuc2libGUodCkscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6aih0LHIpfTtpZihkKWZvcihvPXIuZGVzY3JpcHRvcnM9W107YzxpLmxlbmd0aDspb1tjXT1kKHQsaVtjXSksc1tjXT10W2lbYysrXV07ZWxzZSBmb3IoO2M8aS5sZW5ndGg7KXNbY109dFtpW2MrK11dO3JldHVybiBuLnNldCh0LHIpLHJ9LGg9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG8sbil7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxjPXQudmFsdWVzW3JdLGE9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbiYmKGM9PT1zPzA9PT1jJiYxL2MhPT0xL3M6Yz09PWN8fHM9PT1zKSYmKGcoZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxvKSx0LnZhbHVlc1tyXT1zKSwhYS5jb25maWd1cmFibGV8fG4uY29uZmlndXJhYmxlJiZuLndyaXRhYmxlPT09YS53cml0YWJsZSYmbi5lbnVtZXJhYmxlPT09YS5lbnVtZXJhYmxlJiZuLmdldD09PWEuZ2V0JiZuLnNldD09PWEuc2V0fHwoZyhlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC5kZXNjcmlwdG9yc1tyXT1uKX06ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49dC5wcm9wZXJ0aWVzW3JdLGk9ZVtuXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihnKGUsdCx7bmFtZTpuLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbyksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbyxuLGkpe2Zvcih2YXIgcyxjPXIubGVuZ3RoO28mJmMtLTspbnVsbCE9PXJbY10mJihzPWQoZSxyW2NdKSxvLS0scz90KGUsbixjLGkscyk6KGcoZSxuLHtuYW1lOnJbY10sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tjXX0saSksbi5wcm9wZXJ0aWVzLnNwbGljZShjLDEpLG4udmFsdWVzLnNwbGljZShjLDEpLG4uZGVzY3JpcHRvcnMuc3BsaWNlKGMsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbyxuKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGcoZSxvLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1tpXX0sbiksby5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG8udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihvLG4saSl7aWYoby5oYW5kbGVycy5zaXplJiYhby5mcm96ZW4pe3ZhciBzLGMsdSxfLHAsYixoLHksdj1vLnZhbHVlcyxqPW8uZGVzY3JpcHRvcnMsbT0wO2lmKG8uZXh0ZW5zaWJsZSlpZihzPW8ucHJvcGVydGllcy5zbGljZSgpLGM9cy5sZW5ndGgsdT1sKG4pLGope2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCkseT1kKG4scCksXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChuW3BdKSxqLnB1c2goeSkpOihzW19dPW51bGwsYy0tLHQobixvLF8saSx5KSk7cihuLHMsYyxvLGkpLGUuaXNFeHRlbnNpYmxlKG4pfHwoby5leHRlbnNpYmxlPSExLGcobixvLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om59LGkpLG8uZnJvemVuPWUuaXNGcm96ZW4obikpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOylwPXVbbSsrXSxfPWEocyxwKSxiPW5bcF0sXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChiKSk6KHNbX109bnVsbCxjLS0sdChuLG8sXyxpKSk7cihuLHMsYyxvLGkpfWVsc2UgaWYoIW8uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKXA9c1ttXSx0KG4sbyxtLGksZChuLHApKTtlLmlzRnJvemVuKG4pJiYoby5mcm96ZW49ITApfWYmJihoPWYobiksaCE9PW8ucHJvdG8mJihnKG4sbyx7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpuLG9sZFZhbHVlOm8ucHJvdG99KSxvLnByb3RvPWgpKX19fSgpLHk9ZnVuY3Rpb24oKXtuLnNpemUmJihuLmZvckVhY2goaCksaS5mb3JFYWNoKHYpLF8oeSkpfSx2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9bi5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW4uZ2V0KGUpO2lmKHIpe3ZhciBvLGk9e29iamVjdDplfTtmb3IobyBpbiB0KSJvYmplY3QiIT09byYmKGlbb109dFtvXSk7ZyhlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxjPW4uZ2V0KGUpLGE9YXJndW1lbnRzWzJdLHU9YT09PW8/cigpOnIuY2FsbChhKTtpZihjJiZoKGMsZSx0KSxjJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2coZSxjLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPWkuZ2V0KHIpO258fGkuc2V0KHIsbj17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxuLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om8uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG4pfSxnPWZ1bmN0aW9uKGUsdCxyLG8pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG98fGEobixvKT09PS0xKSYmYShuLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O249dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbil7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobj09PW8pbj1zO2Vsc2UgaWYoIW58fCJvYmplY3QiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIHAodCxyLG4pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG89aS5nZXQodCk7cmV0dXJuIG8mJihyPW8ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG8ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksXyhmdW5jdGlvbigpe3Yobyx0KX0pLDE9PT1vLm9ic2VydmVkLnNpemUmJm8ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm8ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9uWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6aih0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksdih0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBuPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1vKG4pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGM9byhzKSxhPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW8oYSk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1jWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExNywiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL3N5bmNoZXIvU3luY2hlciI6MTIxLCJhcnJheS5vYnNlcnZlIjoxLCJvYmplY3Qub2JzZXJ2ZSI6MTEzfV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1vKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1vKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IiksXz1vKGQpLHA9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxiPW8ocCksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW8sYy5fc3RhdHVzPW4sYy5fc3luY09iaj1uZXcgX1siZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIG49citvLGk9dC5fYnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBvPXIuX293bmVyKyIjIityLl9jaGlsZElkLG49ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpuLGJvZHk6e3Jlc291cmNlOm8sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgYlsiZGVmYXVsdCJdKHIsbyx0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpuLGNoaWxkSWQ6b30pfSksci5fY2hpbGRyZW5PYmplY3RzW29dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBvPW5ldyBiWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW8sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbj17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixuKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihuKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG89e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYoby5ib2R5LnZhbHVlPWUuZGF0YSk6KG8uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsby5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG8uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihvLnRvPXQucGF0aCxvLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobyl9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG89dC5ib2R5LmF0dHJpYnV0ZSxuPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG8pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG4pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG4pfWVsc2UgaS5vYmpbaS5sYXN0XT1uO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bjpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxvPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtvP3QuX2NoYW5nZU9iamVjdChvLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNiwiLi9TeW5jT2JqZWN0IjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1vKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1vKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW4sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obyksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1vKG0pLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbz17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG49ZS5pbmRleE9mKCIqIik7bj09PWUubGVuZ3RoLTEmJigwPT09bj9vLnR5cGU9dy5BTlk6KG8udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09b319LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fZmlsdGVyc1tyXTtvLnR5cGU9PT13LkFOWT9vLmNhbGxiYWNrKGUpOm8udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmby5jYWxsYmFjayhlKTpvLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmby5jYWxsYmFjayhlKX0pfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTUsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbz17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bzt2YXIgbj17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtuW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6bn19fSksb30scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG89dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6b307dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0IjoxMTUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1vLHMuX2NoaWxkcmVuPW4scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgbiBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W25dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG4pLHRbbl0pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbyk7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgXyh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXS5vYmplY3QsaT12b2lkIDA7aWYobi5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Yi5PQkpFQ1QpLG4uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Yi5BUlJBWSksInNwbGljZSI9PT10W29dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtvXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtvXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtvXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG8pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK28pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtvXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgYj1uLnNsaWNlKHMscytkKTtiLmZvckVhY2goZnVuY3Rpb24odCxvKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWVbIm5ldyJdKG5ldyBfKHQscytvKSk7ci5faW50ZXJuYWxPYnNlcnZlKG4sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYil9KX1zIT09bi5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShuKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbb10ubmFtZSksYz1zLnRvU3RyaW5nKCk7aWYoYy5pbmRleE9mKCJTeW1ib2wiKSE9PS0xKWNvbnRpbnVlO3ZhciBhPW5bdFtvXS5uYW1lXTsidXBkYXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbb10udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtvXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fb2JzZXJ2YWJsZXNbcl0sbj1lLmluZGV4T2Yoby5vYmopO28uaWR4IT1uJiYoby5pZHg9bixkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbbl09byl9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09XyYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLHA9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sYj1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW8oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9byhsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIiksXz1vKGQpLHA9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxiPW8ocCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24uX293bmVyPXQsbi5fYnVzPXIsbi5fc3ViVVJMPW8ucnVudGltZVVSTCsiL3NtIixuLl9yZXBvcnRlcnM9e30sbi5fb2JzZXJ2ZXJzPXt9LG4uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpuLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm4uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpuLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXM7ci5yZXBvcnRlcj1vLl9vd25lcixyLnNjaGVtYT1lO3ZhciBuPXt0eXBlOiJjcmVhdGUiLGZyb206by5fb3duZXIsdG86by5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe28uX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBzPW4uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obyxzLGUsIm9uIixyLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyk7by5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG89e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG4saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKXM9bmV3IGJbImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09by5ib2R5LmNvZGUpe3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocix0LGUsIm9uIixvLmJvZHkudmFsdWUscy5jaGlsZHJlbixvLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbihjKSxzLmFwcGx5KGMpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbyl7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7CmNvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpvKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxvPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm99fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbz10Ll9vYnNlcnZlcnNbcl07aWYobyl7dmFyIG49e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLDIwMD09PW4mJm9bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTgsIi4vRGF0YVByb3Zpc2lvbmFsIjoxMTksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbihlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixvPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7b1swXT09PWUmJihvWzBdPSJodHRwcyIsb1sxXT1lKTt2YXIgbj17dHlwZTpvWzBdLGRvbWFpbjpvWzFdLGlkZW50aXR5Om9bMl19O3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9bihlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9bihlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1vKGYpLF89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1vKF8pO3IuZGl2aWRlVVJMPW4sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTRdKSgxMTQpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKICogU2ltcGxlIGNsYXNzIGZvciBlYXNpZXIgbG9nZ2luZwogKi8KdmFyIExvZ2dlciA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIExvZ2dlcihuYW1lKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ2dlcik7CgogICAgICAgIHRoaXMucHJlZml4ID0gbmFtZSArICIgIjsKICAgICAgICB0aGlzLmMgPSBjb25zb2xlOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhMb2dnZXIsIFt7CiAgICAgICAga2V5OiAiZCIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGQobXNnKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHRoaXMucHJlZml4ICsgYXJndW1lbnRzWzBdOwogICAgICAgICAgICB0aGlzLmMuZGVidWcuYXBwbHkodGhpcy5jLCBhcmd1bWVudHMpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICJsIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbChtc2cpIHsKICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykgewogICAgICAgICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gdGhpcy5wcmVmaXggKyBhcmd1bWVudHNbMF07CiAgICAgICAgICAgIHRoaXMuYy5sb2cuYXBwbHkodGhpcy5jLCBhcmd1bWVudHMpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICJpIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaShtc2cpIHsKICAgICAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMgPiAxID8gX2xlbjMgLSAxIDogMCksIF9rZXkzID0gMTsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykgewogICAgICAgICAgICAgICAgYXJnc1tfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gdGhpcy5wcmVmaXggKyBhcmd1bWVudHNbMF07CiAgICAgICAgICAgIHRoaXMuYy5pbmZvLmFwcGx5KHRoaXMuYywgYXJndW1lbnRzKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAidyIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHcobXNnKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IHRoaXMucHJlZml4ICsgYXJndW1lbnRzWzBdOwogICAgICAgICAgICB0aGlzLmMud2Fybi5hcHBseSh0aGlzLmMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogImUiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBlKG1zZykgewogICAgICAgICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNSA+IDEgPyBfbGVuNSAtIDEgOiAwKSwgX2tleTUgPSAxOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7CiAgICAgICAgICAgICAgICBhcmdzW19rZXk1IC0gMV0gPSBhcmd1bWVudHNbX2tleTVdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhcmd1bWVudHNbMF0gPSB0aGlzLnByZWZpeCArIGFyZ3VtZW50c1swXTsKICAgICAgICAgICAgdGhpcy5jLmVycm9yLmFwcGx5KHRoaXMuYywgYXJndW1lbnRzKTsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIExvZ2dlcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gTG9nZ2VyOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvKiBqc2hpbnQgdW5kZWY6IHRydWUgKi8KCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX0Rpc2NvdmVyeSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvRGlzY292ZXJ5Jyk7Cgp2YXIgX0Rpc2NvdmVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNjb3ZlcnkpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlcicpOwoKdmFyIF9JZGVudGl0eU1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRlbnRpdHlNYW5hZ2VyKTsKCnZhciBfTG9nZ2VyID0gcmVxdWlyZSgnLi9Mb2dnZXInKTsKCnZhciBfTG9nZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvZ2dlcik7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTsKCnZhciBfcm9vbUpzb24gPSByZXF1aXJlKCcuL3Jvb21Kc29uJyk7Cgp2YXIgX3Jvb21Kc29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jvb21Kc29uKTsKCnZhciBfRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIGwgPSBuZXcgX0xvZ2dlcjIuZGVmYXVsdCgiUk9PTVVJIik7Cgp2YXIgdXJsID0gImh0dHBzOi8vcHJheGlzOjgwMDAiOwp2YXIgdXNlRXhhbXBsZVJvb21Kc29uID0gdHJ1ZTsKCnZhciBSb29tU2VydmVyID0gZnVuY3Rpb24gKCkgewoKICAgIC8qKgogICAgICogQ3JlYXRlIGEgbmV3IFJvb21TZXJ2ZXIKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoeXBlcnR5VVJMIC0gVVJMIG9mIHRoZSBoeXBlcnR5CiAgICAgKiBAcGFyYW0ge01pbmlCdXN9IGJ1cyAtIE1pbmlCdXMKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWd1cmF0aW9uIC0gY29uZmlndXJhdGlvbiBvZiBoeXBlcnR5CiAgICAgKi8KICAgIGZ1bmN0aW9uIFJvb21TZXJ2ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21TZXJ2ZXIpOwoKICAgICAgICBpZiAoIWh5cGVydHlVUkwpIHRocm93IG5ldyBFcnJvcignVGhlIGh5cGVydHlVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICAgICAgaWYgKCFidXMpIHRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwoKICAgICAgICBsLmQoImh5cGVydHlVUkw6IiwgaHlwZXJ0eVVSTCk7CiAgICAgICAgbC5kKCJidXM6IiwgYnVzKTsKICAgICAgICBsLmQoImNvbmZpZ3VyYXRpb246IiwgY29uZmlndXJhdGlvbik7CgogICAgICAgIC8vIG1ha2UgcGFyYW1ldGVycyBhdmFpbGFibGUKICAgICAgICB0aGlzLmh5cGVydHlVUkwgPSBoeXBlcnR5VVJMOwogICAgICAgIHRoaXMuYnVzID0gYnVzOwogICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247CgogICAgICAgIC8vIGNyZWF0ZSBDb250ZXh0IFNjaGVtYSBVUkwKICAgICAgICB0aGlzLmNvbnRleHRTY2hlbWFVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly8nICsgKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db250ZXh0JzsKCiAgICAgICAgLy8gbWFrZSBoeXBlcnR5IGRpc2NvdmVyYWJsZQogICAgICAgIHRoaXMuZGlzY292ZXJ5ID0gbmV3IF9EaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCwgYnVzKTsKCiAgICAgICAgLy8gc3luY2hlcgogICAgICAgIHRoaXMuc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbik7CgogICAgICAgIC8vIDEuIHNldCB1cCB0aGUgcm9vbXMKICAgICAgICAvLyAyLiBhZGQgdGhlbSB0byByb29tTWFwCiAgICAgICAgLy8gMy4gdHJpZ2dlciByb29tTWFwIGV2ZW50CiAgICAgICAgdGhpcy5zZXRVcFJvb21zKCkudGhlbihmdW5jdGlvbiAocm9vbVN5bmNPYmplY3RzKSB7CiAgICAgICAgICAgIGwuZCgic2V0VXBkUm9vbXMgZG9uZSwgb2JqZWN0czoiLCByb29tU3luY09iamVjdHMpOwoKICAgICAgICAgICAgdmFyIHJvb21NYXAgPSB7fTsKICAgICAgICAgICAgcm9vbVN5bmNPYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKHJvb21TeW5jT2JqZWN0KSB7CiAgICAgICAgICAgICAgICBsLmQoImFkZGluZyB0byByb29tIG1hcDoiLCByb29tU3luY09iamVjdC5kYXRhLm5hbWUpOwogICAgICAgICAgICAgICAgcm9vbU1hcFtyb29tU3luY09iamVjdC5kYXRhLm5hbWVdID0gcm9vbVN5bmNPYmplY3Q7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpcy5yb29tTWFwID0gcm9vbU1hcDsKICAgICAgICB9KTsKCiAgICAgICAgbC5kKCJTZXR0aW5nIHVwIGZ1bmN0aW9ucyBmb3IgcmVtb3RlIik7CiAgICAgICAgdGhpcy5zZXR1cFJlbW90ZUZ1bmN0aW9uQ2FsbEFiaWxpdHkoKTsKICAgICAgICB0aGlzLmFkZEZ1bmN0aW9uRm9yUmVtb3RlKHRoaXMuZ2V0Um9vbXMpOwogICAgICAgIHRoaXMuYWRkRnVuY3Rpb25Gb3JSZW1vdGUodGhpcy5tYWtlUmVxdWVzdCwgImFjdGlvbiIpOwogICAgfQoKICAgIC8qKgogICAgICogQWRkcyBhIGxpc3RlbmVyIG9uIHRoZSBtZXNzYWdlIGJ1cyB0byBoYW5kbGUgZXhlY3V0ZSBtZXNzYWdlcywKICAgICAqIGFuZCBjaGVja3MgaWYgdGhlIHJlcXVlc3RlZCBmdW5jdGlvbiBoYXMgYmVlbiBhZGRlZCB3aXRoIHtAbGluayBhZGRGdW5jdGlvbkZvclJlbW90ZX0uCiAgICAgKi8KCgogICAgX2NyZWF0ZUNsYXNzKFJvb21TZXJ2ZXIsIFt7CiAgICAgICAga2V5OiAnc2V0dXBSZW1vdGVGdW5jdGlvbkNhbGxBYmlsaXR5JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBSZW1vdGVGdW5jdGlvbkNhbGxBYmlsaXR5KCkgewogICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgICAgIGwuZCgic2V0dXBSZW1vdGVGdW5jdGlvbkNhbGxBYmlsaXR5Iik7CgogICAgICAgICAgICAvLyBjcmVhdGUgZnVuY3Rpb24gaG9sZGVyCiAgICAgICAgICAgIHRoaXMucmVtb3RlRnVuY3Rpb25zID0ge307CgogICAgICAgICAgICAvL2FkZCBsaXN0ZW5lcgogICAgICAgICAgICB0aGlzLmJ1cy5hZGRMaXN0ZW5lcih0aGlzLmh5cGVydHlVUkwsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gZXhlY3V0ZSBtZXNzYWdlcwogICAgICAgICAgICAgICAgaWYgKG1zZy50eXBlID09PSAiZXhlY3V0ZSIpIHsKICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBsLmQoImdvdCBleGVjdXRlIG1lc3NhZ2U6IiwgbXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmMgPSBfdGhpczIucmVtb3RlRnVuY3Rpb25zW21zZy5ib2R5Lm1ldGhvZF07CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBhIGZ1bmN0aW9uIHRoYXQgd2FzIGFkZGVkIHdpdGggYWRkRnVuY3Rpb25Gb3JSZW1vdGUgd2FzIGZvdW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLmQoImZ1bmN0aW9uICIgKyBmdW5jLm5hbWUgKyAiIGlzIGJlaW5nIGNhbGxlZCByZW1vdGVseSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGZ1bmN0aW9uIHdpdGggcHJvdmlkZWQgcGFyYW1ldGVycwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseShfdGhpczIsIG1zZy5ib2R5LnBhcmFtcyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgcHJvbWlzZSBkaWZmZXJlbnRseSwgaS5lLiByZXNwb25kIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgcHJvbWlzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlYWxSZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLmQoImZ1bmN0aW9uICIgKyBmdW5jLm5hbWUgKyAiIHJldHVybmVkIHJldHVybmVkIGEgcHJvbWlzZSwgd2hpY2ggZnVsZmlsbGVkIHdpdGg6IiwgcmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VuZFJlc3BvbnNlKG1zZywgcmVhbFJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLncoImZ1bmN0aW9uIGNhbGwgZmFpbGVkOiAiLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbmRSZXNwb25zZShtc2csIGVycm9yLCA1MDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLmQoImZ1bmN0aW9uICIgKyBmdW5jLm5hbWUgKyAiIHJldHVybmVkOiIsIHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VuZFJlc3BvbnNlKG1zZywgcmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbC53KCJpbnZva2luZyBmdW5jdGlvbiAiICsgZnVuYy5uYW1lICsgIiB3aXRoIHBhcmFtZXRlcnMgIiArIG1zZy5ib2R5LnBhcmFtcyArICIgZmFpbGVkOiIsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZW5kUmVzcG9uc2UobXNnLCBlLCA1MDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbC53KCJyZW1vdGUgZW5kcG9pbnQgcmVxdWVzdGVkIGZ1bmN0aW9uIGNhbGwgIiArIG1zZy5ib2R5Lm1ldGhvZCArICIgYnV0IGl0IGlzIG5vdCBzZXQgdXAuIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VuZFJlc3BvbnNlKG1zZywgIkZ1bmN0aW9uICIgKyBtc2cuYm9keS5tZXRob2QgKyAiIGRvZXMgbm90IGV4aXN0IiwgNDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGFibGUgYnkgcmVtb3RlIGVuZHBvaW50cwogICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQKICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gYWxpYXMgZm9yIHRoZSBmdW5jdGlvbiB0aGF0IHRoZSByZW1vdGUgZW5kcG9pbnQgdXNlcwogICAgICAgICAqLwoKICAgIH0sIHsKICAgICAgICBrZXk6ICdhZGRGdW5jdGlvbkZvclJlbW90ZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEZ1bmN0aW9uRm9yUmVtb3RlKGZ1bmMpIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBmdW5jLm5hbWUgOiBhcmd1bWVudHNbMV07CgogICAgICAgICAgICBsLmQoImFkZEZ1bmN0aW9uRm9yUmVtb3RlOiIsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIGlmICghdGhpcy5yZW1vdGVGdW5jdGlvbnMpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQ2FsbCBzZXR1cFJlbW90ZUZ1bmN0aW9uQ2FsbEFiaWxpdHkoKSBmaXJzdCEiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnJlbW90ZUZ1bmN0aW9uc1tuYW1lXSA9IGZ1bmM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBTZW5kIGEgcmVzcG9uc2UgZm9yIHRoZSBnaXZlbiByZXF1ZXN0LgogICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0TXNnICAtIG9yaWdpbmFsIHJlcXVlc3QgbWVzc2FnZSB0aGF0IGlzIGJlaW5nIHJlc3BvbmRlZCB0bwogICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0TXNnLmlkICAtIGlkIG9mIHRoZSBvcmlnaW5hbCBtZXNzYWdlCiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3RNc2cudG8gIC0gd2hlcmUgdGhlIG9yaWdpbmFsIG1lc3NhZ2Ugd2FzIHNlbnQgdG8gKGkuZS4gaGVyZSkKICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdE1zZy5mcm9tICAtIHdoZXJlIHRoZSBvcmlnaW5hbCBtZXNzYWdlIHdhcyBjb21pbmcgZnJvbQogICAgICAgICAqIEBwYXJhbSB7Kn0gcmVzcG9uc2UgLSB0aGUgcmVzcG9uc2UgcGF5bG9hZAogICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29kZV0gLSBvcHRpb25hbCByZXNwb25zZSBjb2RlCiAgICAgICAgICovCgogICAgfSwgewogICAgICAgIGtleTogJ3NlbmRSZXNwb25zZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRSZXNwb25zZShyZXF1ZXN0TXNnLCByZXNwb25zZSkgewogICAgICAgICAgICB2YXIgY29kZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDIwMCA6IGFyZ3VtZW50c1syXTsKCiAgICAgICAgICAgIGwuZCgic2VuZFJlc3BvbnNlOiIsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIHRoaXMuYnVzLnBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0TXNnLmlkLAogICAgICAgICAgICAgICAgdHlwZTogInJlc3BvbnNlIiwKICAgICAgICAgICAgICAgIGZyb206IHJlcXVlc3RNc2cudG8sCiAgICAgICAgICAgICAgICB0bzogcmVxdWVzdE1zZy5mcm9tLAogICAgICAgICAgICAgICAgYm9keTogeyBjb2RlOiBjb2RlLCB2YWx1ZTogcmVzcG9uc2UgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIGZ1bmN0aW9uIHRvIHRlc3Qgc3luY09iamVjdCBtYW5pcHVsYXRpb24gYW5kIGl0cyBjb3JyZXNwb25kaW5nIGNhbGxiYWNrcwogICAgICAgICAqIEBwYXJhbSByb29tTnIKICAgICAgICAgKi8KCiAgICB9LCB7CiAgICAgICAga2V5OiAnbW9kaWZ5Um9vbScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1vZGlmeVJvb20ocm9vbU5yKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnJvb21NYXBbcm9vbU5yXS5kYXRhLnZhbHVlczsKICAgICAgICAgICAgdmFyIHZhbCA9IHZhbHVlc1swXTsKICAgICAgICAgICAgdmFsLm5hbWUgPSAic29tZU90aGVyTmFtZSI7CiAgICAgICAgICAgIHZhbHVlc1swXSA9IHZhbDsKICAgICAgICAgICAgdGhpcy5yb29tTWFwW3Jvb21Ocl0uZGF0YS52YWx1ZXMgPSB2YWx1ZXM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBvYmplY3QgVVJMcyBmb3Igcm9vbXMgYSBjZXJ0YWluIHVzZXIgY2FuIHN1YnNjcmliZSB0bwogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyIC0gdXNlciBpZGVudGl0eSB0aGF0IGlzIGFzc29jaWF0ZWQgdG8gdGhlIHJlcXVlc3RpbmcgaHlwZXJ0eQogICAgICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBsaXN0IG9mIG9iamVjdCBVUkxzCiAgICAgICAgICovCgogICAgfSwgewogICAgICAgIGtleTogJ2dldFJvb21zJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Um9vbXModXNlcikgewogICAgICAgICAgICBsLmQoImdldFJvb29tczoiLCBhcmd1bWVudHMpOwogICAgICAgICAgICB2YXIgdXJscyA9IFtdOwogICAgICAgICAgICAvLyBpdGVyYXRlIHRocm91Z2ggcm9vbXMgYW5kIGV4dHJhY3QgdGhlaXIgVVJMcwogICAgICAgICAgICBsLmQoIml0ZXJhdGluZyB0aHJvdWdoIHJvb21zOiIsIHRoaXMucm9vbU1hcCk7CiAgICAgICAgICAgIHZhciByb29tID0gdm9pZCAwOwogICAgICAgICAgICBmb3IgKHJvb20gaW4gdGhpcy5yb29tTWFwKSB7CiAgICAgICAgICAgICAgICAvLyBUT0RPOiBjaGVjayBtZW1iZXIgYXJyYXkgZm9yIGhhdmluZyB1c2VyIGluIGl0CiAgICAgICAgICAgICAgICB1cmxzLnB1c2godGhpcy5yb29tTWFwW3Jvb21dLnVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHVybHM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBSZXF1ZXN0cyB0aGUgcm9vbSBsaXN0IGZyb20gdGhlIExXTTJNIHNlcnZlciBhbmQgc2V0cyB1cCB0aGUgc3luY09iamVjdHMgdGhhdCByZXByZXNlbnQgdGhlbQogICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIFByb21pc2UgdGhhdCByZXR1cm5zIHRoZSBhcnJheSBvZiByb29tcyBhcyBTeW5jT2JqZWN0cwogICAgICAgICAqLwoKICAgIH0sIHsKICAgICAgICBrZXk6ICdzZXRVcFJvb21zJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXBSb29tcygpIHsKICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAgICAgICBsLmQoInNldFVwUm9vbXMiKTsKICAgICAgICAgICAgaWYgKHVzZUV4YW1wbGVSb29tSnNvbikgewogICAgICAgICAgICAgICAgbC5kKCJzZXRVcFJvb21zIHVzZXMgcm9vbUpzb246IiwgX3Jvb21Kc29uMi5kZWZhdWx0KTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFVwUm9vbVN5bmNoZXJPYmplY3RzKF9yb29tSnNvbjIuZGVmYXVsdC5kYXRhKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBqc29uID0geyAibW9kZSI6ICJyZWFkIiwgInJvb20iOiBudWxsIH07CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChqc29uKS50aGVuKGZ1bmN0aW9uIChyZXNwSnNvbikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuc2V0VXBSb29tU3luY2hlck9iamVjdHMocmVzcEpzb24uZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0cyB1cCB0aGUgc3luY2hlciBvYmplY3RzIHRoYXQgcmVwcmVzZW50IHJvb21zIGluY2x1ZGVkIGluIHRoaXMganNvbgogICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHJvb21BcnJheSAtIGFycmF5IG9mIHJvb20gb2JqZWN0cyBhcyByZWNlaXZlZCBmcm9tIExXTTJNU2VydmVyCiAgICAgICAgICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSB0aGF0IHJldHVybnMgdGhlIGFycmF5IG9mIHJvb21zIGFzIFN5bmNPYmplY3RzCiAgICAgICAgICovCgogICAgfSwgewogICAgICAgIGtleTogJ3NldFVwUm9vbVN5bmNoZXJPYmplY3RzJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXBSb29tU3luY2hlck9iamVjdHMocm9vbUFycmF5KSB7CiAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgICAgICAgbC5kKCJzZXRVcFJvb21TeW5jaGVyT2JqZWN0czoiLCBhcmd1bWVudHMpOwogICAgICAgICAgICB2YXIgY29udGV4dHMgPSBbXTsKICAgICAgICAgICAgcm9vbUFycmF5LmZvckVhY2goZnVuY3Rpb24gKHJvb20pIHsKICAgICAgICAgICAgICAgIGNvbnRleHRzLnB1c2goX3RoaXM0LmNyZWF0ZVJvb21Db250ZXh0KHJvb20pKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGwuZCgiY29udGV4dCBKU09OcyBjcmVhdGVkOiIsIGNvbnRleHRzKTsKCiAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdOwogICAgICAgICAgICBjb250ZXh0cy5mb3JFYWNoKGZ1bmN0aW9uIChyb29tQ29udGV4dCkgewogICAgICAgICAgICAgICAgbC5kKCJjcmVhdGluZyBzeW5jaGVyIG9iamVjdCBmb3I6Iiwgcm9vbUNvbnRleHQpOwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChfdGhpczQuc3luY2hlci5jcmVhdGUoX3RoaXM0LmNvbnRleHRTY2hlbWFVUkwsIFtfdGhpczQuaHlwZXJ0eVVSTF0sIHJvb21Db250ZXh0KS50aGVuKGZ1bmN0aW9uIChzeW5jaFJvb20pIHsKICAgICAgICAgICAgICAgICAgICBsLmQoJ1N5bmNPYmplY3QgZm9yIHJvb20gJyArIHJvb21Db250ZXh0Lm5hbWUgKyAnIGNyZWF0ZWQ6Jywgc3luY2hSb29tKTsKCiAgICAgICAgICAgICAgICAgICAgLy8gcmVhY3QgdG8gYWRkZWQgY2hpbGRyZW4KICAgICAgICAgICAgICAgICAgICBzeW5jaFJvb20ub25BZGRDaGlsZChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbC5kKCJvbkFkZENoaWxkOiIsIGNoaWxkKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkRGF0YSA9IGNoaWxkLmRhdGEgPyBjaGlsZC5kYXRhIDogY2hpbGQudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGwuZCgiY2hpbGQgZGF0YToiLCBjaGlsZERhdGEpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAvLyByZWFjdCB0byBzdWJzY3JpcHRpb24gcmVxdWVzdHMKICAgICAgICAgICAgICAgICAgICBzeW5jaFJvb20ub25TdWJzY3JpcHRpb24oZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGwuZCgnb25TdWJzY3JpcHRpb246JywgZXZlbnQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXB0CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmFjY2VwdCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3luY2hSb29tOwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoc3luY2hPYmplY3RzKSB7CiAgICAgICAgICAgICAgICBsLmQoImFsbCBwcm9taXNlcyBkb25lOiAiLCBzeW5jaE9iamVjdHMpOwogICAgICAgICAgICAgICAgcmV0dXJuIHN5bmNoT2JqZWN0czsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGUgQ29udGV4dCBKU09OIGJhc2VkIG9uIHRoZSBqc29uIG9mIGEgcm9vbQogICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByb29tSnNvbiAtIHJvb20gb2JqZWN0IGFzIHJlY2VpdmVkIGZyb20gTFdNMk1TZXJ2ZXIKICAgICAgICAgKiBAcGFyYW0ge09iamVjdFtdfSByb29tSnNvbi5kZXZpY2VzIC0gZGV2aWNlcyBvZiB0aGUgcm9vbQogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb29tSnNvbi5uYW1lIC0gbmFtZSBvZiB0aGUgcm9vbQogICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb29tSnNvbi5faWQgLSBJRCBvZiB0aGUgcm9vbQogICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IC0gcm9vbSBDb250ZXh0IEpTT04KICAgICAgICAgKi8KCiAgICB9LCB7CiAgICAgICAga2V5OiAnY3JlYXRlUm9vbUNvbnRleHQnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSb29tQ29udGV4dChyb29tSnNvbikgewogICAgICAgICAgICBsLmQoImNyZWF0ZVJvb21Db250ZXh0OiIsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gewogICAgICAgICAgICAgICAgImlkIjogcm9vbUpzb24uX2lkLAogICAgICAgICAgICAgICAgIm5hbWUiOiByb29tSnNvbi5uYW1lLAogICAgICAgICAgICAgICAgInZhbHVlcyI6IFtdLAogICAgICAgICAgICAgICAgInNjaGVtZSI6ICJjb250ZXh0IiwKICAgICAgICAgICAgICAgICJ0eXBlIjogImNoYXQiCiAgICAgICAgICAgIH07CgogICAgICAgICAgICByb29tSnNvbi5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgICAgICAgICAgY29udGV4dC52YWx1ZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiBkZXZpY2UubmFtZSwgLy9UT0RPOiB1c2UgSUQKICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiBkZXZpY2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybiBjb250ZXh0OwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogTWFrZXMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIHJlbW90ZSBMV00yTVNlcnZlciB3aXRoIHRoZSBnaXZlbiBwYXlsb2FkIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZQogICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIC0gSlNPTiBQYXlsb2FkCiAgICAgICAgICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpdGggcGFyc2VkIEpTT04gcmVzcG9uc2UKICAgICAgICAgKi8KCiAgICB9LCB7CiAgICAgICAga2V5OiAnbWFrZVJlcXVlc3QnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlUmVxdWVzdChqc29uKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICB2YXIgeG1sSHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgeG1sSHR0cC5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTsKCiAgICAgICAgICAgICAgICB4bWxIdHRwLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoeG1sSHR0cC5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4bWxIdHRwLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZSh4bWxIdHRwLnJlc3BvbnNlVGV4dCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwuZSgianNvbiBwYXJzaW5nIGZhaWxlZCEgcmF3OiIsIHhtbEh0dHAucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLmUoZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbC5lKCJVbnN1Y2Nlc3NmdWwgcmVxdWVzdDoiLCB4bWxIdHRwLnN0YXR1c1RleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHhtbEh0dHAuc3RhdHVzVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHhtbEh0dHAub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCJVbmFibGUgdG8gc2VuZCByZXF1ZXN0LiBTdGF0dXM6ICIgKyBlLnRhcmdldC5zdGF0dXMpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB4bWxIdHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkoanNvbikpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFJvb21TZXJ2ZXI7Cn0oKTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnUm9vbVNlcnZlcicsCiAgICAgICAgaW5zdGFuY2U6IG5ldyBSb29tU2VydmVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikKICAgIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvRXZlbnRFbWl0dGVyIjo3LCIuLi91dGlscy91dGlscyI6OCwiLi9Mb2dnZXIiOjQsIi4vcm9vbUpzb24iOjYsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvRGlzY292ZXJ5IjoxLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlciI6Miwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjozfV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwovLyBleGFtcGxlIFJvb20KdmFyIHJvb21Kc29uID0gewogICAgImRhdGEiOiBbewogICAgICAgICJfaWQiOiAiNTc2OTBlYzYxZGJjOTA2YzJlZDgyNTJjIiwKICAgICAgICAiX192IjogMCwKICAgICAgICAiaXNCb29rZWQiOiBmYWxzZSwKICAgICAgICAiZGV2aWNlcyI6IFtdLAogICAgICAgICJtZW1iZXJzIjogW10sCiAgICAgICAgIm5hbWUiOiAicm9vbTEiCiAgICB9LCB7CiAgICAgICAgIl9fdiI6IDAsCiAgICAgICAgIl9pZCI6ICI1NzY5MGVjNjFkYmM5MDZjMmVkODI1MmQiLAogICAgICAgICJuYW1lIjogInJvb20zIiwKICAgICAgICAibWVtYmVycyI6IFtdLAogICAgICAgICJkZXZpY2VzIjogW10sCiAgICAgICAgImlzQm9va2VkIjogdHJ1ZQogICAgfSwgewogICAgICAgICJfX3YiOiAxLAogICAgICAgICJfaWQiOiAiNTc2OTBlYzYxZGJjOTA2YzJlZDgyNTJiIiwKICAgICAgICAibmFtZSI6ICIyMDEyIiwKICAgICAgICAibWVtYmVycyI6IFtdLAogICAgICAgICJpc0Jvb2tlZCI6IHRydWUsCiAgICAgICAgImRldmljZXMiOiBbewogICAgICAgICAgICAibmFtZSI6ICJteVJhc3BiZXJyeSIsCiAgICAgICAgICAgICJsYXN0VmFsdWVzIjogewogICAgICAgICAgICAgICAgIm1pc2MiOiBbXSwKICAgICAgICAgICAgICAgICJsaWdodCI6IFt7CiAgICAgICAgICAgICAgICAgICAgInRpbWVzdGFtcCI6ICIyMDE2LTA2LTIxVDA5OjU1OjA2LjU1M1oiLAogICAgICAgICAgICAgICAgICAgICJpZCI6IDEsCiAgICAgICAgICAgICAgICAgICAgIl9pZCI6ICI1NzY5MGVmNzFkYmM5MDZjMmVkODI1MzEiLAogICAgICAgICAgICAgICAgICAgICJkaW1tZXIiOiAzMCwKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJEZXNrbGFtcCIsCiAgICAgICAgICAgICAgICAgICAgImlzT24iOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAiY29sb3IiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ4IjogMC4zNzk1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInkiOiAwLjQ1OTgKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgInRlbXBlcmF0dXJlIjogW3sKICAgICAgICAgICAgICAgICAgICAiX2lkIjogIjU3NjkwZWZhMWRiYzkwNmMyZWQ4MjUzMiIsCiAgICAgICAgICAgICAgICAgICAgInRpbWVzdGFtcCI6ICIyMDE2LTA2LTIxVDA5OjU1OjQ0LjM0MFoiLAogICAgICAgICAgICAgICAgICAgICJ1bml0IjogIkNlbCIsCiAgICAgICAgICAgICAgICAgICAgImlkIjogMCwKICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAyNS43CiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICJodW1pZGl0eSI6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJyZWdpc3RyYXRpb24iOiB7CiAgICAgICAgICAgICAgICAicmVnaXN0ZXJlZCI6IHRydWUsCiAgICAgICAgICAgICAgICAidGltZXN0YW1wIjogIjIwMTYtMDYtMjFUMDk6NTU6MDMuNjIwWiIsCiAgICAgICAgICAgICAgICAicGF5bG9hZCI6ICI8LzMzMTEvMT4sPC8zMzAzLzA+IgogICAgICAgICAgICB9LAogICAgICAgICAgICAiX192IjogMiwKICAgICAgICAgICAgInJvb20iOiAiNTc2OTBlYzYxZGJjOTA2YzJlZDgyNTJiIiwKICAgICAgICAgICAgIl9pZCI6ICI1NzY5MGVjNjFkYmM5MDZjMmVkODI1MmUiCiAgICAgICAgfV0KICAgIH1dLAogICAgImVycm9yIjogbnVsbAp9OwoKZXhwb3J0cy5kZWZhdWx0ID0gcm9vbUpzb247Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1siZGVmYXVsdCJdOwoKfSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLyoqCiAqIEV2ZW50RW1pdHRlcgogKiBBbGwgY2xhc3NlcyB3aGljaCBleHRlbmRzIHRoaXMsIGNhbiBoYXZlIGFkZEV2ZW50TGlzdGVuZXIgYW5kIHRyaWdnZXIgZXZlbnRzOwogKi8KdmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAvKioKICAgICAqIEluaXRpYWxpemVzIHRoZSBFdmVudEVtaXR0ZXIKICAgICAqLwogICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpOwoKICAgICAgICAvLyBzZXQgdXAgbGlzdGVuZXIgaG9sZGVyCiAgICAgICAgdGhpcy5fX2V2ZW50TGlzdGVuZXJzID0ge307CiAgICB9CgogICAgLyoqCiAgICAgKiBhZGRFdmVudExpc3RlbmVyIGxpc3RlbiBmb3IgYW4gZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgZXZlbnRUeXBlIC0gbGlzdGVuaW5nIGZvciB0aGlzIHR5cGUgb2YgZXZlbnQKICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgICAqLwoKCiAgICBfY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbewogICAgICAgIGtleTogImFkZEV2ZW50TGlzdGVuZXIiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2IpIHsKICAgICAgICAgICAgLy8gYWRkIGNhbGxiYWNrIHRvIHRoZSBsaXN0IG9mIGNhbGxiYWNrcyBmb3IgdGhpcyB0eXBlCiAgICAgICAgICAgIC8vIGlmIHRoZSBsaXN0IGRvZXNuJ3QgZXhpc3QgeWV0LCBjcmVhdGUgaXQgd2l0aCB0aGUgY2FsbGJhY2sgYXMgbWVtYmVyCiAgICAgICAgICAgIGlmIChjYiAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV0pIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudFR5cGVdID0gW2NiXTtlbHNlIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudFR5cGVdLnB1c2goY2IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBJbnZva2UgdGhlIGV2ZW50VHlwZQogICAgICAgICAqIEBwYXJhbSAge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgd2lsbCBiZSBpbnZva2VkCiAgICAgICAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICAgICAgICovCgogICAgfSwgewogICAgICAgIGtleTogInRyaWdnZXIiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50VHlwZSwgcGFyYW1zKSB7CiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBjYWxsYmFja3MgZm9yIHRoaXMgdHlwZQogICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV07CiAgICAgICAgICAgIGlmIChjYWxsYmFja3MpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgewogICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoIGVycm9ycyB0byBtYWtlIHN1cmUgZXZlcnkgY2FsbGJhY2sgaXMgYmVpbmcgY2FsbGVkCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2IocGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiY2FsbGluZyBsaXN0ZW5lciAiICsgY2IubmFtZSArICIgZm9yIGV2ZW50IHR5cGUgIiArIGV2ZW50VHlwZSArICIgd2l0aCBwYXJhbWV0ZXJzICciICsgcGFyYW1zICsgIicgcmVzdWx0ZWQgaW4gYW4gZXJyb3IhIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEV2ZW50RW1pdHRlcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRFbWl0dGVyOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGl2aWRlVVJMID0gZGl2aWRlVVJMOwpleHBvcnRzLmRlZXBDbG9uZSA9IGRlZXBDbG9uZTsKZXhwb3J0cy5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7Ci8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovCgovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwoKLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovCgovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTCh1cmwpIHsKCiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKICB2YXIgcmUgPSAvKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTsKICB2YXIgc3Vic3QgPSAnJDEsJDIsJDMnOwogIHZhciBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTsKCiAgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwogIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7CiAgICBwYXJ0c1swXSA9ICdodHRwcyc7CiAgICBwYXJ0c1sxXSA9IHVybDsKICB9CgogIHZhciByZXN1bHQgPSB7CiAgICB0eXBlOiBwYXJ0c1swXSwKICAgIGRvbWFpbjogcGFydHNbMV0sCiAgICBpZGVudGl0eTogcGFydHNbMl0KICB9OwoKICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogTWFrZSBhIENPUFkgb2YgdGhlIG9yaWdpbmFsIGRhdGEKICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZAogKiBAcmV0dXJuIHtPYmplY3R9CiAqLwpmdW5jdGlvbiBkZWVwQ2xvbmUob2JqKSB7CiAgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgogIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwp9CgovKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge29iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwpmdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgICAgcmVzb2x2ZShtZWRpYVN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCn0se31dfSx7fSxbNV0pKDUpCn0pOw==",
      "sourceCodeClassname": "RoomServer",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10004,
    "version": "0.1",
    "description": "Description of RoomServer",
    "language": "Javascript",
    "hypertyType": [],
    "objectName": "RoomServer",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "dataObjects": [
      "https://catalogue.hybroker.rethink.ptinovacao.pt/.well-known/dataschema/Communication"
    ]
  },
  "BraceletSensorReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBQZXJzaXN0ZW5jZU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTo0MCBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5QZXJzaXN0ZW5jZU1hbmFnZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gaShzLGEpe2lmKCFuW3NdKXtpZighdFtzXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJnUpcmV0dXJuIHUocywhMCk7aWYobylyZXR1cm4gbyhzLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBjPW5bc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChjLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtzXVsxXVtlXTtyZXR1cm4gaShuP246ZSl9LGMsYy5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW3NdLmV4cG9ydHN9Zm9yKHZhciBvPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPHIubGVuZ3RoO3MrKylpKHJbc10pO3JldHVybiBpfSh7MTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6OX1dLDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsdD0wLG49ZS5sZW5ndGg7dDxuOysrdCl1W3RdPWVbdF0sZltlLmNoYXJDb2RlQXQodCldPXQ7ZlsiLSIuY2hhckNvZGVBdCgwKV09NjIsZlsiXyIuY2hhckNvZGVBdCgwKV09NjN9ZnVuY3Rpb24gaShlKXt2YXIgdCxuLHIsaSxvLHMsYT1lLmxlbmd0aDtpZihhJTQ+MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQiKTtvPSI9Ij09PWVbYS0yXT8yOiI9Ij09PWVbYS0xXT8xOjAscz1uZXcgYygzKmEvNC1vKSxyPW8+MD9hLTQ6YTt2YXIgdT0wO2Zvcih0PTAsbj0wO3Q8cjt0Kz00LG4rPTMpaT1mW2UuY2hhckNvZGVBdCh0KV08PDE4fGZbZS5jaGFyQ29kZUF0KHQrMSldPDwxMnxmW2UuY2hhckNvZGVBdCh0KzIpXTw8NnxmW2UuY2hhckNvZGVBdCh0KzMpXSxzW3UrK109aT4+MTYmMjU1LHNbdSsrXT1pPj44JjI1NSxzW3UrK109MjU1Jmk7cmV0dXJuIDI9PT1vPyhpPWZbZS5jaGFyQ29kZUF0KHQpXTw8MnxmW2UuY2hhckNvZGVBdCh0KzEpXT4+NCxzW3UrK109MjU1JmkpOjE9PT1vJiYoaT1mW2UuY2hhckNvZGVBdCh0KV08PDEwfGZbZS5jaGFyQ29kZUF0KHQrMSldPDw0fGZbZS5jaGFyQ29kZUF0KHQrMildPj4yLHNbdSsrXT1pPj44JjI1NSxzW3UrK109MjU1JmkpLHN9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdVtlPj4xOCY2M10rdVtlPj4xMiY2M10rdVtlPj42JjYzXSt1WzYzJmVdfWZ1bmN0aW9uIHMoZSx0LG4pe2Zvcih2YXIgcixpPVtdLHM9dDtzPG47cys9MylyPShlW3NdPDwxNikrKGVbcysxXTw8OCkrZVtzKzJdLGkucHVzaChvKHIpKTtyZXR1cm4gaS5qb2luKCIiKX1mdW5jdGlvbiBhKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLHI9biUzLGk9IiIsbz1bXSxhPTE2MzgzLGY9MCxjPW4tcjtmPGM7Zis9YSlvLnB1c2gocyhlLGYsZithPmM/YzpmK2EpKTtyZXR1cm4gMT09PXI/KHQ9ZVtuLTFdLGkrPXVbdD4+Ml0saSs9dVt0PDw0JjYzXSxpKz0iPT0iKToyPT09ciYmKHQ9KGVbbi0yXTw8OCkrZVtuLTFdLGkrPXVbdD4+MTBdLGkrPXVbdD4+NCY2M10saSs9dVt0PDwyJjYzXSxpKz0iPSIpLG8ucHVzaChpKSxvLmpvaW4oIiIpfW4udG9CeXRlQXJyYXk9aSxuLmZyb21CeXRlQXJyYXk9YTt2YXIgdT1bXSxmPVtdLGM9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXk7cigpfSx7fV0sMzpbZnVuY3Rpb24oZSx0LG4pe30se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXthcmd1bWVudHNbNF1bM11bMF0uYXBwbHkobixhcmd1bWVudHMpfSx7ZHVwOjN9XSw1OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBwLmlzVW5kZWZpbmVkKHQpPyIiK3Q6cC5pc051bWJlcih0KSYmIWlzRmluaXRlKHQpP3QudG9TdHJpbmcoKTpwLmlzRnVuY3Rpb24odCl8fHAuaXNSZWdFeHAodCk/dC50b1N0cmluZygpOnR9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBwLmlzU3RyaW5nKGUpP2UubGVuZ3RoPHQ/ZTplLnNsaWNlKDAsdCk6ZX1mdW5jdGlvbiBvKGUpe3JldHVybiBpKEpTT04uc3RyaW5naWZ5KGUuYWN0dWFsLHIpLDEyOCkrIiAiK2Uub3BlcmF0b3IrIiAiK2koSlNPTi5zdHJpbmdpZnkoZS5leHBlY3RlZCxyKSwxMjgpfWZ1bmN0aW9uIHMoZSx0LG4scixpKXt0aHJvdyBuZXcgeS5Bc3NlcnRpb25FcnJvcih7bWVzc2FnZTpuLGFjdHVhbDplLGV4cGVjdGVkOnQsb3BlcmF0b3I6cixzdGFja1N0YXJ0RnVuY3Rpb246aX0pfWZ1bmN0aW9uIGEoZSx0KXtlfHxzKGUsITAsdCwiPT0iLHkub2spfWZ1bmN0aW9uIHUoZSx0KXtpZihlPT09dClyZXR1cm4hMDtpZihwLmlzQnVmZmVyKGUpJiZwLmlzQnVmZmVyKHQpKXtpZihlLmxlbmd0aCE9dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXSE9PXRbbl0pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIHAuaXNEYXRlKGUpJiZwLmlzRGF0ZSh0KT9lLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpOnAuaXNSZWdFeHAoZSkmJnAuaXNSZWdFeHAodCk/ZS5zb3VyY2U9PT10LnNvdXJjZSYmZS5nbG9iYWw9PT10Lmdsb2JhbCYmZS5tdWx0aWxpbmU9PT10Lm11bHRpbGluZSYmZS5sYXN0SW5kZXg9PT10Lmxhc3RJbmRleCYmZS5pZ25vcmVDYXNlPT09dC5pZ25vcmVDYXNlOnAuaXNPYmplY3QoZSl8fHAuaXNPYmplY3QodCk/YyhlLHQpOmU9PXR9ZnVuY3Rpb24gZihlKXtyZXR1cm4iW29iamVjdCBBcmd1bWVudHNdIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGMoZSx0KXtpZihwLmlzTnVsbE9yVW5kZWZpbmVkKGUpfHxwLmlzTnVsbE9yVW5kZWZpbmVkKHQpKXJldHVybiExO2lmKGUucHJvdG90eXBlIT09dC5wcm90b3R5cGUpcmV0dXJuITE7aWYocC5pc1ByaW1pdGl2ZShlKXx8cC5pc1ByaW1pdGl2ZSh0KSlyZXR1cm4gZT09PXQ7dmFyIG49ZihlKSxyPWYodCk7aWYobiYmIXJ8fCFuJiZyKXJldHVybiExO2lmKG4pcmV0dXJuIGU9ZC5jYWxsKGUpLHQ9ZC5jYWxsKHQpLHUoZSx0KTt2YXIgaSxvLHM9XyhlKSxhPV8odCk7aWYocy5sZW5ndGghPWEubGVuZ3RoKXJldHVybiExO2ZvcihzLnNvcnQoKSxhLnNvcnQoKSxvPXMubGVuZ3RoLTE7bz49MDtvLS0paWYoc1tvXSE9YVtvXSlyZXR1cm4hMTtmb3Iobz1zLmxlbmd0aC0xO28+PTA7by0tKWlmKGk9c1tvXSwhdShlW2ldLHRbaV0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4hKCFlfHwhdCkmJigiW29iamVjdCBSZWdFeHBdIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpP3QudGVzdChlKTplIGluc3RhbmNlb2YgdHx8dC5jYWxsKHt9LGUpPT09ITApfWZ1bmN0aW9uIGgoZSx0LG4scil7dmFyIGk7cC5pc1N0cmluZyhuKSYmKHI9bixuPW51bGwpO3RyeXt0KCl9Y2F0Y2gobyl7aT1vfWlmKHI9KG4mJm4ubmFtZT8iICgiK24ubmFtZSsiKS4iOiIuIikrKHI/IiAiK3I6Ii4iKSxlJiYhaSYmcyhpLG4sIk1pc3NpbmcgZXhwZWN0ZWQgZXhjZXB0aW9uIityKSwhZSYmbChpLG4pJiZzKGksbiwiR290IHVud2FudGVkIGV4Y2VwdGlvbiIrciksZSYmaSYmbiYmIWwoaSxuKXx8IWUmJmkpdGhyb3cgaX12YXIgcD1lKCJ1dGlsLyIpLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGc9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx5PXQuZXhwb3J0cz1hO3kuQXNzZXJ0aW9uRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5uYW1lPSJBc3NlcnRpb25FcnJvciIsdGhpcy5hY3R1YWw9ZS5hY3R1YWwsdGhpcy5leHBlY3RlZD1lLmV4cGVjdGVkLHRoaXMub3BlcmF0b3I9ZS5vcGVyYXRvcixlLm1lc3NhZ2U/KHRoaXMubWVzc2FnZT1lLm1lc3NhZ2UsdGhpcy5nZW5lcmF0ZWRNZXNzYWdlPSExKToodGhpcy5tZXNzYWdlPW8odGhpcyksdGhpcy5nZW5lcmF0ZWRNZXNzYWdlPSEwKTt2YXIgdD1lLnN0YWNrU3RhcnRGdW5jdGlvbnx8cztpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHQpO2Vsc2V7dmFyIG49bmV3IEVycm9yO2lmKG4uc3RhY2spe3ZhciByPW4uc3RhY2ssaT10Lm5hbWUsYT1yLmluZGV4T2YoIlxuIitpKTtpZihhPj0wKXt2YXIgdT1yLmluZGV4T2YoIlxuIixhKzEpO3I9ci5zdWJzdHJpbmcodSsxKX10aGlzLnN0YWNrPXJ9fX0scC5pbmhlcml0cyh5LkFzc2VydGlvbkVycm9yLEVycm9yKSx5LmZhaWw9cyx5Lm9rPWEseS5lcXVhbD1mdW5jdGlvbihlLHQsbil7ZSE9dCYmcyhlLHQsbiwiPT0iLHkuZXF1YWwpfSx5Lm5vdEVxdWFsPWZ1bmN0aW9uKGUsdCxuKXtlPT10JiZzKGUsdCxuLCIhPSIseS5ub3RFcXVhbCl9LHkuZGVlcEVxdWFsPWZ1bmN0aW9uKGUsdCxuKXt1KGUsdCl8fHMoZSx0LG4sImRlZXBFcXVhbCIseS5kZWVwRXF1YWwpfSx5Lm5vdERlZXBFcXVhbD1mdW5jdGlvbihlLHQsbil7dShlLHQpJiZzKGUsdCxuLCJub3REZWVwRXF1YWwiLHkubm90RGVlcEVxdWFsKX0seS5zdHJpY3RFcXVhbD1mdW5jdGlvbihlLHQsbil7ZSE9PXQmJnMoZSx0LG4sIj09PSIseS5zdHJpY3RFcXVhbCl9LHkubm90U3RyaWN0RXF1YWw9ZnVuY3Rpb24oZSx0LG4pe2U9PT10JiZzKGUsdCxuLCIhPT0iLHkubm90U3RyaWN0RXF1YWwpfSx5WyJ0aHJvd3MiXT1mdW5jdGlvbihlLHQsbil7aC5hcHBseSh0aGlzLFshMF0uY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9LHkuZG9lc05vdFRocm93PWZ1bmN0aW9uKGUsdCl7aC5hcHBseSh0aGlzLFshMV0uY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9LHkuaWZFcnJvcj1mdW5jdGlvbihlKXtpZihlKXRocm93IGV9O3ZhciBfPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlnLmNhbGwoZSxuKSYmdC5wdXNoKG4pO3JldHVybiB0fX0seyJ1dGlsLyI6NDR9XSw2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lKCJidWZmZXIiKSxpPXIuQnVmZmVyLG89ci5TbG93QnVmZmVyLHM9ci5rTWF4TGVuZ3RofHwyMTQ3NDgzNjQ3O24uYWxsb2M9ZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBpLmFsbG9jKXJldHVybiBpLmFsbG9jKGUsdCxuKTtpZigibnVtYmVyIj09dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiZW5jb2RpbmcgbXVzdCBub3QgYmUgbnVtYmVyIik7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoInNpemUgbXVzdCBiZSBhIG51bWJlciIpO2lmKGU+cyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic2l6ZSBpcyB0b28gbGFyZ2UiKTt2YXIgcj1uLG89dDt2b2lkIDA9PT1vJiYocj12b2lkIDAsbz0wKTt2YXIgYT1uZXcgaShlKTtpZigic3RyaW5nIj09dHlwZW9mIG8pZm9yKHZhciB1PW5ldyBpKG8sciksZj11Lmxlbmd0aCxjPS0xOysrYzxlOylhW2NdPXVbYyVmXTtlbHNlIGEuZmlsbChvKTtyZXR1cm4gYX0sbi5hbGxvY1Vuc2FmZT1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgaS5hbGxvY1Vuc2FmZSlyZXR1cm4gaS5hbGxvY1Vuc2FmZShlKTtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigic2l6ZSBtdXN0IGJlIGEgbnVtYmVyIik7aWYoZT5zKXRocm93IG5ldyBSYW5nZUVycm9yKCJzaXplIGlzIHRvbyBsYXJnZSIpO3JldHVybiBuZXcgaShlKX0sbi5mcm9tPWZ1bmN0aW9uKGUsbixyKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgaS5mcm9tJiYoIXQuVWludDhBcnJheXx8VWludDhBcnJheS5mcm9tIT09aS5mcm9tKSlyZXR1cm4gaS5mcm9tKGUsbixyKTtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbmV3IGkoZSxuKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhciBvPW47aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG5ldyBpKGUpOyJ1bmRlZmluZWQiPT10eXBlb2YgbyYmKG89MCk7dmFyIHM9cjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHMmJihzPWUuYnl0ZUxlbmd0aC1vKSxvPj1lLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHMiKTtpZihzPmUuYnl0ZUxlbmd0aC1vKXRocm93IG5ldyBSYW5nZUVycm9yKCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzIik7cmV0dXJuIG5ldyBpKGUuc2xpY2UobyxvK3MpKX1pZihpLmlzQnVmZmVyKGUpKXt2YXIgYT1uZXcgaShlLmxlbmd0aCk7cmV0dXJuIGUuY29weShhLDAsMCxlLmxlbmd0aCksYX1pZihlKXtpZihBcnJheS5pc0FycmF5KGUpfHwidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwibGVuZ3RoImluIGUpcmV0dXJuIG5ldyBpKGUpO2lmKCJCdWZmZXIiPT09ZS50eXBlJiZBcnJheS5pc0FycmF5KGUuZGF0YSkpcmV0dXJuIG5ldyBpKGUuZGF0YSl9dGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LiIpfSxuLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgaS5hbGxvY1Vuc2FmZVNsb3cpcmV0dXJuIGkuYWxsb2NVbnNhZmVTbG93KGUpO2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplIG11c3QgYmUgYSBudW1iZXIiKTtpZihlPj1zKXRocm93IG5ldyBSYW5nZUVycm9yKCJzaXplIGlzIHRvbyBsYXJnZSIpO3JldHVybiBuZXcgbyhlKX19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtidWZmZXI6N31dLDc6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJhcnJheSYmMD09PWUuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiBpKCl7cmV0dXJuIHMuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gbyhlLHQpe2lmKGkoKTx0KXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCIpO3JldHVybiBzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KGU9bmV3IFVpbnQ4QXJyYXkodCksZS5fX3Byb3RvX189cy5wcm90b3R5cGUpOihudWxsPT09ZSYmKGU9bmV3IHModCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gcyhlLHQsbil7aWYoIShzLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBzKSlyZXR1cm4gbmV3IHMoZSx0LG4pO2lmKCJudW1iZXIiPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmciKTtyZXR1cm4gYyh0aGlzLGUpfXJldHVybiBhKHRoaXMsZSx0LG4pfWZ1bmN0aW9uIGEoZSx0LG4scil7aWYoIm51bWJlciI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/cChlLHQsbixyKToic3RyaW5nIj09dHlwZW9mIHQ/bChlLHQsbik6ZChlLHQpfWZ1bmN0aW9uIHUoZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJyJzaXplIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJyl9ZnVuY3Rpb24gZihlLHQsbixyKXtyZXR1cm4gdSh0KSx0PD0wP28oZSx0KTp2b2lkIDAhPT1uPyJzdHJpbmciPT10eXBlb2Ygcj9vKGUsdCkuZmlsbChuLHIpOm8oZSx0KS5maWxsKG4pOm8oZSx0KX1mdW5jdGlvbiBjKGUsdCl7aWYodSh0KSxlPW8oZSx0PDA/MDowfGcodCkpLCFzLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciBuPTA7bjx0OysrbillW25dPTA7cmV0dXJuIGV9ZnVuY3Rpb24gbChlLHQsbil7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYiIiE9PW58fChuPSJ1dGY4IiksIXMuaXNFbmNvZGluZyhuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciZW5jb2RpbmciIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgcj0wfF8odCxuKTtyZXR1cm4gZT1vKGUsciksZS53cml0ZSh0LG4pLGV9ZnVuY3Rpb24gaChlLHQpe3ZhciBuPTB8Zyh0Lmxlbmd0aCk7ZT1vKGUsbik7Zm9yKHZhciByPTA7cjxuO3IrPTEpZVtyXT0yNTUmdFtyXTtyZXR1cm4gZX1mdW5jdGlvbiBwKGUsdCxuLHIpe2lmKHQuYnl0ZUxlbmd0aCxuPDB8fHQuYnl0ZUxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzIik7aWYodC5ieXRlTGVuZ3RoPG4rKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzIik7cmV0dXJuIHQ9dm9pZCAwPT09biYmdm9pZCAwPT09cj9uZXcgVWludDhBcnJheSh0KTp2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQsbik6bmV3IFVpbnQ4QXJyYXkodCxuLHIpLHMuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT10LGUuX19wcm90b19fPXMucHJvdG90eXBlKTplPWgoZSx0KSxlfWZ1bmN0aW9uIGQoZSx0KXtpZihzLmlzQnVmZmVyKHQpKXt2YXIgbj0wfGcodC5sZW5ndGgpO3JldHVybiBlPW8oZSxuKSwwPT09ZS5sZW5ndGg/ZToodC5jb3B5KGUsMCwwLG4pLGUpfWlmKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCJsZW5ndGgiaW4gdClyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQubGVuZ3RofHxYKHQubGVuZ3RoKT9vKGUsMCk6aChlLHQpO2lmKCJCdWZmZXIiPT09dC50eXBlJiYkKHQuZGF0YSkpcmV0dXJuIGgoZSx0LmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4iKX1mdW5jdGlvbiBnKGUpe2lmKGU+PWkoKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweCIraSgpLnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIDB8ZX1mdW5jdGlvbiB5KGUpe3JldHVybitlIT1lJiYoZT0wKSxzLmFsbG9jKCtlKX1mdW5jdGlvbiBfKGUsdCl7aWYocy5pc0J1ZmZlcihlKSlyZXR1cm4gZS5sZW5ndGg7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmImZ1bmN0aW9uIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldyhlKXx8ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm4gZS5ieXRlTGVuZ3RoOyJzdHJpbmciIT10eXBlb2YgZSYmKGU9IiIrZSk7dmFyIG49ZS5sZW5ndGg7aWYoMD09PW4pcmV0dXJuIDA7Zm9yKHZhciByPSExOzspc3dpdGNoKHQpe2Nhc2UiYXNjaWkiOmNhc2UiYmluYXJ5IjpjYXNlInJhdyI6Y2FzZSJyYXdzIjpyZXR1cm4gbjtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2Ugdm9pZCAwOnJldHVybiBxKGUpLmxlbmd0aDtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIDIqbjtjYXNlImhleCI6cmV0dXJuIG4+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4gVyhlKS5sZW5ndGg7ZGVmYXVsdDppZihyKXJldHVybiBxKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIHYoZSx0LG4pe3ZhciByPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVybiIiO2lmKCh2b2lkIDA9PT1ufHxuPnRoaXMubGVuZ3RoKSYmKG49dGhpcy5sZW5ndGgpLG48PTApcmV0dXJuIiI7aWYobj4+Pj0wLHQ+Pj49MCxuPD10KXJldHVybiIiO2ZvcihlfHwoZT0idXRmOCIpOzspc3dpdGNoKGUpe2Nhc2UiaGV4IjpyZXR1cm4gQyh0aGlzLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gSSh0aGlzLHQsbik7Y2FzZSJhc2NpaSI6cmV0dXJuIE4odGhpcyx0LG4pO2Nhc2UiYmluYXJ5IjpyZXR1cm4gUCh0aGlzLHQsbik7Y2FzZSJiYXNlNjQiOnJldHVybiBUKHRoaXMsdCxuKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIE0odGhpcyx0LG4pO2RlZmF1bHQ6aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK2UpO2U9KGUrIiIpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24gbShlLHQsbil7dmFyIHI9ZVt0XTtlW3RdPWVbbl0sZVtuXT1yfWZ1bmN0aW9uIEUoZSx0LG4scil7ZnVuY3Rpb24gaShlLHQpe3JldHVybiAxPT09bz9lW3RdOmUucmVhZFVJbnQxNkJFKHQqbyl9dmFyIG89MSxzPWUubGVuZ3RoLGE9dC5sZW5ndGg7aWYodm9pZCAwIT09ciYmKHI9U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCksInVjczIiPT09cnx8InVjcy0yIj09PXJ8fCJ1dGYxNmxlIj09PXJ8fCJ1dGYtMTZsZSI9PT1yKSl7aWYoZS5sZW5ndGg8Mnx8dC5sZW5ndGg8MilyZXR1cm4tMTtvPTIscy89MixhLz0yLG4vPTJ9Zm9yKHZhciB1PS0xLGY9bjtmPHM7KytmKWlmKGkoZSxmKT09PWkodCx1PT09LTE/MDpmLXUpKXtpZih1PT09LTEmJih1PWYpLGYtdSsxPT09YSlyZXR1cm4gdSpvfWVsc2UgdSE9PS0xJiYoZi09Zi11KSx1PS0xO3JldHVybi0xfWZ1bmN0aW9uIHcoZSx0LG4scil7bj1OdW1iZXIobil8fDA7dmFyIGk9ZS5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSxyPmkmJihyPWkpKTpyPWk7dmFyIG89dC5sZW5ndGg7aWYobyUyIT09MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaGV4IHN0cmluZyIpO3I+by8yJiYocj1vLzIpO2Zvcih2YXIgcz0wO3M8cjsrK3Mpe3ZhciBhPXBhcnNlSW50KHQuc3Vic3RyKDIqcywyKSwxNik7aWYoaXNOYU4oYSkpcmV0dXJuIHM7ZVtuK3NdPWF9cmV0dXJuIHN9ZnVuY3Rpb24gYihlLHQsbixyKXtyZXR1cm4gVihxKHQsZS5sZW5ndGgtbiksZSxuLHIpfWZ1bmN0aW9uIFMoZSx0LG4scil7cmV0dXJuIFYoSyh0KSxlLG4scil9ZnVuY3Rpb24gTyhlLHQsbixyKXtyZXR1cm4gUyhlLHQsbixyKX1mdW5jdGlvbiBSKGUsdCxuLHIpe3JldHVybiBWKFcodCksZSxuLHIpfWZ1bmN0aW9uIEEoZSx0LG4scil7cmV0dXJuIFYoeih0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiBUKGUsdCxuKXtyZXR1cm4gMD09PXQmJm49PT1lLmxlbmd0aD9KLmZyb21CeXRlQXJyYXkoZSk6Si5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxuKSl9ZnVuY3Rpb24gSShlLHQsbil7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIHI9W10saT10O2k8bjspe3ZhciBvPWVbaV0scz1udWxsLGE9bz4yMzk/NDpvPjIyMz8zOm8+MTkxPzI6MTtpZihpK2E8PW4pe3ZhciB1LGYsYyxsO3N3aXRjaChhKXtjYXNlIDE6bzwxMjgmJihzPW8pO2JyZWFrO2Nhc2UgMjp1PWVbaSsxXSwxMjg9PT0oMTkyJnUpJiYobD0oMzEmbyk8PDZ8NjMmdSxsPjEyNyYmKHM9bCkpO2JyZWFrO2Nhc2UgMzp1PWVbaSsxXSxmPWVbaSsyXSwxMjg9PT0oMTkyJnUpJiYxMjg9PT0oMTkyJmYpJiYobD0oMTUmbyk8PDEyfCg2MyZ1KTw8Nnw2MyZmLGw+MjA0NyYmKGw8NTUyOTZ8fGw+NTczNDMpJiYocz1sKSk7YnJlYWs7Y2FzZSA0OnU9ZVtpKzFdLGY9ZVtpKzJdLGM9ZVtpKzNdLDEyOD09PSgxOTImdSkmJjEyOD09PSgxOTImZikmJjEyOD09PSgxOTImYykmJihsPSgxNSZvKTw8MTh8KDYzJnUpPDwxMnwoNjMmZik8PDZ8NjMmYyxsPjY1NTM1JiZsPDExMTQxMTImJihzPWwpKX19bnVsbD09PXM/KHM9NjU1MzMsYT0xKTpzPjY1NTM1JiYocy09NjU1MzYsci5wdXNoKHM+Pj4xMCYxMDIzfDU1Mjk2KSxzPTU2MzIwfDEwMjMmcyksci5wdXNoKHMpLGkrPWF9cmV0dXJuIEwocil9ZnVuY3Rpb24gTChlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD1aKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlKTtmb3IodmFyIG49IiIscj0wO3I8dDspbis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZShyLHIrPVopKTtyZXR1cm4gbn1mdW5jdGlvbiBOKGUsdCxuKXt2YXIgcj0iIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgaT10O2k8bjsrK2kpcis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmZVtpXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gUChlLHQsbil7dmFyIHI9IiI7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIGk9dDtpPG47KytpKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gQyhlLHQsbil7dmFyIHI9ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKSwoIW58fG48MHx8bj5yKSYmKG49cik7Zm9yKHZhciBpPSIiLG89dDtvPG47KytvKWkrPUgoZVtvXSk7cmV0dXJuIGl9ZnVuY3Rpb24gTShlLHQsbil7Zm9yKHZhciByPWUuc2xpY2UodCxuKSxpPSIiLG89MDtvPHIubGVuZ3RoO28rPTIpaSs9U3RyaW5nLmZyb21DaGFyQ29kZShyW29dKzI1NipyW28rMV0pO3JldHVybiBpfWZ1bmN0aW9uIHgoZSx0LG4pe2lmKGUlMSE9PTB8fGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib2Zmc2V0IGlzIG5vdCB1aW50Iik7aWYoZSt0Pm4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgiKX1mdW5jdGlvbiBEKGUsdCxuLHIsaSxvKXtpZighcy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodD5pfHx0PG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKG4rcj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gaihlLHQsbixyKXt0PDAmJih0PTY1NTM1K3QrMSk7Zm9yKHZhciBpPTAsbz1NYXRoLm1pbihlLmxlbmd0aC1uLDIpO2k8bzsrK2kpZVtuK2ldPSh0JjI1NTw8OCoocj9pOjEtaSkpPj4+OCoocj9pOjEtaSl9ZnVuY3Rpb24gVShlLHQsbixyKXt0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKTtmb3IodmFyIGk9MCxvPU1hdGgubWluKGUubGVuZ3RoLW4sNCk7aTxvOysraSllW24raV09dD4+PjgqKHI/aTozLWkpJjI1NX1mdW5jdGlvbiBrKGUsdCxuLHIsaSxvKXtpZihuK3I+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gQihlLHQsbixyLGkpe3JldHVybiBpfHxrKGUsdCxuLDQsMy40MDI4MjM0NjYzODUyODg2ZTM4LC0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgpLFEud3JpdGUoZSx0LG4sciwyMyw0KSxuKzR9ZnVuY3Rpb24gRyhlLHQsbixyLGkpe3JldHVybiBpfHxrKGUsdCxuLDgsMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCwtMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCksUS53cml0ZShlLHQsbixyLDUyLDgpLG4rOH1mdW5jdGlvbiBGKGUpe2lmKGU9WShlKS5yZXBsYWNlKGVlLCIiKSxlLmxlbmd0aDwyKXJldHVybiIiO2Zvcig7ZS5sZW5ndGglNCE9PTA7KWUrPSI9IjtyZXR1cm4gZX1mdW5jdGlvbiBZKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9ZnVuY3Rpb24gSChlKXtyZXR1cm4gZTwxNj8iMCIrZS50b1N0cmluZygxNik6ZS50b1N0cmluZygxNil9ZnVuY3Rpb24gcShlLHQpe3Q9dHx8MS8wO2Zvcih2YXIgbixyPWUubGVuZ3RoLGk9bnVsbCxvPVtdLHM9MDtzPHI7KytzKXtpZihuPWUuY2hhckNvZGVBdChzKSxuPjU1Mjk1JiZuPDU3MzQ0KXtpZighaSl7aWYobj41NjMxOSl7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKHMrMT09PXIpeyh0LT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pPW47Y29udGludWV9aWYobjw1NjMyMCl7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpLGk9bjtjb250aW51ZX1uPShpLTU1Mjk2PDwxMHxuLTU2MzIwKSs2NTUzNn1lbHNlIGkmJih0LT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtpZihpPW51bGwsbjwxMjgpe2lmKCh0LT0xKTwwKWJyZWFrO28ucHVzaChuKX1lbHNlIGlmKG48MjA0OCl7aWYoKHQtPTIpPDApYnJlYWs7by5wdXNoKG4+PjZ8MTkyLDYzJm58MTI4KX1lbHNlIGlmKG48NjU1MzYpe2lmKCh0LT0zKTwwKWJyZWFrO28ucHVzaChuPj4xMnwyMjQsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfWVsc2V7aWYoIShuPDExMTQxMTIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50Iik7aWYoKHQtPTQpPDApYnJlYWs7by5wdXNoKG4+PjE4fDI0MCxuPj4xMiY2M3wxMjgsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfX1yZXR1cm4gb31mdW5jdGlvbiBLKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDsrK24pdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fWZ1bmN0aW9uIHooZSx0KXtmb3IodmFyIG4scixpLG89W10scz0wO3M8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrcyluPWUuY2hhckNvZGVBdChzKSxyPW4+PjgsaT1uJTI1NixvLnB1c2goaSksby5wdXNoKHIpO3JldHVybiBvfWZ1bmN0aW9uIFcoZSl7cmV0dXJuIEoudG9CeXRlQXJyYXkoRihlKSl9ZnVuY3Rpb24gVihlLHQsbixyKXtmb3IodmFyIGk9MDtpPHImJiEoaStuPj10Lmxlbmd0aHx8aT49ZS5sZW5ndGgpOysraSl0W2krbl09ZVtpXTtyZXR1cm4gaX1mdW5jdGlvbiBYKGUpe3JldHVybiBlIT09ZX12YXIgSj1lKCJiYXNlNjQtanMiKSxRPWUoImllZWU3NTQiKSwkPWUoImlzYXJyYXkiKTtuLkJ1ZmZlcj1zLG4uU2xvd0J1ZmZlcj15LG4uSU5TUEVDVF9NQVhfQllURVM9NTAscy5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PXQuVFlQRURfQVJSQVlfU1VQUE9SVD90LlRZUEVEX0FSUkFZX1NVUFBPUlQ6cigpLG4ua01heExlbmd0aD1pKCkscy5wb29sU2l6ZT04MTkyLHMuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19fPXMucHJvdG90eXBlLGV9LHMuZnJvbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGEobnVsbCxlLHQsbil9LHMuVFlQRURfQVJSQVlfU1VQUE9SVCYmKHMucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxzLl9fcHJvdG9fXz1VaW50OEFycmF5LCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuc3BlY2llcyYmc1tTeW1ib2wuc3BlY2llc109PT1zJiZPYmplY3QuZGVmaW5lUHJvcGVydHkocyxTeW1ib2wuc3BlY2llcyx7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITB9KSkscy5hbGxvYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGYobnVsbCxlLHQsbil9LHMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGMobnVsbCxlKX0scy5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGMobnVsbCxlKX0scy5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LHMuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKCFzLmlzQnVmZmVyKGUpfHwhcy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzIik7aWYoZT09PXQpcmV0dXJuIDA7Zm9yKHZhciBuPWUubGVuZ3RoLHI9dC5sZW5ndGgsaT0wLG89TWF0aC5taW4obixyKTtpPG87KytpKWlmKGVbaV0hPT10W2ldKXtuPWVbaV0scj10W2ldO2JyZWFrfXJldHVybiBuPHI/LTE6cjxuPzE6MH0scy5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJiaW5hcnkiOmNhc2UiYmFzZTY0IjpjYXNlInJhdyI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxzLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCEkKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHMuYWxsb2MoMCk7dmFyIG47aWYodm9pZCAwPT09dClmb3IodD0wLG49MDtuPGUubGVuZ3RoOysrbil0Kz1lW25dLmxlbmd0aDt2YXIgcj1zLmFsbG9jVW5zYWZlKHQpLGk9MDtmb3Iobj0wO248ZS5sZW5ndGg7KytuKXt2YXIgbz1lW25dO2lmKCFzLmlzQnVmZmVyKG8pKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtvLmNvcHkocixpKSxpKz1vLmxlbmd0aH1yZXR1cm4gcn0scy5ieXRlTGVuZ3RoPV8scy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLHMucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTIpbSh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9NCltKHRoaXMsdCx0KzMpLG0odGhpcyx0KzEsdCsyKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT0wfHRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT8iIjowPT09YXJndW1lbnRzLmxlbmd0aD9JKHRoaXMsMCxlKTp2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCFzLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtyZXR1cm4gdGhpcz09PWV8fDA9PT1zLmNvbXBhcmUodGhpcyxlKX0scy5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciBlPSIiLHQ9bi5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdGhpcy5sZW5ndGg+MCYmKGU9dGhpcy50b1N0cmluZygiaGV4IiwwLHQpLm1hdGNoKC8uezJ9L2cpLmpvaW4oIiAiKSx0aGlzLmxlbmd0aD50JiYoZSs9IiAuLi4gIikpLCI8QnVmZmVyICIrZSsiPiJ9LHMucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oZSx0LG4scixpKXtpZighcy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7aWYodm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09biYmKG49ZT9lLmxlbmd0aDowKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1pJiYoaT10aGlzLmxlbmd0aCksdDwwfHxuPmUubGVuZ3RofHxyPDB8fGk+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm91dCBvZiByYW5nZSBpbmRleCIpO2lmKHI+PWkmJnQ+PW4pcmV0dXJuIDA7aWYocj49aSlyZXR1cm4tMTtpZih0Pj1uKXJldHVybiAxO2lmKHQ+Pj49MCxuPj4+PTAscj4+Pj0wLGk+Pj49MCx0aGlzPT09ZSlyZXR1cm4gMDtmb3IodmFyIG89aS1yLGE9bi10LHU9TWF0aC5taW4obyxhKSxmPXRoaXMuc2xpY2UocixpKSxjPWUuc2xpY2UodCxuKSxsPTA7bDx1OysrbClpZihmW2xdIT09Y1tsXSl7bz1mW2xdLGE9Y1tsXTticmVha31yZXR1cm4gbzxhPy0xOmE8bz8xOjB9LHMucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LG4pe2lmKCJzdHJpbmciPT10eXBlb2YgdD8obj10LHQ9MCk6dD4yMTQ3NDgzNjQ3P3Q9MjE0NzQ4MzY0Nzp0PC0yMTQ3NDgzNjQ4JiYodD0tMjE0NzQ4MzY0OCksdD4+PTAsMD09PXRoaXMubGVuZ3RoKXJldHVybi0xO2lmKHQ+PXRoaXMubGVuZ3RoKXJldHVybi0xO2lmKHQ8MCYmKHQ9TWF0aC5tYXgodGhpcy5sZW5ndGgrdCwwKSksInN0cmluZyI9PXR5cGVvZiBlJiYoZT1zLmZyb20oZSxuKSkscy5pc0J1ZmZlcihlKSlyZXR1cm4gMD09PWUubGVuZ3RoPy0xOkUodGhpcyxlLHQsbik7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiBzLlRZUEVEX0FSUkFZX1NVUFBPUlQmJiJmdW5jdGlvbiI9PT1VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0aGlzLGUsdCk6RSh0aGlzLFtlXSx0LG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfSxzLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuaW5kZXhPZihlLHQsbikhPT0tMX0scy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4scil7aWYodm9pZCAwPT09dClyPSJ1dGY4IixuPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PW4mJiJzdHJpbmciPT10eXBlb2YgdClyPXQsbj10aGlzLmxlbmd0aCx0PTA7ZWxzZXtpZighaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3Q9MHx0LGlzRmluaXRlKG4pPyhuPTB8bix2b2lkIDA9PT1yJiYocj0idXRmOCIpKToocj1uLG49dm9pZCAwKX12YXIgaT10aGlzLmxlbmd0aC10O2lmKCh2b2lkIDA9PT1ufHxuPmkpJiYobj1pKSxlLmxlbmd0aD4wJiYobjwwfHx0PDApfHx0PnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcyIpO3J8fChyPSJ1dGY4Iik7Zm9yKHZhciBvPSExOzspc3dpdGNoKHIpe2Nhc2UiaGV4IjpyZXR1cm4gdyh0aGlzLGUsdCxuKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBiKHRoaXMsZSx0LG4pO2Nhc2UiYXNjaWkiOnJldHVybiBTKHRoaXMsZSx0LG4pO2Nhc2UiYmluYXJ5IjpyZXR1cm4gTyh0aGlzLGUsdCxuKTtjYXNlImJhc2U2NCI6cmV0dXJuIFIodGhpcyxlLHQsbik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBBKHRoaXMsZSx0LG4pO2RlZmF1bHQ6aWYobyl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK3IpO3I9KCIiK3IpLnRvTG93ZXJDYXNlKCksbz0hMH19LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJCdWZmZXIiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIFo9NDA5NjtzLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubGVuZ3RoO2U9fn5lLHQ9dm9pZCAwPT09dD9uOn5+dCxlPDA/KGUrPW4sZTwwJiYoZT0wKSk6ZT5uJiYoZT1uKSx0PDA/KHQrPW4sdDwwJiYodD0wKSk6dD5uJiYodD1uKSx0PGUmJih0PWUpO3ZhciByO2lmKHMuVFlQRURfQVJSQVlfU1VQUE9SVClyPXRoaXMuc3ViYXJyYXkoZSx0KSxyLl9fcHJvdG9fXz1zLnByb3RvdHlwZTtlbHNle3ZhciBpPXQtZTtyPW5ldyBzKGksKHZvaWQgMCkpO2Zvcih2YXIgbz0wO288aTsrK28pcltvXT10aGlzW28rZV19cmV0dXJuIHJ9LHMucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24oZSx0LG4pe2U9MHxlLHQ9MHx0LG58fHgoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlXSxpPTEsbz0wOysrbzx0JiYoaSo9MjU2KTspcis9dGhpc1tlK29dKmk7cmV0dXJuIHJ9LHMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LG4pe2U9MHxlLHQ9MHx0LG58fHgoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlKy0tdF0saT0xO3Q+MCYmKGkqPTI1Nik7KXIrPXRoaXNbZSstLXRdKmk7cmV0dXJuIHJ9LHMucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHx4KGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0scy5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fHgoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OH0scy5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fHgoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdPDw4fHRoaXNbZSsxXX0scy5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fHgoZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxzLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8eChlLDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbZV0rKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9LHMucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihlLHQsbil7ZT0wfGUsdD0wfHQsbnx8eChlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2VdLGk9MSxvPTA7KytvPHQmJihpKj0yNTYpOylyKz10aGlzW2Urb10qaTtyZXR1cm4gaSo9MTI4LHI+PWkmJihyLT1NYXRoLnBvdygyLDgqdCkpLHJ9LHMucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbihlLHQsbil7ZT0wfGUsdD0wfHQsbnx8eChlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10LGk9MSxvPXRoaXNbZSstLXJdO3I+MCYmKGkqPTI1Nik7KW8rPXRoaXNbZSstLXJdKmk7cmV0dXJuIGkqPTEyOCxvPj1pJiYoby09TWF0aC5wb3coMiw4KnQpKSxvfSxzLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHx4KGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/KDI1NS10aGlzW2VdKzEpKi0xOnRoaXNbZV19LHMucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7dHx8eChlLDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbZV18dGhpc1tlKzFdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxzLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3R8fHgoZSwyLHRoaXMubGVuZ3RoKTt2YXIgbj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0scy5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8eChlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0scy5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8eChlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDI0fHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXX0scy5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8eChlLDQsdGhpcy5sZW5ndGgpLFEucmVhZCh0aGlzLGUsITAsMjMsNCl9LHMucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fHgoZSw0LHRoaXMubGVuZ3RoKSxRLnJlYWQodGhpcyxlLCExLDIzLDQpfSxzLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8eChlLDgsdGhpcy5sZW5ndGgpLFEucmVhZCh0aGlzLGUsITAsNTIsOCl9LHMucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHx4KGUsOCx0aGlzLmxlbmd0aCksUS5yZWFkKHRoaXMsZSwhMSw1Miw4KX0scy5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT0rZSx0PTB8dCxuPTB8biwhcil7dmFyIGk9TWF0aC5wb3coMiw4Km4pLTE7RCh0aGlzLGUsdCxuLGksMCl9dmFyIG89MSxzPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytzPG4mJihvKj0yNTYpOyl0aGlzW3Qrc109ZS9vJjI1NTtyZXR1cm4gdCtufSxzLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQsbixyKXtpZihlPStlLHQ9MHx0LG49MHxuLCFyKXt2YXIgaT1NYXRoLnBvdygyLDgqbiktMTtEKHRoaXMsZSx0LG4saSwwKX12YXIgbz1uLTEscz0xO2Zvcih0aGlzW3Qrb109MjU1JmU7LS1vPj0wJiYocyo9MjU2KTspdGhpc1t0K29dPWUvcyYyNTU7cmV0dXJuIHQrbn0scy5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD0wfHQsbnx8RCh0aGlzLGUsdCwxLDI1NSwwKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLHRoaXNbdF09MjU1JmUsdCsxfSxzLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDIsNjU1MzUsMCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6aih0aGlzLGUsdCwhMCksdCsyfSxzLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDIsNjU1MzUsMCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6aih0aGlzLGUsdCwhMSksdCsyfSxzLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdCszXT1lPj4+MjQsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrMV09ZT4+PjgsdGhpc1t0XT0yNTUmZSk6VSh0aGlzLGUsdCwhMCksdCs0fSxzLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6VSh0aGlzLGUsdCwhMSksdCs0fSxzLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdD0wfHQsIXIpe3ZhciBpPU1hdGgucG93KDIsOCpuLTEpO0QodGhpcyxlLHQsbixpLTEsLWkpfXZhciBvPTAscz0xLGE9MDtmb3IodGhpc1t0XT0yNTUmZTsrK288biYmKHMqPTI1Nik7KWU8MCYmMD09PWEmJjAhPT10aGlzW3Qrby0xXSYmKGE9MSksdGhpc1t0K29dPShlL3M+PjApLWEmMjU1O3JldHVybiB0K259LHMucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT0rZSx0PTB8dCwhcil7dmFyIGk9TWF0aC5wb3coMiw4Km4tMSk7RCh0aGlzLGUsdCxuLGktMSwtaSl9dmFyIG89bi0xLHM9MSxhPTA7Zm9yKHRoaXNbdCtvXT0yNTUmZTstLW8+PTAmJihzKj0yNTYpOyllPDAmJjA9PT1hJiYwIT09dGhpc1t0K28rMV0mJihhPTEpLHRoaXNbdCtvXT0oZS9zPj4wKS1hJjI1NTtyZXR1cm4gdCtufSxzLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9MHx0LG58fEQodGhpcyxlLHQsMSwxMjcsLTEyOCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09MjU1JmUsdCsxfSxzLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ9MHx0LG58fEQodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLHMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOmoodGhpcyxlLHQsITApLHQrMn0scy5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0PTB8dCxufHxEKHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpqKHRoaXMsZSx0LCExKSx0KzJ9LHMucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD0wfHQsbnx8RCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrM109ZT4+PjI0KTpVKHRoaXMsZSx0LCEwKSx0KzR9LHMucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD0wfHQsbnx8RCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLHMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTpVKHRoaXMsZSx0LCExKSx0KzR9LHMucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEIodGhpcyxlLHQsITAsbil9LHMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEIodGhpcyxlLHQsITEsbil9LHMucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBHKHRoaXMsZSx0LCEwLG4pfSxzLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRyh0aGlzLGUsdCwhMSxuKX0scy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQsbixyKXtpZihufHwobj0wKSxyfHwwPT09cnx8KHI9dGhpcy5sZW5ndGgpLHQ+PWUubGVuZ3RoJiYodD1lLmxlbmd0aCksdHx8KHQ9MCkscj4wJiZyPG4mJihyPW4pLHI9PT1uKXJldHVybiAwO2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKG48MHx8bj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzIik7cj50aGlzLmxlbmd0aCYmKHI9dGhpcy5sZW5ndGgpLGUubGVuZ3RoLXQ8ci1uJiYocj1lLmxlbmd0aC10K24pO3ZhciBpLG89ci1uO2lmKHRoaXM9PT1lJiZuPHQmJnQ8cilmb3IoaT1vLTE7aT49MDstLWkpZVtpK3RdPXRoaXNbaStuXTtlbHNlIGlmKG88MWUzfHwhcy5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihpPTA7aTxvOysraSllW2krdF09dGhpc1tpK25dO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KG4sbitvKSx0KTtyZXR1cm4gb30scy5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdD8ocj10LHQ9MCxuPXRoaXMubGVuZ3RoKToic3RyaW5nIj09dHlwZW9mIG4mJihyPW4sbj10aGlzLmxlbmd0aCksMT09PWUubGVuZ3RoKXt2YXIgaT1lLmNoYXJDb2RlQXQoMCk7aTwyNTYmJihlPWkpfWlmKHZvaWQgMCE9PXImJiJzdHJpbmciIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiByJiYhcy5pc0VuY29kaW5nKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcil9ZWxzZSJudW1iZXIiPT10eXBlb2YgZSYmKGU9MjU1JmUpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5sZW5ndGg8bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiT3V0IG9mIHJhbmdlIGluZGV4Iik7aWYobjw9dClyZXR1cm4gdGhpczt0Pj4+PTAsbj12b2lkIDA9PT1uP3RoaXMubGVuZ3RoOm4+Pj4wLGV8fChlPTApO3ZhciBvO2lmKCJudW1iZXIiPT10eXBlb2YgZSlmb3Iobz10O288bjsrK28pdGhpc1tvXT1lO2Vsc2V7dmFyIGE9cy5pc0J1ZmZlcihlKT9lOnEobmV3IHMoZSxyKS50b1N0cmluZygpKSx1PWEubGVuZ3RoO2ZvcihvPTA7bzxuLXQ7KytvKXRoaXNbbyt0XT1hW28ldV19cmV0dXJuIHRoaXN9O3ZhciBlZT0vW14rXC8wLTlBLVphLXotX10vZ30pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyJiYXNlNjQtanMiOjIsaWVlZTc1NDoxNyxpc2FycmF5OjIxfV0sODpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17T19SRE9OTFk6MCxPX1dST05MWToxLE9fUkRXUjoyLFNfSUZNVDo2MTQ0MCxTX0lGUkVHOjMyNzY4LFNfSUZESVI6MTYzODQsU19JRkNIUjo4MTkyLFNfSUZCTEs6MjQ1NzYsU19JRklGTzo0MDk2LFNfSUZMTks6NDA5NjAsU19JRlNPQ0s6NDkxNTIsT19DUkVBVDo1MTIsT19FWENMOjIwNDgsT19OT0NUVFk6MTMxMDcyLE9fVFJVTkM6MTAyNCxPX0FQUEVORDo4LE9fRElSRUNUT1JZOjEwNDg1NzYsT19OT0ZPTExPVzoyNTYsT19TWU5DOjEyOCxPX1NZTUxJTks6MjA5NzE1MixPX05PTkJMT0NLOjQsU19JUldYVTo0NDgsU19JUlVTUjoyNTYsU19JV1VTUjoxMjgsU19JWFVTUjo2NCxTX0lSV1hHOjU2LFNfSVJHUlA6MzIsU19JV0dSUDoxNixTX0lYR1JQOjgsU19JUldYTzo3LFNfSVJPVEg6NCxTX0lXT1RIOjIsU19JWE9USDoxLEUyQklHOjcsRUFDQ0VTOjEzLEVBRERSSU5VU0U6NDgsRUFERFJOT1RBVkFJTDo0OSxFQUZOT1NVUFBPUlQ6NDcsRUFHQUlOOjM1LEVBTFJFQURZOjM3LEVCQURGOjksRUJBRE1TRzo5NCxFQlVTWToxNixFQ0FOQ0VMRUQ6ODksRUNISUxEOjEwLEVDT05OQUJPUlRFRDo1MyxFQ09OTlJFRlVTRUQ6NjEsRUNPTk5SRVNFVDo1NCxFREVBRExLOjExLEVERVNUQUREUlJFUTozOSxFRE9NOjMzLEVEUVVPVDo2OSxFRVhJU1Q6MTcsRUZBVUxUOjE0LEVGQklHOjI3LEVIT1NUVU5SRUFDSDo2NSxFSURSTTo5MCxFSUxTRVE6OTIsRUlOUFJPR1JFU1M6MzYsRUlOVFI6NCxFSU5WQUw6MjIsRUlPOjUsRUlTQ09OTjo1NixFSVNESVI6MjEsRUxPT1A6NjIsRU1GSUxFOjI0LEVNTElOSzozMSxFTVNHU0laRTo0MCxFTVVMVElIT1A6OTUsRU5BTUVUT09MT05HOjYzLEVORVRET1dOOjUwLEVORVRSRVNFVDo1MixFTkVUVU5SRUFDSDo1MSxFTkZJTEU6MjMsRU5PQlVGUzo1NSxFTk9EQVRBOjk2LEVOT0RFVjoxOSxFTk9FTlQ6MixFTk9FWEVDOjgsRU5PTENLOjc3LEVOT0xJTks6OTcsRU5PTUVNOjEyLEVOT01TRzo5MSxFTk9QUk9UT09QVDo0MixFTk9TUEM6MjgsRU5PU1I6OTgsRU5PU1RSOjk5LEVOT1NZUzo3OCxFTk9UQ09OTjo1NyxFTk9URElSOjIwLEVOT1RFTVBUWTo2NixFTk9UU09DSzozOCxFTk9UU1VQOjQ1LEVOT1RUWToyNSxFTlhJTzo2LEVPUE5PVFNVUFA6MTAyLEVPVkVSRkxPVzo4NCxFUEVSTToxLEVQSVBFOjMyLEVQUk9UTzoxMDAsRVBST1RPTk9TVVBQT1JUOjQzLEVQUk9UT1RZUEU6NDEsRVJBTkdFOjM0LEVST0ZTOjMwLEVTUElQRToyOSxFU1JDSDozLEVTVEFMRTo3MCxFVElNRToxMDEsRVRJTUVET1VUOjYwLEVUWFRCU1k6MjYsRVdPVUxEQkxPQ0s6MzUsRVhERVY6MTgsU0lHSFVQOjEsU0lHSU5UOjIsU0lHUVVJVDozLFNJR0lMTDo0LFNJR1RSQVA6NSxTSUdBQlJUOjYsU0lHSU9UOjYsU0lHQlVTOjEwLFNJR0ZQRTo4LFNJR0tJTEw6OSxTSUdVU1IxOjMwLFNJR1NFR1Y6MTEsU0lHVVNSMjozMSxTSUdQSVBFOjEzLFNJR0FMUk06MTQsU0lHVEVSTToxNSxTSUdDSExEOjIwLFNJR0NPTlQ6MTksU0lHU1RPUDoxNyxTSUdUU1RQOjE4LFNJR1RUSU46MjEsU0lHVFRPVToyMixTSUdVUkc6MTYsU0lHWENQVToyNCxTSUdYRlNaOjI1LFNJR1ZUQUxSTToyNixTSUdQUk9GOjI3LFNJR1dJTkNIOjI4LFNJR0lPOjIzLFNJR1NZUzoxMixTU0xfT1BfQUxMOjIxNDc0ODY3MTksU1NMX09QX0FMTE9XX1VOU0FGRV9MRUdBQ1lfUkVORUdPVElBVElPTjoyNjIxNDQsU1NMX09QX0NJUEhFUl9TRVJWRVJfUFJFRkVSRU5DRTo0MTk0MzA0LFNTTF9PUF9DSVNDT19BTllDT05ORUNUOjMyNzY4LFNTTF9PUF9DT09LSUVfRVhDSEFOR0U6ODE5MixTU0xfT1BfQ1JZUFRPUFJPX1RMU0VYVF9CVUc6MjE0NzQ4MzY0OCxTU0xfT1BfRE9OVF9JTlNFUlRfRU1QVFlfRlJBR01FTlRTOjIwNDgsU1NMX09QX0VQSEVNRVJBTF9SU0E6MCxTU0xfT1BfTEVHQUNZX1NFUlZFUl9DT05ORUNUOjQsU1NMX09QX01JQ1JPU09GVF9CSUdfU1NMVjNfQlVGRkVSOjMyLFNTTF9PUF9NSUNST1NPRlRfU0VTU19JRF9CVUc6MSxTU0xfT1BfTVNJRV9TU0xWMl9SU0FfUEFERElORzowLFNTTF9PUF9ORVRTQ0FQRV9DQV9ETl9CVUc6NTM2ODcwOTEyLFNTTF9PUF9ORVRTQ0FQRV9DSEFMTEVOR0VfQlVHOjIsU1NMX09QX05FVFNDQVBFX0RFTU9fQ0lQSEVSX0NIQU5HRV9CVUc6MTA3Mzc0MTgyNCxTU0xfT1BfTkVUU0NBUEVfUkVVU0VfQ0lQSEVSX0NIQU5HRV9CVUc6OCxTU0xfT1BfTk9fQ09NUFJFU1NJT046MTMxMDcyLFNTTF9PUF9OT19RVUVSWV9NVFU6NDA5NixTU0xfT1BfTk9fU0VTU0lPTl9SRVNVTVBUSU9OX09OX1JFTkVHT1RJQVRJT046NjU1MzYsU1NMX09QX05PX1NTTHYyOjE2Nzc3MjE2LFNTTF9PUF9OT19TU0x2MzozMzU1NDQzMixTU0xfT1BfTk9fVElDS0VUOjE2Mzg0LFNTTF9PUF9OT19UTFN2MTo2NzEwODg2NCxTU0xfT1BfTk9fVExTdjFfMToyNjg0MzU0NTYsU1NMX09QX05PX1RMU3YxXzI6MTM0MjE3NzI4LFNTTF9PUF9QS0NTMV9DSEVDS18xOjAsU1NMX09QX1BLQ1MxX0NIRUNLXzI6MCxTU0xfT1BfU0lOR0xFX0RIX1VTRToxMDQ4NTc2LFNTTF9PUF9TSU5HTEVfRUNESF9VU0U6NTI0Mjg4LFNTTF9PUF9TU0xFQVlfMDgwX0NMSUVOVF9ESF9CVUc6MTI4LFNTTF9PUF9TU0xSRUYyX1JFVVNFX0NFUlRfVFlQRV9CVUc6MCxTU0xfT1BfVExTX0JMT0NLX1BBRERJTkdfQlVHOjUxMixTU0xfT1BfVExTX0Q1X0JVRzoyNTYsU1NMX09QX1RMU19ST0xMQkFDS19CVUc6ODM4ODYwOCxFTkdJTkVfTUVUSE9EX0RTQToyLEVOR0lORV9NRVRIT0RfREg6NCxFTkdJTkVfTUVUSE9EX1JBTkQ6OCxFTkdJTkVfTUVUSE9EX0VDREg6MTYsRU5HSU5FX01FVEhPRF9FQ0RTQTozMixFTkdJTkVfTUVUSE9EX0NJUEhFUlM6NjQsRU5HSU5FX01FVEhPRF9ESUdFU1RTOjEyOCxFTkdJTkVfTUVUSE9EX1NUT1JFOjI1NixFTkdJTkVfTUVUSE9EX1BLRVlfTUVUSFM6NTEyLEVOR0lORV9NRVRIT0RfUEtFWV9BU04xX01FVEhTOjEwMjQsRU5HSU5FX01FVEhPRF9BTEw6NjU1MzUsRU5HSU5FX01FVEhPRF9OT05FOjAsREhfQ0hFQ0tfUF9OT1RfU0FGRV9QUklNRToyLERIX0NIRUNLX1BfTk9UX1BSSU1FOjEsREhfVU5BQkxFX1RPX0NIRUNLX0dFTkVSQVRPUjo0LERIX05PVF9TVUlUQUJMRV9HRU5FUkFUT1I6OCxOUE5fRU5BQkxFRDoxLFJTQV9QS0NTMV9QQURESU5HOjEsUlNBX1NTTFYyM19QQURESU5HOjIsUlNBX05PX1BBRERJTkc6MyxSU0FfUEtDUzFfT0FFUF9QQURESU5HOjQsUlNBX1g5MzFfUEFERElORzo1LFJTQV9QS0NTMV9QU1NfUEFERElORzo2LFBPSU5UX0NPTlZFUlNJT05fQ09NUFJFU1NFRDoyLFBPSU5UX0NPTlZFUlNJT05fVU5DT01QUkVTU0VEOjQsUE9JTlRfQ09OVkVSU0lPTl9IWUJSSUQ6NixGX09LOjAsUl9PSzo0LFdfT0s6MixYX09LOjEsVVZfVURQX1JFVVNFQUREUjo0fX0se31dLDk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIiksaT1yLkpTT058fChyLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaS5zdHJpbmdpZnkuYXBwbHkoaSxhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxMH1dLDEwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPXIpfSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5KGUpOiJbb2JqZWN0IEFycmF5XSI9PT15KGUpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZX1mdW5jdGlvbiBpKGUpe3JldHVybiBudWxsPT09ZX1mdW5jdGlvbiBvKGUpe3JldHVybiBudWxsPT1lfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfWZ1bmN0aW9uIGEoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfWZ1bmN0aW9uIHUoZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gYyhlKXtyZXR1cm4iW29iamVjdCBSZWdFeHBdIj09PXkoZSl9ZnVuY3Rpb24gbChlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIltvYmplY3QgRGF0ZV0iPT09eShlKX1mdW5jdGlvbiBwKGUpe3JldHVybiJbb2JqZWN0IEVycm9yXSI9PT15KGUpfHxlIGluc3RhbmNlb2YgRXJyb3J9ZnVuY3Rpb24gZChlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX1mdW5jdGlvbiBnKGUpe3JldHVybiBudWxsPT09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlfHwic3RyaW5nIj09dHlwZW9mIGV8fCJzeW1ib2wiPT10eXBlb2YgZXx8InVuZGVmaW5lZCI9PXR5cGVvZiBlfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1uLmlzQXJyYXk9dCxuLmlzQm9vbGVhbj1yLG4uaXNOdWxsPWksbi5pc051bGxPclVuZGVmaW5lZD1vLG4uaXNOdW1iZXI9cyxuLmlzU3RyaW5nPWEsbi5pc1N5bWJvbD11LG4uaXNVbmRlZmluZWQ9ZixuLmlzUmVnRXhwPWMsbi5pc09iamVjdD1sLG4uaXNEYXRlPWgsbi5pc0Vycm9yPXAsbi5pc0Z1bmN0aW9uPWQsbi5pc1ByaW1pdGl2ZT1nLG4uaXNCdWZmZXI9ZS5pc0J1ZmZlcn0pLmNhbGwodGhpcyx7aXNCdWZmZXI6ZSgiLi4vLi4vaXMtYnVmZmVyL2luZGV4LmpzIil9KX0seyIuLi8uLi9pcy1idWZmZXIvaW5kZXguanMiOjIwfV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30sdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIGkoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9ZnVuY3Rpb24gcyhlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHZvaWQgMD09PWV9dC5leHBvcnRzPXIsci5FdmVudEVtaXR0ZXI9cixyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpewppZighbyhlKXx8ZTwwfHxpc05hTihlKSl0aHJvdyBUeXBlRXJyb3IoIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLHUsZjtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLCJlcnJvciI9PT1lJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8cyh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKHQ9YXJndW1lbnRzWzFdLHQgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3ZhciBjPW5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuICgnK3QrIikiKTt0aHJvdyBjLmNvbnRleHQ9dCxjfWlmKG49dGhpcy5fZXZlbnRzW2VdLGEobikpcmV0dXJuITE7aWYoaShuKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOm4uY2FsbCh0aGlzKTticmVhaztjYXNlIDI6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuLmFwcGx5KHRoaXMsbyl9ZWxzZSBpZihzKG4pKWZvcihvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxmPW4uc2xpY2UoKSxyPWYubGVuZ3RoLHU9MDt1PHI7dSsrKWZbdV0uYXBwbHkodGhpcyxvKTtyZXR1cm4hMH0sci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KCJuZXdMaXN0ZW5lciIsZSxpKHQubGlzdGVuZXIpP3QubGlzdGVuZXI6dCksdGhpcy5fZXZlbnRzW2VdP3ModGhpcy5fZXZlbnRzW2VdKT90aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RoaXMuX2V2ZW50c1tlXSx0XTp0aGlzLl9ldmVudHNbZV09dCxzKHRoaXMuX2V2ZW50c1tlXSkmJiF0aGlzLl9ldmVudHNbZV0ud2FybmVkJiYobj1hKHRoaXMuX21heExpc3RlbmVycyk/ci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycyxuJiZuPjAmJnRoaXMuX2V2ZW50c1tlXS5sZW5ndGg+biYmKHRoaXMuX2V2ZW50c1tlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcigiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4iLHRoaXMuX2V2ZW50c1tlXS5sZW5ndGgpLCJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpKSx0aGlzfSxyLnByb3RvdHlwZS5vbj1yLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKSxyfHwocj0hMCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9aWYoIWkodCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgcj0hMTtyZXR1cm4gbi5saXN0ZW5lcj10LHRoaXMub24oZSxuKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxhO2lmKCFpKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1tlXSlyZXR1cm4gdGhpcztpZihuPXRoaXMuX2V2ZW50c1tlXSxvPW4ubGVuZ3RoLHI9LTEsbj09PXR8fGkobi5saXN0ZW5lcikmJm4ubGlzdGVuZXI9PT10KWRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHQpO2Vsc2UgaWYocyhuKSl7Zm9yKGE9bzthLS0gPjA7KWlmKG5bYV09PT10fHxuW2FdLmxpc3RlbmVyJiZuW2FdLmxpc3RlbmVyPT09dCl7cj1hO2JyZWFrfWlmKHI8MClyZXR1cm4gdGhpczsxPT09bi5sZW5ndGg/KG4ubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSk6bi5zcGxpY2UociwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1tlXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodCBpbiB0aGlzLl9ldmVudHMpInJlbW92ZUxpc3RlbmVyIiE9PXQmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihuPXRoaXMuX2V2ZW50c1tlXSxpKG4pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKTtlbHNlIGlmKG4pZm9yKDtuLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG5bbi5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9pKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LHIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgdD10aGlzLl9ldmVudHNbZV07aWYoaSh0KSlyZXR1cm4gMTtpZih0KXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJDb3VudCh0KX19LHt9XSwxMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUpcmV0dXJuIGU7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl2YXIgdD17X19wcm90b19fOmUuX19wcm90b19ffTtlbHNlIHZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmZvckVhY2goZnVuY3Rpb24obil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbikpfSksdH12YXIgaT1lKCJmcyIpO3QuZXhwb3J0cz1yKGkpfSx7ZnM6NH1dLDE0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gaShlKXtmdW5jdGlvbiB0KGUsdCxuKXtmdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4gdihlLHQsZnVuY3Rpb24oaSl7IWl8fCJFTUZJTEUiIT09aS5jb2RlJiYiRU5GSUxFIiE9PWkuY29kZT8oImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHMoKSk6byhbcixbZSx0LG5dXSl9KX1yZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PW51bGwpLHIoZSx0LG4pfWZ1bmN0aW9uIHIoZSx0LG4scil7ZnVuY3Rpb24gaShlLHQsbixyKXtyZXR1cm4gbShlLHQsbixmdW5jdGlvbihhKXshYXx8IkVNRklMRSIhPT1hLmNvZGUmJiJFTkZJTEUiIT09YS5jb2RlPygiZnVuY3Rpb24iPT10eXBlb2YgciYmci5hcHBseSh0aGlzLGFyZ3VtZW50cykscygpKTpvKFtpLFtlLHQsbixyXV0pfSl9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKSxpKGUsdCxuLHIpfWZ1bmN0aW9uIGEoZSx0LG4scil7ZnVuY3Rpb24gaShlLHQsbixyKXtyZXR1cm4gRShlLHQsbixmdW5jdGlvbihhKXshYXx8IkVNRklMRSIhPT1hLmNvZGUmJiJFTkZJTEUiIT09YS5jb2RlPygiZnVuY3Rpb24iPT10eXBlb2YgciYmci5hcHBseSh0aGlzLGFyZ3VtZW50cykscygpKTpvKFtpLFtlLHQsbixyXV0pfSl9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKSxpKGUsdCxuLHIpfWZ1bmN0aW9uIGMoZSx0KXtmdW5jdGlvbiBuKCl7cmV0dXJuIHcoZSxmdW5jdGlvbihyLGkpe2kmJmkuc29ydCYmaS5zb3J0KCksIXJ8fCJFTUZJTEUiIT09ci5jb2RlJiYiRU5GSUxFIiE9PXIuY29kZT8oImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHMoKSk6byhbbixbZSx0XV0pfSl9cmV0dXJuIG4oZSx0KX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBsPyhTLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzKTpsLmFwcGx5KE9iamVjdC5jcmVhdGUobC5wcm90b3R5cGUpLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaCgpe3ZhciBlPXRoaXM7XyhlLnBhdGgsZS5mbGFncyxlLm1vZGUsZnVuY3Rpb24odCxuKXt0PyhlLmF1dG9DbG9zZSYmZS5kZXN0cm95KCksZS5lbWl0KCJlcnJvciIsdCkpOihlLmZkPW4sZS5lbWl0KCJvcGVuIixuKSxlLnJlYWQoKSl9KX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBwPyhPLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzKTpwLmFwcGx5KE9iamVjdC5jcmVhdGUocC5wcm90b3R5cGUpLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZCgpe3ZhciBlPXRoaXM7XyhlLnBhdGgsZS5mbGFncyxlLm1vZGUsZnVuY3Rpb24odCxuKXt0PyhlLmRlc3Ryb3koKSxlLmVtaXQoImVycm9yIix0KSk6KGUuZmQ9bixlLmVtaXQoIm9wZW4iLG4pKX0pfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gbmV3IGwoZSx0KX1mdW5jdGlvbiB5KGUsdCl7cmV0dXJuIG5ldyBwKGUsdCl9ZnVuY3Rpb24gXyhlLHQsbixyKXtmdW5jdGlvbiBpKGUsdCxuLHIpe3JldHVybiBSKGUsdCxuLGZ1bmN0aW9uKGEsdSl7IWF8fCJFTUZJTEUiIT09YS5jb2RlJiYiRU5GSUxFIiE9PWEuY29kZT8oImZ1bmN0aW9uIj09dHlwZW9mIHImJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHMoKSk6byhbaSxbZSx0LG4scl1dKX0pfXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYocj1uLG49bnVsbCksaShlLHQsbixyKX11KGUpLGUuZ3JhY2VmdWxpZnk9aSxlLkZpbGVSZWFkU3RyZWFtPWwsZS5GaWxlV3JpdGVTdHJlYW09cCxlLmNyZWF0ZVJlYWRTdHJlYW09ZyxlLmNyZWF0ZVdyaXRlU3RyZWFtPXk7dmFyIHY9ZS5yZWFkRmlsZTtlLnJlYWRGaWxlPXQ7dmFyIG09ZS53cml0ZUZpbGU7ZS53cml0ZUZpbGU9cjt2YXIgRT1lLmFwcGVuZEZpbGU7RSYmKGUuYXBwZW5kRmlsZT1hKTt2YXIgdz1lLnJlYWRkaXI7aWYoZS5yZWFkZGlyPWMsInYwLjgiPT09bi52ZXJzaW9uLnN1YnN0cigwLDQpKXt2YXIgYj1mKGUpO2w9Yi5SZWFkU3RyZWFtLHA9Yi5Xcml0ZVN0cmVhbX12YXIgUz1lLlJlYWRTdHJlYW07bC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTLnByb3RvdHlwZSksbC5wcm90b3R5cGUub3Blbj1oO3ZhciBPPWUuV3JpdGVTdHJlYW07cC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShPLnByb3RvdHlwZSkscC5wcm90b3R5cGUub3Blbj1kLGUuUmVhZFN0cmVhbT1sLGUuV3JpdGVTdHJlYW09cDt2YXIgUj1lLm9wZW47cmV0dXJuIGUub3Blbj1fLGV9ZnVuY3Rpb24gbyhlKXtoKCJFTlFVRVVFIixlWzBdLm5hbWUsZVsxXSksYy5wdXNoKGUpfWZ1bmN0aW9uIHMoKXt2YXIgZT1jLnNoaWZ0KCk7ZSYmKGgoIlJFVFJZIixlWzBdLm5hbWUsZVsxXSksZVswXS5hcHBseShudWxsLGVbMV0pKX12YXIgYT1lKCJmcyIpLHU9ZSgiLi9wb2x5ZmlsbHMuanMiKSxmPWUoIi4vbGVnYWN5LXN0cmVhbXMuanMiKSxjPVtdLGw9ZSgidXRpbCIpLGg9cjtsLmRlYnVnbG9nP2g9bC5kZWJ1Z2xvZygiZ2ZzNCIpOi9cYmdmczRcYi9pLnRlc3Qobi5lbnYuTk9ERV9ERUJVR3x8IiIpJiYoaD1mdW5jdGlvbigpe3ZhciBlPWwuZm9ybWF0LmFwcGx5KGwsYXJndW1lbnRzKTtlPSJHRlM0OiAiK2Uuc3BsaXQoL1xuLykuam9pbigiXG5HRlM0OiAiKSxjb25zb2xlLmVycm9yKGUpfSksL1xiZ2ZzNFxiL2kudGVzdChuLmVudi5OT0RFX0RFQlVHfHwiIikmJm4ub24oImV4aXQiLGZ1bmN0aW9uKCl7aChjKSxlKCJhc3NlcnQiKS5lcXVhbChjLmxlbmd0aCwwKX0pLHQuZXhwb3J0cz1pKGUoIi4vZnMuanMiKSksbi5lbnYuVEVTVF9HUkFDRUZVTF9GU19HTE9CQUxfUEFUQ0gmJih0LmV4cG9ydHM9aShhKSksdC5leHBvcnRzLmNsb3NlPWEuY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbChhLHQsZnVuY3Rpb24oZSl7ZXx8cygpLCJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfX0oYS5jbG9zZSksdC5leHBvcnRzLmNsb3NlU3luYz1hLmNsb3NlU3luYz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49ZS5hcHBseShhLGFyZ3VtZW50cyk7cmV0dXJuIHMoKSxufX0oYS5jbG9zZVN5bmMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vZnMuanMiOjEzLCIuL2xlZ2FjeS1zdHJlYW1zLmpzIjoxNSwiLi9wb2x5ZmlsbHMuanMiOjE2LF9wcm9jZXNzOjI1LGFzc2VydDo1LGZzOjQsdXRpbDo0NH1dLDE1OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHIoZSl7ZnVuY3Rpb24gdChyLG8pe2lmKCEodGhpcyBpbnN0YW5jZW9mIHQpKXJldHVybiBuZXcgdChyLG8pO2kuY2FsbCh0aGlzKTt2YXIgcz10aGlzO3RoaXMucGF0aD1yLHRoaXMuZmQ9bnVsbCx0aGlzLnJlYWRhYmxlPSEwLHRoaXMucGF1c2VkPSExLHRoaXMuZmxhZ3M9InIiLHRoaXMubW9kZT00MzgsdGhpcy5idWZmZXJTaXplPTY1NTM2LG89b3x8e307Zm9yKHZhciBhPU9iamVjdC5rZXlzKG8pLHU9MCxmPWEubGVuZ3RoO3U8Zjt1Kyspe3ZhciBjPWFbdV07dGhpc1tjXT1vW2NdfWlmKHRoaXMuZW5jb2RpbmcmJnRoaXMuc2V0RW5jb2RpbmcodGhpcy5lbmNvZGluZyksdm9pZCAwIT09dGhpcy5zdGFydCl7aWYoIm51bWJlciIhPXR5cGVvZiB0aGlzLnN0YXJ0KXRocm93IFR5cGVFcnJvcigic3RhcnQgbXVzdCBiZSBhIE51bWJlciIpO2lmKHZvaWQgMD09PXRoaXMuZW5kKXRoaXMuZW5kPTEvMDtlbHNlIGlmKCJudW1iZXIiIT10eXBlb2YgdGhpcy5lbmQpdGhyb3cgVHlwZUVycm9yKCJlbmQgbXVzdCBiZSBhIE51bWJlciIpO2lmKHRoaXMuc3RhcnQ+dGhpcy5lbmQpdGhyb3cgbmV3IEVycm9yKCJzdGFydCBtdXN0IGJlIDw9IGVuZCIpO3RoaXMucG9zPXRoaXMuc3RhcnR9cmV0dXJuIG51bGwhPT10aGlzLmZkP3ZvaWQgbi5uZXh0VGljayhmdW5jdGlvbigpe3MuX3JlYWQoKX0pOnZvaWQgZS5vcGVuKHRoaXMucGF0aCx0aGlzLmZsYWdzLHRoaXMubW9kZSxmdW5jdGlvbihlLHQpe3JldHVybiBlPyhzLmVtaXQoImVycm9yIixlKSx2b2lkKHMucmVhZGFibGU9ITEpKToocy5mZD10LHMuZW1pdCgib3BlbiIsdCksdm9pZCBzLl9yZWFkKCkpfSl9ZnVuY3Rpb24gcih0LG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXJldHVybiBuZXcgcih0LG4pO2kuY2FsbCh0aGlzKSx0aGlzLnBhdGg9dCx0aGlzLmZkPW51bGwsdGhpcy53cml0YWJsZT0hMCx0aGlzLmZsYWdzPSJ3Iix0aGlzLmVuY29kaW5nPSJiaW5hcnkiLHRoaXMubW9kZT00MzgsdGhpcy5ieXRlc1dyaXR0ZW49MCxuPW58fHt9O2Zvcih2YXIgbz1PYmplY3Qua2V5cyhuKSxzPTAsYT1vLmxlbmd0aDtzPGE7cysrKXt2YXIgdT1vW3NdO3RoaXNbdV09blt1XX1pZih2b2lkIDAhPT10aGlzLnN0YXJ0KXtpZigibnVtYmVyIiE9dHlwZW9mIHRoaXMuc3RhcnQpdGhyb3cgVHlwZUVycm9yKCJzdGFydCBtdXN0IGJlIGEgTnVtYmVyIik7aWYodGhpcy5zdGFydDwwKXRocm93IG5ldyBFcnJvcigic3RhcnQgbXVzdCBiZSA+PSB6ZXJvIik7dGhpcy5wb3M9dGhpcy5zdGFydH10aGlzLmJ1c3k9ITEsdGhpcy5fcXVldWU9W10sbnVsbD09PXRoaXMuZmQmJih0aGlzLl9vcGVuPWUub3Blbix0aGlzLl9xdWV1ZS5wdXNoKFt0aGlzLl9vcGVuLHRoaXMucGF0aCx0aGlzLmZsYWdzLHRoaXMubW9kZSx2b2lkIDBdKSx0aGlzLmZsdXNoKCkpfXJldHVybntSZWFkU3RyZWFtOnQsV3JpdGVTdHJlYW06cn19dmFyIGk9ZSgic3RyZWFtIikuU3RyZWFtO3QuZXhwb3J0cz1yfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7X3Byb2Nlc3M6MjUsc3RyZWFtOjQwfV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7ZnVuY3Rpb24gcihlKXtjLmhhc093blByb3BlcnR5KCJPX1NZTUxJTksiKSYmbi52ZXJzaW9uLm1hdGNoKC9edjBcLjZcLlswLTJdfF52MFwuNVwuLykmJmkoZSksZS5sdXRpbWVzfHxvKGUpLGUuY2hvd249cyhlLmNob3duKSxlLmZjaG93bj1zKGUuZmNob3duKSxlLmxjaG93bj1zKGUubGNob3duKSxlLmNobW9kPXMoZS5jaG1vZCksZS5mY2htb2Q9cyhlLmZjaG1vZCksZS5sY2htb2Q9cyhlLmxjaG1vZCksZS5jaG93blN5bmM9YShlLmNob3duU3luYyksZS5mY2hvd25TeW5jPWEoZS5mY2hvd25TeW5jKSxlLmxjaG93blN5bmM9YShlLmxjaG93blN5bmMpLGUuY2htb2RTeW5jPXMoZS5jaG1vZFN5bmMpLGUuZmNobW9kU3luYz1zKGUuZmNobW9kU3luYyksZS5sY2htb2RTeW5jPXMoZS5sY2htb2RTeW5jKSxlLmxjaG1vZHx8KGUubGNobW9kPWZ1bmN0aW9uKGUsdCxyKXtuLm5leHRUaWNrKHIpfSxlLmxjaG1vZFN5bmM9ZnVuY3Rpb24oKXt9KSxlLmxjaG93bnx8KGUubGNob3duPWZ1bmN0aW9uKGUsdCxyLGkpe24ubmV4dFRpY2soaSl9LGUubGNob3duU3luYz1mdW5jdGlvbigpe30pLCJ3aW4zMiI9PT1uLnBsYXRmb3JtJiYoZS5yZW5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXt2YXIgaT1EYXRlLm5vdygpO2UodCxuLGZ1bmN0aW9uIG8ocyl7cmV0dXJuIHMmJigiRUFDQ0VTIj09PXMuY29kZXx8IkVQRVJNIj09PXMuY29kZSkmJkRhdGUubm93KCktaTwxZTM/ZSh0LG4sbyk6dm9pZChyJiZyKHMpKX0pfX0oZS5yZW5hbWUpKSxlLnJlYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4scixpLG8scyxhKXt2YXIgdTtpZihhJiYiZnVuY3Rpb24iPT10eXBlb2YgYSl7dmFyIGY9MDt1PWZ1bmN0aW9uKGMsbCxoKXtyZXR1cm4gYyYmIkVBR0FJTiI9PT1jLmNvZGUmJmY8MTA/KGYrKyx0LmNhbGwoZSxuLHIsaSxvLHMsdSkpOnZvaWQgYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXJldHVybiB0LmNhbGwoZSxuLHIsaSxvLHMsdSl9fShlLnJlYWQpLGUucmVhZFN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4scixpLG8scyl7Zm9yKHZhciBhPTA7Oyl0cnl7cmV0dXJuIHQuY2FsbChlLG4scixpLG8scyl9Y2F0Y2godSl7aWYoIkVBR0FJTiI9PT11LmNvZGUmJmE8MTApe2ErKztjb250aW51ZX10aHJvdyB1fX19KGUucmVhZFN5bmMpfWZ1bmN0aW9uIGkoZSl7ZS5sY2htb2Q9ZnVuY3Rpb24odCxuLHIpe3I9cnx8bm9vcCxlLm9wZW4odCxjLk9fV1JPTkxZfGMuT19TWU1MSU5LLG4sZnVuY3Rpb24odCxpKXtyZXR1cm4gdD92b2lkIHIodCk6dm9pZCBlLmZjaG1vZChpLG4sZnVuY3Rpb24odCl7ZS5jbG9zZShpLGZ1bmN0aW9uKGUpe3IodHx8ZSl9KX0pfSl9LGUubGNobW9kU3luYz1mdW5jdGlvbih0LG4pe3ZhciByLGk9ZS5vcGVuU3luYyh0LGMuT19XUk9OTFl8Yy5PX1NZTUxJTkssbiksbz0hMDt0cnl7cj1lLmZjaG1vZFN5bmMoaSxuKSxvPSExfWZpbmFsbHl7aWYobyl0cnl7ZS5jbG9zZVN5bmMoaSl9Y2F0Y2gocyl7fWVsc2UgZS5jbG9zZVN5bmMoaSl9cmV0dXJuIHJ9fWZ1bmN0aW9uIG8oZSl7Yy5oYXNPd25Qcm9wZXJ0eSgiT19TWU1MSU5LIik/KGUubHV0aW1lcz1mdW5jdGlvbih0LG4scixpKXtlLm9wZW4odCxjLk9fU1lNTElOSyxmdW5jdGlvbih0LG8pe3JldHVybiBpPWl8fG5vb3AsdD9pKHQpOnZvaWQgZS5mdXRpbWVzKG8sbixyLGZ1bmN0aW9uKHQpe2UuY2xvc2UobyxmdW5jdGlvbihlKXtyZXR1cm4gaSh0fHxlKX0pfSl9KX0sZS5sdXRpbWVzU3luYz1mdW5jdGlvbih0LG4scil7dmFyIGksbz1lLm9wZW5TeW5jKHQsYy5PX1NZTUxJTkspLHM9ITA7dHJ5e2k9ZS5mdXRpbWVzU3luYyhvLG4scikscz0hMX1maW5hbGx5e2lmKHMpdHJ5e2UuY2xvc2VTeW5jKG8pfWNhdGNoKGEpe31lbHNlIGUuY2xvc2VTeW5jKG8pfXJldHVybiBpfSk6KGUubHV0aW1lcz1mdW5jdGlvbihlLHQscixpKXtuLm5leHRUaWNrKGkpfSxlLmx1dGltZXNTeW5jPWZ1bmN0aW9uKCl7fSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZT9mdW5jdGlvbih0LG4scixpKXtyZXR1cm4gZS5jYWxsKGYsdCxuLHIsZnVuY3Rpb24oZSx0KXt1KGUpJiYoZT1udWxsKSxpKGUsdCl9KX06ZX1mdW5jdGlvbiBhKGUpe3JldHVybiBlP2Z1bmN0aW9uKHQsbixyKXt0cnl7cmV0dXJuIGUuY2FsbChmLHQsbixyKX1jYXRjaChpKXtpZighdShpKSl0aHJvdyBpfX06ZX1mdW5jdGlvbiB1KGUpe2lmKCFlKXJldHVybiEwO2lmKCJFTk9TWVMiPT09ZS5jb2RlKXJldHVybiEwO3ZhciB0PSFuLmdldHVpZHx8MCE9PW4uZ2V0dWlkKCk7cmV0dXJuISghdHx8IkVJTlZBTCIhPT1lLmNvZGUmJiJFUEVSTSIhPT1lLmNvZGUpfXZhciBmPWUoIi4vZnMuanMiKSxjPWUoImNvbnN0YW50cyIpLGw9bi5jd2QsaD1udWxsO24uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIGh8fChoPWwuY2FsbChuKSksaH07dHJ5e24uY3dkKCl9Y2F0Y2gocCl7fXZhciBkPW4uY2hkaXI7bi5jaGRpcj1mdW5jdGlvbihlKXtoPW51bGwsZC5jYWxsKG4sZSl9LHQuZXhwb3J0cz1yfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vZnMuanMiOjEzLF9wcm9jZXNzOjI1LGNvbnN0YW50czo4fV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXtuLnJlYWQ9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxzLGE9OCppLXItMSx1PSgxPDxhKS0xLGY9dT4+MSxjPS03LGw9bj9pLTE6MCxoPW4/LTE6MSxwPWVbdCtsXTtmb3IobCs9aCxvPXAmKDE8PC1jKS0xLHA+Pj0tYyxjKz1hO2M+MDtvPTI1NipvK2VbdCtsXSxsKz1oLGMtPTgpO2ZvcihzPW8mKDE8PC1jKS0xLG8+Pj0tYyxjKz1yO2M+MDtzPTI1NipzK2VbdCtsXSxsKz1oLGMtPTgpO2lmKDA9PT1vKW89MS1mO2Vsc2V7aWYobz09PXUpcmV0dXJuIHM/TmFOOihwPy0xOjEpKigxLzApO3MrPU1hdGgucG93KDIsciksby09Zn1yZXR1cm4ocD8tMToxKSpzKk1hdGgucG93KDIsby1yKX0sbi53cml0ZT1mdW5jdGlvbihlLHQsbixyLGksbyl7dmFyIHMsYSx1LGY9OCpvLWktMSxjPSgxPDxmKS0xLGw9Yz4+MSxoPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscD1yPzA6by0xLGQ9cj8xOi0xLGc9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhhPWlzTmFOKHQpPzE6MCxzPWMpOihzPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKHU9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sdSo9MiksdCs9cytsPj0xP2gvdTpoKk1hdGgucG93KDIsMS1sKSx0KnU+PTImJihzKyssdS89MikscytsPj1jPyhhPTAscz1jKTpzK2w+PTE/KGE9KHQqdS0xKSpNYXRoLnBvdygyLGkpLHMrPWwpOihhPXQqTWF0aC5wb3coMixsLTEpKk1hdGgucG93KDIsaSkscz0wKSk7aT49ODtlW24rcF09MjU1JmEscCs9ZCxhLz0yNTYsaS09OCk7Zm9yKHM9czw8aXxhLGYrPWk7Zj4wO2VbbitwXT0yNTUmcyxwKz1kLHMvPTI1NixmLT04KTtlW24rcC1kXXw9MTI4Kmd9fSx7fV0sMTg6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7dmFyIGk9dGhpcyBpbnN0YW5jZW9mIGU/dGhpczpuO2lmKGkucmVzZXQociksInN0cmluZyI9PXR5cGVvZiB0JiZ0Lmxlbmd0aD4wJiZpLmhhc2godCksaSE9PXRoaXMpcmV0dXJuIGl9dmFyIG47ZS5wcm90b3R5cGUuaGFzaD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvO3N3aXRjaChvPWUubGVuZ3RoLHRoaXMubGVuKz1vLG49dGhpcy5rMSxyPTAsdGhpcy5yZW0pe2Nhc2UgMDpuXj1vPnI/NjU1MzUmZS5jaGFyQ29kZUF0KHIrKyk6MDtjYXNlIDE6bl49bz5yPyg2NTUzNSZlLmNoYXJDb2RlQXQocisrKSk8PDg6MDtjYXNlIDI6bl49bz5yPyg2NTUzNSZlLmNoYXJDb2RlQXQocisrKSk8PDE2OjA7Y2FzZSAzOm5ePW8+cj8oMjU1JmUuY2hhckNvZGVBdChyKSk8PDI0OjAsbl49bz5yPyg2NTI4MCZlLmNoYXJDb2RlQXQocisrKSk+Pjg6MH1pZih0aGlzLnJlbT1vK3RoaXMucmVtJjMsby09dGhpcy5yZW0sbz4wKXtmb3IodD10aGlzLmgxOzspe2lmKG49MTE2MDEqbiszNDMyOTA2NzUyKig2NTUzNSZuKSY0Mjk0OTY3Mjk1LG49bjw8MTV8bj4+PjE3LG49MTM3MTUqbis0NjE4MzIxOTIqKDY1NTM1Jm4pJjQyOTQ5NjcyOTUsdF49bix0PXQ8PDEzfHQ+Pj4xOSx0PTUqdCszODY0MjkyMTk2JjQyOTQ5NjcyOTUscj49bylicmVhaztuPTY1NTM1JmUuY2hhckNvZGVBdChyKyspXig2NTUzNSZlLmNoYXJDb2RlQXQocisrKSk8PDheKDY1NTM1JmUuY2hhckNvZGVBdChyKyspKTw8MTYsaT1lLmNoYXJDb2RlQXQocisrKSxuXj0oMjU1JmkpPDwyNF4oNjUyODAmaSk+Pjh9c3dpdGNoKG49MCx0aGlzLnJlbSl7Y2FzZSAzOm5ePSg2NTUzNSZlLmNoYXJDb2RlQXQocisyKSk8PDE2O2Nhc2UgMjpuXj0oNjU1MzUmZS5jaGFyQ29kZUF0KHIrMSkpPDw4O2Nhc2UgMTpuXj02NTUzNSZlLmNoYXJDb2RlQXQocil9dGhpcy5oMT10fXJldHVybiB0aGlzLmsxPW4sdGhpc30sZS5wcm90b3R5cGUucmVzdWx0PWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gZT10aGlzLmsxLHQ9dGhpcy5oMSxlPjAmJihlPTExNjAxKmUrMzQzMjkwNjc1MiooNjU1MzUmZSkmNDI5NDk2NzI5NSxlPWU8PDE1fGU+Pj4xNyxlPTEzNzE1KmUrNDYxODMyMTkyKig2NTUzNSZlKSY0Mjk0OTY3Mjk1LHRePWUpLHRePXRoaXMubGVuLHRePXQ+Pj4xNix0PTUxODE5KnQrMjI0Njc3MDY4OCooNjU1MzUmdCkmNDI5NDk2NzI5NSx0Xj10Pj4+MTMsdD00NDU5Nyp0KzMyNjY0NDUzMTIqKDY1NTM1JnQpJjQyOTQ5NjcyOTUsdF49dD4+PjE2LHQ+Pj4wfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oMT0ibnVtYmVyIj09dHlwZW9mIGU/ZTowLHRoaXMucmVtPXRoaXMuazE9dGhpcy5sZW49MCx0aGlzfSxuPW5ldyBlLCJ1bmRlZmluZWQiIT10eXBlb2YgdD90LmV4cG9ydHM9ZTp0aGlzLk11cm11ckhhc2gzPWV9KCl9LHt9XSwxOTpbZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OnQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQ7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBuLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSx7fV0sMjA6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIShudWxsPT1lfHwhKGUuX2lzQnVmZmVyfHxlLmNvbnN0cnVjdG9yJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihlKSkpfX0se31dLDIxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9e30udG9TdHJpbmc7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PXIuY2FsbChlKX19LHt9XSwyMjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgcixpLG8scyxhLHUsZixjLGwsaCxwLGQsZyx5LF89ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgciBpbiB0KXYuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gbi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5fX3N1cGVyX189dC5wcm90b3R5cGUsZX0sdj17fS5oYXNPd25Qcm9wZXJ0eTtnPWUoInBhdGgiKSxkPWUoImZzIikscD1lKCJldmVudHMiKSx5PWUoIndyaXRlLWZpbGUtYXRvbWljIikuc3luYyxpPSItLS0uRU1QVFlfU1RSSU5HLi0tLSIsZj1mdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvO2ZvcihpPWQucmVhZGRpclN5bmMoZSksbz1bXSx0PTAsbj1pLmxlbmd0aDt0PG47dCsrKXI9aVt0XSxvLnB1c2gobChnLmpvaW4oZSxyKSkpO3JldHVybiBvfSxsPWZ1bmN0aW9uKGUpe3JldHVybiBkLnN0YXRTeW5jKGUpLmlzRGlyZWN0b3J5KCk/KGYoZSksZC5ybWRpclN5bmMoZSkpOmQudW5saW5rU3luYyhlKX0sYz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD0iIj09PWU/aTplLnRvU3RyaW5nKCl9LGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLm1lc3NhZ2U9bnVsbCE9ZT9lOiJVbmtub3duIGVycm9yLiIsbnVsbCE9RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3RvciksdGhpcy5uYW1lPXRoaXMuY29uc3RydWN0b3IubmFtZX1yZXR1cm4gXyh0LGUpLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsiOiAiK3RoaXMubWVzc2FnZX0sdH0oRXJyb3IpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIsaSl7dGhpcy5rZXk9ZSx0aGlzLm9sZFZhbHVlPXQsdGhpcy5uZXdWYWx1ZT1uLHRoaXMudXJsPXIsdGhpcy5zdG9yYWdlQXJlYT1udWxsIT1pP2k6ImxvY2FsU3RvcmFnZSJ9cmV0dXJuIGV9KCkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXtpZih0aGlzLmtleT10LHRoaXMuaW5kZXg9biwhKHRoaXMgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbmV3IGUodGhpcy5rZXksdGhpcy5pbmRleCl9cmV0dXJuIGV9KCksaD1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLG5ldyBlfSxvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oZSxpKXtyZXR1cm4gdGhpcy5fbG9jYXRpb249ZSx0aGlzLnF1b3RhPW51bGwhPWk/aTo1MjQyODgwLHRoaXMgaW5zdGFuY2VvZiBuPyh0aGlzLl9sb2NhdGlvbj1nLnJlc29sdmUodGhpcy5fbG9jYXRpb24pLG51bGwhPXJbdGhpcy5fbG9jYXRpb25dP3JbdGhpcy5fbG9jYXRpb25dOih0aGlzLmxlbmd0aD0wLHRoaXMuX2J5dGVzSW5Vc2U9MCx0aGlzLl9rZXlzPVtdLHRoaXMuX21ldGFLZXlNYXA9aCgpLHRoaXMuX2V2ZW50VXJsPSJwaWQ6Iit0LnBpZCx0aGlzLl9pbml0KCksdGhpcy5fUVVPVEFfRVhDRUVERURfRVJSPWEsclt0aGlzLl9sb2NhdGlvbl09dGhpcyxyW3RoaXMuX2xvY2F0aW9uXSkpOm5ldyBuKHRoaXMuX2xvY2F0aW9uLHRoaXMucXVvdGEpfXZhciByO3JldHVybiBfKG4sZSkscj17fSxuLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxhLHU7dHJ5e2lmKHU9ZC5zdGF0U3luYyh0aGlzLl9sb2NhdGlvbiksbnVsbCE9dSYmIXUuaXNEaXJlY3RvcnkoKSl0aHJvdyBuZXcgRXJyb3IoIkEgZmlsZSBleGlzdHMgYXQgdGhlIGxvY2F0aW9uICciK3RoaXMuX2xvY2F0aW9uKyInIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZS9vcGVuIGxvY2FsU3RvcmFnZSIpO2Zvcih0aGlzLl9ieXRlc0luVXNlPTAsdGhpcy5sZW5ndGg9MCxuPWQucmVhZGRpclN5bmModGhpcy5fbG9jYXRpb24pLGk9cj0wLGE9bi5sZW5ndGg7cjxhO2k9KytyKW89bltpXSx0PWRlY29kZVVSSUNvbXBvbmVudChvKSx0aGlzLl9rZXlzLnB1c2godCksZT1uZXcgcyhvLGkpLHRoaXMuX21ldGFLZXlNYXBbdF09ZSx1PXRoaXMuX2dldFN0YXQobyksbnVsbCE9KG51bGwhPXU/dS5zaXplOnZvaWQgMCkmJihlLnNpemU9dS5zaXplLHRoaXMuX2J5dGVzSW5Vc2UrPXUuc2l6ZSk7dGhpcy5sZW5ndGg9bi5sZW5ndGh9Y2F0Y2goZil7ZC5ta2RpclN5bmModGhpcy5fbG9jYXRpb24pfX0sbi5wcm90b3R5cGUuc2V0SXRlbT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGYsbCxoLGQsXyx2O2lmKGY9cC5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCh0aGlzLCJzdG9yYWdlIiksZD1udWxsLGYmJihkPXRoaXMuZ2V0SXRlbShlKSksZT1jKGUpLG49ZW5jb2RlVVJJQ29tcG9uZW50KGUpLG89Zy5qb2luKHRoaXMuX2xvY2F0aW9uLG4pLF89dC50b1N0cmluZygpLHY9Xy5sZW5ndGgsbD10aGlzLl9tZXRhS2V5TWFwW2VdLGk9ISFsLGg9aT9sLnNpemU6MCx0aGlzLl9ieXRlc0luVXNlLWgrdj50aGlzLnF1b3RhKXRocm93IG5ldyBhO2lmKHkobyxfLCJ1dGY4IiksaXx8KGw9bmV3IHMobix0aGlzLl9rZXlzLnB1c2goZSktMSksbC5zaXplPXYsdGhpcy5fbWV0YUtleU1hcFtlXT1sLHRoaXMubGVuZ3RoKz0xLHRoaXMuX2J5dGVzSW5Vc2UrPXYpLGYpcmV0dXJuIHI9bmV3IHUoZSxkLHQsdGhpcy5fZXZlbnRVcmwpLHRoaXMuZW1pdCgic3RvcmFnZSIscil9LG4ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gZT1jKGUpLG49dGhpcy5fbWV0YUtleU1hcFtlXSxuPyh0PWcuam9pbih0aGlzLl9sb2NhdGlvbixuLmtleSksZC5yZWFkRmlsZVN5bmModCwidXRmOCIpKTpudWxsfSxuLnByb3RvdHlwZS5fZ2V0U3RhdD1mdW5jdGlvbihlKXt2YXIgdDtlPWMoZSksdD1nLmpvaW4odGhpcy5fbG9jYXRpb24sZW5jb2RlVVJJQ29tcG9uZW50KGUpKTt0cnl7cmV0dXJuIGQuc3RhdFN5bmModCl9Y2F0Y2gobil7cmV0dXJuIG51bGx9fSxuLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8scyxhLGYsaDtpZihlPWMoZSkscz10aGlzLl9tZXRhS2V5TWFwW2VdKXtyPXAuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQodGhpcywic3RvcmFnZSIpLGE9bnVsbCxyJiYoYT10aGlzLmdldEl0ZW0oZSkpLGRlbGV0ZSB0aGlzLl9tZXRhS2V5TWFwW2VdLHRoaXMubGVuZ3RoLT0xLHRoaXMuX2J5dGVzSW5Vc2UtPXMuc2l6ZSxuPWcuam9pbih0aGlzLl9sb2NhdGlvbixzLmtleSksdGhpcy5fa2V5cy5zcGxpY2Uocy5pbmRleCwxKSxmPXRoaXMuX21ldGFLZXlNYXA7Zm9yKGkgaW4gZiloPWZbaV0sbz10aGlzLl9tZXRhS2V5TWFwW2ldLG8uaW5kZXg+cy5pbmRleCYmKG8uaW5kZXgtPTEpO2lmKGwobikscilyZXR1cm4gdD1uZXcgdShlLGEsbnVsbCx0aGlzLl9ldmVudFVybCksdGhpcy5lbWl0KCJzdG9yYWdlIix0KX19LG4ucHJvdG90eXBlLmtleT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fa2V5c1tlXX0sbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZTtpZihmKHRoaXMuX2xvY2F0aW9uKSx0aGlzLl9tZXRhS2V5TWFwPWgoKSx0aGlzLl9rZXlzPVtdLHRoaXMubGVuZ3RoPTAsdGhpcy5fYnl0ZXNJblVzZT0wLHAuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQodGhpcywic3RvcmFnZSIpKXJldHVybiBlPW5ldyB1KG51bGwsbnVsbCxudWxsLHRoaXMuX2V2ZW50VXJsKSx0aGlzLmVtaXQoInN0b3JhZ2UiLGUpfSxuLnByb3RvdHlwZS5fZ2V0Qnl0ZXNJblVzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ieXRlc0luVXNlfSxuLnByb3RvdHlwZS5fZGVsZXRlTG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIHJbdGhpcy5fbG9jYXRpb25dLGwodGhpcy5fbG9jYXRpb24pLHRoaXMuX21ldGFLZXlNYXA9e30sdGhpcy5fa2V5cz1bXSx0aGlzLmxlbmd0aD0wLHRoaXMuX2J5dGVzSW5Vc2U9MH0sbn0ocC5FdmVudEVtaXR0ZXIpLHI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF8odCxlKSx0LnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIHI9SlNPTi5zdHJpbmdpZnkobiksdC5fX3N1cGVyX18uc2V0SXRlbS5jYWxsKHRoaXMsZSxyKX0sdC5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZSh0Ll9fc3VwZXJfXy5nZXRJdGVtLmNhbGwodGhpcyxlKSl9LHR9KG8pLG4uTG9jYWxTdG9yYWdlPW8sbi5KU09OU3RvcmFnZT1yLG4uUVVPVEFfRVhDRUVERURfRVJSPWF9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7X3Byb2Nlc3M6MjUsZXZlbnRzOjEyLGZzOjQscGF0aDoyMywid3JpdGUtZmlsZS1hdG9taWMiOjQ1fV0sMjM6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIGk9ZVtyXTsiLiI9PT1pP2Uuc3BsaWNlKHIsMSk6Ii4uIj09PWk/KGUuc3BsaWNlKHIsMSksbisrKTpuJiYoZS5zcGxpY2UociwxKSxuLS0pfWlmKHQpZm9yKDtuLS07billLnVuc2hpZnQoIi4uIik7cmV0dXJuIGV9ZnVuY3Rpb24gcihlLHQpe2lmKGUuZmlsdGVyKXJldHVybiBlLmZpbHRlcih0KTtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXQoZVtyXSxyLGUpJiZuLnB1c2goZVtyXSk7cmV0dXJuIG59dmFyIGk9L14oXC8/fCkoW1xzXFNdKj8pKCg/OlwuezEsMn18W15cL10rP3wpKFwuW14uXC9dKnwpKSg/OltcL10qKSQvLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGkuZXhlYyhlKS5zbGljZSgxKX07bi5yZXNvbHZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPSIiLGk9ITEsbz1hcmd1bWVudHMubGVuZ3RoLTE7bz49LTEmJiFpO28tLSl7dmFyIHM9bz49MD9hcmd1bWVudHNbb106ZS5jd2QoKTtpZigic3RyaW5nIiE9dHlwZW9mIHMpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MiKTtzJiYobj1zKyIvIituLGk9Ii8iPT09cy5jaGFyQXQoMCkpfXJldHVybiBuPXQocihuLnNwbGl0KCIvIiksZnVuY3Rpb24oZSl7cmV0dXJuISFlfSksIWkpLmpvaW4oIi8iKSwoaT8iLyI6IiIpK258fCIuIn0sbi5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7dmFyIGk9bi5pc0Fic29sdXRlKGUpLG89Ii8iPT09cyhlLC0xKTtyZXR1cm4gZT10KHIoZS5zcGxpdCgiLyIpLGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pLCFpKS5qb2luKCIvIiksZXx8aXx8KGU9Ii4iKSxlJiZvJiYoZSs9Ii8iKSwoaT8iLyI6IiIpK2V9LG4uaXNBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4iLyI9PT1lLmNoYXJBdCgwKX0sbi5qb2luPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiBuLm5vcm1hbGl6ZShyKGUsZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MiKTtyZXR1cm4gZX0pLmpvaW4oIi8iKSl9LG4ucmVsYXRpdmU9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGgmJiIiPT09ZVt0XTt0KyspO2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTAmJiIiPT09ZVtuXTtuLS0pO3JldHVybiB0Pm4/W106ZS5zbGljZSh0LG4tdCsxKX1lPW4ucmVzb2x2ZShlKS5zdWJzdHIoMSksdD1uLnJlc29sdmUodCkuc3Vic3RyKDEpO2Zvcih2YXIgaT1yKGUuc3BsaXQoIi8iKSksbz1yKHQuc3BsaXQoIi8iKSkscz1NYXRoLm1pbihpLmxlbmd0aCxvLmxlbmd0aCksYT1zLHU9MDt1PHM7dSsrKWlmKGlbdV0hPT1vW3VdKXthPXU7YnJlYWt9Zm9yKHZhciBmPVtdLHU9YTt1PGkubGVuZ3RoO3UrKylmLnB1c2goIi4uIik7cmV0dXJuIGY9Zi5jb25jYXQoby5zbGljZShhKSksZi5qb2luKCIvIil9LG4uc2VwPSIvIixuLmRlbGltaXRlcj0iOiIsbi5kaXJuYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSksbj10WzBdLHI9dFsxXTtyZXR1cm4gbnx8cj8ociYmKHI9ci5zdWJzdHIoMCxyLmxlbmd0aC0xKSksbityKToiLiJ9LG4uYmFzZW5hbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1vKGUpWzJdO3JldHVybiB0JiZuLnN1YnN0cigtMSp0Lmxlbmd0aCk9PT10JiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLXQubGVuZ3RoKSksbn0sbi5leHRuYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBvKGUpWzNdfTt2YXIgcz0iYiI9PT0iYWIiLnN1YnN0cigtMSk/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnN1YnN0cih0LG4pfTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ8MCYmKHQ9ZS5sZW5ndGgrdCksZS5zdWJzdHIodCxuKX19KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHtfcHJvY2VzczoyNX1dLDI0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKHQsbixyLGkpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJjYWxsYmFjayIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7dmFyIG8scyxhPWFyZ3VtZW50cy5sZW5ndGg7c3dpdGNoKGEpe2Nhc2UgMDpjYXNlIDE6cmV0dXJuIGUubmV4dFRpY2sodCk7Y2FzZSAyOnJldHVybiBlLm5leHRUaWNrKGZ1bmN0aW9uKCl7dC5jYWxsKG51bGwsbil9KTtjYXNlIDM6cmV0dXJuIGUubmV4dFRpY2soZnVuY3Rpb24oKXt0LmNhbGwobnVsbCxuLHIpfSk7Y2FzZSA0OnJldHVybiBlLm5leHRUaWNrKGZ1bmN0aW9uKCl7dC5jYWxsKG51bGwsbixyLGkpfSk7ZGVmYXVsdDpmb3Iobz1uZXcgQXJyYXkoYS0xKSxzPTA7czxvLmxlbmd0aDspb1tzKytdPWFyZ3VtZW50c1tzXTtyZXR1cm4gZS5uZXh0VGljayhmdW5jdGlvbigpe3QuYXBwbHkobnVsbCxvKX0pfX0hZS52ZXJzaW9ufHwwPT09ZS52ZXJzaW9uLmluZGV4T2YoInYwLiIpfHwwPT09ZS52ZXJzaW9uLmluZGV4T2YoInYxLiIpJiYwIT09ZS52ZXJzaW9uLmluZGV4T2YoInYxLjguIik/dC5leHBvcnRzPW46dC5leHBvcnRzPWUubmV4dFRpY2t9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHtfcHJvY2VzczoyNX1dLDI1OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe2gmJmMmJihoPSExLGMubGVuZ3RoP2w9Yy5jb25jYXQobCk6cD0tMSxsLmxlbmd0aCYmaSgpKX1mdW5jdGlvbiBpKCl7aWYoIWgpe3ZhciBlPWEocik7aD0hMDtmb3IodmFyIHQ9bC5sZW5ndGg7dDspe2ZvcihjPWwsbD1bXTsrK3A8dDspYyYmY1twXS5ydW4oKTtwPS0xLHQ9bC5sZW5ndGh9Yz1udWxsLGg9ITEsdShlKX19ZnVuY3Rpb24gbyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIHMoKXt9dmFyIGEsdSxmPXQuZXhwb3J0cz17fTshZnVuY3Rpb24oKXt0cnl7YT1zZXRUaW1lb3V0fWNhdGNoKGUpe2E9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaXMgbm90IGRlZmluZWQiKX19dHJ5e3U9Y2xlYXJUaW1lb3V0fWNhdGNoKGUpe3U9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBpcyBub3QgZGVmaW5lZCIpfX19KCk7dmFyIGMsbD1bXSxoPSExLHA9LTE7Zi5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2wucHVzaChuZXcgbyhlLHQpKSwxIT09bC5sZW5ndGh8fGh8fGEoaSwwKX0sby5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sZi50aXRsZT0iYnJvd3NlciIsZi5icm93c2VyPSEwLGYuZW52PXt9LGYuYXJndj1bXSxmLnZlcnNpb249IiIsZi52ZXJzaW9ucz17fSxmLm9uPXMsZi5hZGRMaXN0ZW5lcj1zLGYub25jZT1zLGYub2ZmPXMsZi5yZW1vdmVMaXN0ZW5lcj1zLGYucmVtb3ZlQWxsTGlzdGVuZXJzPXMsZi5lbWl0PXMsZi5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZi5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGYuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZi51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDI2OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWUoIi4vbGliL19zdHJlYW1fZHVwbGV4LmpzIil9LHsiLi9saWIvX3N0cmVhbV9kdXBsZXguanMiOjI3fV0sMjc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHI/KGYuY2FsbCh0aGlzLGUpLGMuY2FsbCh0aGlzLGUpLGUmJmUucmVhZGFibGU9PT0hMSYmKHRoaXMucmVhZGFibGU9ITEpLGUmJmUud3JpdGFibGU9PT0hMSYmKHRoaXMud3JpdGFibGU9ITEpLHRoaXMuYWxsb3dIYWxmT3Blbj0hMCxlJiZlLmFsbG93SGFsZk9wZW49PT0hMSYmKHRoaXMuYWxsb3dIYWxmT3Blbj0hMSksdm9pZCB0aGlzLm9uY2UoImVuZCIsaSkpOm5ldyByKGUpfWZ1bmN0aW9uIGkoKXt0aGlzLmFsbG93SGFsZk9wZW58fHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWR8fGEobyx0aGlzKX1mdW5jdGlvbiBvKGUpe2UuZW5kKCl9dmFyIHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gdH07dC5leHBvcnRzPXI7dmFyIGE9ZSgicHJvY2Vzcy1uZXh0aWNrLWFyZ3MiKSx1PWUoImNvcmUtdXRpbC1pcyIpO3UuaW5oZXJpdHM9ZSgiaW5oZXJpdHMiKTt2YXIgZj1lKCIuL19zdHJlYW1fcmVhZGFibGUiKSxjPWUoIi4vX3N0cmVhbV93cml0YWJsZSIpO3UuaW5oZXJpdHMocixmKTtmb3IodmFyIGw9cyhjLnByb3RvdHlwZSksaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgcD1sW2hdO3IucHJvdG90eXBlW3BdfHwoci5wcm90b3R5cGVbcF09Yy5wcm90b3R5cGVbcF0pfX0seyIuL19zdHJlYW1fcmVhZGFibGUiOjI5LCIuL19zdHJlYW1fd3JpdGFibGUiOjMxLCJjb3JlLXV0aWwtaXMiOjExLGluaGVyaXRzOjE5LCJwcm9jZXNzLW5leHRpY2stYXJncyI6MjR9XSwyODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygcj92b2lkIGkuY2FsbCh0aGlzLGUpOm5ldyByKGUpfXQuZXhwb3J0cz1yO3ZhciBpPWUoIi4vX3N0cmVhbV90cmFuc2Zvcm0iKSxvPWUoImNvcmUtdXRpbC1pcyIpO28uaW5oZXJpdHM9ZSgiaW5oZXJpdHMiKSxvLmluaGVyaXRzKHIsaSksci5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihlLHQsbil7bihudWxsLGUpfX0seyIuL19zdHJlYW1fdHJhbnNmb3JtIjozMCwiY29yZS11dGlsLWlzIjoxMSxpbmhlcml0czoxOX1dLDI5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4gaz9lLnByZXBlbmRMaXN0ZW5lcih0LG4pOnZvaWQoZS5fZXZlbnRzJiZlLl9ldmVudHNbdF0/VChlLl9ldmVudHNbdF0pP2UuX2V2ZW50c1t0XS51bnNoaWZ0KG4pOmUuX2V2ZW50c1t0XT1bbixlLl9ldmVudHNbdF1dOmUub24odCxuKSl9ZnVuY3Rpb24gaSh0LG4pe1U9VXx8ZSgiLi9fc3RyZWFtX2R1cGxleCIpLHQ9dHx8e30sdGhpcy5vYmplY3RNb2RlPSEhdC5vYmplY3RNb2RlLG4gaW5zdGFuY2VvZiBVJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISF0LnJlYWRhYmxlT2JqZWN0TW9kZSk7dmFyIHI9dC5oaWdoV2F0ZXJNYXJrLGk9dGhpcy5vYmplY3RNb2RlPzE2OjE2Mzg0O3RoaXMuaGlnaFdhdGVyTWFyaz1yfHwwPT09cj9yOmksdGhpcy5oaWdoV2F0ZXJNYXJrPX5+dGhpcy5oaWdoV2F0ZXJNYXJrLHRoaXMuYnVmZmVyPVtdLHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1udWxsLHRoaXMucGlwZXNDb3VudD0wLHRoaXMuZmxvd2luZz1udWxsLHRoaXMuZW5kZWQ9ITEsdGhpcy5lbmRFbWl0dGVkPSExLHRoaXMucmVhZGluZz0hMSx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLnJlc3VtZVNjaGVkdWxlZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz10LmRlZmF1bHRFbmNvZGluZ3x8InV0ZjgiLHRoaXMucmFuT3V0PSExLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLHQuZW5jb2RpbmcmJihqfHwoaj1lKCJzdHJpbmdfZGVjb2Rlci8iKS5TdHJpbmdEZWNvZGVyKSx0aGlzLmRlY29kZXI9bmV3IGoodC5lbmNvZGluZyksdGhpcy5lbmNvZGluZz10LmVuY29kaW5nKX1mdW5jdGlvbiBvKHQpe3JldHVybiBVPVV8fGUoIi4vX3N0cmVhbV9kdXBsZXgiKSx0aGlzIGluc3RhbmNlb2Ygbz8odGhpcy5fcmVhZGFibGVTdGF0ZT1uZXcgaSh0LHRoaXMpLHRoaXMucmVhZGFibGU9ITAsdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQucmVhZCYmKHRoaXMuX3JlYWQ9dC5yZWFkKSx2b2lkIEkuY2FsbCh0aGlzKSk6bmV3IG8odCl9ZnVuY3Rpb24gcyhlLHQsbixyLGkpe3ZhciBvPWModCxuKTtpZihvKWUuZW1pdCgiZXJyb3IiLG8pO2Vsc2UgaWYobnVsbD09PW4pdC5yZWFkaW5nPSExLGwoZSx0KTtlbHNlIGlmKHQub2JqZWN0TW9kZXx8biYmbi5sZW5ndGg+MClpZih0LmVuZGVkJiYhaSl7dmFyIHM9bmV3IEVycm9yKCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRiIpO2UuZW1pdCgiZXJyb3IiLHMpfWVsc2UgaWYodC5lbmRFbWl0dGVkJiZpKXt2YXIgdT1uZXcgRXJyb3IoInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50Iik7ZS5lbWl0KCJlcnJvciIsdSl9ZWxzZXt2YXIgZjshdC5kZWNvZGVyfHxpfHxyfHwobj10LmRlY29kZXIud3JpdGUobiksZj0hdC5vYmplY3RNb2RlJiYwPT09bi5sZW5ndGgpLGl8fCh0LnJlYWRpbmc9ITEpLGZ8fCh0LmZsb3dpbmcmJjA9PT10Lmxlbmd0aCYmIXQuc3luYz8oZS5lbWl0KCJkYXRhIixuKSxlLnJlYWQoMCkpOih0Lmxlbmd0aCs9dC5vYmplY3RNb2RlPzE6bi5sZW5ndGgsaT90LmJ1ZmZlci51bnNoaWZ0KG4pOnQuYnVmZmVyLnB1c2gobiksdC5uZWVkUmVhZGFibGUmJmgoZSkpKSxkKGUsdCl9ZWxzZSBpfHwodC5yZWFkaW5nPSExKTtyZXR1cm4gYSh0KX1mdW5jdGlvbiBhKGUpe3JldHVybiFlLmVuZGVkJiYoZS5uZWVkUmVhZGFibGV8fGUubGVuZ3RoPGUuaGlnaFdhdGVyTWFya3x8MD09PWUubGVuZ3RoKX1mdW5jdGlvbiB1KGUpe3JldHVybiBlPj1CP2U9QjooZS0tLGV8PWU+Pj4xLGV8PWU+Pj4yLGV8PWU+Pj40LGV8PWU+Pj44LGV8PWU+Pj4xNixlKyspLGV9ZnVuY3Rpb24gZihlLHQpe3JldHVybiAwPT09dC5sZW5ndGgmJnQuZW5kZWQ/MDp0Lm9iamVjdE1vZGU/MD09PWU/MDoxOm51bGw9PT1lfHxpc05hTihlKT90LmZsb3dpbmcmJnQuYnVmZmVyLmxlbmd0aD90LmJ1ZmZlclswXS5sZW5ndGg6dC5sZW5ndGg6ZTw9MD8wOihlPnQuaGlnaFdhdGVyTWFyayYmKHQuaGlnaFdhdGVyTWFyaz11KGUpKSxlPnQubGVuZ3RoP3QuZW5kZWQ/dC5sZW5ndGg6KHQubmVlZFJlYWRhYmxlPSEwLDApOmUpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj1udWxsO3JldHVybiBQLmlzQnVmZmVyKHQpfHwic3RyaW5nIj09dHlwZW9mIHR8fG51bGw9PT10fHx2b2lkIDA9PT10fHxlLm9iamVjdE1vZGV8fChuPW5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsiKSksbn1mdW5jdGlvbiBsKGUsdCl7aWYoIXQuZW5kZWQpe2lmKHQuZGVjb2Rlcil7dmFyIG49dC5kZWNvZGVyLmVuZCgpO24mJm4ubGVuZ3RoJiYodC5idWZmZXIucHVzaChuKSx0Lmxlbmd0aCs9dC5vYmplY3RNb2RlPzE6bi5sZW5ndGgpfXQuZW5kZWQ9ITAsaChlKX19ZnVuY3Rpb24gaChlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3QubmVlZFJlYWRhYmxlPSExLHQuZW1pdHRlZFJlYWRhYmxlfHwoRCgiZW1pdFJlYWRhYmxlIix0LmZsb3dpbmcpLHQuZW1pdHRlZFJlYWRhYmxlPSEwLHQuc3luYz9BKHAsZSk6cChlKSl9ZnVuY3Rpb24gcChlKXtEKCJlbWl0IHJlYWRhYmxlIiksZS5lbWl0KCJyZWFkYWJsZSIpLEUoZSl9ZnVuY3Rpb24gZChlLHQpe3QucmVhZGluZ01vcmV8fCh0LnJlYWRpbmdNb3JlPSEwLEEoZyxlLHQpKX1mdW5jdGlvbiBnKGUsdCl7Zm9yKHZhciBuPXQubGVuZ3RoOyF0LnJlYWRpbmcmJiF0LmZsb3dpbmcmJiF0LmVuZGVkJiZ0Lmxlbmd0aDx0LmhpZ2hXYXRlck1hcmsmJihEKCJtYXliZVJlYWRNb3JlIHJlYWQgMCIpLGUucmVhZCgwKSxuIT09dC5sZW5ndGgpOyluPXQubGVuZ3RoO3QucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24geShlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO0QoInBpcGVPbkRyYWluIix0LmF3YWl0RHJhaW4pLHQuYXdhaXREcmFpbiYmdC5hd2FpdERyYWluLS0sMD09PXQuYXdhaXREcmFpbiYmTihlLCJkYXRhIikmJih0LmZsb3dpbmc9ITAsRShlKSl9fWZ1bmN0aW9uIF8oZSl7RCgicmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwIiksZS5yZWFkKDApfWZ1bmN0aW9uIHYoZSx0KXt0LnJlc3VtZVNjaGVkdWxlZHx8KHQucmVzdW1lU2NoZWR1bGVkPSEwLEEobSxlLHQpKX1mdW5jdGlvbiBtKGUsdCl7dC5yZWFkaW5nfHwoRCgicmVzdW1lIHJlYWQgMCIpLGUucmVhZCgwKSksdC5yZXN1bWVTY2hlZHVsZWQ9ITEsZS5lbWl0KCJyZXN1bWUiKSxFKGUpLHQuZmxvd2luZyYmIXQucmVhZGluZyYmZS5yZWFkKDApfWZ1bmN0aW9uIEUoZSl7dmFyIHQ9ZS5fcmVhZGFibGVTdGF0ZTtpZihEKCJmbG93Iix0LmZsb3dpbmcpLHQuZmxvd2luZylkbyB2YXIgbj1lLnJlYWQoKTt3aGlsZShudWxsIT09biYmdC5mbG93aW5nKX1mdW5jdGlvbiB3KGUsdCl7dmFyIG4scj10LmJ1ZmZlcixpPXQubGVuZ3RoLG89ISF0LmRlY29kZXIscz0hIXQub2JqZWN0TW9kZTtpZigwPT09ci5sZW5ndGgpcmV0dXJuIG51bGw7aWYoMD09PWkpbj1udWxsO2Vsc2UgaWYocyluPXIuc2hpZnQoKTtlbHNlIGlmKCFlfHxlPj1pKW49bz9yLmpvaW4oIiIpOjE9PT1yLmxlbmd0aD9yWzBdOlAuY29uY2F0KHIsaSksci5sZW5ndGg9MDtlbHNlIGlmKGU8clswXS5sZW5ndGgpe3ZhciBhPXJbMF07bj1hLnNsaWNlKDAsZSksclswXT1hLnNsaWNlKGUpfWVsc2UgaWYoZT09PXJbMF0ubGVuZ3RoKW49ci5zaGlmdCgpO2Vsc2V7bj1vPyIiOkMuYWxsb2NVbnNhZmUoZSk7Zm9yKHZhciB1PTAsZj0wLGM9ci5sZW5ndGg7ZjxjJiZ1PGU7ZisrKXt2YXIgbD1yWzBdLGg9TWF0aC5taW4oZS11LGwubGVuZ3RoKTtvP24rPWwuc2xpY2UoMCxoKTpsLmNvcHkobix1LDAsaCksaDxsLmxlbmd0aD9yWzBdPWwuc2xpY2UoaCk6ci5zaGlmdCgpLHUrPWh9fXJldHVybiBufWZ1bmN0aW9uIGIoZSl7dmFyIHQ9ZS5fcmVhZGFibGVTdGF0ZTtpZih0Lmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcignImVuZFJlYWRhYmxlKCkiIGNhbGxlZCBvbiBub24tZW1wdHkgc3RyZWFtJyk7dC5lbmRFbWl0dGVkfHwodC5lbmRlZD0hMCxBKFMsdCxlKSl9ZnVuY3Rpb24gUyhlLHQpe2UuZW5kRW1pdHRlZHx8MCE9PWUubGVuZ3RofHwoZS5lbmRFbWl0dGVkPSEwLHQucmVhZGFibGU9ITEsdC5lbWl0KCJlbmQiKSl9ZnVuY3Rpb24gTyhlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0KGVbbl0sbil9ZnVuY3Rpb24gUihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX10LmV4cG9ydHM9bzt2YXIgQT1lKCJwcm9jZXNzLW5leHRpY2stYXJncyIpLFQ9ZSgiaXNhcnJheSIpO28uUmVhZGFibGVTdGF0ZT1pO3ZhciBJLEw9ZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyLE49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saXN0ZW5lcnModCkubGVuZ3RofTshZnVuY3Rpb24oKXt0cnl7ST1lKCJzdHJlYW0iKX1jYXRjaCh0KXt9ZmluYWxseXtJfHwoST1lKCJldmVudHMiKS5FdmVudEVtaXR0ZXIpfX0oKTt2YXIgUD1lKCJidWZmZXIiKS5CdWZmZXIsQz1lKCJidWZmZXItc2hpbXMiKSxNPWUoImNvcmUtdXRpbC1pcyIpO00uaW5oZXJpdHM9ZSgiaW5oZXJpdHMiKTt2YXIgeD1lKCJ1dGlsIiksRD12b2lkIDA7RD14JiZ4LmRlYnVnbG9nP3guZGVidWdsb2coInN0cmVhbSIpOmZ1bmN0aW9uKCl7fTt2YXIgajtNLmluaGVyaXRzKG8sSSk7dmFyIFUsVSxrPSJmdW5jdGlvbiI9PXR5cGVvZiBMLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI7by5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIG4ub2JqZWN0TW9kZXx8InN0cmluZyIhPXR5cGVvZiBlfHwodD10fHxuLmRlZmF1bHRFbmNvZGluZyx0IT09bi5lbmNvZGluZyYmKGU9Qy5mcm9tKGUsdCksdD0iIikpLHModGhpcyxuLGUsdCwhMSl9LG8ucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gcyh0aGlzLHQsZSwiIiwhMCl9LG8ucHJvdG90eXBlLmlzUGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz09PSExfSxvLnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbih0KXtyZXR1cm4ganx8KGo9ZSgic3RyaW5nX2RlY29kZXIvIikuU3RyaW5nRGVjb2RlciksdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPW5ldyBqKHQpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9dCx0aGlzfTt2YXIgQj04Mzg4NjA4O28ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7RCgicmVhZCIsZSk7dmFyIHQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxuPWU7aWYoKCJudW1iZXIiIT10eXBlb2YgZXx8ZT4wKSYmKHQuZW1pdHRlZFJlYWRhYmxlPSExKSwwPT09ZSYmdC5uZWVkUmVhZGFibGUmJih0Lmxlbmd0aD49dC5oaWdoV2F0ZXJNYXJrfHx0LmVuZGVkKSlyZXR1cm4gRCgicmVhZDogZW1pdFJlYWRhYmxlIix0Lmxlbmd0aCx0LmVuZGVkKSwwPT09dC5sZW5ndGgmJnQuZW5kZWQ/Yih0aGlzKTpoKHRoaXMpLG51bGw7aWYoZT1mKGUsdCksMD09PWUmJnQuZW5kZWQpcmV0dXJuIDA9PT10Lmxlbmd0aCYmYih0aGlzKSxudWxsO3ZhciByPXQubmVlZFJlYWRhYmxlO0QoIm5lZWQgcmVhZGFibGUiLHIpLCgwPT09dC5sZW5ndGh8fHQubGVuZ3RoLWU8dC5oaWdoV2F0ZXJNYXJrKSYmKHI9ITAsRCgibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsiLHIpKSwodC5lbmRlZHx8dC5yZWFkaW5nKSYmKHI9ITEsRCgicmVhZGluZyBvciBlbmRlZCIscikpLHImJihEKCJkbyByZWFkIiksdC5yZWFkaW5nPSEwLHQuc3luYz0hMCwwPT09dC5sZW5ndGgmJih0Lm5lZWRSZWFkYWJsZT0hMCksdGhpcy5fcmVhZCh0LmhpZ2hXYXRlck1hcmspLHQuc3luYz0hMSksciYmIXQucmVhZGluZyYmKGU9ZihuLHQpKTt2YXIgaTtyZXR1cm4gaT1lPjA/dyhlLHQpOm51bGwsbnVsbD09PWkmJih0Lm5lZWRSZWFkYWJsZT0hMCxlPTApLHQubGVuZ3RoLT1lLDAhPT10Lmxlbmd0aHx8dC5lbmRlZHx8KHQubmVlZFJlYWRhYmxlPSEwKSxuIT09ZSYmdC5lbmRlZCYmMD09PXQubGVuZ3RoJiZiKHRoaXMpLG51bGwhPT1pJiZ0aGlzLmVtaXQoImRhdGEiLGkpLGl9LG8ucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe3RoaXMuZW1pdCgiZXJyb3IiLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIikpfSxvLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlKXtEKCJvbnVucGlwZSIpLGU9PT1oJiZzKCl9ZnVuY3Rpb24gbygpe0QoIm9uZW5kIiksZS5lbmQoKX1mdW5jdGlvbiBzKCl7RCgiY2xlYW51cCIpLGUucmVtb3ZlTGlzdGVuZXIoImNsb3NlIixmKSxlLnJlbW92ZUxpc3RlbmVyKCJmaW5pc2giLGMpLGUucmVtb3ZlTGlzdGVuZXIoImRyYWluIixfKSxlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdSksZS5yZW1vdmVMaXN0ZW5lcigidW5waXBlIixpKSxoLnJlbW92ZUxpc3RlbmVyKCJlbmQiLG8pLGgucmVtb3ZlTGlzdGVuZXIoImVuZCIscyksaC5yZW1vdmVMaXN0ZW5lcigiZGF0YSIsYSksdj0hMCwhcC5hd2FpdERyYWlufHxlLl93cml0YWJsZVN0YXRlJiYhZS5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW58fF8oKX1mdW5jdGlvbiBhKHQpe0QoIm9uZGF0YSIpO3ZhciBuPWUud3JpdGUodCk7ITE9PT1uJiYoKDE9PT1wLnBpcGVzQ291bnQmJnAucGlwZXM9PT1lfHxwLnBpcGVzQ291bnQ+MSYmUihwLnBpcGVzLGUpIT09LTEpJiYhdiYmKEQoImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZSIsaC5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKSxoLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKyksaC5wYXVzZSgpKX1mdW5jdGlvbiB1KHQpe0QoIm9uZXJyb3IiLHQpLGwoKSxlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdSksMD09PU4oZSwiZXJyb3IiKSYmZS5lbWl0KCJlcnJvciIsdCl9ZnVuY3Rpb24gZigpe2UucmVtb3ZlTGlzdGVuZXIoImZpbmlzaCIsYyksbCgpfWZ1bmN0aW9uIGMoKXtEKCJvbmZpbmlzaCIpLGUucmVtb3ZlTGlzdGVuZXIoImNsb3NlIixmKSxsKCl9ZnVuY3Rpb24gbCgpe0QoInVucGlwZSIpLGgudW5waXBlKGUpfXZhciBoPXRoaXMscD10aGlzLl9yZWFkYWJsZVN0YXRlO3N3aXRjaChwLnBpcGVzQ291bnQpe2Nhc2UgMDpwLnBpcGVzPWU7YnJlYWs7Y2FzZSAxOnAucGlwZXM9W3AucGlwZXMsZV07YnJlYWs7ZGVmYXVsdDpwLnBpcGVzLnB1c2goZSl9cC5waXBlc0NvdW50Kz0xLEQoInBpcGUgY291bnQ9JWQgb3B0cz0laiIscC5waXBlc0NvdW50LHQpO3ZhciBkPSghdHx8dC5lbmQhPT0hMSkmJmUhPT1uLnN0ZG91dCYmZSE9PW4uc3RkZXJyLGc9ZD9vOnM7cC5lbmRFbWl0dGVkP0EoZyk6aC5vbmNlKCJlbmQiLGcpLGUub24oInVucGlwZSIsaSk7dmFyIF89eShoKTtlLm9uKCJkcmFpbiIsXyk7dmFyIHY9ITE7cmV0dXJuIGgub24oImRhdGEiLGEpLHIoZSwiZXJyb3IiLHUpLGUub25jZSgiY2xvc2UiLGYpLGUub25jZSgiZmluaXNoIixjKSxlLmVtaXQoInBpcGUiLGgpLHAuZmxvd2luZ3x8KEQoInBpcGUgcmVzdW1lIiksaC5yZXN1bWUoKSksZX0sby5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlYWRhYmxlU3RhdGU7aWYoMD09PXQucGlwZXNDb3VudClyZXR1cm4gdGhpcztpZigxPT09dC5waXBlc0NvdW50KXJldHVybiBlJiZlIT09dC5waXBlcz90aGlzOihlfHwoZT10LnBpcGVzKSx0LnBpcGVzPW51bGwsdC5waXBlc0NvdW50PTAsdC5mbG93aW5nPSExLGUmJmUuZW1pdCgidW5waXBlIix0aGlzKSx0aGlzKTtpZighZSl7dmFyIG49dC5waXBlcyxyPXQucGlwZXNDb3VudDt0LnBpcGVzPW51bGwsdC5waXBlc0NvdW50PTAsdC5mbG93aW5nPSExO2Zvcih2YXIgaT0wO2k8cjtpKyspbltpXS5lbWl0KCJ1bnBpcGUiLHRoaXMpO3JldHVybiB0aGlzfXZhciBvPVIodC5waXBlcyxlKTtyZXR1cm4gbz09PS0xP3RoaXM6KHQucGlwZXMuc3BsaWNlKG8sMSksdC5waXBlc0NvdW50LT0xLDE9PT10LnBpcGVzQ291bnQmJih0LnBpcGVzPXQucGlwZXNbMF0pLGUuZW1pdCgidW5waXBlIix0aGlzKSx0aGlzKX0sby5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt2YXIgbj1JLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSx0KTtpZigiZGF0YSI9PT1lJiYhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmdGhpcy5yZXN1bWUoKSwicmVhZGFibGUiPT09ZSYmIXRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCl7dmFyIHI9dGhpcy5fcmVhZGFibGVTdGF0ZTtyLnJlYWRhYmxlTGlzdGVuaW5nfHwoci5yZWFkYWJsZUxpc3RlbmluZz0hMCxyLmVtaXR0ZWRSZWFkYWJsZT0hMSxyLm5lZWRSZWFkYWJsZT0hMCxyLnJlYWRpbmc/ci5sZW5ndGgmJmgodGhpcyxyKTpBKF8sdGhpcykpfXJldHVybiBufSxvLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1vLnByb3RvdHlwZS5vbixvLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiBlLmZsb3dpbmd8fChEKCJyZXN1bWUiKSxlLmZsb3dpbmc9ITAsdih0aGlzLGUpKSx0aGlzfSxvLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpewpyZXR1cm4gRCgiY2FsbCBwYXVzZSBmbG93aW5nPSVqIix0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpLCExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiYoRCgicGF1c2UiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ITEsdGhpcy5lbWl0KCJwYXVzZSIpKSx0aGlzfSxvLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlYWRhYmxlU3RhdGUsbj0hMSxyPXRoaXM7ZS5vbigiZW5kIixmdW5jdGlvbigpe2lmKEQoIndyYXBwZWQgZW5kIiksdC5kZWNvZGVyJiYhdC5lbmRlZCl7dmFyIGU9dC5kZWNvZGVyLmVuZCgpO2UmJmUubGVuZ3RoJiZyLnB1c2goZSl9ci5wdXNoKG51bGwpfSksZS5vbigiZGF0YSIsZnVuY3Rpb24oaSl7aWYoRCgid3JhcHBlZCBkYXRhIiksdC5kZWNvZGVyJiYoaT10LmRlY29kZXIud3JpdGUoaSkpLCghdC5vYmplY3RNb2RlfHxudWxsIT09aSYmdm9pZCAwIT09aSkmJih0Lm9iamVjdE1vZGV8fGkmJmkubGVuZ3RoKSl7dmFyIG89ci5wdXNoKGkpO298fChuPSEwLGUucGF1c2UoKSl9fSk7Zm9yKHZhciBpIGluIGUpdm9pZCAwPT09dGhpc1tpXSYmImZ1bmN0aW9uIj09dHlwZW9mIGVbaV0mJih0aGlzW2ldPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlW3RdLmFwcGx5KGUsYXJndW1lbnRzKX19KGkpKTt2YXIgbz1bImVycm9yIiwiY2xvc2UiLCJkZXN0cm95IiwicGF1c2UiLCJyZXN1bWUiXTtyZXR1cm4gTyhvLGZ1bmN0aW9uKHQpe2Uub24odCxyLmVtaXQuYmluZChyLHQpKX0pLHIuX3JlYWQ9ZnVuY3Rpb24odCl7RCgid3JhcHBlZCBfcmVhZCIsdCksbiYmKG49ITEsZS5yZXN1bWUoKSl9LHJ9LG8uX2Zyb21MaXN0PXd9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9fc3RyZWFtX2R1cGxleCI6MjcsX3Byb2Nlc3M6MjUsYnVmZmVyOjcsImJ1ZmZlci1zaGltcyI6NiwiY29yZS11dGlsLWlzIjoxMSxldmVudHM6MTIsaW5oZXJpdHM6MTksaXNhcnJheToyMSwicHJvY2Vzcy1uZXh0aWNrLWFyZ3MiOjI0LCJzdHJpbmdfZGVjb2Rlci8iOjQxLHV0aWw6M31dLDMwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7dGhpcy5hZnRlclRyYW5zZm9ybT1mdW5jdGlvbih0LG4pe3JldHVybiBpKGUsdCxuKX0sdGhpcy5uZWVkVHJhbnNmb3JtPSExLHRoaXMudHJhbnNmb3JtaW5nPSExLHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVjaHVuaz1udWxsLHRoaXMud3JpdGVlbmNvZGluZz1udWxsfWZ1bmN0aW9uIGkoZSx0LG4pe3ZhciByPWUuX3RyYW5zZm9ybVN0YXRlO3IudHJhbnNmb3JtaW5nPSExO3ZhciBpPXIud3JpdGVjYjtpZighaSlyZXR1cm4gZS5lbWl0KCJlcnJvciIsbmV3IEVycm9yKCJubyB3cml0ZWNiIGluIFRyYW5zZm9ybSBjbGFzcyIpKTtyLndyaXRlY2h1bms9bnVsbCxyLndyaXRlY2I9bnVsbCxudWxsIT09biYmdm9pZCAwIT09biYmZS5wdXNoKG4pLGkodCk7dmFyIG89ZS5fcmVhZGFibGVTdGF0ZTtvLnJlYWRpbmc9ITEsKG8ubmVlZFJlYWRhYmxlfHxvLmxlbmd0aDxvLmhpZ2hXYXRlck1hcmspJiZlLl9yZWFkKG8uaGlnaFdhdGVyTWFyayl9ZnVuY3Rpb24gbyhlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBvKSlyZXR1cm4gbmV3IG8oZSk7YS5jYWxsKHRoaXMsZSksdGhpcy5fdHJhbnNmb3JtU3RhdGU9bmV3IHIodGhpcyk7dmFyIHQ9dGhpczt0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZT0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmM9ITEsZSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLnRyYW5zZm9ybSYmKHRoaXMuX3RyYW5zZm9ybT1lLnRyYW5zZm9ybSksImZ1bmN0aW9uIj09dHlwZW9mIGUuZmx1c2gmJih0aGlzLl9mbHVzaD1lLmZsdXNoKSksdGhpcy5vbmNlKCJwcmVmaW5pc2giLGZ1bmN0aW9uKCl7ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX2ZsdXNoP3RoaXMuX2ZsdXNoKGZ1bmN0aW9uKGUpe3ModCxlKX0pOnModCl9KX1mdW5jdGlvbiBzKGUsdCl7aWYodClyZXR1cm4gZS5lbWl0KCJlcnJvciIsdCk7dmFyIG49ZS5fd3JpdGFibGVTdGF0ZSxyPWUuX3RyYW5zZm9ybVN0YXRlO2lmKG4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwIik7aWYoci50cmFuc2Zvcm1pbmcpdGhyb3cgbmV3IEVycm9yKCJDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nIik7cmV0dXJuIGUucHVzaChudWxsKX10LmV4cG9ydHM9bzt2YXIgYT1lKCIuL19zdHJlYW1fZHVwbGV4IiksdT1lKCJjb3JlLXV0aWwtaXMiKTt1LmluaGVyaXRzPWUoImluaGVyaXRzIiksdS5pbmhlcml0cyhvLGEpLG8ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybT0hMSxhLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxlLHQpfSxvLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxuKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfSxvLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX3RyYW5zZm9ybVN0YXRlO2lmKHIud3JpdGVjYj1uLHIud3JpdGVjaHVuaz1lLHIud3JpdGVlbmNvZGluZz10LCFyLnRyYW5zZm9ybWluZyl7dmFyIGk9dGhpcy5fcmVhZGFibGVTdGF0ZTsoci5uZWVkVHJhbnNmb3JtfHxpLm5lZWRSZWFkYWJsZXx8aS5sZW5ndGg8aS5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChpLmhpZ2hXYXRlck1hcmspfX0sby5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdHJhbnNmb3JtU3RhdGU7bnVsbCE9PXQud3JpdGVjaHVuayYmdC53cml0ZWNiJiYhdC50cmFuc2Zvcm1pbmc/KHQudHJhbnNmb3JtaW5nPSEwLHRoaXMuX3RyYW5zZm9ybSh0LndyaXRlY2h1bmssdC53cml0ZWVuY29kaW5nLHQuYWZ0ZXJUcmFuc2Zvcm0pKTp0Lm5lZWRUcmFuc2Zvcm09ITB9fSx7Ii4vX3N0cmVhbV9kdXBsZXgiOjI3LCJjb3JlLXV0aWwtaXMiOjExLGluaGVyaXRzOjE5fV0sMzE6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gaShlLHQsbil7dGhpcy5jaHVuaz1lLHRoaXMuZW5jb2Rpbmc9dCx0aGlzLmNhbGxiYWNrPW4sdGhpcy5uZXh0PW51bGx9ZnVuY3Rpb24gbyh0LG4pe049Tnx8ZSgiLi9fc3RyZWFtX2R1cGxleCIpLHQ9dHx8e30sdGhpcy5vYmplY3RNb2RlPSEhdC5vYmplY3RNb2RlLG4gaW5zdGFuY2VvZiBOJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISF0LndyaXRhYmxlT2JqZWN0TW9kZSk7dmFyIHI9dC5oaWdoV2F0ZXJNYXJrLGk9dGhpcy5vYmplY3RNb2RlPzE2OjE2Mzg0O3RoaXMuaGlnaFdhdGVyTWFyaz1yfHwwPT09cj9yOmksdGhpcy5oaWdoV2F0ZXJNYXJrPX5+dGhpcy5oaWdoV2F0ZXJNYXJrLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMTt2YXIgbz10LmRlY29kZVN0cmluZ3M9PT0hMTt0aGlzLmRlY29kZVN0cmluZ3M9IW8sdGhpcy5kZWZhdWx0RW5jb2Rpbmc9dC5kZWZhdWx0RW5jb2Rpbmd8fCJ1dGY4Iix0aGlzLmxlbmd0aD0wLHRoaXMud3JpdGluZz0hMSx0aGlzLmNvcmtlZD0wLHRoaXMuc3luYz0hMCx0aGlzLmJ1ZmZlclByb2Nlc3Npbmc9ITEsdGhpcy5vbndyaXRlPWZ1bmN0aW9uKGUpe2QobixlKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgYih0aGlzKX1mdW5jdGlvbiBzKHQpe3JldHVybiBOPU58fGUoIi4vX3N0cmVhbV9kdXBsZXgiKSx0aGlzIGluc3RhbmNlb2Ygc3x8dGhpcyBpbnN0YW5jZW9mIE4/KHRoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IG8odCx0aGlzKSx0aGlzLndyaXRhYmxlPSEwLHQmJigiZnVuY3Rpb24iPT10eXBlb2YgdC53cml0ZSYmKHRoaXMuX3dyaXRlPXQud3JpdGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LndyaXRldiYmKHRoaXMuX3dyaXRldj10LndyaXRldikpLHZvaWQgQS5jYWxsKHRoaXMpKTpuZXcgcyh0KX1mdW5jdGlvbiBhKGUsdCl7dmFyIG49bmV3IEVycm9yKCJ3cml0ZSBhZnRlciBlbmQiKTtlLmVtaXQoImVycm9yIixuKSxTKHQsbil9ZnVuY3Rpb24gdShlLHQsbixyKXt2YXIgaT0hMCxvPSExO3JldHVybiBudWxsPT09bj9vPW5ldyBUeXBlRXJyb3IoIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtIik6SS5pc0J1ZmZlcihuKXx8InN0cmluZyI9PXR5cGVvZiBufHx2b2lkIDA9PT1ufHx0Lm9iamVjdE1vZGV8fChvPW5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsiKSksbyYmKGUuZW1pdCgiZXJyb3IiLG8pLFMocixvKSxpPSExKSxpfWZ1bmN0aW9uIGYoZSx0LG4pe3JldHVybiBlLm9iamVjdE1vZGV8fGUuZGVjb2RlU3RyaW5ncz09PSExfHwic3RyaW5nIiE9dHlwZW9mIHR8fCh0PUwuZnJvbSh0LG4pKSx0fWZ1bmN0aW9uIGMoZSx0LG4scixvKXtuPWYodCxuLHIpLEkuaXNCdWZmZXIobikmJihyPSJidWZmZXIiKTt2YXIgcz10Lm9iamVjdE1vZGU/MTpuLmxlbmd0aDt0Lmxlbmd0aCs9czt2YXIgYT10Lmxlbmd0aDx0LmhpZ2hXYXRlck1hcms7aWYoYXx8KHQubmVlZERyYWluPSEwKSx0LndyaXRpbmd8fHQuY29ya2VkKXt2YXIgdT10Lmxhc3RCdWZmZXJlZFJlcXVlc3Q7dC5sYXN0QnVmZmVyZWRSZXF1ZXN0PW5ldyBpKG4scixvKSx1P3UubmV4dD10Lmxhc3RCdWZmZXJlZFJlcXVlc3Q6dC5idWZmZXJlZFJlcXVlc3Q9dC5sYXN0QnVmZmVyZWRSZXF1ZXN0LHQuYnVmZmVyZWRSZXF1ZXN0Q291bnQrPTF9ZWxzZSBsKGUsdCwhMSxzLG4scixvKTtyZXR1cm4gYX1mdW5jdGlvbiBsKGUsdCxuLHIsaSxvLHMpe3Qud3JpdGVsZW49cix0LndyaXRlY2I9cyx0LndyaXRpbmc9ITAsdC5zeW5jPSEwLG4/ZS5fd3JpdGV2KGksdC5vbndyaXRlKTplLl93cml0ZShpLG8sdC5vbndyaXRlKSx0LnN5bmM9ITF9ZnVuY3Rpb24gaChlLHQsbixyLGkpey0tdC5wZW5kaW5nY2Isbj9TKGkscik6aShyKSxlLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxlLmVtaXQoImVycm9yIixyKX1mdW5jdGlvbiBwKGUpe2Uud3JpdGluZz0hMSxlLndyaXRlY2I9bnVsbCxlLmxlbmd0aC09ZS53cml0ZWxlbixlLndyaXRlbGVuPTB9ZnVuY3Rpb24gZChlLHQpe3ZhciBuPWUuX3dyaXRhYmxlU3RhdGUscj1uLnN5bmMsaT1uLndyaXRlY2I7aWYocChuKSx0KWgoZSxuLHIsdCxpKTtlbHNle3ZhciBvPXYobik7b3x8bi5jb3JrZWR8fG4uYnVmZmVyUHJvY2Vzc2luZ3x8IW4uYnVmZmVyZWRSZXF1ZXN0fHxfKGUsbikscj9PKGcsZSxuLG8saSk6ZyhlLG4sbyxpKX19ZnVuY3Rpb24gZyhlLHQsbixyKXtufHx5KGUsdCksdC5wZW5kaW5nY2ItLSxyKCksRShlLHQpfWZ1bmN0aW9uIHkoZSx0KXswPT09dC5sZW5ndGgmJnQubmVlZERyYWluJiYodC5uZWVkRHJhaW49ITEsZS5lbWl0KCJkcmFpbiIpKX1mdW5jdGlvbiBfKGUsdCl7dC5idWZmZXJQcm9jZXNzaW5nPSEwO3ZhciBuPXQuYnVmZmVyZWRSZXF1ZXN0O2lmKGUuX3dyaXRldiYmbiYmbi5uZXh0KXt2YXIgcj10LmJ1ZmZlcmVkUmVxdWVzdENvdW50LGk9bmV3IEFycmF5KHIpLG89dC5jb3JrZWRSZXF1ZXN0c0ZyZWU7by5lbnRyeT1uO2Zvcih2YXIgcz0wO247KWlbc109bixuPW4ubmV4dCxzKz0xO2woZSx0LCEwLHQubGVuZ3RoLGksIiIsby5maW5pc2gpLHQucGVuZGluZ2NiKyssdC5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsby5uZXh0Pyh0LmNvcmtlZFJlcXVlc3RzRnJlZT1vLm5leHQsby5uZXh0PW51bGwpOnQuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBiKHQpfWVsc2V7Zm9yKDtuOyl7dmFyIGE9bi5jaHVuayx1PW4uZW5jb2RpbmcsZj1uLmNhbGxiYWNrLGM9dC5vYmplY3RNb2RlPzE6YS5sZW5ndGg7aWYobChlLHQsITEsYyxhLHUsZiksbj1uLm5leHQsdC53cml0aW5nKWJyZWFrfW51bGw9PT1uJiYodC5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXQuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0LmJ1ZmZlcmVkUmVxdWVzdD1uLHQuYnVmZmVyUHJvY2Vzc2luZz0hMX1mdW5jdGlvbiB2KGUpe3JldHVybiBlLmVuZGluZyYmMD09PWUubGVuZ3RoJiZudWxsPT09ZS5idWZmZXJlZFJlcXVlc3QmJiFlLmZpbmlzaGVkJiYhZS53cml0aW5nfWZ1bmN0aW9uIG0oZSx0KXt0LnByZWZpbmlzaGVkfHwodC5wcmVmaW5pc2hlZD0hMCxlLmVtaXQoInByZWZpbmlzaCIpKX1mdW5jdGlvbiBFKGUsdCl7dmFyIG49dih0KTtyZXR1cm4gbiYmKDA9PT10LnBlbmRpbmdjYj8obShlLHQpLHQuZmluaXNoZWQ9ITAsZS5lbWl0KCJmaW5pc2giKSk6bShlLHQpKSxufWZ1bmN0aW9uIHcoZSx0LG4pe3QuZW5kaW5nPSEwLEUoZSx0KSxuJiYodC5maW5pc2hlZD9TKG4pOmUub25jZSgiZmluaXNoIixuKSksdC5lbmRlZD0hMCxlLndyaXRhYmxlPSExfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9dGhpczt0aGlzLm5leHQ9bnVsbCx0aGlzLmVudHJ5PW51bGwsdGhpcy5maW5pc2g9ZnVuY3Rpb24obil7dmFyIHI9dC5lbnRyeTtmb3IodC5lbnRyeT1udWxsO3I7KXt2YXIgaT1yLmNhbGxiYWNrO2UucGVuZGluZ2NiLS0saShuKSxyPXIubmV4dH1lLmNvcmtlZFJlcXVlc3RzRnJlZT9lLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PXQ6ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU9dH19dC5leHBvcnRzPXM7dmFyIFM9ZSgicHJvY2Vzcy1uZXh0aWNrLWFyZ3MiKSxPPSFuLmJyb3dzZXImJlsidjAuMTAiLCJ2MC45LiJdLmluZGV4T2Yobi52ZXJzaW9uLnNsaWNlKDAsNSkpPi0xP3NldEltbWVkaWF0ZTpTO3MuV3JpdGFibGVTdGF0ZT1vO3ZhciBSPWUoImNvcmUtdXRpbC1pcyIpO1IuaW5oZXJpdHM9ZSgiaW5oZXJpdHMiKTt2YXIgQSxUPXtkZXByZWNhdGU6ZSgidXRpbC1kZXByZWNhdGUiKX07IWZ1bmN0aW9uKCl7dHJ5e0E9ZSgic3RyZWFtIil9Y2F0Y2godCl7fWZpbmFsbHl7QXx8KEE9ZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyKX19KCk7dmFyIEk9ZSgiYnVmZmVyIikuQnVmZmVyLEw9ZSgiYnVmZmVyLXNoaW1zIik7Ui5pbmhlcml0cyhzLEEpO3ZhciBOO28ucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJ1ZmZlcmVkUmVxdWVzdCx0PVtdO2U7KXQucHVzaChlKSxlPWUubmV4dDtyZXR1cm4gdH0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8ucHJvdG90eXBlLCJidWZmZXIiLHtnZXQ6VC5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCdWZmZXIoKX0sIl93cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyIGluc3RlYWQuIil9KX1jYXRjaChlKXt9fSgpO3ZhciBOO3MucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXt0aGlzLmVtaXQoImVycm9yIixuZXcgRXJyb3IoIkNhbm5vdCBwaXBlLCBub3QgcmVhZGFibGUiKSl9LHMucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLl93cml0YWJsZVN0YXRlLG89ITE7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSxJLmlzQnVmZmVyKGUpP3Q9ImJ1ZmZlciI6dHx8KHQ9aS5kZWZhdWx0RW5jb2RpbmcpLCJmdW5jdGlvbiIhPXR5cGVvZiBuJiYobj1yKSxpLmVuZGVkP2EodGhpcyxuKTp1KHRoaXMsaSxlLG4pJiYoaS5wZW5kaW5nY2IrKyxvPWModGhpcyxpLGUsdCxuKSksb30scy5wcm90b3R5cGUuY29yaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3dyaXRhYmxlU3RhdGU7ZS5jb3JrZWQrK30scy5wcm90b3R5cGUudW5jb3JrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fd3JpdGFibGVTdGF0ZTtlLmNvcmtlZCYmKGUuY29ya2VkLS0sZS53cml0aW5nfHxlLmNvcmtlZHx8ZS5maW5pc2hlZHx8ZS5idWZmZXJQcm9jZXNzaW5nfHwhZS5idWZmZXJlZFJlcXVlc3R8fF8odGhpcyxlKSl9LHMucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUmJihlPWUudG9Mb3dlckNhc2UoKSksIShbImhleCIsInV0ZjgiLCJ1dGYtOCIsImFzY2lpIiwiYmluYXJ5IiwiYmFzZTY0IiwidWNzMiIsInVjcy0yIiwidXRmMTZsZSIsInV0Zi0xNmxlIiwicmF3Il0uaW5kZXhPZigoZSsiIikudG9Mb3dlckNhc2UoKSk+LTEpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZSk7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nPWUsdGhpc30scy5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxuKXtuKG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIikpfSxzLnByb3RvdHlwZS5fd3JpdGV2PW51bGwscy5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl93cml0YWJsZVN0YXRlOyJmdW5jdGlvbiI9PXR5cGVvZiBlPyhuPWUsZT1udWxsLHQ9bnVsbCk6ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSxudWxsIT09ZSYmdm9pZCAwIT09ZSYmdGhpcy53cml0ZShlLHQpLHIuY29ya2VkJiYoci5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSxyLmVuZGluZ3x8ci5maW5pc2hlZHx8dyh0aGlzLHIsbil9fSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vX3N0cmVhbV9kdXBsZXgiOjI3LF9wcm9jZXNzOjI1LGJ1ZmZlcjo3LCJidWZmZXItc2hpbXMiOjYsImNvcmUtdXRpbC1pcyI6MTEsZXZlbnRzOjEyLGluaGVyaXRzOjE5LCJwcm9jZXNzLW5leHRpY2stYXJncyI6MjQsInV0aWwtZGVwcmVjYXRlIjo0Mn1dLDMyOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWUoIi4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiKX0seyIuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzIjoyOH1dLDMzOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHIpe3ZhciBpPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBlKCJzdHJlYW0iKX1jYXRjaCh0KXt9fSgpO249dC5leHBvcnRzPWUoIi4vbGliL19zdHJlYW1fcmVhZGFibGUuanMiKSxuLlN0cmVhbT1pfHxuLG4uUmVhZGFibGU9bixuLldyaXRhYmxlPWUoIi4vbGliL19zdHJlYW1fd3JpdGFibGUuanMiKSxuLkR1cGxleD1lKCIuL2xpYi9fc3RyZWFtX2R1cGxleC5qcyIpLG4uVHJhbnNmb3JtPWUoIi4vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIiksbi5QYXNzVGhyb3VnaD1lKCIuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzIiksIXIuYnJvd3NlciYmImRpc2FibGUiPT09ci5lbnYuUkVBREFCTEVfU1RSRUFNJiZpJiYodC5leHBvcnRzPWkpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vbGliL19zdHJlYW1fZHVwbGV4LmpzIjoyNywiLi9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyI6MjgsIi4vbGliL19zdHJlYW1fcmVhZGFibGUuanMiOjI5LCIuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyI6MzAsIi4vbGliL19zdHJlYW1fd3JpdGFibGUuanMiOjMxLF9wcm9jZXNzOjI1fV0sMzQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZSgiLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMiKX0seyIuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyI6MzB9XSwzNTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1lKCIuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIil9LHsiLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcyI6MzF9XSwzNjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7ZnVuY3Rpb24gdChjKXtjJiYhYSYmKGE9Yyk7Zm9yKHZhciBsPWFyZ3VtZW50cy5sZW5ndGgsaD0xO2g8bDtoKyspdm9pZCAwIT09YXJndW1lbnRzW2hdJiYoc1toLTFdPShzW2gtMV18fFtdKS5jb25jYXQoYXJndW1lbnRzW2hdKSk7aWYoci5sZW5ndGg+dSl7dmFyIHA9ci5zbGljZSh1KTtmKz0oci5sZW5ndGgtdSkqbyx1PXIubGVuZ3RoLGUubmV4dFRpY2soZnVuY3Rpb24oKXtwLmZvckVhY2goZnVuY3Rpb24oZSl7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe24oZSx0KX0pfSl9KX0wPT09LS1mJiZpLmFwcGx5KG51bGwsW2FdLmNvbmNhdChzKSl9dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxyPW4uc2hpZnQoKXx8W10saT1uLnBvcCgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBpKXRocm93IG5ldyBFcnJvcigiTm8gY2FsbGJhY2sgcHJvdmlkZWQgdG8gYXN5bmNNYXAiKTtpZighcilyZXR1cm4gaShudWxsLFtdKTtBcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO3ZhciBvPW4ubGVuZ3RoLHM9W10sYT1udWxsLHU9ci5sZW5ndGgsZj11Km87cmV0dXJuIGY/dm9pZCByLmZvckVhY2goZnVuY3Rpb24oZSl7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe24oZSx0KX0pfSk6aShudWxsLFtdKX10LmV4cG9ydHM9bn0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0se19wcm9jZXNzOjI1fV0sMzc6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7dmFyIGUsdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLG49bnVsbDtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHRbMF0/KG49dC5zaGlmdCgpLGU9dC5zaGlmdCgpLCJzdHJpbmciPT10eXBlb2YgZSYmKGU9bltlXSkpOmU9dC5zaGlmdCgpLGZ1bmN0aW9uKHIpe2UuYXBwbHkobix0LmNvbmNhdChyKSl9fXQuZXhwb3J0cz1yfSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7dmFyIG49W107IWZ1bmN0aW9uIG8ocyxhKXtyZXR1cm4gcz49YT90KG51bGwsbik6KEFycmF5LmlzQXJyYXkoZVtzXSkmJihlW3NdPWkuYXBwbHkobnVsbCxlW3NdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXIuZmlyc3Q/blswXTplPT09ci5sYXN0P25bbi5sZW5ndGgtMV06ZX0pKSksZVtzXT92b2lkIGVbc10oZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT90KGUsbik6KHZvaWQgMCE9PXImJihuPW4uY29uY2F0KHIpKSx2b2lkIG8ocysxLGEpKX0pOm8ocysxLGEpKX0oMCxlLmxlbmd0aCl9dC5leHBvcnRzPXI7dmFyIGk9ZSgiLi9iaW5kLWFjdG9yLmpzIik7ci5maXJzdD17fSxyLmxhc3Q9e319LHsiLi9iaW5kLWFjdG9yLmpzIjozN31dLDM5OltmdW5jdGlvbihlLHQsbil7bi5hc3luY01hcD1lKCIuL2FzeW5jLW1hcCIpLG4uYmluZEFjdG9yPWUoIi4vYmluZC1hY3RvciIpLG4uY2hhaW49ZSgiLi9jaGFpbiIpfSx7Ii4vYXN5bmMtbWFwIjozNiwiLi9iaW5kLWFjdG9yIjozNywiLi9jaGFpbiI6Mzh9XSw0MDpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtpLmNhbGwodGhpcyl9dC5leHBvcnRzPXI7dmFyIGk9ZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyLG89ZSgiaW5oZXJpdHMiKTtvKHIsaSksci5SZWFkYWJsZT1lKCJyZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUuanMiKSxyLldyaXRhYmxlPWUoInJlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcyIpLHIuRHVwbGV4PWUoInJlYWRhYmxlLXN0cmVhbS9kdXBsZXguanMiKSxyLlRyYW5zZm9ybT1lKCJyZWFkYWJsZS1zdHJlYW0vdHJhbnNmb3JtLmpzIiksci5QYXNzVGhyb3VnaD1lKCJyZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMiKSxyLlN0cmVhbT1yLHIucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKHQpe2Uud3JpdGFibGUmJiExPT09ZS53cml0ZSh0KSYmZi5wYXVzZSYmZi5wYXVzZSgpfWZ1bmN0aW9uIHIoKXtmLnJlYWRhYmxlJiZmLnJlc3VtZSYmZi5yZXN1bWUoKX1mdW5jdGlvbiBvKCl7Y3x8KGM9ITAsZS5lbmQoKSl9ZnVuY3Rpb24gcygpe2N8fChjPSEwLCJmdW5jdGlvbiI9PXR5cGVvZiBlLmRlc3Ryb3kmJmUuZGVzdHJveSgpKX1mdW5jdGlvbiBhKGUpe2lmKHUoKSwwPT09aS5saXN0ZW5lckNvdW50KHRoaXMsImVycm9yIikpdGhyb3cgZX1mdW5jdGlvbiB1KCl7Zi5yZW1vdmVMaXN0ZW5lcigiZGF0YSIsbiksZS5yZW1vdmVMaXN0ZW5lcigiZHJhaW4iLHIpLGYucmVtb3ZlTGlzdGVuZXIoImVuZCIsbyksZi5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLHMpLGYucmVtb3ZlTGlzdGVuZXIoImVycm9yIixhKSxlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsYSksZi5yZW1vdmVMaXN0ZW5lcigiZW5kIix1KSxmLnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsdSksZS5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLHUpfXZhciBmPXRoaXM7Zi5vbigiZGF0YSIsbiksZS5vbigiZHJhaW4iLHIpLGUuX2lzU3RkaW98fHQmJnQuZW5kPT09ITF8fChmLm9uKCJlbmQiLG8pLGYub24oImNsb3NlIixzKSk7dmFyIGM9ITE7cmV0dXJuIGYub24oImVycm9yIixhKSxlLm9uKCJlcnJvciIsYSksZi5vbigiZW5kIix1KSxmLm9uKCJjbG9zZSIsdSksZS5vbigiY2xvc2UiLHUpLGUuZW1pdCgicGlwZSIsZiksZX19LHtldmVudHM6MTIsaW5oZXJpdHM6MTksInJlYWRhYmxlLXN0cmVhbS9kdXBsZXguanMiOjI2LCJyZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMiOjMyLCJyZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUuanMiOjMzLCJyZWFkYWJsZS1zdHJlYW0vdHJhbnNmb3JtLmpzIjozNCwicmVhZGFibGUtc3RyZWFtL3dyaXRhYmxlLmpzIjozNX1dLDQxOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlKXtpZihlJiYhdShlKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiBvKGUpe3RoaXMuY2hhclJlY2VpdmVkPWUubGVuZ3RoJTIsdGhpcy5jaGFyTGVuZ3RoPXRoaXMuY2hhclJlY2VpdmVkPzI6MH1mdW5jdGlvbiBzKGUpe3RoaXMuY2hhclJlY2VpdmVkPWUubGVuZ3RoJTMsdGhpcy5jaGFyTGVuZ3RoPXRoaXMuY2hhclJlY2VpdmVkPzM6MH12YXIgYT1lKCJidWZmZXIiKS5CdWZmZXIsdT1hLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKGUpe3N3aXRjaChlJiZlLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOmNhc2UicmF3IjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZj1uLlN0cmluZ0RlY29kZXI9ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuZW5jb2Rpbmc9KGV8fCJ1dGY4IikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9dLywiIikscihlKSx0aGlzLmVuY29kaW5nKXtjYXNlInV0ZjgiOnRoaXMuc3Vycm9nYXRlU2l6ZT0zO2JyZWFrO2Nhc2UidWNzMiI6Y2FzZSJ1dGYxNmxlIjp0aGlzLnN1cnJvZ2F0ZVNpemU9Mix0aGlzLmRldGVjdEluY29tcGxldGVDaGFyPW87YnJlYWs7Y2FzZSJiYXNlNjQiOnRoaXMuc3Vycm9nYXRlU2l6ZT0zLHRoaXMuZGV0ZWN0SW5jb21wbGV0ZUNoYXI9czticmVhaztkZWZhdWx0OnJldHVybiB2b2lkKHRoaXMud3JpdGU9aSl9dGhpcy5jaGFyQnVmZmVyPW5ldyBhKDYpLHRoaXMuY2hhclJlY2VpdmVkPTAsdGhpcy5jaGFyTGVuZ3RoPTB9O2YucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIjt0aGlzLmNoYXJMZW5ndGg7KXt2YXIgbj1lLmxlbmd0aD49dGhpcy5jaGFyTGVuZ3RoLXRoaXMuY2hhclJlY2VpdmVkP3RoaXMuY2hhckxlbmd0aC10aGlzLmNoYXJSZWNlaXZlZDplLmxlbmd0aDtpZihlLmNvcHkodGhpcy5jaGFyQnVmZmVyLHRoaXMuY2hhclJlY2VpdmVkLDAsbiksdGhpcy5jaGFyUmVjZWl2ZWQrPW4sdGhpcy5jaGFyUmVjZWl2ZWQ8dGhpcy5jaGFyTGVuZ3RoKXJldHVybiIiO2U9ZS5zbGljZShuLGUubGVuZ3RoKSx0PXRoaXMuY2hhckJ1ZmZlci5zbGljZSgwLHRoaXMuY2hhckxlbmd0aCkudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7dmFyIHI9dC5jaGFyQ29kZUF0KHQubGVuZ3RoLTEpO2lmKCEocj49NTUyOTYmJnI8PTU2MzE5KSl7aWYodGhpcy5jaGFyUmVjZWl2ZWQ9dGhpcy5jaGFyTGVuZ3RoPTAsMD09PWUubGVuZ3RoKXJldHVybiB0O2JyZWFrfXRoaXMuY2hhckxlbmd0aCs9dGhpcy5zdXJyb2dhdGVTaXplLHQ9IiJ9dGhpcy5kZXRlY3RJbmNvbXBsZXRlQ2hhcihlKTt2YXIgaT1lLmxlbmd0aDt0aGlzLmNoYXJMZW5ndGgmJihlLmNvcHkodGhpcy5jaGFyQnVmZmVyLDAsZS5sZW5ndGgtdGhpcy5jaGFyUmVjZWl2ZWQsaSksaS09dGhpcy5jaGFyUmVjZWl2ZWQpLHQrPWUudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLGkpO3ZhciBpPXQubGVuZ3RoLTEscj10LmNoYXJDb2RlQXQoaSk7aWYocj49NTUyOTYmJnI8PTU2MzE5KXt2YXIgbz10aGlzLnN1cnJvZ2F0ZVNpemU7cmV0dXJuIHRoaXMuY2hhckxlbmd0aCs9byx0aGlzLmNoYXJSZWNlaXZlZCs9byx0aGlzLmNoYXJCdWZmZXIuY29weSh0aGlzLmNoYXJCdWZmZXIsbywwLG8pLGUuY29weSh0aGlzLmNoYXJCdWZmZXIsMCwwLG8pLHQuc3Vic3RyaW5nKDAsaSl9cmV0dXJuIHR9LGYucHJvdG90eXBlLmRldGVjdEluY29tcGxldGVDaGFyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aD49Mz8zOmUubGVuZ3RoO3Q+MDt0LS0pe3ZhciBuPWVbZS5sZW5ndGgtdF07aWYoMT09dCYmbj4+NT09Nil7dGhpcy5jaGFyTGVuZ3RoPTI7YnJlYWt9aWYodDw9MiYmbj4+ND09MTQpe3RoaXMuY2hhckxlbmd0aD0zO2JyZWFrfWlmKHQ8PTMmJm4+PjM9PTMwKXt0aGlzLmNoYXJMZW5ndGg9NDticmVha319dGhpcy5jaGFyUmVjZWl2ZWQ9dH0sZi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2lmKGUmJmUubGVuZ3RoJiYodD10aGlzLndyaXRlKGUpKSx0aGlzLmNoYXJSZWNlaXZlZCl7dmFyIG49dGhpcy5jaGFyUmVjZWl2ZWQscj10aGlzLmNoYXJCdWZmZXIsaT10aGlzLmVuY29kaW5nO3QrPXIuc2xpY2UoMCxuKS50b1N0cmluZyhpKX1yZXR1cm4gdH19LHtidWZmZXI6N31dLDQyOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oZSx0KXtmdW5jdGlvbiBuKCl7aWYoIWkpe2lmKHIoInRocm93RGVwcmVjYXRpb24iKSl0aHJvdyBuZXcgRXJyb3IodCk7cigidHJhY2VEZXByZWNhdGlvbiIpP2NvbnNvbGUudHJhY2UodCk6Y29uc29sZS53YXJuKHQpLGk9ITB9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWlmKHIoIm5vRGVwcmVjYXRpb24iKSlyZXR1cm4gZTt2YXIgaT0hMTtyZXR1cm4gbn1mdW5jdGlvbiByKHQpe3RyeXtpZighZS5sb2NhbFN0b3JhZ2UpcmV0dXJuITF9Y2F0Y2gobil7cmV0dXJuITF9dmFyIHI9ZS5sb2NhbFN0b3JhZ2VbdF07cmV0dXJuIG51bGwhPXImJiJ0cnVlIj09PVN0cmluZyhyKS50b0xvd2VyQ2FzZSgpfXQuZXhwb3J0cz1ufSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJvYmplY3QiPT10eXBlb2YgZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY29weSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuZmlsbCYmImZ1bmN0aW9uIj09dHlwZW9mIGUucmVhZFVJbnQ4fX0se31dLDQ0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gaShlLHQpe3ZhciByPXtzZWVuOltdLHN0eWxpemU6c307cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihyLmRlcHRoPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKHIuY29sb3JzPWFyZ3VtZW50c1szXSksZyh0KT9yLnNob3dIaWRkZW49dDp0JiZuLl9leHRlbmQocix0KSx3KHIuc2hvd0hpZGRlbikmJihyLnNob3dIaWRkZW49ITEpLHcoci5kZXB0aCkmJihyLmRlcHRoPTIpLHcoci5jb2xvcnMpJiYoci5jb2xvcnM9ITEpLHcoci5jdXN0b21JbnNwZWN0KSYmKHIuY3VzdG9tSW5zcGVjdD0hMCksci5jb2xvcnMmJihyLnN0eWxpemU9byksdShyLGUsci5kZXB0aCl9ZnVuY3Rpb24gbyhlLHQpe3ZhciBuPWkuc3R5bGVzW3RdO3JldHVybiBuPyIbWyIraS5jb2xvcnNbbl1bMF0rIm0iK2UrIhtbIitpLmNvbG9yc1tuXVsxXSsibSI6ZX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGV9ZnVuY3Rpb24gYShlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dFtlXT0hMH0pLHR9ZnVuY3Rpb24gdShlLHQscil7aWYoZS5jdXN0b21JbnNwZWN0JiZ0JiZBKHQuaW5zcGVjdCkmJnQuaW5zcGVjdCE9PW4uaW5zcGVjdCYmKCF0LmNvbnN0cnVjdG9yfHx0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXQpKXt2YXIgaT10Lmluc3BlY3QocixlKTtyZXR1cm4gbShpKXx8KGk9dShlLGkscikpLGl9dmFyIG89ZihlLHQpO2lmKG8pcmV0dXJuIG87dmFyIHM9T2JqZWN0LmtleXModCksZz1hKHMpO2lmKGUuc2hvd0hpZGRlbiYmKHM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkpLFIodCkmJihzLmluZGV4T2YoIm1lc3NhZ2UiKT49MHx8cy5pbmRleE9mKCJkZXNjcmlwdGlvbiIpPj0wKSlyZXR1cm4gYyh0KTtpZigwPT09cy5sZW5ndGgpe2lmKEEodCkpe3ZhciB5PXQubmFtZT8iOiAiK3QubmFtZToiIjtyZXR1cm4gZS5zdHlsaXplKCJbRnVuY3Rpb24iK3krIl0iLCJzcGVjaWFsIil9aWYoYih0KSlyZXR1cm4gZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwicmVnZXhwIik7aWYoTyh0KSlyZXR1cm4gZS5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksImRhdGUiKTtpZihSKHQpKXJldHVybiBjKHQpfXZhciBfPSIiLHY9ITEsRT1bInsiLCJ9Il07aWYoZCh0KSYmKHY9ITAsRT1bIlsiLCJdIl0pLEEodCkpe3ZhciB3PXQubmFtZT8iOiAiK3QubmFtZToiIjtfPSIgW0Z1bmN0aW9uIit3KyJdIn1pZihiKHQpJiYoXz0iICIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSxPKHQpJiYoXz0iICIrRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh0KSksUih0KSYmKF89IiAiK2ModCkpLDA9PT1zLmxlbmd0aCYmKCF2fHwwPT10Lmxlbmd0aCkpcmV0dXJuIEVbMF0rXytFWzFdO2lmKHI8MClyZXR1cm4gYih0KT9lLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJyZWdleHAiKTplLnN0eWxpemUoIltPYmplY3RdIiwic3BlY2lhbCIpO2Uuc2Vlbi5wdXNoKHQpO3ZhciBTO3JldHVybiBTPXY/bChlLHQscixnLHMpOnMubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBoKGUsdCxyLGcsbix2KX0pLGUuc2Vlbi5wb3AoKSxwKFMsXyxFKX1mdW5jdGlvbiBmKGUsdCl7aWYodyh0KSlyZXR1cm4gZS5zdHlsaXplKCJ1bmRlZmluZWQiLCJ1bmRlZmluZWQiKTtpZihtKHQpKXt2YXIgbj0iJyIrSlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvXiJ8IiQvZywiIikucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpKyInIjtyZXR1cm4gZS5zdHlsaXplKG4sInN0cmluZyIpfXJldHVybiB2KHQpP2Uuc3R5bGl6ZSgiIit0LCJudW1iZXIiKTpnKHQpP2Uuc3R5bGl6ZSgiIit0LCJib29sZWFuIik6eSh0KT9lLnN0eWxpemUoIm51bGwiLCJudWxsIik6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIlsiK0Vycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKyJdIn1mdW5jdGlvbiBsKGUsdCxuLHIsaSl7Zm9yKHZhciBvPVtdLHM9MCxhPXQubGVuZ3RoO3M8YTsrK3MpUCh0LFN0cmluZyhzKSk/by5wdXNoKGgoZSx0LG4scixTdHJpbmcocyksITApKTpvLnB1c2goIiIpO3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24oaSl7aS5tYXRjaCgvXlxkKyQvKXx8by5wdXNoKGgoZSx0LG4scixpLCEwKSl9KSxvfWZ1bmN0aW9uIGgoZSx0LG4scixpLG8pe3ZhciBzLGEsZjtpZihmPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxpKXx8e3ZhbHVlOnRbaV19LGYuZ2V0P2E9Zi5zZXQ/ZS5zdHlsaXplKCJbR2V0dGVyL1NldHRlcl0iLCJzcGVjaWFsIik6ZS5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKTpmLnNldCYmKGE9ZS5zdHlsaXplKCJbU2V0dGVyXSIsInNwZWNpYWwiKSksUChyLGkpfHwocz0iWyIraSsiXSIpLGF8fChlLnNlZW4uaW5kZXhPZihmLnZhbHVlKTwwPyhhPXkobik/dShlLGYudmFsdWUsbnVsbCk6dShlLGYudmFsdWUsbi0xKSxhLmluZGV4T2YoIlxuIik+LTEmJihhPW8/YS5zcGxpdCgiXG4iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiAgIitlfSkuam9pbigiXG4iKS5zdWJzdHIoMik6IlxuIithLnNwbGl0KCJcbiIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iICAgIitlfSkuam9pbigiXG4iKSkpOmE9ZS5zdHlsaXplKCJbQ2lyY3VsYXJdIiwic3BlY2lhbCIpKSx3KHMpKXtpZihvJiZpLm1hdGNoKC9eXGQrJC8pKXJldHVybiBhO3M9SlNPTi5zdHJpbmdpZnkoIiIraSkscy5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pPyhzPXMuc3Vic3RyKDEscy5sZW5ndGgtMikscz1lLnN0eWxpemUocywibmFtZSIpKToocz1zLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC8oXiJ8IiQpL2csIiciKSxzPWUuc3R5bGl6ZShzLCJzdHJpbmciKSl9cmV0dXJuIHMrIjogIithfWZ1bmN0aW9uIHAoZSx0LG4pe3ZhciByPTAsaT1lLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiByKyssdC5pbmRleE9mKCJcbiIpPj0wJiZyKyssZSt0LnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSwwKTtyZXR1cm4gaT42MD9uWzBdKygiIj09PXQ/IiI6dCsiXG4gIikrIiAiK2Uuam9pbigiLFxuICAiKSsiICIrblsxXTpuWzBdK3QrIiAiK2Uuam9pbigiLCAiKSsiICIrblsxXX1mdW5jdGlvbiBkKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZX1mdW5jdGlvbiB5KGUpe3JldHVybiBudWxsPT09ZX1mdW5jdGlvbiBfKGUpe3JldHVybiBudWxsPT1lfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfWZ1bmN0aW9uIEUoZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gYihlKXtyZXR1cm4gUyhlKSYmIltvYmplY3QgUmVnRXhwXSI9PT1JKGUpfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZX1mdW5jdGlvbiBPKGUpe3JldHVybiBTKGUpJiYiW29iamVjdCBEYXRlXSI9PT1JKGUpfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIFMoZSkmJigiW29iamVjdCBFcnJvcl0iPT09SShlKXx8ZSBpbnN0YW5jZW9mIEVycm9yKX1mdW5jdGlvbiBBKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIG51bGw9PT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGV8fCJzdHJpbmciPT10eXBlb2YgZXx8InN5bWJvbCI9PXR5cGVvZiBlfHwidW5kZWZpbmVkIj09dHlwZW9mIGV9ZnVuY3Rpb24gSShlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIEwoZSl7cmV0dXJuIGU8MTA/IjAiK2UudG9TdHJpbmcoMTApOmUudG9TdHJpbmcoMTApfWZ1bmN0aW9uIE4oKXt2YXIgZT1uZXcgRGF0ZSx0PVtMKGUuZ2V0SG91cnMoKSksTChlLmdldE1pbnV0ZXMoKSksTChlLmdldFNlY29uZHMoKSldLmpvaW4oIjoiKTtyZXR1cm5bZS5nZXREYXRlKCksRFtlLmdldE1vbnRoKCldLHRdLmpvaW4oIiAiKX1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXZhciBDPS8lW3NkaiVdL2c7bi5mb3JtYXQ9ZnVuY3Rpb24oZSl7aWYoIW0oZSkpe2Zvcih2YXIgdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goaShhcmd1bWVudHNbbl0pKTtyZXR1cm4gdC5qb2luKCIgIil9Zm9yKHZhciBuPTEscj1hcmd1bWVudHMsbz1yLmxlbmd0aCxzPVN0cmluZyhlKS5yZXBsYWNlKEMsZnVuY3Rpb24oZSl7aWYoIiUlIj09PWUpcmV0dXJuIiUiO2lmKG4+PW8pcmV0dXJuIGU7c3dpdGNoKGUpe2Nhc2UiJXMiOnJldHVybiBTdHJpbmcocltuKytdKTtjYXNlIiVkIjpyZXR1cm4gTnVtYmVyKHJbbisrXSk7Y2FzZSIlaiI6dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShyW24rK10pfWNhdGNoKHQpe3JldHVybiJbQ2lyY3VsYXJdIn1kZWZhdWx0OnJldHVybiBlfX0pLGE9cltuXTtuPG87YT1yWysrbl0pcys9eShhKXx8IVMoYSk/IiAiK2E6IiAiK2koYSk7cmV0dXJuIHN9LG4uZGVwcmVjYXRlPWZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbygpe2lmKCFzKXtpZih0LnRocm93RGVwcmVjYXRpb24pdGhyb3cgbmV3IEVycm9yKGkpO3QudHJhY2VEZXByZWNhdGlvbj9jb25zb2xlLnRyYWNlKGkpOmNvbnNvbGUuZXJyb3IoaSkscz0hMH1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aWYodyhyLnByb2Nlc3MpKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuLmRlcHJlY2F0ZShlLGkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYodC5ub0RlcHJlY2F0aW9uPT09ITApcmV0dXJuIGU7dmFyIHM9ITE7cmV0dXJuIG99O3ZhciBNLHg9e307bi5kZWJ1Z2xvZz1mdW5jdGlvbihlKXtpZih3KE0pJiYoTT10LmVudi5OT0RFX0RFQlVHfHwiIiksZT1lLnRvVXBwZXJDYXNlKCksIXhbZV0paWYobmV3IFJlZ0V4cCgiXFxiIitlKyJcXGIiLCJpIikudGVzdChNKSl7dmFyIHI9dC5waWQ7eFtlXT1mdW5jdGlvbigpe3ZhciB0PW4uZm9ybWF0LmFwcGx5KG4sYXJndW1lbnRzKTtjb25zb2xlLmVycm9yKCIlcyAlZDogJXMiLGUscix0KX19ZWxzZSB4W2VdPWZ1bmN0aW9uKCl7fTtyZXR1cm4geFtlXX0sbi5pbnNwZWN0PWksaS5jb2xvcnM9e2JvbGQ6WzEsMjJdLGl0YWxpYzpbMywyM10sdW5kZXJsaW5lOls0LDI0XSxpbnZlcnNlOls3LDI3XSx3aGl0ZTpbMzcsMzldLGdyZXk6WzkwLDM5XSxibGFjazpbMzAsMzldLGJsdWU6WzM0LDM5XSxjeWFuOlszNiwzOV0sZ3JlZW46WzMyLDM5XSxtYWdlbnRhOlszNSwzOV0scmVkOlszMSwzOV0seWVsbG93OlszMywzOV19LGkuc3R5bGVzPXtzcGVjaWFsOiJjeWFuIixudW1iZXI6InllbGxvdyIsImJvb2xlYW4iOiJ5ZWxsb3ciLHVuZGVmaW5lZDoiZ3JleSIsIm51bGwiOiJib2xkIixzdHJpbmc6ImdyZWVuIixkYXRlOiJtYWdlbnRhIixyZWdleHA6InJlZCJ9LG4uaXNBcnJheT1kLG4uaXNCb29sZWFuPWcsbi5pc051bGw9eSxuLmlzTnVsbE9yVW5kZWZpbmVkPV8sbi5pc051bWJlcj12LG4uaXNTdHJpbmc9bSxuLmlzU3ltYm9sPUUsbi5pc1VuZGVmaW5lZD13LG4uaXNSZWdFeHA9YixuLmlzT2JqZWN0PVMsbi5pc0RhdGU9TyxuLmlzRXJyb3I9UixuLmlzRnVuY3Rpb249QSxuLmlzUHJpbWl0aXZlPVQsbi5pc0J1ZmZlcj1lKCIuL3N1cHBvcnQvaXNCdWZmZXIiKTt2YXIgRD1bIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdO24ubG9nPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coIiVzIC0gJXMiLE4oKSxuLmZvcm1hdC5hcHBseShuLGFyZ3VtZW50cykpfSxuLmluaGVyaXRzPWUoImluaGVyaXRzIiksbi5fZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCFTKHQpKXJldHVybiBlO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0KSxyPW4ubGVuZ3RoO3ItLTspZVtuW3JdXT10W25bcl1dO3JldHVybiBlfX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vc3VwcG9ydC9pc0J1ZmZlciI6NDMsX3Byb2Nlc3M6MjUsaW5oZXJpdHM6MTl9XSw0NTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuLHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKCl7Zm9yKHZhciBlPW5ldyBhLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7Kyt0KWUuaGFzaCgiIithcmd1bWVudHNbdF0pO3JldHVybiBlLnJlc3VsdCgpfXZhciBvPWUoImdyYWNlZnVsLWZzIikscz1lKCJzbGlkZSIpLmNoYWluLGE9ZSgiaW11cm11cmhhc2giKSx1PTAsZj1mdW5jdGlvbihlKXtyZXR1cm4gZSsiLiIraShyLG4ucGlkLCsrdSl9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixyKXtuIGluc3RhbmNlb2YgRnVuY3Rpb24mJihyPW4sbj1udWxsKSxufHwobj17fSk7dmFyIGk9ZihlKTtzKFtbbyxvLndyaXRlRmlsZSxpLHQsbl0sbi5jaG93biYmW28sby5jaG93bixpLG4uY2hvd24udWlkLG4uY2hvd24uZ2lkXSxbbyxvLnJlbmFtZSxpLGVdXSxmdW5jdGlvbihlKXtlP28udW5saW5rKGksZnVuY3Rpb24oKXtyKGUpfSk6cigpfSl9LHQuZXhwb3J0cy5zeW5jPWZ1bmN0aW9uKGUsdCxuKXtufHwobj17fSk7dmFyIHI9ZihlKTt0cnl7by53cml0ZUZpbGVTeW5jKHIsdCxuKSxuLmNob3duJiZvLmNob3duU3luYyhyLG4uY2hvd24udWlkLG4uY2hvd24uZ2lkKSxvLnJlbmFtZVN5bmMocixlKX1jYXRjaChpKXt0cnl7by51bmxpbmtTeW5jKHIpfWNhdGNoKHMpe310aHJvdyBpfX19KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSwiL25vZGVfbW9kdWxlcy93cml0ZS1maWxlLWF0b21pYy9pbmRleC5qcyIpfSx7X3Byb2Nlc3M6MjUsImdyYWNlZnVsLWZzIjoxNCxpbXVybXVyaGFzaDoxOCxzbGlkZTozOX1dLDQ2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLG89cihpKSxzPWUoIi4vdW5pdmVyc2FsLWxvY2Fsc3RvcmFnZSIpLGE9cihzKSx1PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe2FbImRlZmF1bHQiXS5zZXRJdGVtKGUsKDAsb1siZGVmYXVsdCJdKSh7dmVyc2lvbjp0LHZhbHVlOm59KSl9LGdldDpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoYVsiZGVmYXVsdCJdLmdldEl0ZW0oZSkpLnZhbHVlfWNhdGNoKHQpe319LGdldFZlcnNpb246ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGFbImRlZmF1bHQiXS5nZXRJdGVtKGUpKS52ZXJzaW9ufWNhdGNoKHQpe319LCJkZWxldGUiOmZ1bmN0aW9uKGUpe2FbImRlZmF1bHQiXS5yZW1vdmVJdGVtKGUpfX07blsiZGVmYXVsdCJdPXUsdC5leHBvcnRzPW5bImRlZmF1bHQiXX0seyIuL3VuaXZlcnNhbC1sb2NhbHN0b3JhZ2UiOjQ4LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjF9XSw0NzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXZhciBpPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLG89cihpKTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2UmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LnNlc3Npb25TdG9yYWdlfHxmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3ZhciByLGk7bj8ocj1uZXcgRGF0ZSxyLnNldFRpbWUoci5nZXRUaW1lKCkrMjQqbio2MCo2MCoxZTMpLGk9IjsgZXhwaXJlcz0iK3IudG9HTVRTdHJpbmcoKSk6aT0iIixkb2N1bWVudC5jb29raWU9ZSsiPSIrdCtpKyI7IHBhdGg9LyJ9ZnVuY3Rpb24gbihlKXt2YXIgdCxuLHI9ZSsiPSIsaT1kb2N1bWVudC5jb29raWUuc3BsaXQoIjsiKTtmb3IodD0wO3Q8aS5sZW5ndGg7dCsrKXtmb3Iobj1pW3RdOyIgIj09bi5jaGFyQXQoMCk7KW49bi5zdWJzdHJpbmcoMSxuLmxlbmd0aCk7aWYoMD09bi5pbmRleE9mKHIpKXJldHVybiBuLnN1YnN0cmluZyhyLmxlbmd0aCxuLmxlbmd0aCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcihuKXtuPSgwLG9bImRlZmF1bHQiXSkobiksInNlc3Npb24iPT1lP3dpbmRvdy5uYW1lPW46dCgibG9jYWxTdG9yYWdlIixuLDM2NSl9ZnVuY3Rpb24gaSgpeyJzZXNzaW9uIj09ZT93aW5kb3cubmFtZT0iIjp0KCJsb2NhbFN0b3JhZ2UiLCIiLDM2NSl9ZnVuY3Rpb24gcygpe3ZhciB0PSJzZXNzaW9uIj09ZT93aW5kb3cubmFtZTpuKCJsb2NhbFN0b3JhZ2UiKTtyZXR1cm4gdD9KU09OLnBhcnNlKHQpOnt9fXZhciBhPXMoKTtyZXR1cm57bGVuZ3RoOjAsY2xlYXI6ZnVuY3Rpb24oKXthPXt9LHRoaXMubGVuZ3RoPTAsaSgpfSxnZXRJdGVtOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1hW2VdP251bGw6YVtlXX0sa2V5OmZ1bmN0aW9uKGUpe3ZhciB0PTA7Zm9yKHZhciBuIGluIGEpe2lmKHQ9PWUpcmV0dXJuIG47dCsrfXJldHVybiBudWxsfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKGUpe2RlbGV0ZSBhW2VdLHRoaXMubGVuZ3RoLS0scihhKX0sc2V0SXRlbTpmdW5jdGlvbihlLHQpe2FbZV09dCsiIix0aGlzLmxlbmd0aCsrLHIoYSl9fX07InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlJiYod2luZG93LmxvY2FsU3RvcmFnZT1uZXcgZSgibG9jYWwiKSksInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UmJih3aW5kb3cuc2Vzc2lvblN0b3JhZ2U9bmV3IGUoInNlc3Npb24iKSl9KCl9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoxfV0sNDg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPXZvaWQgMDtpZigidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdyl7dmFyIGk9ZSgibm9kZS1sb2NhbHN0b3JhZ2UiKS5Mb2NhbFN0b3JhZ2U7cj1uZXcgaSgiLi91bHMtc2NyYXRjaCIpfWVsc2Ugcj0idW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2V8fCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93LnNlc3Npb25TdG9yYWdlP2UoIi4vcmVtLWxvY2Fsc3RvcmFnZSIpOndpbmRvdy5sb2NhbFN0b3JhZ2U7blsiZGVmYXVsdCJdPXIsdC5leHBvcnRzPW5bImRlZmF1bHQiXX0seyIuL3JlbS1sb2NhbHN0b3JhZ2UiOjQ3LCJub2RlLWxvY2Fsc3RvcmFnZSI6MjJ9XX0se30sWzQ2XSkoNDYpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKLy8gRGlzdHJpYnV0aW9uIGZpbGUgZm9yIFN5bmNoZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTo0OSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG8pe2Z1bmN0aW9uIG4ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG4ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixvKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxvLmxlbmd0aDtzKyspbihvW3NdKTtyZXR1cm4gbn0oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbz0icGVyZm9ybUNoYW5nZSIsbj0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYShlKXt2YXIgdD1hcmd1bWVudHMscz1hW25dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltuXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGM9ZFtuXS5hcHBseSh0aGlzLHMpO3JldHVybihjLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmN9fSx0aGlzKSxjfX07Zm9yKHZhciBjIGluIHMpc1tjXVtuXT10LnByb3RvdHlwZVtjXSx0LnByb3RvdHlwZVtjXT1zW2NdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MjB9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjF9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIzfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjR9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiOjI3fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW8ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1vKXt2YXIgbj0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bj92b2lkIDA6YShuLHQscil9aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHM9by5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjZ9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1vKHMpLGE9ZSgiLi4vaGVscGVycy90eXBlb2YiKSx1PW8oYSk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisoInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLHVbImRlZmF1bHQiXSkodCkpKTtlLnByb3RvdHlwZT0oMCxjWyJkZWZhdWx0Il0pKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoaVsiZGVmYXVsdCJdPygwLGlbImRlZmF1bHQiXSkoZSx0KTplLl9fcHJvdG9fXz10KX19LHsiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCIuLi9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL3N5bWJvbCIpLGM9byhzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7Ii4uL2NvcmUtanMvc3ltYm9sIjoxMCwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIiksbj1vLkpTT058fChvLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpbmdpZnkuYXBwbHkobixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNX1dLDE5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIjoxMDB9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6MTAxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjEwMn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjEwM31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6MTA0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6MTA1fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzL19jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjoxMDcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI2OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjoxMDksIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI6MTEwLCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSI6MTExfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCIpLmYoIml0ZXJhdG9yIil9LHsiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCI6OTYsIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW8mJm8gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX3RvLWxlbmd0aCIpLGk9ZSgiLi9fdG8taW5kZXgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYyxhPW8odCksdT1uKGEubGVuZ3RoKSxsPWkocyx1KTtpZihlJiZyIT1yKXtmb3IoO3U+bDspaWYoYz1hW2wrK10sYyE9YylyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigoZXx8bCBpbiBhKSYmYVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LHsiLi9fdG8taW5kZXgiOjg4LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tbGVuZ3RoIjo5MX1dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fY29mIiksbj1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChyKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixjO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxuKSk/cjppP28odCk6Ik9iamVjdCI9PShjPW8odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6Y319LHsiLi9fY29mIjozNCwiLi9fd2tzIjo5N31dLDM0OltmdW5jdGlvbihlLHQscil7dmFyIG89e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9byl9LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2EtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixvKXtyZXR1cm4gZS5jYWxsKHQscixvKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG8sbil7cmV0dXJuIGUuY2FsbCh0LHIsbyxuKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6Mjh9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjQzfV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9byhuKSYmbyhuLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9uLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTR9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cyIpLG49ZSgiLi9fb2JqZWN0LWdvcHMiKSxpPWUoIi4vX29iamVjdC1waWUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKSxyPW4uZjtpZihyKWZvcih2YXIgcyxjPXIoZSksYT1pLmYsdT0wO2MubGVuZ3RoPnU7KWEuY2FsbChlLHM9Y1t1KytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0seyIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzV9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fY3R4Iikscz1lKCIuL19oaWRlIiksYz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxsLGYsZD1lJmEuRixfPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHk9ZSZhLlcsdj1fP246blt0XXx8KG5bdF09e30pLGo9dltjXSxtPV8/bzpwP29bdF06KG9bdF18fHt9KVtjXTtfJiYocj10KTtmb3IodSBpbiByKWw9IWQmJm0mJnZvaWQgMCE9PW1bdV0sbCYmdSBpbiB2fHwoZj1sP21bdV06clt1XSx2W3VdPV8mJiJmdW5jdGlvbiIhPXR5cGVvZiBtW3VdP3JbdV06aCYmbD9pKGYsbyk6eSYmbVt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbyl7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbyl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFtjXT1lW2NdLHR9KGYpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLGImJigodi52aXJ0dWFsfHwodi52aXJ0dWFsPXt9KSlbdV09ZixlJmEuUiYmaiYmIWpbdV0mJnMoaix1LGYpKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsYS5VPTY0LGEuUj0xMjgsdC5leHBvcnRzPWF9LHsiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2N0eCIpLG49ZSgiLi9faXRlci1jYWxsIiksaT1lKCIuL19pcy1hcnJheS1pdGVyIikscz1lKCIuL19hbi1vYmplY3QiKSxjPWUoIi4vX3RvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKSx1PXt9LGw9e30scj10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgXyxwLGIsaCx5PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06YShlKSx2PW8ocixmLHQ/MjoxKSxqPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaSh5KSl7Zm9yKF89YyhlLmxlbmd0aCk7Xz5qO2orKylpZihoPXQ/dihzKHA9ZVtqXSlbMF0scFsxXSk6dihlW2pdKSxoPT09dXx8aD09PWwpcmV0dXJuIGh9ZWxzZSBmb3IoYj15LmNhbGwoZSk7IShwPWIubmV4dCgpKS5kb25lOylpZihoPW4oYix2LHAudmFsdWUsdCksaD09PXV8fGg9PT1sKXJldHVybiBofTtyLkJSRUFLPXUsci5SRVRVUk49bH0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1hcnJheS1pdGVyIjo1MiwiLi9faXRlci1jYWxsIjo1NSwiLi9fdG8tbGVuZ3RoIjo5MSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjk4fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9byl9LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNhbGwoZSx0KX19LHt9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1kcCIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gby5mKGUsdCxuKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX3Byb3BlcnR5LWRlc2MiOjc3fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQ1fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2Rlc2NyaXB0b3JzIikmJiFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2ZhaWxzIjo0M31dLDUwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBvP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBvP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBvP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBvP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW8oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuL19jb2YiOjM0fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pdGVyYXRvcnMiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG8uQXJyYXk9PT1lfHxpW25dPT09ZSl9fSx7Ii4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTd9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1vKGUpfX0seyIuL19jb2YiOjM0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXtyZXR1cm4gbj90KG8ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZvKHMuY2FsbChlKSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MzF9XSw1NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19vYmplY3QtY3JlYXRlIiksbj1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi9faGlkZSIpKHMsZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9byhzLHtuZXh0Om4oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6NDcsIi4vX29iamVjdC1jcmVhdGUiOjY1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fbGlicmFyeSIpLG49ZSgiLi9fZXhwb3J0IiksaT1lKCIuL19yZWRlZmluZSIpLHM9ZSgiLi9faGlkZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pdGVyYXRvcnMiKSx1PWUoIi4vX2l0ZXItY3JlYXRlIiksbD1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi9fb2JqZWN0LWdwbyIpLGQ9ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksXz0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPSJAQGl0ZXJhdG9yIixiPSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHYsaixtLGcpe3Uocix0LHYpO3ZhciB3LE8sayx4PWZ1bmN0aW9uKGUpe2lmKCFfJiZlIGluIFIpcmV0dXJuIFJbZV07c3dpdGNoKGUpe2Nhc2UgYjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LEM9dCsiIEl0ZXJhdG9yIixFPWo9PWgsUz0hMSxSPWUucHJvdG90eXBlLFQ9UltkXXx8UltwXXx8aiYmUltqXSxNPVR8fHgoaiksUD1qP0U/eCgiZW50cmllcyIpOk06dm9pZCAwLEE9IkFycmF5Ij09dD9SLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1mKEEuY2FsbChuZXcgZSkpLGshPT1PYmplY3QucHJvdG90eXBlJiYobChrLEMsITApLG98fGMoayxkKXx8cyhrLGQseSkpKSxFJiZUJiZULm5hbWUhPT1oJiYoUz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG8mJiFnfHwhXyYmIVMmJlJbZF18fHMoUixkLE0pLGFbdF09TSxhW0NdPXksailpZih3PXt2YWx1ZXM6RT9NOngoaCksa2V5czptP006eChiKSxlbnRyaWVzOlB9LGcpZm9yKE8gaW4gdylPIGluIFJ8fGkoUixPLHdbT10pO2Vsc2UgbihuLlArbi5GKihffHxTKSx0LHcpO3JldHVybiB3fX0seyIuL19leHBvcnQiOjQyLCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXRlci1jcmVhdGUiOjU2LCIuL19pdGVyYXRvcnMiOjYwLCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWdwbyI6NzIsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxuPSExO3RyeXt2YXIgaT1bN11bb10oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe249ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFuKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW29dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbb109ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6OTd9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1uKGUpLHM9byhpKSxjPXMubGVuZ3RoLGE9MDtjPmE7KWlmKGlbcj1zW2ErK11dPT09dClyZXR1cm4gcn19LHsiLi9fb2JqZWN0LWtleXMiOjc0LCIuL190by1pb2JqZWN0Ijo5MH1dLDYyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL191aWQiKSgibWV0YSIpLG49ZSgiLi9faXMtb2JqZWN0IiksaT1lKCIuL19oYXMiKSxzPWUoIi4vX29iamVjdC1kcCIpLmYsYz0wLGE9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdT0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiBhKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXtzKGUsbyx7dmFsdWU6e2k6Ik8iKyArK2Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbb10uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbykpe2lmKCFhKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbb10ud30sXz1mdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5ORUVEJiZhKGUpJiYhaShlLG8pJiZsKGUpLGV9LHA9dC5leHBvcnRzPXtLRVk6byxORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6X319LHsiLi9fZmFpbHMiOjQzLCIuL19oYXMiOjQ2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZHAiOjY2LCIuL191aWQiOjk0fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX3Rhc2siKS5zZXQsaT1vLk11dGF0aW9uT2JzZXJ2ZXJ8fG8uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW8ucHJvY2VzcyxjPW8uUHJvbWlzZSxhPSJwcm9jZXNzIj09ZSgiLi9fY29mIikocyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLHU9ZnVuY3Rpb24oKXt2YXIgbyxuO2ZvcihhJiYobz1zLmRvbWFpbikmJm8uZXhpdCgpO2U7KXtuPWUuZm4sZT1lLm5leHQ7dHJ5e24oKX1jYXRjaChpKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxpfX10PXZvaWQgMCxvJiZvLmVudGVyKCl9O2lmKGEpcj1mdW5jdGlvbigpe3MubmV4dFRpY2sodSl9O2Vsc2UgaWYoaSl7dmFyIGw9ITAsZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkodSkub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2YuZGF0YT1sPSFsfX1lbHNlIGlmKGMmJmMucmVzb2x2ZSl7dmFyIGQ9Yy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2QudGhlbih1KX19ZWxzZSByPWZ1bmN0aW9uKCl7bi5jYWxsKG8sdSl9O3JldHVybiBmdW5jdGlvbihvKXt2YXIgbj17Zm46byxuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1uKSxlfHwoZT1uLHIoKSksdD1ufX19LHsiLi9fY29mIjozNCwiLi9fZ2xvYmFsIjo0NSwiLi9fdGFzayI6ODd9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWRwcyIpLGk9ZSgiLi9fZW51bS1idWcta2V5cyIpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9ZnVuY3Rpb24oKXt9LGE9InByb3RvdHlwZSIsdT1mdW5jdGlvbigpe3ZhciB0LHI9ZSgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxvPWkubGVuZ3RoLG49Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLHQ9ci5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbiksdC5jbG9zZSgpLHU9dC5GO28tLTspZGVsZXRlIHVbYV1baVtvXV07cmV0dXJuIHUoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhjW2FdPW8oZSkscj1uZXcgYyxjW2FdPW51bGwscltzXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6bihyLHQpfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kb20tY3JlYXRlIjozOSwiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX2h0bWwiOjQ4LCIuL19vYmplY3QtZHBzIjo2NywiLi9fc2hhcmVkLWtleSI6ODN9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobyhlKSx0PWkodCwhMCksbyhyKSxuKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goYyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL190by1wcmltaXRpdmUiOjkzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWtleXMiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe24oZSk7Zm9yKHZhciByLHM9aSh0KSxjPXMubGVuZ3RoLGE9MDtjPmE7KW8uZihlLHI9c1thKytdLHRbcl0pO3JldHVybiBlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1rZXlzIjo3NH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LXBpZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fdG8taW9iamVjdCIpLHM9ZSgiLi9fdG8tcHJpbWl0aXZlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2llOC1kb20tZGVmaW5lIiksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPWkoZSksdD1zKHQsITApLGEpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2gocil7fWlmKGMoZSx0KSlyZXR1cm4gbighby5mLmNhbGwoZSx0KSxlW3RdKX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpuKG8oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbyhlLG4pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9bihlKSxvKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19oYXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9bihlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm8oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbyhjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG4uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxvKG8uUytvLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHQpciYmZVtuXT9lW25dPXRbbl06byhlLG4sdFtuXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG4pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBuW2VdP25bZV06b1tlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKS5mLG49ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFuKGU9cj9lOmUucHJvdG90eXBlLGkpJiZvKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fc2hhcmVkIikoImtleXMiKSxuPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09bihlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49Il9fY29yZS1qc19zaGFyZWRfXyIsaT1vW25dfHwob1tuXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW8oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9byhzKVtpXSk/dDpuKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG4odCkpLGE9byhyKSx1PWMubGVuZ3RoO3JldHVybiBhPDB8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLGk8NTUyOTZ8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvLG4saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLF89bC5jbGVhckltbWVkaWF0ZSxwPWwuTWVzc2FnZUNoYW5uZWwsYj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxqPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZffHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK2JdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxvKGIpLGJ9LF89ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bz1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06cD8obj1uZXcgcCxpPW4ucG9ydDIsbi5wb3J0MS5vbm1lc3NhZ2U9aixvPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obz1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixqLCExKSk6bz15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpffX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9byhlKSxlPDA/bihlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG89TWF0aC5jZWlsLG49TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOm8pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faW9iamVjdCIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9uKG8oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiBlO3ZhciByLG47aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFvKG49ci5jYWxsKGUpKSlyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG89MCxuPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbytuKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLlN5bWJvbHx8KG4uU3ltYm9sPWk/e306by5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxuPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPXMmJmlbZV18fChzP2k6bikoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1vfSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NsYXNzb2YiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbbl18fGVbIkBAaXRlcmF0b3IiXXx8aVtvKGUpXX19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbj1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG4oMSkpOiJrZXlzIj09dD9uKDAscik6InZhbHVlcyI9PXQ/bigwLGVbcl0pOm4oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG8oImtleXMiKSxvKCJ2YWx1ZXMiKSxvKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2V4cG9ydCIpO28oby5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUytvLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obyhlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbyxuLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLF89ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLGI9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsaj1jLlR5cGVFcnJvcixtPWMucHJvY2VzcyxnPWNbdl0sbT1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUobSksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG8pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWYoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG4oZSl9LFM9bj1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG8pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgaigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1vfSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUj1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG89ZS5fdixuPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW4/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhufHwoMj09ZS5faCYmQShlKSxlLl9oPTEpLHM9PT0hMD9yPW86KHUmJnUuZW50ZXIoKSxyPXMobyksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShqKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShvKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbyxuPWUuX3Y7aWYoUChlKSYmKHQ9UihmdW5jdGlvbigpe3c/bS5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpufSk6KG89Yy5jb25zb2xlKSYmby5lcnJvciYmby5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKX0pLGUuX2g9d3x8UChlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxQPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxvPTA7ci5sZW5ndGg+bzspaWYodD1yW28rK10sdC5mYWlsfHwhUCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxBPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9tLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksVCh0LCEwKSl9LE49ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgaigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG89e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbywxKSxhKEQsbywxKSl9Y2F0Y2gobil7RC5jYWxsKG8sbil9fSk6KHIuX3Y9ZSxyLl9zPTEsVChyLCExKSl9Y2F0Y2gobyl7RC5jYWxsKHtfdzpyLF9kOiExfSxvKX19fTtrfHwoZz1mdW5jdGlvbihlKXtfKHRoaXMsZyx2LCJfaCIpLGQoZSksby5jYWxsKHRoaXMpO3RyeXtlKGEoTix0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG89ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sby5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKGIodGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPXc/bS5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksUz1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1hKE4sZSwxKSx0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLAp0LnByb21pc2V9fSksbChsLlMrbC5GKihzfHwhayksdix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PUUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Zy5hbGwoZSlbImNhdGNoIl0oTyl9KSksdix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG89ci5yZXNvbHZlLG49ci5yZWplY3QsaT1SKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG8ocikpfSxuKX0pLC0tc3x8byhyKX0pO3JldHVybiBpJiZuKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVqZWN0LG49UihmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbyl9KX0pO3JldHVybiBuJiZvKG4uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4taW5zdGFuY2UiOjMwLCIuL19hbi1vYmplY3QiOjMxLCIuL19jbGFzc29mIjozMywiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2V4cG9ydCI6NDIsIi4vX2Zvci1vZiI6NDQsIi4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTQsIi4vX2l0ZXItZGV0ZWN0Ijo1OCwiLi9fbGlicmFyeSI6NjIsIi4vX21pY3JvdGFzayI6NjQsIi4vX3JlZGVmaW5lLWFsbCI6NzgsIi4vX3NldC1wcm90byI6ODAsIi4vX3NldC1zcGVjaWVzIjo4MSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo4NSwiLi9fdGFzayI6ODcsIi4vX3drcyI6OTd9XSwxMDg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fc3RyaW5nLWF0IikoITApO2UoIi4vX2l0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW8odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuL19pdGVyLWRlZmluZSI6NTcsIi4vX3N0cmluZy1hdCI6ODZ9XSwxMDk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19oYXMiKSxpPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL19leHBvcnQiKSxjPWUoIi4vX3JlZGVmaW5lIiksYT1lKCIuL19tZXRhIikuS0VZLHU9ZSgiLi9fZmFpbHMiKSxsPWUoIi4vX3NoYXJlZCIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vX3VpZCIpLF89ZSgiLi9fd2tzIikscD1lKCIuL193a3MtZXh0IiksYj1lKCIuL193a3MtZGVmaW5lIiksaD1lKCIuL19rZXlvZiIpLHk9ZSgiLi9fZW51bS1rZXlzIiksdj1lKCIuL19pcy1hcnJheSIpLGo9ZSgiLi9fYW4tb2JqZWN0IiksbT1lKCIuL190by1pb2JqZWN0IiksZz1lKCIuL190by1wcmltaXRpdmUiKSx3PWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxPPWUoIi4vX29iamVjdC1jcmVhdGUiKSxrPWUoIi4vX29iamVjdC1nb3BuLWV4dCIpLHg9ZSgiLi9fb2JqZWN0LWdvcGQiKSxDPWUoIi4vX29iamVjdC1kcCIpLEU9ZSgiLi9fb2JqZWN0LWtleXMiKSxTPXguZixSPUMuZixUPWsuZixNPW8uU3ltYm9sLFA9by5KU09OLEE9UCYmUC5zdHJpbmdpZnksRD0icHJvdG90eXBlIixOPV8oIl9oaWRkZW4iKSxMPV8oInRvUHJpbWl0aXZlIiksRj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxJPWwoInN5bWJvbC1yZWdpc3RyeSIpLFU9bCgic3ltYm9scyIpLHo9bCgib3Atc3ltYm9scyIpLEg9T2JqZWN0W0RdLFY9ImZ1bmN0aW9uIj09dHlwZW9mIE0sQj1vLlFPYmplY3QsSj0hQnx8IUJbRF18fCFCW0RdLmZpbmRDaGlsZCxXPWkmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TyhSKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFIodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPVMoSCx0KTtvJiZkZWxldGUgSFt0XSxSKGUsdCxyKSxvJiZlIT09SCYmUihILHQsbyl9OlIsWT1mdW5jdGlvbihlKXt2YXIgdD1VW2VdPU8oTVtEXSk7cmV0dXJuIHQuX2s9ZSx0fSxxPVYmJiJzeW1ib2wiPT10eXBlb2YgTS5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTX0sSz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZLKHosdCxyKSxqKGUpLHQ9Zyh0LCEwKSxqKHIpLG4oVSx0KT8oci5lbnVtZXJhYmxlPyhuKGUsTikmJmVbTl1bdF0mJihlW05dW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihuKGUsTil8fFIoZSxOLHcoMSx7fSkpLGVbTl1bdF09ITApLFcoZSx0LHIpKTpSKGUsdCxyKX0sRz1mdW5jdGlvbihlLHQpe2ooZSk7Zm9yKHZhciByLG89eSh0PW0odCkpLG49MCxpPW8ubGVuZ3RoO2k+bjspSyhlLHI9b1tuKytdLHRbcl0pO3JldHVybiBlfSxaPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpHKE8oZSksdCl9LFg9ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZuKFUsZSkmJiFuKHosZSkpJiYoISh0fHwhbih0aGlzLGUpfHwhbihVLGUpfHxuKHRoaXMsTikmJnRoaXNbTl1bZV0pfHx0KX0sJD1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PWcodCwhMCksZSE9PUh8fCFuKFUsdCl8fG4oeix0KSl7dmFyIHI9UyhlLHQpO3JldHVybiFyfHwhbihVLHQpfHxuKGUsTikmJmVbTl1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSxRPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPVQobShlKSksbz1bXSxpPTA7ci5sZW5ndGg+aTspbihVLHQ9cltpKytdKXx8dD09Tnx8dD09YXx8by5wdXNoKHQpO3JldHVybiBvfSxlZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09SCxvPVQocj96Om0oZSkpLGk9W10scz0wO28ubGVuZ3RoPnM7KSFuKFUsdD1vW3MrK10pfHxyJiYhbihILHQpfHxpLnB1c2goVVt0XSk7cmV0dXJuIGl9O1Z8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09SCYmdC5jYWxsKHosciksbih0aGlzLE4pJiZuKHRoaXNbTl0sZSkmJih0aGlzW05dW2VdPSExKSxXKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmSiYmVyhILGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyhILCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkscC5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKF8oZSkpfSkscyhzLkcrcy5XK3MuRiohVix7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKF8uc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOyliKHRlW3JlKytdKTtzKHMuUytzLkYqIVYsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBuKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtKPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtKPSExfX0pLHMocy5TK3MuRiohViwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLFAmJnMocy5TK3MuRiooIVZ8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPUEoW2VdKXx8Int9IiE9QSh7YTplfSl8fCJ7fSIhPUEoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbz1bZV0sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspby5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gdD1vWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZihyJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhcSh0KSlyZXR1cm4gdH0pLG9bMV09dCxBLmFwcGx5KFAsbyl9fX0pLE1bRF1bTF18fGUoIi4vX2hpZGUiKShNW0RdLEwsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wO2E8NTthKyspe3ZhciB1PWNbYV0sbD1vW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm4oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixvKXsidXNlIHN0cmljdCI7dmFyIG4saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbyl9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89cnx8MDtvPGUubGVuZ3RoO28rKylpZihlW29dPT09dClyZXR1cm4gbztyZXR1cm4tMX0sdT1yLk1hcCE9PW8mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG8pe3ZhciBuPWEoZSxyKTtuPT09LTE/KGUucHVzaChyKSx0LnB1c2gobyksdGhpcy5zaXplKyspOnRbbl09b30sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG89YShlLHIpO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtvXSxlW29dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBvPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO28ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBuLGk9MDtpPG8ubGVuZ3RoOykobj1hKHIsb1tpKytdKSk+LTEmJnIuc3BsaWNlKG4sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixvLG49W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZuLnB1c2gocik7ZWxzZXtvPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdClvLmNhbGwodCxyKSYmbi5wdXNoKHIpfXJldHVybiBjKHQpJiZuLnB1c2goImxlbmd0aCIpLG59LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXz1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCkscD1mdW5jdGlvbihlLHQscil7dmFyIG89bi5nZXQoZSk7bz8oaChvLGUpLG0oZSxvLHQscikpOihvPWIoZSksbShlLG8sdCxyKSwxPT09bi5zaXplJiZfKHkpKX0sYj1mdW5jdGlvbih0LHIpe3ZhciBvLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOiEhZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KSxleHRlbnNpYmxlOiFlLmlzRXh0ZW5zaWJsZXx8ZS5pc0V4dGVuc2libGUodCkscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6aih0LHIpfTtpZihkKWZvcihvPXIuZGVzY3JpcHRvcnM9W107YzxpLmxlbmd0aDspb1tjXT1kKHQsaVtjXSksc1tjXT10W2lbYysrXV07ZWxzZSBmb3IoO2M8aS5sZW5ndGg7KXNbY109dFtpW2MrK11dO3JldHVybiBuLnNldCh0LHIpLHJ9LGg9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG8sbil7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxjPXQudmFsdWVzW3JdLGE9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbiYmKGM9PT1zPzA9PT1jJiYxL2MhPT0xL3M6Yz09PWN8fHM9PT1zKSYmKGcoZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxvKSx0LnZhbHVlc1tyXT1zKSwhYS5jb25maWd1cmFibGV8fG4uY29uZmlndXJhYmxlJiZuLndyaXRhYmxlPT09YS53cml0YWJsZSYmbi5lbnVtZXJhYmxlPT09YS5lbnVtZXJhYmxlJiZuLmdldD09PWEuZ2V0JiZuLnNldD09PWEuc2V0fHwoZyhlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC5kZXNjcmlwdG9yc1tyXT1uKX06ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49dC5wcm9wZXJ0aWVzW3JdLGk9ZVtuXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihnKGUsdCx7bmFtZTpuLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbyksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbyxuLGkpe2Zvcih2YXIgcyxjPXIubGVuZ3RoO28mJmMtLTspbnVsbCE9PXJbY10mJihzPWQoZSxyW2NdKSxvLS0scz90KGUsbixjLGkscyk6KGcoZSxuLHtuYW1lOnJbY10sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tjXX0saSksbi5wcm9wZXJ0aWVzLnNwbGljZShjLDEpLG4udmFsdWVzLnNwbGljZShjLDEpLG4uZGVzY3JpcHRvcnMuc3BsaWNlKGMsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbyxuKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGcoZSxvLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1tpXX0sbiksby5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG8udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihvLG4saSl7aWYoby5oYW5kbGVycy5zaXplJiYhby5mcm96ZW4pe3ZhciBzLGMsdSxfLHAsYixoLHksdj1vLnZhbHVlcyxqPW8uZGVzY3JpcHRvcnMsbT0wO2lmKG8uZXh0ZW5zaWJsZSlpZihzPW8ucHJvcGVydGllcy5zbGljZSgpLGM9cy5sZW5ndGgsdT1sKG4pLGope2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCkseT1kKG4scCksXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChuW3BdKSxqLnB1c2goeSkpOihzW19dPW51bGwsYy0tLHQobixvLF8saSx5KSk7cihuLHMsYyxvLGkpLGUuaXNFeHRlbnNpYmxlKG4pfHwoby5leHRlbnNpYmxlPSExLGcobixvLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om59LGkpLG8uZnJvemVuPWUuaXNGcm96ZW4obikpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOylwPXVbbSsrXSxfPWEocyxwKSxiPW5bcF0sXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChiKSk6KHNbX109bnVsbCxjLS0sdChuLG8sXyxpKSk7cihuLHMsYyxvLGkpfWVsc2UgaWYoIW8uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKXA9c1ttXSx0KG4sbyxtLGksZChuLHApKTtlLmlzRnJvemVuKG4pJiYoby5mcm96ZW49ITApfWYmJihoPWYobiksaCE9PW8ucHJvdG8mJihnKG4sbyx7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpuLG9sZFZhbHVlOm8ucHJvdG99KSxvLnByb3RvPWgpKX19fSgpLHk9ZnVuY3Rpb24oKXtuLnNpemUmJihuLmZvckVhY2goaCksaS5mb3JFYWNoKHYpLF8oeSkpfSx2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9bi5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW4uZ2V0KGUpO2lmKHIpe3ZhciBvLGk9e29iamVjdDplfTtmb3IobyBpbiB0KSJvYmplY3QiIT09byYmKGlbb109dFtvXSk7ZyhlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxjPW4uZ2V0KGUpLGE9YXJndW1lbnRzWzJdLHU9YT09PW8/cigpOnIuY2FsbChhKTtpZihjJiZoKGMsZSx0KSxjJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2coZSxjLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPWkuZ2V0KHIpO258fGkuc2V0KHIsbj17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxuLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om8uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG4pfSxnPWZ1bmN0aW9uKGUsdCxyLG8pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG98fGEobixvKT09PS0xKSYmYShuLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O249dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbil7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobj09PW8pbj1zO2Vsc2UgaWYoIW58fCJvYmplY3QiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIHAodCxyLG4pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG89aS5nZXQodCk7cmV0dXJuIG8mJihyPW8ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG8ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksXyhmdW5jdGlvbigpe3Yobyx0KX0pLDE9PT1vLm9ic2VydmVkLnNpemUmJm8ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm8ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9uWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6aih0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksdih0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBuPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1vKG4pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGM9byhzKSxhPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW8oYSk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1jWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExNywiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL3N5bmNoZXIvU3luY2hlciI6MTIxLCJhcnJheS5vYnNlcnZlIjoxLCJvYmplY3Qub2JzZXJ2ZSI6MTEzfV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1vKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1vKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IiksXz1vKGQpLHA9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxiPW8ocCksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW8sYy5fc3RhdHVzPW4sYy5fc3luY09iaj1uZXcgX1siZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIG49citvLGk9dC5fYnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBvPXIuX293bmVyKyIjIityLl9jaGlsZElkLG49ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpuLGJvZHk6e3Jlc291cmNlOm8sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgYlsiZGVmYXVsdCJdKHIsbyx0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpuLGNoaWxkSWQ6b30pfSksci5fY2hpbGRyZW5PYmplY3RzW29dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBvPW5ldyBiWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW8sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbj17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixuKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihuKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG89e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYoby5ib2R5LnZhbHVlPWUuZGF0YSk6KG8uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsby5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG8uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihvLnRvPXQucGF0aCxvLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobyl9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG89dC5ib2R5LmF0dHJpYnV0ZSxuPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG8pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG4pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG4pfWVsc2UgaS5vYmpbaS5sYXN0XT1uO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bjpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxvPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtvP3QuX2NoYW5nZU9iamVjdChvLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNiwiLi9TeW5jT2JqZWN0IjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1vKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1vKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW4sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obyksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1vKG0pLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbz17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG49ZS5pbmRleE9mKCIqIik7bj09PWUubGVuZ3RoLTEmJigwPT09bj9vLnR5cGU9dy5BTlk6KG8udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09b319LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fZmlsdGVyc1tyXTtvLnR5cGU9PT13LkFOWT9vLmNhbGxiYWNrKGUpOm8udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmby5jYWxsYmFjayhlKTpvLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmby5jYWxsYmFjayhlKX0pfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTUsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbz17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bzt2YXIgbj17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtuW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6bn19fSksb30scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG89dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6b307dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0IjoxMTUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1vLHMuX2NoaWxkcmVuPW4scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgbiBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W25dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG4pLHRbbl0pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbyk7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgXyh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXS5vYmplY3QsaT12b2lkIDA7aWYobi5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Yi5PQkpFQ1QpLG4uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Yi5BUlJBWSksInNwbGljZSI9PT10W29dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtvXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtvXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtvXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG8pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK28pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtvXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgYj1uLnNsaWNlKHMscytkKTtiLmZvckVhY2goZnVuY3Rpb24odCxvKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWVbIm5ldyJdKG5ldyBfKHQscytvKSk7ci5faW50ZXJuYWxPYnNlcnZlKG4sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYil9KX1zIT09bi5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShuKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbb10ubmFtZSksYz1zLnRvU3RyaW5nKCk7aWYoYy5pbmRleE9mKCJTeW1ib2wiKSE9PS0xKWNvbnRpbnVlO3ZhciBhPW5bdFtvXS5uYW1lXTsidXBkYXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbb10udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtvXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fb2JzZXJ2YWJsZXNbcl0sbj1lLmluZGV4T2Yoby5vYmopO28uaWR4IT1uJiYoby5pZHg9bixkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbbl09byl9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09XyYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLHA9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sYj1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW8oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9byhsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIiksXz1vKGQpLHA9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxiPW8ocCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24uX293bmVyPXQsbi5fYnVzPXIsbi5fc3ViVVJMPW8ucnVudGltZVVSTCsiL3NtIixuLl9yZXBvcnRlcnM9e30sbi5fb2JzZXJ2ZXJzPXt9LG4uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpuLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm4uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpuLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXM7ci5yZXBvcnRlcj1vLl9vd25lcixyLnNjaGVtYT1lO3ZhciBuPXt0eXBlOiJjcmVhdGUiLGZyb206by5fb3duZXIsdG86by5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe28uX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBzPW4uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obyxzLGUsIm9uIixyLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyk7by5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG89e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG4saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKXM9bmV3IGJbImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09by5ib2R5LmNvZGUpe3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocix0LGUsIm9uIixvLmJvZHkudmFsdWUscy5jaGlsZHJlbixvLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbihjKSxzLmFwcGx5KGMpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbyl7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7CmNvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpvKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxvPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm99fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbz10Ll9vYnNlcnZlcnNbcl07aWYobyl7dmFyIG49e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLDIwMD09PW4mJm9bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTgsIi4vRGF0YVByb3Zpc2lvbmFsIjoxMTksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbihlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixvPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7b1swXT09PWUmJihvWzBdPSJodHRwcyIsb1sxXT1lKTt2YXIgbj17dHlwZTpvWzBdLGRvbWFpbjpvWzFdLGlkZW50aXR5Om9bMl19O3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9bihlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9bihlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1vKGYpLF89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1vKF8pO3IuZGl2aWRlVVJMPW4sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTRdKSgxMTQpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTsKCnZhciBfUGVyc2lzdGVuY2VNYW5hZ2VyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9QZXJzaXN0ZW5jZU1hbmFnZXInKTsKCnZhciBfUGVyc2lzdGVuY2VNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BlcnNpc3RlbmNlTWFuYWdlcik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9Cgp2YXIgQnJhY2VsZXRTZW5zb3JSZXBvcnRlciA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCcmFjZWxldFNlbnNvclJlcG9ydGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJyYWNlbGV0U2Vuc29yUmVwb3J0ZXIpOwoKICAgIGlmICghaHlwZXJ0eVVSTCkgdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghYnVzKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBNaW5pQnVzIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFjb25maWd1cmF0aW9uKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICBfdGhpcy5maXJzdFRpbWUgPSB0cnVlOwogICAgX3RoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7CgogICAgX3RoaXMuX2RvbWFpbiA9ICgwLCBfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5VVJMKS5kb21haW47CgogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIF90aGlzLl9kb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29udGV4dCc7CgogICAgY29uc29sZS5sb2coJ0luaXQgQnJhY2VsZXRTZW5zb3JSZXBvcnRlcjogJywgaHlwZXJ0eVVSTCk7CiAgICBfdGhpcy5fc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbik7CiAgICBfdGhpcy5fcGVyc2lzdGVuY2VNYW5hZ2VyID0gX1BlcnNpc3RlbmNlTWFuYWdlcjIuZGVmYXVsdDsKICAgIGNvbnNvbGUubG9nKCdQTScsIF90aGlzLl9wZXJzaXN0ZW5jZU1hbmFnZXIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEJyYWNlbGV0U2Vuc29yUmVwb3J0ZXIsIFt7CiAgICBrZXk6ICdnZXRMYXN0RGV2aWNlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXN0RGV2aWNlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBpZiAoX3RoaXMuX29uQ29ubmVjdCkgX3RoaXMuX29uQ29ubmVjdChfdGhpcy5fcGVyc2lzdGVuY2VNYW5hZ2VyLmdldCgnYnRMRUFkZHJlc3MnKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnRGlzY292ZXInLAogICAgdmFsdWU6IGZ1bmN0aW9uIERpc2NvdmVyKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbnNvbGUubG9nKCdESVNDT1ZFUklORyEhJyk7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgZGV2aWNlc0xpc3QgPSBbXTsKICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgc2VydmljZXM6IFtdLAogICAgICAgICAgYWxsb3dEdXBsaWNhdGVzOiB0cnVlLAogICAgICAgICAgc2Nhbk1vZGU6IGJsdWV0b290aGxlLlNDQU5fTU9ERV9MT1dfTEFURU5DWSwKICAgICAgICAgIG1hdGNoTW9kZTogYmx1ZXRvb3RobGUuTUFUQ0hfTU9ERV9BR0dSRVNTSVZFLAogICAgICAgICAgbWF0Y2hOdW06IGJsdWV0b290aGxlLk1BVENIX05VTV9NQVhfQURWRVJUSVNFTUVOVCwKICAgICAgICAgIGNhbGxiYWNrVHlwZTogYmx1ZXRvb3RobGUuQ0FMTEJBQ0tfVFlQRV9BTExfTUFUQ0hFUwogICAgICAgIH07CgogICAgICAgIHZhciBzY2FuU3VjY2VzID0gZnVuY3Rpb24gc2NhblN1Y2NlcyhkZXZpY2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdzY2FuIHN1Y2Nlc3MnLCBkZXZpY2UpOwogICAgICAgICAgaWYgKCdhZGRyZXNzJyBpbiBkZXZpY2UpIHsKICAgICAgICAgICAgdmFyIG5ld0RldmljZSA9IHsgaWQ6IGRldmljZS5hZGRyZXNzLCBuYW1lOiBkZXZpY2UubmFtZSwgZGVzY3JpcHRpb246ICdYaWFvbWkgQmFuZCcgfTsKICAgICAgICAgICAgZGV2aWNlc0xpc3QucHVzaChuZXdEZXZpY2UpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdmFyIHNjYW5FcnJvciA9IGZ1bmN0aW9uIHNjYW5FcnJvcigpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdzY2FuIGVycm9yJyk7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIHRpbWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGJsdWV0b290aGxlLnN0b3BTY2FuKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGF0dXMyJywgYSk7CiAgICAgICAgICAgIHJlc29sdmUoZGV2aWNlc0xpc3QpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXR1czMnLCBiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwMDAwKTsKCiAgICAgICAgYmx1ZXRvb3RobGUuaW5pdGlhbGl6ZShmdW5jdGlvbiAoYSkgewogICAgICAgICAgY29uc29sZS5sb2coJ2JsZSBpbml0aWFsaXplZCcsIGEpOwogICAgICAgICAgYmx1ZXRvb3RobGUuc3RhcnRTY2FuKHNjYW5TdWNjZXMsIHNjYW5FcnJvciwgcGFyYW1zKTsKICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnYmxlIG5vdCBpbml0aWFsaXplZCcpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdDb25uZWN0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBDb25uZWN0KGlkLCBvcHRpb25zKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGRhdGEgPSB7IHNjaGVtZTogJ2NvbnRleHQnLCBpZDogaWQsIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLCB2YWx1ZXM6IFtdIH07CgogICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICBhZGRyZXNzOiBpZAogICAgICAgIH07CiAgICAgICAgdmFyIGRpc2Nvbm5lY3RTdWNjZXNzID0gZnVuY3Rpb24gZGlzY29ubmVjdFN1Y2Nlc3Moc3RhdHVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZGlzY29ubmVjdCBzdWNjZXNzJywgc3RhdHVzKTsKICAgICAgICAgIF90aGlzLnJlY29ubmVjdGluZyA9IHRydWU7CiAgICAgICAgICB2YXIgc3RhdHVzQ2hhbmdlZCA9IHsgY29ubmVjdGlvbjogJ3JlY29ubmVjdGluZycsIGFkZHJlc3M6IGlkIH07CiAgICAgICAgICBpZiAoX3RoaXMuX29uU3RhdHVzQ2hhbmdlKSBfdGhpcy5fb25TdGF0dXNDaGFuZ2Uoc3RhdHVzQ2hhbmdlZCk7CiAgICAgICAgICByZXNvbHZlKCdyZWNvbm5lY3RpbmcnKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBibHVldG9vdGhsZS5yZWNvbm5lY3QocmVjb25uZWN0U3VjY2VzcywgcmVjb25uZWN0RXJyb3IsIHBhcmFtcyk7CiAgICAgICAgICB9LCA1MDAwKTsKICAgICAgICB9OwogICAgICAgIHZhciBkaXNjb25uZWN0RXJyb3IgPSBmdW5jdGlvbiBkaXNjb25uZWN0RXJyb3Ioc3RhdHVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZGlzY29ubmVjdCBlcnJvcicsIHN0YXR1cyk7CiAgICAgICAgICBibHVldG9vdGhsZS5jb25uZWN0KGNvbm5lY3RTdWNjZXNzLCBjb25uZWN0RXJyb3IsIHBhcmFtcyk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZGlzY292ZXJTdWNjZXNzID0gZnVuY3Rpb24gZGlzY292ZXJTdWNjZXNzKHN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ2Rpc2NvdmVyIHN1Y2Nlc3MnLCBzdGF0dXMpOwogICAgICAgICAgY29uc29sZS5sb2coJ2ZsYWcnLCBfdGhpcy5maXJzdFRpbWUpOwogICAgICAgICAgX3RoaXMuX3BlcnNpc3RlbmNlTWFuYWdlci5zZXQoJ2J0TEVBZGRyZXNzJywgMCwgaWQpOwogICAgICAgICAgaWYgKF90aGlzLmZpcnN0VGltZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnZmlyc3QgdHJ1ZScpOwogICAgICAgICAgICBfdGhpcy5yZWFkQmF0dGVyeShpZCkudGhlbihmdW5jdGlvbiAoYmF0dGVyeSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiYXR0ZXJ5JywgYmF0dGVyeSk7CiAgICAgICAgICAgICAgdmFyIHZhbHVlID0geyB0eXBlOiAnYmF0dGVyeScsIG5hbWU6ICdyZW1haW5pbmcgYmF0dGVyeSBlbmVyZ3kgbGV2ZWwgaW4gcGVyY2VudHMnLCB1bml0OiAnJUVMJywgdmFsdWU6IGJhdHRlcnksIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH07CiAgICAgICAgICAgICAgZGF0YS52YWx1ZXMucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTsKICAgICAgICAgICAgICBfdGhpcy5yZWFkU3RlcHMoaWQpLnRoZW4oZnVuY3Rpb24gKHN0ZXBzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU1RFUFMnLCBzdGVwcyk7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB7IHR5cGU6ICd1c2VyX3N0ZXBzJywgbmFtZTogJ0N1bXVsYXRpdmUgbnVtYmVyIG9mIHN0ZXBzJywgdW5pdDogJ3N0ZXBzJywgdmFsdWU6IHN0ZXBzLCB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9OwogICAgICAgICAgICAgICAgZGF0YS52YWx1ZXMucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpOwogICAgICAgICAgICAgICAgX3RoaXMuUmVwb3J0ZXJCcmFjZWxldChkYXRhKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaXJzdCBmYWxzZScpOwogICAgICAgICAgICBfdGhpcy5maXJzdFRpbWUgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHZhciBkaXNjb3ZlckVycm9yID0gZnVuY3Rpb24gZGlzY292ZXJFcnJvcihzdGF0dXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb3ZlciBlcnJvcicsIHN0YXR1cyk7CiAgICAgICAgfTsKICAgICAgICB2YXIgcmVjb25uZWN0U3VjY2VzcyA9IGZ1bmN0aW9uIHJlY29ubmVjdFN1Y2Nlc3Moc3RhdHVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygncmVjb25uZWN0IHN1Y2Nlc3MnLCBzdGF0dXMpOwogICAgICAgICAgaWYgKHN0YXR1cy5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7CiAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdGluZyA9IGZhbHNlOwogICAgICAgICAgICB2YXIgc3RhdHVzQ2hhbmdlZCA9IHsgY29ubmVjdGlvbjogJ2Nvbm5lY3RlZCcsIGFkZHJlc3M6IGlkIH07CiAgICAgICAgICAgIGlmIChfdGhpcy5fb25TdGF0dXNDaGFuZ2UpIF90aGlzLl9vblN0YXR1c0NoYW5nZShzdGF0dXNDaGFuZ2VkKTsKICAgICAgICAgICAgcmVzb2x2ZSgnY29ubmVjdGVkJyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQnKTsKICAgICAgICAgICAgYmx1ZXRvb3RobGUuZGlzY292ZXIoZGlzY292ZXJTdWNjZXNzLCBkaXNjb3ZlckVycm9yLCBwYXJhbXMpOwogICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMuc3RhdHVzID09PSAnZGlzY29ubmVjdGVkJykgewogICAgICAgICAgICBpZiAoIV90aGlzLnJlY29ubmVjdGluZykgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPbiBSZWNvbm5lY3QgU3VjY2VzcyBSZWNvbm5lY3RpbmcgYWZ0ZXIgZGlzY29ubmVjdCcpOwogICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdGluZyA9IHRydWU7CiAgICAgICAgICAgICAgdmFyIF9zdGF0dXNDaGFuZ2VkID0geyBjb25uZWN0aW9uOiAncmVjb25uZWN0aW5nJywgYWRkcmVzczogaWQgfTsKICAgICAgICAgICAgICBpZiAoX3RoaXMuX29uU3RhdHVzQ2hhbmdlKSBfdGhpcy5fb25TdGF0dXNDaGFuZ2UoX3N0YXR1c0NoYW5nZWQpOwogICAgICAgICAgICAgIHJlc29sdmUoJ3JlY29ubmVjdGluZycpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgYmx1ZXRvb3RobGUucmVjb25uZWN0KHJlY29ubmVjdFN1Y2Nlc3MsIHJlY29ubmVjdEVycm9yLCBwYXJhbXMpOwogICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbHJlYWR5IFJlY29ubmVjdGluZycpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgcmVjb25uZWN0RXJyb3IgPSBmdW5jdGlvbiByZWNvbm5lY3RFcnJvcihzdGF0dXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWNvbm5lY3QgZXJyb3InLCBzdGF0dXMpOwogICAgICAgICAgaWYgKHN0YXR1cy5tZXNzYWdlID09PSAnRGV2aWNlIGlzblwndCBkaXNjb25uZWN0ZWQnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZXRpbmcnKTsKICAgICAgICAgICAgYmx1ZXRvb3RobGUuZGlzY29ubmVjdChkaXNjb25uZWN0U3VjY2VzcywgZGlzY29ubmVjdEVycm9yLCBwYXJhbXMpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBjb25uZWN0U3VjY2VzcyA9IGZ1bmN0aW9uIGNvbm5lY3RTdWNjZXNzKHN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ2Nvbm5lY3Qgc3VjY2VzcycsIHN0YXR1cyk7CgogICAgICAgICAgaWYgKHN0YXR1cy5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7CiAgICAgICAgICAgIHJlc29sdmUoJ2Nvbm5lY3RlZCcpOwogICAgICAgICAgICBibHVldG9vdGhsZS5kaXNjb3ZlcihkaXNjb3ZlclN1Y2Nlc3MsIGRpc2NvdmVyRXJyb3IsIHBhcmFtcyk7CiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cy5zdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnKSB7CiAgICAgICAgICAgIGlmICghX3RoaXMucmVjb25uZWN0aW5nKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY29ubmVjdGluZyBhZnRlciBkaXNjb25uZWN0Jyk7CiAgICAgICAgICAgICAgX3RoaXMucmVjb25uZWN0aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICB2YXIgc3RhdHVzQ2hhbmdlZCA9IHsgY29ubmVjdGlvbjogJ3JlY29ubmVjdGluZycsIGFkZHJlc3M6IGlkIH07CiAgICAgICAgICAgICAgaWYgKF90aGlzLl9vblN0YXR1c0NoYW5nZSkgX3RoaXMuX29uU3RhdHVzQ2hhbmdlKHN0YXR1c0NoYW5nZWQpOwogICAgICAgICAgICAgIHJlc29sdmUoJ3JlY29ubmVjdGluZycpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgYmx1ZXRvb3RobGUucmVjb25uZWN0KHJlY29ubmVjdFN1Y2Nlc3MsIHJlY29ubmVjdEVycm9yLCBwYXJhbXMpOwogICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbHJlYWR5IFJlY29ubmVjdGluZycpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgY29ubmVjdEVycm9yID0gZnVuY3Rpb24gY29ubmVjdEVycm9yKHN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ2Nvbm5lY3QgZXJyb3InLCBzdGF0dXMpOwogICAgICAgICAgaWYgKHN0YXR1cy5tZXNzYWdlID09PSAnRGV2aWNlIHByZXZpb3VzbHkgY29ubmVjdGVkLCByZWNvbm5lY3Qgb3IgY2xvc2UgZm9yIG5ldyBkZXZpY2UnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0cnlpbmcgdG8gcmVjb25uZWN0JywgX3RoaXMucmVjb25uZWN0aW5nKTsKICAgICAgICAgICAgaWYgKCFfdGhpcy5yZWNvbm5lY3RpbmcpIHsKICAgICAgICAgICAgICBfdGhpcy5yZWNvbm5lY3RpbmcgPSB0cnVlOwogICAgICAgICAgICAgIHZhciBzdGF0dXNDaGFuZ2VkID0geyBjb25uZWN0aW9uOiAncmVjb25uZWN0aW5nJywgYWRkcmVzczogaWQgfTsKICAgICAgICAgICAgICBpZiAoX3RoaXMuX29uU3RhdHVzQ2hhbmdlKSBfdGhpcy5fb25TdGF0dXNDaGFuZ2Uoc3RhdHVzQ2hhbmdlZCk7CiAgICAgICAgICAgICAgcmVzb2x2ZSgncmVjb25uZWN0aW5nJyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RyeWluZyB0byByZWNvbm5lY3QnLCBfdGhpcy5yZWNvbm5lY3RpbmcpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgYmx1ZXRvb3RobGUucmVjb25uZWN0KHJlY29ubmVjdFN1Y2Nlc3MsIHJlY29ubmVjdEVycm9yLCBwYXJhbXMpOwogICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBibHVldG9vdGhsZS5pbml0aWFsaXplKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICBpZiAoX3RoaXMucmVjb25uZWN0aW5nKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGlsbCBSZWNvbm5lY3RpbmcsIHJlc29sdmUgcmVjb25uZWN0aW5nLi4nKTsKICAgICAgICAgICAgdmFyIHN0YXR1c0NoYW5nZWQgPSB7IGNvbm5lY3Rpb246ICdyZWNvbm5lY3RpbmcnLCBhZGRyZXNzOiBpZCB9OwogICAgICAgICAgICBpZiAoX3RoaXMuX29uU3RhdHVzQ2hhbmdlKSBfdGhpcy5fb25TdGF0dXNDaGFuZ2Uoc3RhdHVzQ2hhbmdlZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGluZycpOwogICAgICAgICAgICBibHVldG9vdGhsZS5jb25uZWN0KGNvbm5lY3RTdWNjZXNzLCBjb25uZWN0RXJyb3IsIHBhcmFtcyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgZnVuY3Rpb24gKGIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdSZXBvcnRlckJyYWNlbGV0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBSZXBvcnRlckJyYWNlbGV0KGluaXRpYWxEYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGNvbnNvbGUubG9nKCdSZXBvcnRlciBpbml0aWFsaXplZCcpOwogICAgICBfdGhpcy5fc3luY2hlci5jcmVhdGUoX3RoaXMuX29iamVjdERlc2NVUkwsIFtdLCBpbml0aWFsRGF0YSkudGhlbihmdW5jdGlvbiAocmVwb3J0ZXIpIHsKICAgICAgICBjb25zb2xlLmluZm8oJ1JlcG9ydGVyIGNyZWF0ZWQnLCByZXBvcnRlcik7CiAgICAgICAgX3RoaXMucmVwb3J0ZXIgPSByZXBvcnRlcjsKICAgICAgICByZXBvcnRlci5vblN1YnNjcmlwdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdvblN1YnNjcmlwdGlvbjonLCBldmVudCk7CgogICAgICAgICAgZXZlbnQuYWNjZXB0KCk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGlzQ29ubmVjdGVkU3VjY2VzcyA9IGZ1bmN0aW9uIGlzQ29ubmVjdGVkU3VjY2VzcyhzdGF0dXMpIHsKICAgICAgICAgIGlmIChzdGF0dXMuaXNDb25uZWN0ZWQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2lzQ29ubmVjdGVkU3VjY2VzcycsIHN0YXR1cyk7CiAgICAgICAgICAgIF90aGlzLnJlYWRCYXR0ZXJ5KGluaXRpYWxEYXRhLmlkKS50aGVuKGZ1bmN0aW9uIChiYXR0ZXJ5KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnB1c2hEYXRhKGJhdHRlcnksIGluaXRpYWxEYXRhLmlkKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygnaXNDb25uZWN0ZWRTdWNjZXNzJywgc3RhdHVzKTsKICAgICAgICAgICAgX3RoaXMuQ29ubmVjdChpbml0aWFsRGF0YS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgaXNDb25uZWN0ZWRFcnJvciA9IGZ1bmN0aW9uIGlzQ29ubmVjdGVkRXJyb3Ioc3RhdHVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnaXNDb25uZWN0ZWRFcnJvcicsIHN0YXR1cyk7CiAgICAgICAgfTsKICAgICAgICB2YXIgcGFyYW1zID0geyBhZGRyZXNzOiBpbml0aWFsRGF0YS5pZCB9OwoKICAgICAgICBjb25zb2xlLmxvZygnSFlQRVJUWSBSRVBPUlRFUiA6ICcsIHJlcG9ydGVyLnVybCk7CiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgYmx1ZXRvb3RobGUuaXNDb25uZWN0ZWQoaXNDb25uZWN0ZWRTdWNjZXNzLCBpc0Nvbm5lY3RlZEVycm9yLCBwYXJhbXMpOwogICAgICAgIH0sIDIwMDApOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdwdXNoRGF0YScsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaERhdGEoYmF0dGVyeSwgaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHZhbHVlID0geyB0eXBlOiAnYmF0dGVyeScsIG5hbWU6ICdyZW1haW5pbmcgYmF0dGVyeSBlbmVyZ3kgbGV2ZWwgaW4gcGVyY2VudHMnLCB1bml0OiAnJUVMJywgdmFsdWU6IGJhdHRlcnksIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH07CiAgICAgIF90aGlzLnJlcG9ydGVyLmRhdGEudmFsdWVzLnB1c2godmFsdWUpOwogICAgICBpZiAoX3RoaXMuX29uRGF0YUNoYW5nZSkgX3RoaXMuX29uRGF0YUNoYW5nZSh2YWx1ZSk7CiAgICAgIF90aGlzLnJlYWRTdGVwcyhpZCkudGhlbihmdW5jdGlvbiAoc3RlcHMpIHsKICAgICAgICB2YXIgdmFsdWUgPSB7IHR5cGU6ICd1c2VyX3N0ZXBzJywgbmFtZTogJ0N1bXVsYXRpdmUgbnVtYmVyIG9mIHN0ZXBzJywgdW5pdDogJ3N0ZXBzJywgdmFsdWU6IHN0ZXBzLCB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9OwogICAgICAgIF90aGlzLnJlcG9ydGVyLmRhdGEudmFsdWVzLnB1c2godmFsdWUpOwogICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgX3RoaXMucmVwb3J0ZXIuZGF0YS52YWx1ZXMpOwogICAgICAgIGlmIChfdGhpcy5fb25EYXRhQ2hhbmdlKSBfdGhpcy5fb25EYXRhQ2hhbmdlKHZhbHVlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAncmVhZFN0ZXBzJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkU3RlcHMoYmxlQWRkcmVzcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbnNvbGUubG9nKCdyZWFkaW5nIHN0ZXBzJyk7CiAgICAgICAgdmFyIHBhcmFtcyA9IHsgYWRkcmVzczogYmxlQWRkcmVzcywgc2VydmljZTogJ2ZlZTAnLCBjaGFyYWN0ZXJpc3RpYzogJ2ZmMDYnIH07CiAgICAgICAgdmFyIHJlYWRTdWNlc3MgPSBmdW5jdGlvbiByZWFkU3VjZXNzKHN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ3JlYWQgc3VjY2VzcycsIHN0YXR1cyk7CiAgICAgICAgICB2YXIgYiA9IGJsdWV0b290aGxlLmVuY29kZWRTdHJpbmdUb0J5dGVzKHN0YXR1cy52YWx1ZSk7CiAgICAgICAgICB2YXIgdmFsb3IgPSAweGZmICYgYlswXSB8ICgweGZmICYgYlsxXSkgPDwgODsKICAgICAgICAgIHJlc29sdmUodmFsb3IpOwogICAgICAgIH07CiAgICAgICAgdmFyIHJlYWRFcnJvciA9IGZ1bmN0aW9uIHJlYWRFcnJvcihzdGF0dXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWFkIGVycm9yJywgc3RhdHVzKTsKICAgICAgICAgIF90aGlzLkNvbm5lY3QoYmxlQWRkcmVzcyk7CiAgICAgICAgfTsKICAgICAgICBibHVldG9vdGhsZS5yZWFkKHJlYWRTdWNlc3MsIHJlYWRFcnJvciwgcGFyYW1zKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAncmVhZEJhdHRlcnknLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWRCYXR0ZXJ5KGJsZUFkZHJlc3MpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb25zb2xlLmxvZygncmVhZGluZyBiYXR0ZXJ5Jyk7CiAgICAgICAgdmFyIHBhcmFtcyA9IHsgYWRkcmVzczogYmxlQWRkcmVzcywgc2VydmljZTogJ2ZlZTAnLCBjaGFyYWN0ZXJpc3RpYzogJ2ZmMGMnIH07CiAgICAgICAgdmFyIHJlYWRTdWNlc3MgPSBmdW5jdGlvbiByZWFkU3VjZXNzKHN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ3JlYWQgc3VjY2VzcycsIHN0YXR1cyk7CiAgICAgICAgICB2YXIgYiA9IGJsdWV0b290aGxlLmVuY29kZWRTdHJpbmdUb0J5dGVzKHN0YXR1cy52YWx1ZSk7CiAgICAgICAgICB2YXIgdmFsb3IgPSBiWzBdOwogICAgICAgICAgcmVzb2x2ZSh2YWxvcik7CiAgICAgICAgfTsKICAgICAgICB2YXIgcmVhZEVycm9yID0gZnVuY3Rpb24gcmVhZEVycm9yKHN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ3JlYWQgZXJyb3InLCBzdGF0dXMpOwogICAgICAgICAgX3RoaXMuQ29ubmVjdChibGVBZGRyZXNzKTsKICAgICAgICB9OwogICAgICAgIGJsdWV0b290aGxlLnJlYWQocmVhZFN1Y2VzcywgcmVhZEVycm9yLCBwYXJhbXMpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdvbkRhdGFDaGFuZ2UnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGF0YUNoYW5nZShjYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBfdGhpcy5fb25EYXRhQ2hhbmdlID0gY2FsbGJhY2s7CiAgICB9CiAgfSwgewogICAga2V5OiAnb25TdGF0dXNDaGFuZ2UnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3RhdHVzQ2hhbmdlKGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9vblN0YXR1c0NoYW5nZSA9IGNhbGxiYWNrOwogICAgfQogIH0sIHsKICAgIGtleTogJ29uQ29ubmVjdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25Db25uZWN0KGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9vbkNvbm5lY3QgPSBjYWxsYmFjazsKICAgIH0KICB9XSk7CgogIHJldHVybiBCcmFjZWxldFNlbnNvclJlcG9ydGVyOwp9KCk7CgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKCiAgcmV0dXJuIHsKICAgIG5hbWU6ICdCcmFjZWxldFNlbnNvclJlcG9ydGVyJywKICAgIGluc3RhbmNlOiBuZXcgQnJhY2VsZXRTZW5zb3JSZXBvcnRlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pCiAgfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy91dGlscyI6NCwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9QZXJzaXN0ZW5jZU1hbmFnZXIiOjEsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6Mn1dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGl2aWRlVVJMID0gZGl2aWRlVVJMOwpleHBvcnRzLmRlZXBDbG9uZSA9IGRlZXBDbG9uZTsKZXhwb3J0cy5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7Ci8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovCgovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwoKLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovCgovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTCh1cmwpIHsKCiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKICB2YXIgcmUgPSAvKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTsKICB2YXIgc3Vic3QgPSAnJDEsJDIsJDMnOwogIHZhciBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTsKCiAgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwogIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7CiAgICBwYXJ0c1swXSA9ICdodHRwcyc7CiAgICBwYXJ0c1sxXSA9IHVybDsKICB9CgogIHZhciByZXN1bHQgPSB7CiAgICB0eXBlOiBwYXJ0c1swXSwKICAgIGRvbWFpbjogcGFydHNbMV0sCiAgICBpZGVudGl0eTogcGFydHNbMl0KICB9OwoKICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogTWFrZSBhIENPUFkgb2YgdGhlIG9yaWdpbmFsIGRhdGEKICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZAogKiBAcmV0dXJuIHtPYmplY3R9CiAqLwpmdW5jdGlvbiBkZWVwQ2xvbmUob2JqKSB7CiAgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgogIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwp9CgovKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge29iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwpmdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgICAgcmVzb2x2ZShtZWRpYVN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCn0se31dfSx7fSxbM10pKDMpCn0pOw==",
      "sourceCodeClassname": "BraceletSensorReporter",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10005,
    "version": "0.1",
    "description": "Description of BraceletSensorReporter",
    "language": "Javascript",
    "objectName": "BraceletSensorReporter",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "GroupChat": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBEaXNjb3ZlcnkuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOCBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5EaXNjb3Zlcnk9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBmPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGYsZi5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1uKHQpLHU9byhhLmxlbmd0aCksZj1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1PmY7KWlmKGM9YVtmKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+ZjtmKyspaWYoKGV8fGYgaW4gYSkmJmFbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGYsbCxfPWUmYS5GLGQ9ZSZhLkcscD1lJmEuUyx2PWUmYS5QLHk9ZSZhLkIsYj1lJmEuVyxoPWQ/bzpvW3RdfHwob1t0XT17fSksbT1oW2NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW2NdO2QmJihyPXQpO2Zvcih1IGluIHIpZj0hXyYmZyYmdm9pZCAwIT09Z1t1XSxmJiZ1IGluIGh8fChsPWY/Z1t1XTpyW3VdLGhbdV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbdV0/clt1XTp5JiZmP2kobCxuKTpiJiZnW3VdPT1sP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0obCk6diYmImZ1bmN0aW9uIj09dHlwZW9mIGw/aShGdW5jdGlvbi5jYWxsLGwpOmwsdiYmKChoLnZpcnR1YWx8fChoLnZpcnR1YWw9e30pKVt1XT1sLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsbCkpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixsLF8pe3ZhciBkLHAsdix5LGI9Xz9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLGg9bihyLGwsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IoZD1jKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9oKHMocD1lW21dKVswXSxwWzFdKTpoKGVbbV0pLHk9PT11fHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWIuY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGgscC52YWx1ZSx0KSx5PT09dXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9dSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxsPWUoIi4vX29iamVjdC1ncG8iKSxfPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixoLG0sZyxqKXt1KHIsdCxoKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFU9ITEsUz1lLnByb3RvdHlwZSxFPVNbX118fFNbcF18fG0mJlNbbV0sUj1FfHxPKG0pLEw9bT9QP08oImVudHJpZXMiKTpSOnZvaWQgMCxUPSJBcnJheSI9PXQ/Uy5lbnRyaWVzfHxFOkU7aWYoVCYmKGs9bChULmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxjKGssXyl8fHMoayxfLGIpKSksUCYmRSYmRS5uYW1lIT09eSYmKFU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFVJiZTW19dfHxzKFMsXyxSKSxhW3RdPVIsYVtNXT1iLG0paWYoeD17dmFsdWVzOlA/UjpPKHkpLGtleXM6Zz9SOk8odiksZW50cmllczpMfSxqKWZvcih3IGluIHgpdyBpbiBTfHxpKFMsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8VSksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYz1uLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IoYSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLGw9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUobCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtsLmRhdGE9Zj0hZn19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBfPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtfLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLHUpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSx1PXQuRjtuLS07KWRlbGV0ZSB1W2FdW2lbbl1dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1uKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOyluLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG8oIW4uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSkscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYz1vKGUpLGE9MCx1PVtdO2ZvcihyIGluIGMpciE9cyYmbihjLHIpJiZ1LnB1c2gocik7Zm9yKDt0Lmxlbmd0aD5hOyluKGMscj10W2ErK10pJiYofmkodSxyKXx8dS5wdXNoKHIpKTtyZXR1cm4gdX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oaWRlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdClyJiZlW29dP2Vbb109dFtvXTpuKGUsbyx0W29dKTtyZXR1cm4gZX19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbil7dHJ5e249ZSgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCxlKCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLHI/ZS5fX3Byb3RvX189dDpuKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fb2JqZWN0LWRwIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGM9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2NdJiZpLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLmYsbz1lKCIuL19oYXMiKSxpPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgia2V5cyIpLG89ZSgiLi9fdWlkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19hLWZ1bmN0aW9uIiksaT1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIGE8MHx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksaTw1NTI5Nnx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fY3R4IiksYz1lKCIuL19pbnZva2UiKSxhPWUoIi4vX2h0bWwiKSx1PWUoIi4vX2RvbS1jcmVhdGUiKSxmPWUoIi4vX2dsb2JhbCIpLGw9Zi5wcm9jZXNzLF89Zi5zZXRJbW1lZGlhdGUsZD1mLmNsZWFySW1tZWRpYXRlLHA9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAseT17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLGg9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZih5Lmhhc093blByb3BlcnR5KGUpKXt2YXIgdD15W2VdO2RlbGV0ZSB5W2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7aC5jYWxsKGUuZGF0YSl9O18mJmR8fChfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB5Wysrdl09ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0sZD1mdW5jdGlvbihlKXtkZWxldGUgeVtlXX0sInByb2Nlc3MiPT1lKCIuL19jb2YiKShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhoLGUsMSkpfTpwPyhvPW5ldyBwLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLGguY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhoLGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpfLGNsZWFyOmR9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9vKGUrdCwwKTppKGUsdCl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pb2JqZWN0Iiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgid2tzIiksbz1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jbGFzc29mIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TK24uRiohZSgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6ZSgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8tb2JqZWN0Iiksbz1lKCIuL19vYmplY3Qta2V5cyIpO2UoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbihlLHQscil7fSx7fV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxmPWUoIi4vX2V4cG9ydCIpLGw9ZSgiLi9faXMtb2JqZWN0IiksXz0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxkPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSx2PShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx5PWUoIi4vX3Rhc2siKS5zZXQsYj1lKCIuL19taWNyb3Rhc2siKSgpLGg9IlByb21pc2UiLG09Yy5UeXBlRXJyb3IsZz1jLnByb2Nlc3Msaj1jW2hdLGc9Yy5wcm9jZXNzLHg9InByb2Nlc3MiPT11KGcpLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1qLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZSh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1qJiZ0PT09aX0sTT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFsKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTyhqLGUpP25ldyBVKGUpOm5ldyBvKGUpfSxVPW89ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1fKHQpLHRoaXMucmVqZWN0PV8ocil9LFM9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1vP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8ob3x8KDI9PWUuX2gmJlQoZSksZS5faD0xKSxzPT09ITA/cj1uOih1JiZ1LmVudGVyKCkscj1zKG4pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobil9Y2F0Y2goZil7YShmKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJlIoZSl9KX19LFI9ZnVuY3Rpb24oZSl7eS5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG4sbz1lLl92O2lmKEwoZSkmJih0PVMoZnVuY3Rpb24oKXt4P2cuZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246b30pOihuPWMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSxlLl9oPXh8fEwoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sTD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbj0wO3IubGVuZ3RoPm47KWlmKHQ9cltuKytdLHQuZmFpbHx8IUwodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sVD1mdW5jdGlvbihlKXt5LmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3g/Zy5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxDPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9TShlKSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShDLG4sMSksYShBLG4sMSkpfWNhdGNoKG8pe0EuY2FsbChuLG8pfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKG4pe0EuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGo9ZnVuY3Rpb24oZSl7ZCh0aGlzLGosaCwiX2giKSxfKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShhKEMsdGhpcywxKSxhKEEsdGhpcywxKSl9Y2F0Y2godCl7QS5jYWxsKHRoaXMsdCl9fSxuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGoucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9UCh2KHRoaXMsaikpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJkUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShDLGUsMSksdGhpcy5yZWplY3Q9YShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosaCksZSgiLi9fc2V0LXNwZWNpZXMiKShoKSxpPWUoIi4vX2NvcmUiKVtoXSxmKGYuUytmLkYqIWssaCx7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhayksaCx7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksaCx7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1TKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG4ocikpfSxvKX0pLC0tc3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89UyhmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSxhPTA7YTw1O2ErKyl7dmFyIHU9Y1thXSxmPW5bdV0sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFtzXSYmbyhsLHMsdSksaVt1XT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksZj1lKCIuLi91dGlscy91dGlscyIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtuP2Uobik6dCgiRGF0YU9iamVjdCBub3QgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIil9KX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7dmFsdWU6e25hbWU6ZX19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlOzIwMD09PW4/ZShuKTp0KCJFcnJvciBvbiBkZWxldGluZyBkYXRhT2JqZWN0Iil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bj9uOm8uZG9tYWluO3ZhciBjPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MrIi8iLGJvZHk6e3Jlc291cmNlOmUsY3JpdGVyaWE6e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnR9fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7bj9lKG4pOnQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwLGM9KDAsZi5jb252ZXJ0VG9Vc2VyVVJMKShlKTtzPW4/bjpvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzKyIvIixib2R5OntyZXNvdXJjZTpjLGNyaXRlcmlhOntyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fX19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsdCl7by5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO24/ZShuKTp0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZTogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJtZXNzYWdlIHJlcGx5IixyKTt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYz1yLmJvZHkudmFsdWU7Zm9yKG8gaW4gYylpZih2b2lkIDAhPT1jW29dLmxhc3RNb2RpZmllZClpZih2b2lkIDA9PT1pKWk9bmV3IERhdGUoY1tvXS5sYXN0TW9kaWZpZWQpLHM9bztlbHNle3ZhciBhPW5ldyBEYXRlKGNbb10ubGFzdE1vZGlmaWVkKTtpLmdldFRpbWUoKTxhLmdldFRpbWUoKSYmKGk9YSxzPW8pfWNvbnNvbGUubG9nKCJMYXN0IEh5cGVydHk6ICIscyxpKTt2YXIgdT1zO2lmKHZvaWQgMD09PXUpcmV0dXJuIG4oIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgZj17aWQ6ZSxkZXNjcmlwdG9yOmNbdV0uZGVzY3JpcHRvcixoeXBlcnR5VVJMOnV9O2NvbnNvbGUubG9nKCI9PT0+IGh5cGVydHlEaXNjb3ZlcnkgbWVzc2FnZUJ1bmRsZTogIixmKSx0KGYpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPSJ1c2VyOi8vIitlLnN1YnN0cmluZyhlLmluZGV4T2YoIkAiKSsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIkAiKSkscz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituKyIvIixib2R5OntyZXNvdXJjZTpvfX07cmV0dXJuIGNvbnNvbGUubG9nKCJNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIixzLG4sbyksbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe2NvbnNvbGUubG9nKCJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLHIpO3ZhciBuPXIuYm9keS52YWx1ZTtyZXR1cm4gbj92b2lkIGUobik6dCgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9KX19LHtrZXk6ImRlbGV0ZUh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89dm9pZCAwO289cj9yOm4uZG9tYWluO3ZhciBzPXt0eXBlOiJkZWxldGUiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbysiLyIsYm9keTp7dmFsdWU6e3VzZXI6ZSx1cmw6dH19fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLHQpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS5jb2RlO24/ZSgiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpOnQoIkVycm9yIG9uIGRlbGV0aW5nIGh5cGVydHkiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxfWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGYoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksXz1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1uKGQpO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs4MF0pKDgwKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBJZGVudGl0eU1hbmFnZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTozOSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5JZGVudGl0eU1hbmFnZXI9dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChlLHIsbil7ZnVuY3Rpb24gbyhjLHMpe2lmKCFyW2NdKXtpZighZVtjXSl7dmFyIHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXMmJnUpcmV0dXJuIHUoYywhMCk7aWYoaSlyZXR1cm4gaShjLCEwKTt2YXIgYT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitjKyInIik7dGhyb3cgYS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixhfXZhciBmPXJbY109e2V4cG9ydHM6e319O2VbY11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVtjXVsxXVt0XTtyZXR1cm4gbyhyP3I6dCl9LGYsZi5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW2NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGM9MDtjPG4ubGVuZ3RoO2MrKylvKG5bY10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6N31dLDI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo4fV0sMzpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17ImRlZmF1bHQiOnQoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6OX1dLDQ6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoxMH1dLDU6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dCgiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCl9LHsiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24odCxlLHIpe3QoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj10KCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkodCxlLHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbih0LGUscil7dCgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSxlLmV4cG9ydHM9dCgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24odCxlLHIpe3QoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0KCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSx0KCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0KCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksZS5leHBvcnRzPXQoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiB0fX0se31dLDEyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx2b2lkIDAhPT1uJiZuIGluIHQpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIHR9fSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pcy1vYmplY3QiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIW4odCkpdGhyb3cgVHlwZUVycm9yKHQrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiB0fX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pb2JqZWN0Iiksbz10KCIuL190by1sZW5ndGgiKSxpPXQoIi4vX3RvLWluZGV4Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsYyl7dmFyIHMsdT1uKGUpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYodCYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKHR8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2NvZiIpLG89dCgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gocil7fX07ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLHIscztyZXR1cm4gdm9pZCAwPT09dD8iVW5kZWZpbmVkIjpudWxsPT09dD8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWMoZT1PYmplY3QodCksbykpP3I6aT9uKGUpOiJPYmplY3QiPT0ocz1uKGUpKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbih0LGUscil7dmFyIG49ZS5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hLWZ1bmN0aW9uIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtpZihuKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHQuY2FsbChlLHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQuY2FsbChlLHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiB0LmNhbGwoZSxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrdCk7cmV0dXJuIHR9fSx7fV0sMjE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9IXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iiksbz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19jb3JlIiksaT10KCIuL19jdHgiKSxjPXQoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24odCxlLHIpe3ZhciBhLGYsXyxsPXQmdS5GLHA9dCZ1LkcsZD10JnUuUyxoPXQmdS5QLHY9dCZ1LkIsYj10JnUuVyx5PXA/bzpvW2VdfHwob1tlXT17fSksbT15W3NdLGo9cD9uOmQ/bltlXToobltlXXx8e30pW3NdO3AmJihyPWUpO2ZvcihhIGluIHIpZj0hbCYmaiYmdm9pZCAwIT09althXSxmJiZhIGluIHl8fChfPWY/althXTpyW2FdLHlbYV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbYV0/clthXTp2JiZmP2koXyxuKTpiJiZqW2FdPT1fP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUscixuKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUscil9cmV0dXJuIG5ldyB0KGUscixuKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW3NdPXRbc10sZX0oXyk6aCYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8saCYmKCh5LnZpcnR1YWx8fCh5LnZpcnR1YWw9e30pKVthXT1fLHQmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCxlLmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY3R4Iiksbz10KCIuL19pdGVyLWNhbGwiKSxpPXQoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPXQoIi4vX2FuLW9iamVjdCIpLHM9dCgiLi9fdG8tbGVuZ3RoIiksdT10KCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPWUuZXhwb3J0cz1mdW5jdGlvbih0LGUscixfLGwpe3ZhciBwLGQsaCx2LGI9bD9mdW5jdGlvbigpe3JldHVybiB0fTp1KHQpLHk9bihyLF8sZT8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGIpKXtmb3IocD1zKHQubGVuZ3RoKTtwPm07bSsrKWlmKHY9ZT95KGMoZD10W21dKVswXSxkWzFdKTp5KHRbbV0pLHY9PT1hfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWIuY2FsbCh0KTshKGQ9aC5uZXh0KCkpLmRvbmU7KWlmKHY9byhoLHksZC52YWx1ZSxlKSx2PT09YXx8dj09PWYpcmV0dXJuIHZ9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbih0LGUscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0se31dLDI5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19wcm9wZXJ0eS1kZXNjIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuLmYodCxlLG8oMSxyKSl9OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yLHR9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hdCgiLi9fZGVzY3JpcHRvcnMiKSYmIXQoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/dCgpOnQuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/dChlWzBdKTp0LmNhbGwocixlWzBdKTtjYXNlIDI6cmV0dXJuIG4/dChlWzBdLGVbMV0pOnQuY2FsbChyLGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuP3QoZVswXSxlWzFdLGVbMl0pOnQuY2FsbChyLGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG4/dChlWzBdLGVbMV0sZVsyXSxlWzNdKTp0LmNhbGwocixlWzBdLGVbMV0sZVsyXSxlWzNdKX1yZXR1cm4gdC5hcHBseShyLGUpfX0se31dLDMzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY29mIik7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm4iU3RyaW5nIj09bih0KT90LnNwbGl0KCIiKTpPYmplY3QodCl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2l0ZXJhdG9ycyIpLG89dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYobi5BcnJheT09PXR8fGlbb109PT10KX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD9udWxsIT09dDoiZnVuY3Rpb24iPT10eXBlb2YgdH19LHt9XSwzNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscixvKXt0cnl7cmV0dXJuIG8/ZShuKHIpWzBdLHJbMV0pOmUocil9Y2F0Y2goaSl7dmFyIGM9dFsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwodCkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49dCgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89dCgiLi9fcHJvcGVydHktZGVzYyIpLGk9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O3QoIi4vX2hpZGUiKShjLHQoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe3QucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKHQsZSsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2xpYnJhcnkiKSxvPXQoIi4vX2V4cG9ydCIpLGk9dCgiLi9fcmVkZWZpbmUiKSxjPXQoIi4vX2hpZGUiKSxzPXQoIi4vX2hhcyIpLHU9dCgiLi9faXRlcmF0b3JzIiksYT10KCIuL19pdGVyLWNyZWF0ZSIpLGY9dCgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPXQoIi4vX29iamVjdC1ncG8iKSxsPXQoIi4vX3drcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksZD0iQEBpdGVyYXRvciIsaD0ia2V5cyIsdj0idmFsdWVzIixiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscix5LG0saixnKXthKHIsZSx5KTt2YXIgeCx3LGssTz1mdW5jdGlvbih0KXtpZighcCYmdCBpbiBQKXJldHVybiBQW3RdO3N3aXRjaCh0KXtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9O2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9fSxNPWUrIiBJdGVyYXRvciIsUz1tPT12LEU9ITEsUD10LnByb3RvdHlwZSxUPVBbbF18fFBbZF18fG0mJlBbbV0sUj1UfHxPKG0pLFU9bT9TP08oImVudHJpZXMiKTpSOnZvaWQgMCxBPSJBcnJheSI9PWU/UC5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9XyhBLmNhbGwobmV3IHQpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGIpKSksUyYmVCYmVC5uYW1lIT09diYmKEU9ITAsUj1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxuJiYhZ3x8IXAmJiFFJiZQW2xdfHxjKFAsbCxSKSx1W2VdPVIsdVtNXT1iLG0paWYoeD17dmFsdWVzOlM/UjpPKHYpLGtleXM6aj9SOk8oaCksZW50cmllczpVfSxnKWZvcih3IGluIHgpdyBpbiBQfHxpKFAsdyx4W3ddKTtlbHNlIG8oby5QK28uRioocHx8RSksZSx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fWUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LHQoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEhdH19fSx7fV0sNDE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PXQoIi4vX2NvZiIpKGMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTt0Oyl7bz10LmZuLHQ9dC5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgdD9yKCk6ZT12b2lkIDAsaX19ZT12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O2UmJihlLm5leHQ9byksdHx8KHQ9byxyKCkpLGU9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX29iamVjdC1kcHMiKSxpPXQoIi4vX2VudW0tYnVnLWtleXMiKSxjPXQoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgZSxyPXQoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIix0KCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6IixlPXIuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLGUuY2xvc2UoKSxhPWUuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiBudWxsIT09dD8oc1t1XT1uKHQpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109dCk6cj1hKCksdm9pZCAwPT09ZT9yOm8ocixlKX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19hbi1vYmplY3QiKSxvPXQoIi4vX2llOC1kb20tZGVmaW5lIiksaT10KCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLHIpe2lmKG4odCksZT1pKGUsITApLG4ociksbyl0cnl7cmV0dXJuIGModCxlLHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYodFtlXT1yLnZhbHVlKSx0fX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LWRwIiksbz10KCIuL19hbi1vYmplY3QiKSxpPXQoIi4vX29iamVjdC1rZXlzIik7ZS5leHBvcnRzPXQoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtvKHQpO2Zvcih2YXIgcixjPWkoZSkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYodCxyPWNbdSsrXSxlW3JdKTtyZXR1cm4gdH19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1waWUiKSxvPXQoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPXQoIi4vX3RvLWlvYmplY3QiKSxjPXQoIi4vX3RvLXByaW1pdGl2ZSIpLHM9dCgiLi9faGFzIiksdT10KCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9dCgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKHQsZSl7aWYodD1pKHQpLGU9YyhlLCEwKSx1KXRyeXtyZXR1cm4gYSh0LGUpfWNhdGNoKHIpe31pZihzKHQsZSkpcmV0dXJuIG8oIW4uZi5jYWxsKHQsZSksdFtlXSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oYXMiKSxvPXQoIi4vX3RvLW9iamVjdCIpLGk9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLG4odCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2hhcyIpLG89dCgiLi9fdG8taW9iamVjdCIpLGk9dCgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSksYz10KCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1vKHQpLHU9MCxhPVtdO2ZvcihyIGluIHMpciE9YyYmbihzLHIpJiZhLnB1c2gocik7Zm9yKDtlLmxlbmd0aD51OyluKHMscj1lW3UrK10pJiYofmkoYSxyKXx8YS5wdXNoKHIpKTtyZXR1cm4gYX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz10KCIuL19lbnVtLWJ1Zy1rZXlzIik7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fZmFpbHMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGM9e307Y1t0XT1lKHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLGMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oaWRlIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG8gaW4gZSlyJiZ0W29dP3Rbb109ZVtvXTpuKHQsbyxlW29dKTtyZXR1cm4gdH19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpLG89dCgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbih0LGUpe2lmKG8odCksIW4oZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHIsbil7dHJ5e249dCgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCx0KCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSkscj0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLHI/dC5fX3Byb3RvX189ZTpuKHQsZSksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2dsb2JhbCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fb2JqZWN0LWRwIiksYz10KCIuL19kZXNjcmlwdG9ycyIpLHM9dCgiLi9fd2tzIikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIG9bdF0/b1t0XTpuW3RdO2MmJmUmJiFlW3NdJiZpLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1kcCIpLmYsbz10KCIuL19oYXMiKSxpPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dCYmIW8odD1yP3Q6dC5wcm90b3R5cGUsaSkmJm4odCxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgia2V5cyIpLG89dCgiLi9fdWlkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1vKHQpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iiksbz10KCIuL19hLWZ1bmN0aW9uIiksaT10KCIuL193a3MiKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGM9bih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09Y3x8dm9pZCAwPT0ocj1uKGMpW2ldKT9lOm8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pbnRlZ2VyIiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBpLGMscz1TdHJpbmcobyhlKSksdT1uKHIpLGE9cy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49YT90PyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09YXx8KGM9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxjPjU3MzQzP3Q/cy5jaGFyQXQodSk6aTp0P3Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKGMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGM9dCgiLi9fY3R4Iikscz10KCIuL19pbnZva2UiKSx1PXQoIi4vX2h0bWwiKSxhPXQoIi4vX2RvbS1jcmVhdGUiKSxmPXQoIi4vX2dsb2JhbCIpLF89Zi5wcm9jZXNzLGw9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCxoPTAsdj17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHk9ZnVuY3Rpb24oKXt2YXIgdD0rdGhpcztpZih2Lmhhc093blByb3BlcnR5KHQpKXt2YXIgZT12W3RdO2RlbGV0ZSB2W3RdLGUoKX19LG09ZnVuY3Rpb24odCl7eS5jYWxsKHQuZGF0YSl9O2wmJnB8fChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyllLnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiB2WysraF09ZnVuY3Rpb24oKXtzKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LG4oaCksaH0scD1mdW5jdGlvbih0KXtkZWxldGUgdlt0XX0sInByb2Nlc3MiPT10KCIuL19jb2YiKShfKT9uPWZ1bmN0aW9uKHQpe18ubmV4dFRpY2soYyh5LHQsMSkpfTpkPyhvPW5ldyBkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49YyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24odCl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYyh5LHQsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpsLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQpLHQ8MD9vKHQrZSwwKTppKHQsZSl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP286bikodCl9fSx7fV0sNjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pb2JqZWN0Iiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKG8odCkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28obih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZGVmaW5lZCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIW4odCkpcmV0dXJuIHQ7dmFyIHIsbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LnRvU3RyaW5nKSYmIW4obz1yLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPXQudmFsdWVPZikmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKHI9dC50b1N0cmluZykmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgid2tzIiksbz10KCIuL191aWQiKSxpPXQoIi4vX2dsb2JhbCIpLlN5bWJvbCxjPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1jJiZpW3RdfHwoYz9pOm8pKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jbGFzc29mIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpO2UuZXhwb3J0cz10KCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT10KXJldHVybiB0W29dfHx0WyJAQGl0ZXJhdG9yIl18fGlbbih0KV19fSx7Ii4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDczOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89dCgiLi9faXRlci1zdGVwIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3RvLWlvYmplY3QiKTtlLmV4cG9ydHM9dCgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKHQsZSl7dGhpcy5fdD1jKHQpLHRoaXMuX2k9MCx0aGlzLl9rPWV9LGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdCxlPXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PWU/bygwLHIpOiJ2YWx1ZXMiPT1lP28oMCx0W3JdKTpvKDAsW3IsdFtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MTIsIi4vX2l0ZXItZGVmaW5lIjozOCwiLi9faXRlci1zdGVwIjo0MCwiLi9faXRlcmF0b3JzIjo0MSwiLi9fdG8taW9iamVjdCI6NjZ9XSw3NDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpO24obi5TK24uRiohdCgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6dCgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fZXhwb3J0IjoyNCwiLi9fb2JqZWN0LWRwIjo0NX1dLDc1OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8tb2JqZWN0Iiksbz10KCIuL19vYmplY3Qta2V5cyIpO3QoIi4vX29iamVjdC1zYXAiKSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG8obih0KSl9fSl9LHsiLi9fb2JqZWN0LWtleXMiOjUwLCIuL19vYmplY3Qtc2FwIjo1MiwiLi9fdG8tb2JqZWN0Ijo2OH1dLDc2OltmdW5jdGlvbih0LGUscil7fSx7fV0sNzc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLGM9dCgiLi9fbGlicmFyeSIpLHM9dCgiLi9fZ2xvYmFsIiksdT10KCIuL19jdHgiKSxhPXQoIi4vX2NsYXNzb2YiKSxmPXQoIi4vX2V4cG9ydCIpLF89dCgiLi9faXMtb2JqZWN0IiksbD0odCgiLi9fYW4tb2JqZWN0IiksdCgiLi9fYS1mdW5jdGlvbiIpKSxwPXQoIi4vX2FuLWluc3RhbmNlIiksZD10KCIuL19mb3Itb2YiKSxoPSh0KCIuL19zZXQtcHJvdG8iKS5zZXQsdCgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSx2PXQoIi4vX3Rhc2siKS5zZXQsYj10KCIuL19taWNyb3Rhc2siKSgpLHk9IlByb21pc2UiLG09cy5UeXBlRXJyb3Isaj1zLnByb2Nlc3MsZz1zW3ldLGo9cy5wcm9jZXNzLHg9InByb2Nlc3MiPT1hKGopLHc9ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1nLnJlc29sdmUoMSkscj0oZS5jb25zdHJ1Y3Rvcj17fSlbdCgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24odCl7dCh3LHcpfTtyZXR1cm4oeHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbih3KWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLE89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQ9PT1nJiZlPT09aX0sTT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4hKCFfKHQpfHwiZnVuY3Rpb24iIT10eXBlb2YoZT10LnRoZW4pKSYmZX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTyhnLHQpP25ldyBFKHQpOm5ldyBvKHQpfSxFPW89ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7ZT10LHI9bn0pLHRoaXMucmVzb2x2ZT1sKGUpLHRoaXMucmVqZWN0PWwocil9LFA9ZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fSxUPWZ1bmN0aW9uKHQsZSl7aWYoIXQuX24pe3QuX249ITA7dmFyIHI9dC5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuX3Ysbz0xPT10Ll9zLGk9MCxjPWZ1bmN0aW9uKGUpe3ZhciByLGksYz1vP2Uub2s6ZS5mYWlsLHM9ZS5yZXNvbHZlLHU9ZS5yZWplY3QsYT1lLmRvbWFpbjt0cnl7Yz8ob3x8KDI9PXQuX2gmJkEodCksdC5faD0xKSxjPT09ITA/cj1uOihhJiZhLmVudGVyKCkscj1jKG4pLGEmJmEuZXhpdCgpKSxyPT09ZS5wcm9taXNlP3UobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixzLHUpOnMocikpOnUobil9Y2F0Y2goZil7dShmKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTt0Ll9jPVtdLHQuX249ITEsZSYmIXQuX2gmJlIodCl9KX19LFI9ZnVuY3Rpb24odCl7di5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgZSxyLG4sbz10Ll92O2lmKFUodCkmJihlPVAoZnVuY3Rpb24oKXt4P2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLHQpOihyPXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6dCxyZWFzb246b30pOihuPXMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSx0Ll9oPXh8fFUodCk/MjoxKSx0Ll9hPXZvaWQgMCxlKXRocm93IGUuZXJyb3J9KX0sVT1mdW5jdGlvbih0KXtpZigxPT10Ll9oKXJldHVybiExO2Zvcih2YXIgZSxyPXQuX2F8fHQuX2Msbj0wO3IubGVuZ3RoPm47KWlmKGU9cltuKytdLGUuZmFpbHx8IVUoZS5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbih0KXt2LmNhbGwocyxmdW5jdGlvbigpe3ZhciBlO3g/ai5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIix0KTooZT1zLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCxlPWUuX3d8fGUsZS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFQoZSwhMCkpfSxDPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT10KXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9TSh0KSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7ZS5jYWxsKHQsdShDLG4sMSksdShMLG4sMSkpfWNhdGNoKG8pe0wuY2FsbChuLG8pfX0pOihyLl92PXQsci5fcz0xLFQociwhMSkpfWNhdGNoKG4pe0wuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGc9ZnVuY3Rpb24odCl7cCh0aGlzLGcseSwiX2giKSxsKHQpLG4uY2FsbCh0aGlzKTt0cnl7dCh1KEMsdGhpcywxKSx1KEwsdGhpcywxKSl9Y2F0Y2goZSl7TC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXQoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIHI9UyhoKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiB0fHx0LHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxyLmRvbWFpbj14P2ouZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfX0pLEU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbjt0aGlzLnByb21pc2U9dCx0aGlzLnJlc29sdmU9dShDLHQsMSksdGhpcy5yZWplY3Q9dShMLHQsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmd9KSx0KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcseSksdCgiLi9fc2V0LXNwZWNpZXMiKSh5KSxpPXQoIi4vX2NvcmUiKVt5XSxmKGYuUytmLkYqIWsseSx7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPVModGhpcykscj1lLnJlamVjdDtyZXR1cm4gcih0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhaykseSx7cmVzb2x2ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgZyYmTyh0LmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiB0O3ZhciBlPVModGhpcykscj1lLnJlc29sdmU7cmV0dXJuIHIodCksZS5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJnQoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24odCl7Zy5hbGwodClbImNhdGNoIl0odyl9KSkseSx7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1TKGUpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1QKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtkKHQsITEsZnVuY3Rpb24odCl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLGUucmVzb2x2ZSh0KS50aGVuKGZ1bmN0aW9uKHQpe3V8fCh1PSEwLHJbc109dCwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9UyhlKSxuPXIucmVqZWN0LG89UChmdW5jdGlvbigpe2QodCwhMSxmdW5jdGlvbih0KXtlLnJlc29sdmUodCkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19zdHJpbmctYXQiKSghMCk7dCgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PWUubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9bihlLHIpLHRoaXMuX2krPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbih0LGUscil7dCgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49dCgiLi9fZ2xvYmFsIiksbz10KCIuL19oaWRlIiksaT10KCIuL19pdGVyYXRvcnMiKSxjPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7dTw1O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT10KCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj10KCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuKXsoMCxzWyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIG89dGhpcztvLm1lc3NhZ2VCdXM9bixvLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLG8uaHlwZXJ0eVVSTD1lLG8ucnVudGltZVVSTD1yfXJldHVybigwLGFbImRlZmF1bHQiXSkodCxbe2tleToiZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLG49dm9pZCAwLG89dD90OiIuIjtuPWU/ZTpyLmh5cGVydHlVUkw7dmFyIGM9e3R5cGU6InJlYWQiLGZyb206bix0bzpyLnJ1bnRpbWVVUkwrIi9yZWdpc3RyeS8iLGJvZHk6e3Jlc291cmNlOm8sY3JpdGVyaWE6bn19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKHQsZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnJlc291cmNlO24mJjIwMD09PXIuYm9keS5jb2RlP3Qobik6ZSgiY29kZTogIityLmJvZHkuY29kZSsiIE5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksdH0oKTtyWyJkZWZhdWx0Il09XyxlLmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo4MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sODE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1mdW5jdGlvbiBvKHQpe2lmKCF0KXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIGU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49dC5yZXBsYWNlKGUscikuc3BsaXQoIiwiKTtuWzBdPT09dCYmKG5bMF09Imh0dHBzIixuWzFdPXQpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTp0LnN1YnN0cmluZygwLGUpLGRvbWFpbjp0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiEoKDAsZFsiZGVmYXVsdCJdKSh0KS5sZW5ndGg+MCl9ZnVuY3Rpb24gcyh0KXtpZih0KXJldHVybiBKU09OLnBhcnNlKCgwLGxbImRlZmF1bHQiXSkodCkpfWZ1bmN0aW9uIHUodCl7dmFyIGU9dC5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK3Quc3Vic3RyaW5nKGUrMSx0Lmxlbmd0aCkrIi8iK3Quc3Vic3RyaW5nKDAsZSl9ZnVuY3Rpb24gYSh0KXt2YXIgZT1vKHQpO3JldHVybiBlLmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrZS5kb21haW59ZnVuY3Rpb24gZih0KXtpZigidXNlcjovLyI9PT10LnN1YnN0cmluZygwLDcpKXt2YXIgZT1vKHQpO2lmKGUuZG9tYWluJiZlLmlkZW50aXR5KXJldHVybiB0O3Rocm93InVzZXJVUkwgd2l0aCB3cm9uZyBmb3JtYXQifXJldHVybiB1KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgXz10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiKSxsPW4oXykscD10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxkPW4ocCk7ci5kaXZpZGVVUkw9byxyLmRpdmlkZUVtYWlsPWksci5lbXB0eU9iamVjdD1jLHIuZGVlcENsb25lPXMsci5nZXRVc2VyVVJMRnJvbUVtYWlsPXUsci5nZXRVc2VyRW1haWxGcm9tVVJMPWEsci5jb252ZXJ0VG9Vc2VyVVJMPWZ9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IjoxLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjN9XX0se30sWzgwXSkoODApfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKLy8gRGlzdHJpYnV0aW9uIGZpbGUgZm9yIFN5bmNoZXIuanMgCi8vIHZlcnNpb246IDAuMy4wCi8vIExhc3QgYnVpbGQ6IFdlZCBBdWcgMTAgMjAxNiAxNToyNTo0OSBHTVQrMDEwMCAoV0VTVCkKCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5TeW5jaGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG8pe2Z1bmN0aW9uIG4ocyxjKXtpZighcltzXSl7aWYoIXRbc10pe3ZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IHUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG4ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixvKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxvLmxlbmd0aDtzKyspbihvW3NdKTtyZXR1cm4gbn0oezE6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZSYmIUFycmF5Lm9ic2VydmUmJmZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPWUuZ2V0Tm90aWZpZXIsbz0icGVyZm9ybUNoYW5nZSIsbj0iX29yaWdpbmFsIixpPSJzcGxpY2UiLHM9e3B1c2g6ZnVuY3Rpb24gYShlKXt2YXIgdD1hcmd1bWVudHMscz1hW25dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDpzLXQubGVuZ3RoLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSx1bnNoaWZ0OmZ1bmN0aW9uIHUoZSl7dmFyIHQ9YXJndW1lbnRzLHM9dVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30scG9wOmZ1bmN0aW9uIGwoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWxbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6dGhpcy5sZW5ndGgsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc2hpZnQ6ZnVuY3Rpb24gZigpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9ZltuXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNwbGljZTpmdW5jdGlvbiBkKGUsdCl7dmFyIHM9YXJndW1lbnRzLGM9ZFtuXS5hcHBseSh0aGlzLHMpO3JldHVybihjLmxlbmd0aHx8cy5sZW5ndGg+MikmJnIodGhpcylbb10oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDplLGFkZGVkQ291bnQ6cy5sZW5ndGgtMixyZW1vdmVkOmN9fSx0aGlzKSxjfX07Zm9yKHZhciBjIGluIHMpc1tjXVtuXT10LnByb3RvdHlwZVtjXSx0LnByb3RvdHlwZVtjXT1zW2NdO3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLm9ic2VydmUodCxyLFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIixpXSl9LHQudW5vYnNlcnZlPWUudW5vYnNlcnZlfShPYmplY3QsQXJyYXkpfSx7fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeSI6MTh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MTl9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MjB9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjF9XSw2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyMn1dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjIzfV0sODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6MjR9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MjV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIjoyNn1dLDExOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiOjI3fV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0se31dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9fSgpfSx7Ii4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW8ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1vKXt2YXIgbj0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bj92b2lkIDA6YShuLHQscil9aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHM9by5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyIuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsIi4uL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjZ9XSwxNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1vKHMpLGE9ZSgiLi4vaGVscGVycy90eXBlb2YiKSx1PW8oYSk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisoInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLHVbImRlZmF1bHQiXSkodCkpKTtlLnByb3RvdHlwZT0oMCxjWyJkZWZhdWx0Il0pKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoaVsiZGVmYXVsdCJdPygwLGlbImRlZmF1bHQiXSkoZSx0KTplLl9fcHJvdG9fXz10KX19LHsiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCIuLi9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9oZWxwZXJzL3R5cGVvZiIpLGk9byhuKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiKSxpPW8obikscz1lKCIuLi9jb3JlLWpzL3N5bWJvbCIpLGM9byhzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7Ii4uL2NvcmUtanMvc3ltYm9sIjoxMCwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjExfV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIiksbj1vLkpTT058fChvLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpbmdpZnkuYXBwbHkobixhcmd1bWVudHMpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNX1dLDE5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIjoxMDB9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6MTAxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjEwMn1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiOjEwM31dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6MTA0fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LnNldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiI6MTA1fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksZSgiLi4vbW9kdWxlcy9lczYucHJvbWlzZSIpLHQuZXhwb3J0cz1lKCIuLi9tb2R1bGVzL19jb3JlIikuUHJvbWlzZX0seyIuLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjoxMDcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI2OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIiksZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjoxMDksIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI6MTEwLCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSI6MTExfV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCIpLmYoIml0ZXJhdG9yIil9LHsiLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCI6OTYsIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTA4LCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjExMn1dLDI4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW8mJm8gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX3RvLWxlbmd0aCIpLGk9ZSgiLi9fdG8taW5kZXgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYyxhPW8odCksdT1uKGEubGVuZ3RoKSxsPWkocyx1KTtpZihlJiZyIT1yKXtmb3IoO3U+bDspaWYoYz1hW2wrK10sYyE9YylyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigoZXx8bCBpbiBhKSYmYVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LHsiLi9fdG8taW5kZXgiOjg4LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tbGVuZ3RoIjo5MX1dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fY29mIiksbj1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1vKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChyKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixjO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxuKSk/cjppP28odCk6Ik9iamVjdCI9PShjPW8odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6Y319LHsiLi9fY29mIjozNCwiLi9fd2tzIjo5N31dLDM0OltmdW5jdGlvbihlLHQscil7dmFyIG89e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9byl9LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2EtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixvKXtyZXR1cm4gZS5jYWxsKHQscixvKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG8sbil7cmV0dXJuIGUuY2FsbCh0LHIsbyxuKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6Mjh9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjQzfV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9byhuKSYmbyhuLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9uLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTR9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cyIpLG49ZSgiLi9fb2JqZWN0LWdvcHMiKSxpPWUoIi4vX29iamVjdC1waWUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKSxyPW4uZjtpZihyKWZvcih2YXIgcyxjPXIoZSksYT1pLmYsdT0wO2MubGVuZ3RoPnU7KWEuY2FsbChlLHM9Y1t1KytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0seyIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzV9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fY3R4Iikscz1lKCIuL19oaWRlIiksYz0icHJvdG90eXBlIixhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxsLGYsZD1lJmEuRixfPWUmYS5HLHA9ZSZhLlMsYj1lJmEuUCxoPWUmYS5CLHk9ZSZhLlcsdj1fP246blt0XXx8KG5bdF09e30pLGo9dltjXSxtPV8/bzpwP29bdF06KG9bdF18fHt9KVtjXTtfJiYocj10KTtmb3IodSBpbiByKWw9IWQmJm0mJnZvaWQgMCE9PW1bdV0sbCYmdSBpbiB2fHwoZj1sP21bdV06clt1XSx2W3VdPV8mJiJmdW5jdGlvbiIhPXR5cGVvZiBtW3VdP3JbdV06aCYmbD9pKGYsbyk6eSYmbVt1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbyl7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbyl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFtjXT1lW2NdLHR9KGYpOmImJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLGImJigodi52aXJ0dWFsfHwodi52aXJ0dWFsPXt9KSlbdV09ZixlJmEuUiYmaiYmIWpbdV0mJnMoaix1LGYpKSl9O2EuRj0xLGEuRz0yLGEuUz00LGEuUD04LGEuQj0xNixhLlc9MzIsYS5VPTY0LGEuUj0xMjgsdC5leHBvcnRzPWF9LHsiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2N0eCIpLG49ZSgiLi9faXRlci1jYWxsIiksaT1lKCIuL19pcy1hcnJheS1pdGVyIikscz1lKCIuL19hbi1vYmplY3QiKSxjPWUoIi4vX3RvLWxlbmd0aCIpLGE9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKSx1PXt9LGw9e30scj10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgXyxwLGIsaCx5PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06YShlKSx2PW8ocixmLHQ/MjoxKSxqPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaSh5KSl7Zm9yKF89YyhlLmxlbmd0aCk7Xz5qO2orKylpZihoPXQ/dihzKHA9ZVtqXSlbMF0scFsxXSk6dihlW2pdKSxoPT09dXx8aD09PWwpcmV0dXJuIGh9ZWxzZSBmb3IoYj15LmNhbGwoZSk7IShwPWIubmV4dCgpKS5kb25lOylpZihoPW4oYix2LHAudmFsdWUsdCksaD09PXV8fGg9PT1sKXJldHVybiBofTtyLkJSRUFLPXUsci5SRVRVUk49bH0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1hcnJheS1pdGVyIjo1MiwiLi9faXRlci1jYWxsIjo1NSwiLi9fdG8tbGVuZ3RoIjo5MSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjk4fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9byl9LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNhbGwoZSx0KX19LHt9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1kcCIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gby5mKGUsdCxuKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX3Byb3BlcnR5LWRlc2MiOjc3fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQ1fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2Rlc2NyaXB0b3JzIikmJiFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2ZhaWxzIjo0M31dLDUwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBvP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBvP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBvP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBvP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW8oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuL19jb2YiOjM0fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pdGVyYXRvcnMiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG8uQXJyYXk9PT1lfHxpW25dPT09ZSl9fSx7Ii4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTd9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1vKGUpfX0seyIuL19jb2YiOjM0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe3RyeXtyZXR1cm4gbj90KG8ocilbMF0sclsxXSk6dChyKX1jYXRjaChpKXt2YXIgcz1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1zJiZvKHMuY2FsbChlKSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MzF9XSw1NjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19vYmplY3QtY3JlYXRlIiksbj1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLHM9e307ZSgiLi9faGlkZSIpKHMsZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9byhzLHtuZXh0Om4oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6NDcsIi4vX29iamVjdC1jcmVhdGUiOjY1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fbGlicmFyeSIpLG49ZSgiLi9fZXhwb3J0IiksaT1lKCIuL19yZWRlZmluZSIpLHM9ZSgiLi9faGlkZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pdGVyYXRvcnMiKSx1PWUoIi4vX2l0ZXItY3JlYXRlIiksbD1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi9fb2JqZWN0LWdwbyIpLGQ9ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksXz0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPSJAQGl0ZXJhdG9yIixiPSJrZXlzIixoPSJ2YWx1ZXMiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHYsaixtLGcpe3Uocix0LHYpO3ZhciB3LE8sayx4PWZ1bmN0aW9uKGUpe2lmKCFfJiZlIGluIFIpcmV0dXJuIFJbZV07c3dpdGNoKGUpe2Nhc2UgYjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LEM9dCsiIEl0ZXJhdG9yIixFPWo9PWgsUz0hMSxSPWUucHJvdG90eXBlLFQ9UltkXXx8UltwXXx8aiYmUltqXSxNPVR8fHgoaiksUD1qP0U/eCgiZW50cmllcyIpOk06dm9pZCAwLEE9IkFycmF5Ij09dD9SLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1mKEEuY2FsbChuZXcgZSkpLGshPT1PYmplY3QucHJvdG90eXBlJiYobChrLEMsITApLG98fGMoayxkKXx8cyhrLGQseSkpKSxFJiZUJiZULm5hbWUhPT1oJiYoUz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG8mJiFnfHwhXyYmIVMmJlJbZF18fHMoUixkLE0pLGFbdF09TSxhW0NdPXksailpZih3PXt2YWx1ZXM6RT9NOngoaCksa2V5czptP006eChiKSxlbnRyaWVzOlB9LGcpZm9yKE8gaW4gdylPIGluIFJ8fGkoUixPLHdbT10pO2Vsc2UgbihuLlArbi5GKihffHxTKSx0LHcpO3JldHVybiB3fX0seyIuL19leHBvcnQiOjQyLCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXRlci1jcmVhdGUiOjU2LCIuL19pdGVyYXRvcnMiOjYwLCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWdwbyI6NzIsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL193a3MiOjk3fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxuPSExO3RyeXt2YXIgaT1bN11bb10oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe249ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChzKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFuKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10scz1pW29dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbb109ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShpKX1jYXRjaChjKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6OTd9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LHt9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17fX0se31dLDYxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1uKGUpLHM9byhpKSxjPXMubGVuZ3RoLGE9MDtjPmE7KWlmKGlbcj1zW2ErK11dPT09dClyZXR1cm4gcn19LHsiLi9fb2JqZWN0LWtleXMiOjc0LCIuL190by1pb2JqZWN0Ijo5MH1dLDYyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSEwfSx7fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL191aWQiKSgibWV0YSIpLG49ZSgiLi9faXMtb2JqZWN0IiksaT1lKCIuL19oYXMiKSxzPWUoIi4vX29iamVjdC1kcCIpLmYsYz0wLGE9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdT0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiBhKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXtzKGUsbyx7dmFsdWU6e2k6Ik8iKyArK2Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbb10uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbykpe2lmKCFhKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbb10ud30sXz1mdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5ORUVEJiZhKGUpJiYhaShlLG8pJiZsKGUpLGV9LHA9dC5leHBvcnRzPXtLRVk6byxORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6X319LHsiLi9fZmFpbHMiOjQzLCIuL19oYXMiOjQ2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZHAiOjY2LCIuL191aWQiOjk0fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX3Rhc2siKS5zZXQsaT1vLk11dGF0aW9uT2JzZXJ2ZXJ8fG8uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW8ucHJvY2VzcyxjPW8uUHJvbWlzZSxhPSJwcm9jZXNzIj09ZSgiLi9fY29mIikocyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLHU9ZnVuY3Rpb24oKXt2YXIgbyxuO2ZvcihhJiYobz1zLmRvbWFpbikmJm8uZXhpdCgpO2U7KXtuPWUuZm4sZT1lLm5leHQ7dHJ5e24oKX1jYXRjaChpKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxpfX10PXZvaWQgMCxvJiZvLmVudGVyKCl9O2lmKGEpcj1mdW5jdGlvbigpe3MubmV4dFRpY2sodSl9O2Vsc2UgaWYoaSl7dmFyIGw9ITAsZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkodSkub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2YuZGF0YT1sPSFsfX1lbHNlIGlmKGMmJmMucmVzb2x2ZSl7dmFyIGQ9Yy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2QudGhlbih1KX19ZWxzZSByPWZ1bmN0aW9uKCl7bi5jYWxsKG8sdSl9O3JldHVybiBmdW5jdGlvbihvKXt2YXIgbj17Zm46byxuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1uKSxlfHwoZT1uLHIoKSksdD1ufX19LHsiLi9fY29mIjozNCwiLi9fZ2xvYmFsIjo0NSwiLi9fdGFzayI6ODd9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWRwcyIpLGk9ZSgiLi9fZW51bS1idWcta2V5cyIpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9ZnVuY3Rpb24oKXt9LGE9InByb3RvdHlwZSIsdT1mdW5jdGlvbigpe3ZhciB0LHI9ZSgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxvPWkubGVuZ3RoLG49Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLHQ9ci5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbiksdC5jbG9zZSgpLHU9dC5GO28tLTspZGVsZXRlIHVbYV1baVtvXV07cmV0dXJuIHUoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhjW2FdPW8oZSkscj1uZXcgYyxjW2FdPW51bGwscltzXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6bihyLHQpfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kb20tY3JlYXRlIjozOSwiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX2h0bWwiOjQ4LCIuL19vYmplY3QtZHBzIjo2NywiLi9fc2hhcmVkLWtleSI6ODN9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobyhlKSx0PWkodCwhMCksbyhyKSxuKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goYyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL190by1wcmltaXRpdmUiOjkzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWtleXMiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe24oZSk7Zm9yKHZhciByLHM9aSh0KSxjPXMubGVuZ3RoLGE9MDtjPmE7KW8uZihlLHI9c1thKytdLHRbcl0pO3JldHVybiBlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1rZXlzIjo3NH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LXBpZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fdG8taW9iamVjdCIpLHM9ZSgiLi9fdG8tcHJpbWl0aXZlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2llOC1kb20tZGVmaW5lIiksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPWkoZSksdD1zKHQsITApLGEpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2gocil7fWlmKGMoZSx0KSlyZXR1cm4gbighby5mLmNhbGwoZSx0KSxlW3RdKX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWlvYmplY3QiKSxuPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpuKG8oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbyhlLG4pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9bihlKSxvKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19oYXMiKSxuPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9bihlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm8oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbyhjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG49ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG4uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxvKG8uUytvLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHQpciYmZVtuXT9lW25dPXRbbl06byhlLG4sdFtuXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKSxuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLCFvKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG8pe3RyeXtvPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxvKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG4pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6byhlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBuW2VdP25bZV06b1tlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKS5mLG49ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFuKGU9cj9lOmUucHJvdG90eXBlLGkpJiZvKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fc2hhcmVkIikoImtleXMiKSxuPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09bihlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49Il9fY29yZS1qc19zaGFyZWRfXyIsaT1vW25dfHwob1tuXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpLG49ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW8oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9byhzKVtpXSk/dDpuKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG4odCkpLGE9byhyKSx1PWMubGVuZ3RoO3JldHVybiBhPDB8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLGk8NTUyOTZ8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvLG4saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLF89bC5jbGVhckltbWVkaWF0ZSxwPWwuTWVzc2FnZUNoYW5uZWwsYj0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxqPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZffHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK2JdPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxvKGIpLGJ9LF89ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bz1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06cD8obj1uZXcgcCxpPW4ucG9ydDIsbi5wb3J0MS5vbm1lc3NhZ2U9aixvPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obz1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixqLCExKSk6bz15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpffX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9byhlKSxlPDA/bihlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG89TWF0aC5jZWlsLG49TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOm8pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faW9iamVjdCIpLG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9uKG8oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiBlO3ZhciByLG47aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFvKG49ci5jYWxsKGUpKSlyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG89MCxuPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbytuKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLlN5bWJvbHx8KG4uU3ltYm9sPWk/e306by5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxuPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPXMmJmlbZV18fChzP2k6bikoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1vfSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NsYXNzb2YiKSxuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbbl18fGVbIkBAaXRlcmF0b3IiXXx8aVtvKGUpXX19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbj1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG4oMSkpOiJrZXlzIj09dD9uKDAscik6InZhbHVlcyI9PXQ/bigwLGVbcl0pOm4oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG8oImtleXMiKSxvKCJ2YWx1ZXMiKSxvKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2V4cG9ydCIpO28oby5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUytvLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obyhlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbyxuLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLF89ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLGI9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsaj1jLlR5cGVFcnJvcixtPWMucHJvY2VzcyxnPWNbdl0sbT1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUobSksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG8pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWYoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG4oZSl9LFM9bj1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG8pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgaigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1vfSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sUj1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFQ9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG89ZS5fdixuPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW4/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhufHwoMj09ZS5faCYmQShlKSxlLl9oPTEpLHM9PT0hMD9yPW86KHUmJnUuZW50ZXIoKSxyPXMobyksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShqKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShvKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbyxuPWUuX3Y7aWYoUChlKSYmKHQ9UihmdW5jdGlvbigpe3c/bS5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG4sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpufSk6KG89Yy5jb25zb2xlKSYmby5lcnJvciYmby5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixuKX0pLGUuX2g9d3x8UChlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxQPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxvPTA7ci5sZW5ndGg+bzspaWYodD1yW28rK10sdC5mYWlsfHwhUCh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxBPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9tLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksVCh0LCEwKSl9LE49ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgaigiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG89e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKE4sbywxKSxhKEQsbywxKSl9Y2F0Y2gobil7RC5jYWxsKG8sbil9fSk6KHIuX3Y9ZSxyLl9zPTEsVChyLCExKSl9Y2F0Y2gobyl7RC5jYWxsKHtfdzpyLF9kOiExfSxvKX19fTtrfHwoZz1mdW5jdGlvbihlKXtfKHRoaXMsZyx2LCJfaCIpLGQoZSksby5jYWxsKHRoaXMpO3RyeXtlKGEoTix0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG89ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sby5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKGIodGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPXc/bS5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksUz1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1hKE4sZSwxKSx0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLAp0LnByb21pc2V9fSksbChsLlMrbC5GKihzfHwhayksdix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZyYmeChlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PUUodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7Zy5hbGwoZSlbImNhdGNoIl0oTyl9KSksdix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG89ci5yZXNvbHZlLG49ci5yZWplY3QsaT1SKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLHM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIGM9aSsrLGE9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2F8fChhPSEwLHJbY109ZSwtLXN8fG8ocikpfSxuKX0pLC0tc3x8byhyKX0pO3JldHVybiBpJiZuKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVqZWN0LG49UihmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbyl9KX0pO3JldHVybiBuJiZvKG4uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4taW5zdGFuY2UiOjMwLCIuL19hbi1vYmplY3QiOjMxLCIuL19jbGFzc29mIjozMywiLi9fY29yZSI6MzUsIi4vX2N0eCI6MzYsIi4vX2V4cG9ydCI6NDIsIi4vX2Zvci1vZiI6NDQsIi4vX2dsb2JhbCI6NDUsIi4vX2lzLW9iamVjdCI6NTQsIi4vX2l0ZXItZGV0ZWN0Ijo1OCwiLi9fbGlicmFyeSI6NjIsIi4vX21pY3JvdGFzayI6NjQsIi4vX3JlZGVmaW5lLWFsbCI6NzgsIi4vX3NldC1wcm90byI6ODAsIi4vX3NldC1zcGVjaWVzIjo4MSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo4NSwiLi9fdGFzayI6ODcsIi4vX3drcyI6OTd9XSwxMDg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fc3RyaW5nLWF0IikoITApO2UoIi4vX2l0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW8odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuL19pdGVyLWRlZmluZSI6NTcsIi4vX3N0cmluZy1hdCI6ODZ9XSwxMDk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19oYXMiKSxpPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL19leHBvcnQiKSxjPWUoIi4vX3JlZGVmaW5lIiksYT1lKCIuL19tZXRhIikuS0VZLHU9ZSgiLi9fZmFpbHMiKSxsPWUoIi4vX3NoYXJlZCIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxkPWUoIi4vX3VpZCIpLF89ZSgiLi9fd2tzIikscD1lKCIuL193a3MtZXh0IiksYj1lKCIuL193a3MtZGVmaW5lIiksaD1lKCIuL19rZXlvZiIpLHk9ZSgiLi9fZW51bS1rZXlzIiksdj1lKCIuL19pcy1hcnJheSIpLGo9ZSgiLi9fYW4tb2JqZWN0IiksbT1lKCIuL190by1pb2JqZWN0IiksZz1lKCIuL190by1wcmltaXRpdmUiKSx3PWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxPPWUoIi4vX29iamVjdC1jcmVhdGUiKSxrPWUoIi4vX29iamVjdC1nb3BuLWV4dCIpLHg9ZSgiLi9fb2JqZWN0LWdvcGQiKSxDPWUoIi4vX29iamVjdC1kcCIpLEU9ZSgiLi9fb2JqZWN0LWtleXMiKSxTPXguZixSPUMuZixUPWsuZixNPW8uU3ltYm9sLFA9by5KU09OLEE9UCYmUC5zdHJpbmdpZnksRD0icHJvdG90eXBlIixOPV8oIl9oaWRkZW4iKSxMPV8oInRvUHJpbWl0aXZlIiksRj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxJPWwoInN5bWJvbC1yZWdpc3RyeSIpLFU9bCgic3ltYm9scyIpLHo9bCgib3Atc3ltYm9scyIpLEg9T2JqZWN0W0RdLFY9ImZ1bmN0aW9uIj09dHlwZW9mIE0sQj1vLlFPYmplY3QsSj0hQnx8IUJbRF18fCFCW0RdLmZpbmRDaGlsZCxXPWkmJnUoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TyhSKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFIodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPVMoSCx0KTtvJiZkZWxldGUgSFt0XSxSKGUsdCxyKSxvJiZlIT09SCYmUihILHQsbyl9OlIsWT1mdW5jdGlvbihlKXt2YXIgdD1VW2VdPU8oTVtEXSk7cmV0dXJuIHQuX2s9ZSx0fSxxPVYmJiJzeW1ib2wiPT10eXBlb2YgTS5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTX0sSz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZLKHosdCxyKSxqKGUpLHQ9Zyh0LCEwKSxqKHIpLG4oVSx0KT8oci5lbnVtZXJhYmxlPyhuKGUsTikmJmVbTl1bdF0mJihlW05dW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihuKGUsTil8fFIoZSxOLHcoMSx7fSkpLGVbTl1bdF09ITApLFcoZSx0LHIpKTpSKGUsdCxyKX0sRz1mdW5jdGlvbihlLHQpe2ooZSk7Zm9yKHZhciByLG89eSh0PW0odCkpLG49MCxpPW8ubGVuZ3RoO2k+bjspSyhlLHI9b1tuKytdLHRbcl0pO3JldHVybiBlfSxaPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpHKE8oZSksdCl9LFg9ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZuKFUsZSkmJiFuKHosZSkpJiYoISh0fHwhbih0aGlzLGUpfHwhbihVLGUpfHxuKHRoaXMsTikmJnRoaXNbTl1bZV0pfHx0KX0sJD1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PWcodCwhMCksZSE9PUh8fCFuKFUsdCl8fG4oeix0KSl7dmFyIHI9UyhlLHQpO3JldHVybiFyfHwhbihVLHQpfHxuKGUsTikmJmVbTl1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSxRPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPVQobShlKSksbz1bXSxpPTA7ci5sZW5ndGg+aTspbihVLHQ9cltpKytdKXx8dD09Tnx8dD09YXx8by5wdXNoKHQpO3JldHVybiBvfSxlZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09SCxvPVQocj96Om0oZSkpLGk9W10scz0wO28ubGVuZ3RoPnM7KSFuKFUsdD1vW3MrK10pfHxyJiYhbihILHQpfHxpLnB1c2goVVt0XSk7cmV0dXJuIGl9O1Z8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09SCYmdC5jYWxsKHosciksbih0aGlzLE4pJiZuKHRoaXNbTl0sZSkmJih0aGlzW05dW2VdPSExKSxXKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmSiYmVyhILGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyhILCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkscC5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKF8oZSkpfSkscyhzLkcrcy5XK3MuRiohVix7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKF8uc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOyliKHRlW3JlKytdKTtzKHMuUytzLkYqIVYsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBuKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtKPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtKPSExfX0pLHMocy5TK3MuRiohViwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLFAmJnMocy5TK3MuRiooIVZ8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPUEoW2VdKXx8Int9IiE9QSh7YTplfSl8fCJ7fSIhPUEoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbz1bZV0sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspby5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gdD1vWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZihyJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhcSh0KSlyZXR1cm4gdH0pLG9bMV09dCxBLmFwcGx5KFAsbyl9fX0pLE1bRF1bTF18fGUoIi4vX2hpZGUiKShNW0RdLEwsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYoby5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wO2E8NTthKyspe3ZhciB1PWNbYV0sbD1vW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm4oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixvKXsidXNlIHN0cmljdCI7dmFyIG4saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbyl9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89cnx8MDtvPGUubGVuZ3RoO28rKylpZihlW29dPT09dClyZXR1cm4gbztyZXR1cm4tMX0sdT1yLk1hcCE9PW8mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG8pe3ZhciBuPWEoZSxyKTtuPT09LTE/KGUucHVzaChyKSx0LnB1c2gobyksdGhpcy5zaXplKyspOnRbbl09b30sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG89YShlLHIpO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtvXSxlW29dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBvPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO28ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBuLGk9MDtpPG8ubGVuZ3RoOykobj1hKHIsb1tpKytdKSk+LTEmJnIuc3BsaWNlKG4sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixvLG49W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZuLnB1c2gocik7ZWxzZXtvPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdClvLmNhbGwodCxyKSYmbi5wdXNoKHIpfXJldHVybiBjKHQpJiZuLnB1c2goImxlbmd0aCIpLG59LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXz1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCkscD1mdW5jdGlvbihlLHQscil7dmFyIG89bi5nZXQoZSk7bz8oaChvLGUpLG0oZSxvLHQscikpOihvPWIoZSksbShlLG8sdCxyKSwxPT09bi5zaXplJiZfKHkpKX0sYj1mdW5jdGlvbih0LHIpe3ZhciBvLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOiEhZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KSxleHRlbnNpYmxlOiFlLmlzRXh0ZW5zaWJsZXx8ZS5pc0V4dGVuc2libGUodCkscHJvdG86ZiYmZih0KSxwcm9wZXJ0aWVzOmksdmFsdWVzOnMsbm90aWZpZXI6aih0LHIpfTtpZihkKWZvcihvPXIuZGVzY3JpcHRvcnM9W107YzxpLmxlbmd0aDspb1tjXT1kKHQsaVtjXSksc1tjXT10W2lbYysrXV07ZWxzZSBmb3IoO2M8aS5sZW5ndGg7KXNbY109dFtpW2MrK11dO3JldHVybiBuLnNldCh0LHIpLHJ9LGg9ZnVuY3Rpb24oKXt2YXIgdD1kP2Z1bmN0aW9uKGUsdCxyLG8sbil7dmFyIGk9dC5wcm9wZXJ0aWVzW3JdLHM9ZVtpXSxjPXQudmFsdWVzW3JdLGE9dC5kZXNjcmlwdG9yc1tyXTsidmFsdWUiaW4gbiYmKGM9PT1zPzA9PT1jJiYxL2MhPT0xL3M6Yz09PWN8fHM9PT1zKSYmKGcoZSx0LHtuYW1lOmksdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxvKSx0LnZhbHVlc1tyXT1zKSwhYS5jb25maWd1cmFibGV8fG4uY29uZmlndXJhYmxlJiZuLndyaXRhYmxlPT09YS53cml0YWJsZSYmbi5lbnVtZXJhYmxlPT09YS5lbnVtZXJhYmxlJiZuLmdldD09PWEuZ2V0JiZuLnNldD09PWEuc2V0fHwoZyhlLHQse25hbWU6aSx0eXBlOiJyZWNvbmZpZ3VyZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC5kZXNjcmlwdG9yc1tyXT1uKX06ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49dC5wcm9wZXJ0aWVzW3JdLGk9ZVtuXSxzPXQudmFsdWVzW3JdOyhzPT09aT8wPT09cyYmMS9zIT09MS9pOnM9PT1zfHxpPT09aSkmJihnKGUsdCx7bmFtZTpuLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6c30sbyksdC52YWx1ZXNbcl09aSl9LHI9ZD9mdW5jdGlvbihlLHIsbyxuLGkpe2Zvcih2YXIgcyxjPXIubGVuZ3RoO28mJmMtLTspbnVsbCE9PXJbY10mJihzPWQoZSxyW2NdKSxvLS0scz90KGUsbixjLGkscyk6KGcoZSxuLHtuYW1lOnJbY10sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpuLnZhbHVlc1tjXX0saSksbi5wcm9wZXJ0aWVzLnNwbGljZShjLDEpLG4udmFsdWVzLnNwbGljZShjLDEpLG4uZGVzY3JpcHRvcnMuc3BsaWNlKGMsMSkpKX06ZnVuY3Rpb24oZSx0LHIsbyxuKXtmb3IodmFyIGk9dC5sZW5ndGg7ciYmaS0tOyludWxsIT09dFtpXSYmKGcoZSxvLHtuYW1lOnRbaV0sdHlwZToiZGVsZXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpvLnZhbHVlc1tpXX0sbiksby5wcm9wZXJ0aWVzLnNwbGljZShpLDEpLG8udmFsdWVzLnNwbGljZShpLDEpLHItLSl9O3JldHVybiBmdW5jdGlvbihvLG4saSl7aWYoby5oYW5kbGVycy5zaXplJiYhby5mcm96ZW4pe3ZhciBzLGMsdSxfLHAsYixoLHksdj1vLnZhbHVlcyxqPW8uZGVzY3JpcHRvcnMsbT0wO2lmKG8uZXh0ZW5zaWJsZSlpZihzPW8ucHJvcGVydGllcy5zbGljZSgpLGM9cy5sZW5ndGgsdT1sKG4pLGope2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCkseT1kKG4scCksXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChuW3BdKSxqLnB1c2goeSkpOihzW19dPW51bGwsYy0tLHQobixvLF8saSx5KSk7cihuLHMsYyxvLGkpLGUuaXNFeHRlbnNpYmxlKG4pfHwoby5leHRlbnNpYmxlPSExLGcobixvLHt0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyIsb2JqZWN0Om59LGkpLG8uZnJvemVuPWUuaXNGcm96ZW4obikpfWVsc2V7Zm9yKDttPHUubGVuZ3RoOylwPXVbbSsrXSxfPWEocyxwKSxiPW5bcF0sXz09PS0xPyhnKG4sbyx7bmFtZTpwLHR5cGU6ImFkZCIsb2JqZWN0Om59LGkpLG8ucHJvcGVydGllcy5wdXNoKHApLHYucHVzaChiKSk6KHNbX109bnVsbCxjLS0sdChuLG8sXyxpKSk7cihuLHMsYyxvLGkpfWVsc2UgaWYoIW8uZnJvemVuKXtmb3IoO208cy5sZW5ndGg7bSsrKXA9c1ttXSx0KG4sbyxtLGksZChuLHApKTtlLmlzRnJvemVuKG4pJiYoby5mcm96ZW49ITApfWYmJihoPWYobiksaCE9PW8ucHJvdG8mJihnKG4sbyx7dHlwZToic2V0UHJvdG90eXBlIixuYW1lOiJfX3Byb3RvX18iLG9iamVjdDpuLG9sZFZhbHVlOm8ucHJvdG99KSxvLnByb3RvPWgpKX19fSgpLHk9ZnVuY3Rpb24oKXtuLnNpemUmJihuLmZvckVhY2goaCksaS5mb3JFYWNoKHYpLF8oeSkpfSx2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFuZ2VSZWNvcmRzO3IubGVuZ3RoJiYoZS5jaGFuZ2VSZWNvcmRzPVtdLHQocikpfSxqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9bi5nZXQoZSkpLHQmJnQubm90aWZpZXJ8fHtub3RpZnk6ZnVuY3Rpb24odCl7dC50eXBlO3ZhciByPW4uZ2V0KGUpO2lmKHIpe3ZhciBvLGk9e29iamVjdDplfTtmb3IobyBpbiB0KSJvYmplY3QiIT09byYmKGlbb109dFtvXSk7ZyhlLHIsaSl9fSxwZXJmb3JtQ2hhbmdlOmZ1bmN0aW9uKHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbm9uLXN0cmluZyBjaGFuZ2VUeXBlIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHBlcmZvcm0gbm9uLWZ1bmN0aW9uIik7dmFyIGkscyxjPW4uZ2V0KGUpLGE9YXJndW1lbnRzWzJdLHU9YT09PW8/cigpOnIuY2FsbChhKTtpZihjJiZoKGMsZSx0KSxjJiZ1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3M9e29iamVjdDplLHR5cGU6dH07Zm9yKGkgaW4gdSkib2JqZWN0IiE9PWkmJiJ0eXBlIiE9PWkmJihzW2ldPXVbaV0pO2coZSxjLHMpfX19fSxtPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPWkuZ2V0KHIpO258fGkuc2V0KHIsbj17b2JzZXJ2ZWQ6dSgpLGNoYW5nZVJlY29yZHM6W119KSxuLm9ic2VydmVkLnNldChlLHthY2NlcHRMaXN0Om8uc2xpY2UoKSxkYXRhOnR9KSx0LmhhbmRsZXJzLnNldChyLG4pfSxnPWZ1bmN0aW9uKGUsdCxyLG8pe3QuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10Lm9ic2VydmVkLmdldChlKS5hY2NlcHRMaXN0Oygic3RyaW5nIiE9dHlwZW9mIG98fGEobixvKT09PS0xKSYmYShuLHIudHlwZSk+LTEmJnQuY2hhbmdlUmVjb3Jkcy5wdXNoKHIpfSl9O249dSgpLGk9dSgpLGUub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbil7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IG9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO2lmKGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gYSBmcm96ZW4gZnVuY3Rpb24gb2JqZWN0Iik7aWYobj09PW8pbj1zO2Vsc2UgaWYoIW58fCJvYmplY3QiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGlyZCBhcmd1bWVudCB0byBPYmplY3Qub2JzZXJ2ZSBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIik7cmV0dXJuIHAodCxyLG4pLHR9LGUudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgdW5vYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciByLG89aS5nZXQodCk7cmV0dXJuIG8mJihyPW8ub2JzZXJ2ZWQuZ2V0KGUpKSYmKG8ub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksXyhmdW5jdGlvbigpe3Yobyx0KX0pLDE9PT1vLm9ic2VydmVkLnNpemUmJm8ub2JzZXJ2ZWQuaGFzKGUpP2lbImRlbGV0ZSJdKHQpOm8ub2JzZXJ2ZWRbImRlbGV0ZSJdKGUpLDE9PT1yLmRhdGEuaGFuZGxlcnMuc2l6ZT9uWyJkZWxldGUiXShlKTpyLmRhdGEuaGFuZGxlcnNbImRlbGV0ZSJdKHQpKSxlfSxlLmdldE5vdGlmaWVyPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5nZXROb3RpZmllciBjYW5ub3QgZ2V0Tm90aWZpZXIgbm9uLW9iamVjdCIpO3JldHVybiBlLmlzRnJvemVuJiZlLmlzRnJvemVuKHQpP251bGw6aih0KX0sZS5kZWxpdmVyQ2hhbmdlUmVjb3Jkcz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHQ9aS5nZXQoZSk7dCYmKHQub2JzZXJ2ZWQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2goZS5kYXRhLHQpfSksdih0LGUpKX19KE9iamVjdCxBcnJheSx0aGlzKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLkRhdGFPYmplY3RPYnNlcnZlcj1yLkRhdGFPYmplY3RSZXBvcnRlcj1yLlN5bmNoZXI9dm9pZCAwLGUoIm9iamVjdC5vYnNlcnZlIiksZSgiYXJyYXkub2JzZXJ2ZSIpO3ZhciBuPWUoIi4vc3luY2hlci9TeW5jaGVyIiksaT1vKG4pLHM9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciIpLGM9byhzKSxhPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSx1PW8oYSk7ci5TeW5jaGVyPWlbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RSZXBvcnRlcj1jWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0T2JzZXJ2ZXI9dVsiZGVmYXVsdCJdfSx7Ii4vc3luY2hlci9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExNywiLi9zeW5jaGVyL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL3N5bmNoZXIvU3luY2hlciI6MTIxLCJhcnJheS5vYnNlcnZlIjoxLCJvYmplY3Qub2JzZXJ2ZSI6MTEzfV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1vKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1vKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IiksXz1vKGQpLHA9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxiPW8ocCksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW8sYy5fc3RhdHVzPW4sYy5fc3luY09iaj1uZXcgX1siZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIG49citvLGk9dC5fYnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBvPXIuX293bmVyKyIjIityLl9jaGlsZElkLG49ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpuLGJvZHk6e3Jlc291cmNlOm8sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgYlsiZGVmYXVsdCJdKHIsbyx0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpuLGNoaWxkSWQ6b30pfSksci5fY2hpbGRyZW5PYmplY3RzW29dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBvPW5ldyBiWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW8sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbj17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixuKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihuKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG89e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYoby5ib2R5LnZhbHVlPWUuZGF0YSk6KG8uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsby5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG8uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihvLnRvPXQucGF0aCxvLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobyl9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG89dC5ib2R5LmF0dHJpYnV0ZSxuPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG8pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG4pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG4pfWVsc2UgaS5vYmpbaS5sYXN0XT1uO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bjpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxvPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtvP3QuX2NoYW5nZU9iamVjdChvLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNiwiLi9TeW5jT2JqZWN0IjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1vKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1vKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvLG4scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW4sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obyksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1vKG0pLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbz17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG49ZS5pbmRleE9mKCIqIik7bj09PWUubGVuZ3RoLTEmJigwPT09bj9vLnR5cGU9dy5BTlk6KG8udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09b319LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fZmlsdGVyc1tyXTtvLnR5cGU9PT13LkFOWT9vLmNhbGxiYWNrKGUpOm8udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmby5jYWxsYmFjayhlKTpvLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmby5jYWxsYmFjayhlKX0pfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTUsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiksXz1vKGQpLHA9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLGI9byhwKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9byhoKSx2PWUoIi4vRGF0YU9iamVjdCIpLGo9byh2KSxtPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLG4saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAsX1siZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixvLG4saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbz17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bzt2YXIgbj17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtuW2VdPSgwLG0uZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6bn19fSksb30scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG89dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbj17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6b307dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixuKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobikpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLG0uZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShqWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiLi9EYXRhT2JqZWN0IjoxMTUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1vLHMuX2NoaWxkcmVuPW4scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgbiBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W25dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG4pLHRbbl0pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbyk7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgXyh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG8gaW4gdCl7dmFyIG49dFtvXS5vYmplY3QsaT12b2lkIDA7aWYobi5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Yi5PQkpFQ1QpLG4uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Yi5BUlJBWSksInNwbGljZSI9PT10W29dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtvXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtvXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtvXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG8pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK28pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtvXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgYj1uLnNsaWNlKHMscytkKTtiLmZvckVhY2goZnVuY3Rpb24odCxvKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWVbIm5ldyJdKG5ldyBfKHQscytvKSk7ci5faW50ZXJuYWxPYnNlcnZlKG4sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpwLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoYil9KX1zIT09bi5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShuKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbb10ubmFtZSksYz1zLnRvU3RyaW5nKCk7aWYoYy5pbmRleE9mKCJTeW1ib2wiKSE9PS0xKWNvbnRpbnVlO3ZhciBhPW5bdFtvXS5uYW1lXTsidXBkYXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbb10udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtvXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89dC5fb2JzZXJ2YWJsZXNbcl0sbj1lLmluZGV4T2Yoby5vYmopO28uaWR4IT1uJiYoby5pZHg9bixkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbbl09byl9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09XyYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLHA9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sYj1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIyLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW8oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9byhsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIiksXz1vKGQpLHA9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxiPW8ocCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbj10aGlzO24uX293bmVyPXQsbi5fYnVzPXIsbi5fc3ViVVJMPW8ucnVudGltZVVSTCsiL3NtIixuLl9yZXBvcnRlcnM9e30sbi5fb2JzZXJ2ZXJzPXt9LG4uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpuLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm4uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpuLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXM7ci5yZXBvcnRlcj1vLl9vd25lcixyLnNjaGVtYT1lO3ZhciBuPXt0eXBlOiJjcmVhdGUiLGZyb206by5fb3duZXIsdG86by5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe28uX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBzPW4uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obyxzLGUsIm9uIixyLG4uYm9keS5jaGlsZHJlblJlc291cmNlcyk7by5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG89e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG4saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKXM9bmV3IGJbImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09by5ib2R5LmNvZGUpe3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocix0LGUsIm9uIixvLmJvZHkudmFsdWUscy5jaGlsZHJlbixvLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbihjKSxzLmFwcGx5KGMpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbyl7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7CmNvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpvKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxvPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm99fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbz10Ll9vYnNlcnZlcnNbcl07aWYobyl7dmFyIG49e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLDIwMD09PW4mJm9bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTgsIi4vRGF0YVByb3Zpc2lvbmFsIjoxMTksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbihlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixvPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7b1swXT09PWUmJihvWzBdPSJodHRwcyIsb1sxXT1lKTt2YXIgbj17dHlwZTpvWzBdLGRvbWFpbjpvWzFdLGlkZW50aXR5Om9bMl19O3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9bihlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9bihlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1vKGYpLF89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIikscD1vKF8pO3IuZGl2aWRlVVJMPW4sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTRdKSgxMTQpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBJUHY2IFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5JUHY2ID0gZmFjdG9yeShyb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHJvb3QpIHsKICAndXNlIHN0cmljdCc7CgogIC8qCiAgdmFyIF9pbiA9ICJmZTgwOjAwMDA6MDAwMDowMDAwOjAyMDQ6NjFmZjpmZTlkOmYxNTYiOwogIHZhciBfb3V0ID0gSVB2Ni5iZXN0KF9pbik7CiAgdmFyIF9leHBlY3RlZCA9ICJmZTgwOjoyMDQ6NjFmZjpmZTlkOmYxNTYiOwoKICBjb25zb2xlLmxvZyhfaW4sIF9vdXQsIF9leHBlY3RlZCwgX291dCA9PT0gX2V4cGVjdGVkKTsKICAqLwoKICAvLyBzYXZlIGN1cnJlbnQgSVB2NiB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9JUHY2ID0gcm9vdCAmJiByb290LklQdjY7CgogIGZ1bmN0aW9uIGJlc3RQcmVzZW50YXRpb24oYWRkcmVzcykgewogICAgLy8gYmFzZWQgb246CiAgICAvLyBKYXZhc2NyaXB0IHRvIHRlc3QgYW4gSVB2NiBhZGRyZXNzIGZvciBwcm9wZXIgZm9ybWF0LCBhbmQgdG8KICAgIC8vIHByZXNlbnQgdGhlICJiZXN0IHRleHQgcmVwcmVzZW50YXRpb24iIGFjY29yZGluZyB0byBJRVRGIERyYWZ0IFJGQyBhdAogICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNAogICAgLy8gOCBGZWIgMjAxMCBSaWNoIEJyb3duLCBEYXJ0d2FyZSwgTExDCiAgICAvLyBQbGVhc2UgZmVlbCBmcmVlIHRvIHVzZSB0aGlzIGNvZGUgYXMgbG9uZyBhcyB5b3UgcHJvdmlkZSBhIGxpbmsgdG8KICAgIC8vIGh0dHA6Ly93d3cuaW50ZXJtYXBwZXIuY29tCiAgICAvLyBodHRwOi8vaW50ZXJtYXBwZXIuY29tL3N1cHBvcnQvdG9vbHMvSVBWNi1WYWxpZGF0b3IuYXNweAogICAgLy8gaHR0cDovL2Rvd25sb2FkLmRhcnR3YXJlLmNvbS90aGlyZHBhcnR5L2lwdjZ2YWxpZGF0b3IuanMKCiAgICB2YXIgX2FkZHJlc3MgPSBhZGRyZXNzLnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgc2VnbWVudHMgPSBfYWRkcmVzcy5zcGxpdCgnOicpOwogICAgdmFyIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKICAgIHZhciB0b3RhbCA9IDg7CgogICAgLy8gdHJpbSBjb2xvbnMgKDo6IG9yIDo6YTpiOmPigKYgb3Ig4oCmYTpiOmM6OikKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnICYmIHNlZ21lbnRzWzJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiA6OgogICAgICAvLyByZW1vdmUgZmlyc3QgdHdvIGl0ZW1zCiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9IGVsc2UgaWYgKHNlZ21lbnRzWzBdID09PSAnJyAmJiBzZWdtZW50c1sxXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjp4eHh4CiAgICAgIC8vIHJlbW92ZSB0aGUgZmlyc3QgaXRlbQogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXSA9PT0gJycgJiYgc2VnbWVudHNbbGVuZ3RoIC0gMl0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIHh4eHg6OgogICAgICBzZWdtZW50cy5wb3AoKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYWRqdXN0IHRvdGFsIHNlZ21lbnRzIGZvciBJUHY0IHRyYWlsZXIKICAgIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXS5pbmRleE9mKCcuJykgIT09IC0xKSB7CiAgICAgIC8vIGZvdW5kIGEgIi4iIHdoaWNoIG1lYW5zIElQdjQKICAgICAgdG90YWwgPSA3OwogICAgfQoKICAgIC8vIGZpbGwgZW1wdHkgc2VnbWVudHMgdGhlbSB3aXRoICIwMDAwIgogICAgdmFyIHBvczsKICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAoc2VnbWVudHNbcG9zXSA9PT0gJycpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3MgPCB0b3RhbCkgewogICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAxLCAnMDAwMCcpOwogICAgICB3aGlsZSAoc2VnbWVudHMubGVuZ3RoIDwgdG90YWwpIHsKICAgICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAwLCAnMDAwMCcpOwogICAgICB9CiAgICB9CgogICAgLy8gc3RyaXAgbGVhZGluZyB6ZXJvcwogICAgdmFyIF9zZWdtZW50czsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBfc2VnbWVudHMgPSBzZWdtZW50c1tpXS5zcGxpdCgnJyk7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMyA7IGorKykgewogICAgICAgIGlmIChfc2VnbWVudHNbMF0gPT09ICcwJyAmJiBfc2VnbWVudHMubGVuZ3RoID4gMSkgewogICAgICAgICAgX3NlZ21lbnRzLnNwbGljZSgwLDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNlZ21lbnRzW2ldID0gX3NlZ21lbnRzLmpvaW4oJycpOwogICAgfQoKICAgIC8vIGZpbmQgbG9uZ2VzdCBzZXF1ZW5jZSBvZiB6ZXJvZXMgYW5kIGNvYWxlc2NlIHRoZW0gaW50byBvbmUgc2VnbWVudAogICAgdmFyIGJlc3QgPSAtMTsKICAgIHZhciBfYmVzdCA9IDA7CiAgICB2YXIgX2N1cnJlbnQgPSAwOwogICAgdmFyIGN1cnJlbnQgPSAtMTsKICAgIHZhciBpbnplcm9lcyA9IGZhbHNlOwogICAgLy8gaTsgYWxyZWFkeSBkZWNsYXJlZAoKICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7CiAgICAgIGlmIChpbnplcm9lcykgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBfY3VycmVudCArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbnplcm9lcyA9IGZhbHNlOwogICAgICAgICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgICAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBpbnplcm9lcyA9IHRydWU7CiAgICAgICAgICBjdXJyZW50ID0gaTsKICAgICAgICAgIF9jdXJyZW50ID0gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoX2N1cnJlbnQgPiBfYmVzdCkgewogICAgICBiZXN0ID0gY3VycmVudDsKICAgICAgX2Jlc3QgPSBfY3VycmVudDsKICAgIH0KCiAgICBpZiAoX2Jlc3QgPiAxKSB7CiAgICAgIHNlZ21lbnRzLnNwbGljZShiZXN0LCBfYmVzdCwgJycpOwogICAgfQoKICAgIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKCiAgICAvLyBhc3NlbWJsZSByZW1haW5pbmcgc2VnbWVudHMKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycpICB7CiAgICAgIHJlc3VsdCA9ICc6JzsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0ICs9IHNlZ21lbnRzW2ldOwogICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXN1bHQgKz0gJzonOwogICAgfQoKICAgIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXSA9PT0gJycpIHsKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHsKICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqLwogICAgaWYgKHJvb3QuSVB2NiA9PT0gdGhpcykgewogICAgICByb290LklQdjYgPSBfSVB2NjsKICAgIH0KICAKICAgIHJldHVybiB0aGlzOwogIH0KCiAgcmV0dXJuIHsKICAgIGJlc3Q6IGJlc3RQcmVzZW50YXRpb24sCiAgICBub0NvbmZsaWN0OiBub0NvbmZsaWN0CiAgfTsKfSkpOwoKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqIFNlY29uZCBMZXZlbCBEb21haW4gKFNMRCkgU3VwcG9ydAogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwoKKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qcwogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LlNlY29uZExldmVsRG9tYWlucyA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvLyBzYXZlIGN1cnJlbnQgU2Vjb25kTGV2ZWxEb21haW5zIHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX1NlY29uZExldmVsRG9tYWlucyA9IHJvb3QgJiYgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnM7CgogIHZhciBTTEQgPSB7CiAgICAvLyBsaXN0IG9mIGtub3duIFNlY29uZCBMZXZlbCBEb21haW5zCiAgICAvLyBjb252ZXJ0ZWQgbGlzdCBvZiBTTERzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhdmluZ21pbGxlci9zZWNvbmQtbGV2ZWwtZG9tYWlucwogICAgLy8gLS0tLQogICAgLy8gcHVibGljc3VmZml4Lm9yZyBpcyBtb3JlIGN1cnJlbnQgYW5kIGFjdHVhbGx5IHVzZWQgYnkgYSBjb3VwbGUgb2YgYnJvd3NlcnMgaW50ZXJuYWxseS4KICAgIC8vIGRvd25zaWRlIGlzIGl0IGFsc28gY29udGFpbnMgZG9tYWlucyBsaWtlICJkeW5kbnMub3JnIiAtIHdoaWNoIGlzIGZpbmUgZm9yIHRoZSBzZWN1cml0eQogICAgLy8gaXNzdWVzIGJyb3dzZXIgaGF2ZSB0byBkZWFsIHdpdGggKFNPUCBmb3IgY29va2llcywgZXRjKSAtIGJ1dCBpcyB3YXkgb3ZlcmJvYXJkIGZvciBVUkkuanMKICAgIC8vIC0tLS0KICAgIGxpc3Q6IHsKICAgICAgJ2FjJzonIGNvbSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2FlJzonIGFjIGNvIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHBybyBzY2ggJywKICAgICAgJ2FmJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2FsJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhbyc6JyBjbyBlZCBndiBpdCBvZyBwYiAnLAogICAgICAnYXInOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0dXIgJywKICAgICAgJ2F0JzonIGFjIGNvIGd2IG9yICcsCiAgICAgICdhdSc6JyBhc24gY29tIGNzaXJvIGVkdSBnb3YgaWQgbmV0IG9yZyAnLAogICAgICAnYmEnOicgY28gY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgcnMgdW5iaSB1bm1vIHVuc2EgdW50eiB1bnplICcsCiAgICAgICdiYic6JyBiaXogY28gY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnIHN0b3JlIHR2ICcsCiAgICAgICdiaCc6JyBiaXogY2MgY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdibic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdibyc6JyBjb20gZWR1IGdvYiBnb3YgaW50IG1pbCBuZXQgb3JnIHR2ICcsCiAgICAgICdicic6JyBhZG0gYWR2IGFnciBhbSBhcnEgYXJ0IGF0byBiIGJpbyBibG9nIGJtZCBjaW0gY25nIGNudCBjb20gY29vcCBlY24gZWR1IGVuZyBlc3AgZXRjIGV0aSBmYXIgZmxvZyBmbSBmbmQgZm90IGZzdCBnMTIgZ2dmIGdvdiBpbWIgaW5kIGluZiBqb3IganVzIGxlbCBtYXQgbWVkIG1pbCBtdXMgbmV0IG5vbSBub3QgbnRyIG9kbyBvcmcgcHBnIHBybyBwc2MgcHNpIHFzbCByZWMgc2xnIHNydiB0bXAgdHJkIHR1ciB0diB2ZXQgdmxvZyB3aWtpIHpsZyAnLAogICAgICAnYnMnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYnonOicgZHUgZXQgb20gb3YgcmcgJywKICAgICAgJ2NhJzonIGFiIGJjIG1iIG5iIG5mIG5sIG5zIG50IG51IG9uIHBlIHFjIHNrIHlrICcsCiAgICAgICdjayc6JyBiaXogY28gZWR1IGdlbiBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdjbic6JyBhYyBhaCBiaiBjb20gY3EgZWR1IGZqIGdkIGdvdiBncyBneCBneiBoYSBoYiBoZSBoaSBobCBobiBqbCBqcyBqeCBsbiBtaWwgbmV0IG5tIG54IG9yZyBxaCBzYyBzZCBzaCBzbiBzeCB0aiB0dyB4aiB4eiB5biB6aiAnLAogICAgICAnY28nOicgY29tIGVkdSBnb3YgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICdjcic6JyBhYyBjIGNvIGVkIGZpIGdvIG9yIHNhICcsCiAgICAgICdjeSc6JyBhYyBiaXogY29tIGVrbG9nZXMgZ292IGx0ZCBuYW1lIG5ldCBvcmcgcGFybGlhbWVudCBwcmVzcyBwcm8gdG0gJywKICAgICAgJ2RvJzonIGFydCBjb20gZWR1IGdvYiBnb3YgbWlsIG5ldCBvcmcgc2xkIHdlYiAnLAogICAgICAnZHonOicgYXJ0IGFzc28gY29tIGVkdSBnb3YgbmV0IG9yZyBwb2wgJywKICAgICAgJ2VjJzonIGNvbSBlZHUgZmluIGdvdiBpbmZvIG1lZCBtaWwgbmV0IG9yZyBwcm8gJywKICAgICAgJ2VnJzonIGNvbSBlZHUgZXVuIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaSAnLAogICAgICAnZXInOicgY29tIGVkdSBnb3YgaW5kIG1pbCBuZXQgb3JnIHJvY2hlc3QgdyAnLAogICAgICAnZXMnOicgY29tIGVkdSBnb2Igbm9tIG9yZyAnLAogICAgICAnZXQnOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmFtZSBuZXQgb3JnICcsCiAgICAgICdmaic6JyBhYyBiaXogY29tIGluZm8gbWlsIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ2ZrJzonIGFjIGNvIGdvdiBuZXQgbm9tIG9yZyAnLAogICAgICAnZnInOicgYXNzbyBjb20gZiBnb3V2IG5vbSBwcmQgcHJlc3NlIHRtICcsCiAgICAgICdnZyc6JyBjbyBuZXQgb3JnICcsCiAgICAgICdnaCc6JyBjb20gZWR1IGdvdiBtaWwgb3JnICcsCiAgICAgICdnbic6JyBhYyBjb20gZ292IG5ldCBvcmcgJywKICAgICAgJ2dyJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdndCc6JyBjb20gZWR1IGdvYiBpbmQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2d1JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2hrJzonIGNvbSBlZHUgZ292IGlkdiBuZXQgb3JnICcsCiAgICAgICdodSc6JyAyMDAwIGFncmFyIGJvbHQgY2FzaW5vIGNpdHkgY28gZXJvdGljYSBlcm90aWthIGZpbG0gZm9ydW0gZ2FtZXMgaG90ZWwgaW5mbyBpbmdhdGxhbiBqb2dhc3oga29ueXZlbG8gbGFrYXMgbWVkaWEgbmV3cyBvcmcgcHJpdiByZWtsYW0gc2V4IHNob3Agc3BvcnQgc3VsaSBzemV4IHRtIHRvenNkZSB1dGF6YXMgdmlkZW8gJywKICAgICAgJ2lkJzonIGFjIGNvIGdvIG1pbCBuZXQgb3Igc2NoIHdlYiAnLAogICAgICAnaWwnOicgYWMgY28gZ292IGlkZiBrMTIgbXVuaSBuZXQgb3JnICcsCiAgICAgICdpbic6JyBhYyBjbyBlZHUgZXJuZXQgZmlybSBnZW4gZ292IGkgaW5kIG1pbCBuZXQgbmljIG9yZyByZXMgJywKICAgICAgJ2lxJzonIGNvbSBlZHUgZ292IGkgbWlsIG5ldCBvcmcgJywKICAgICAgJ2lyJzonIGFjIGNvIGRuc3NlYyBnb3YgaSBpZCBuZXQgb3JnIHNjaCAnLAogICAgICAnaXQnOicgZWR1IGdvdiAnLAogICAgICAnamUnOicgY28gbmV0IG9yZyAnLAogICAgICAnam8nOicgY29tIGVkdSBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ2pwJzonIGFjIGFkIGNvIGVkIGdvIGdyIGxnIG5lIG9yICcsCiAgICAgICdrZSc6JyBhYyBjbyBnbyBpbmZvIG1lIG1vYmkgbmUgb3Igc2MgJywKICAgICAgJ2toJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHBlciAnLAogICAgICAna2knOicgYml6IGNvbSBkZSBlZHUgZ292IGluZm8gbW9iIG5ldCBvcmcgdGVsICcsCiAgICAgICdrbSc6JyBhc3NvIGNvbSBjb29wIGVkdSBnb3V2IGsgbWVkZWNpbiBtaWwgbm9tIG5vdGFpcmVzIHBoYXJtYWNpZW5zIHByZXNzZSB0bSB2ZXRlcmluYWlyZSAnLAogICAgICAna24nOicgZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdrcic6JyBhYyBidXNhbiBjaHVuZ2J1ayBjaHVuZ25hbSBjbyBkYWVndSBkYWVqZW9uIGVzIGdhbmd3b24gZ28gZ3dhbmdqdSBneWVvbmdidWsgZ3llb25nZ2kgZ3llb25nbmFtIGhzIGluY2hlb24gamVqdSBqZW9uYnVrIGplb25uYW0gayBrZyBtaWwgbXMgbmUgb3IgcGUgcmUgc2Mgc2VvdWwgdWxzYW4gJywKICAgICAgJ2t3JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2t5JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2t6JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdsYic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdsayc6JyBhc3NuIGNvbSBlZHUgZ292IGdycCBob3RlbCBpbnQgbHRkIG5ldCBuZ28gb3JnIHNjaCBzb2Mgd2ViICcsCiAgICAgICdscic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdsdic6JyBhc24gY29tIGNvbmYgZWR1IGdvdiBpZCBtaWwgbmV0IG9yZyAnLAogICAgICAnbHknOicgY29tIGVkdSBnb3YgaWQgbWVkIG5ldCBvcmcgcGxjIHNjaCAnLAogICAgICAnbWEnOicgYWMgY28gZ292IG0gbmV0IG9yZyBwcmVzcyAnLAogICAgICAnbWMnOicgYXNzbyB0bSAnLAogICAgICAnbWUnOicgYWMgY28gZWR1IGdvdiBpdHMgbmV0IG9yZyBwcml2ICcsCiAgICAgICdtZyc6JyBjb20gZWR1IGdvdiBtaWwgbm9tIG9yZyBwcmQgdG0gJywKICAgICAgJ21rJzonIGNvbSBlZHUgZ292IGluZiBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdtbCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHByZXNzZSAnLAogICAgICAnbW4nOicgZWR1IGdvdiBvcmcgJywKICAgICAgJ21vJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ210JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ212JzonIGFlcm8gYml6IGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgbWlsIG11c2V1bSBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdtdyc6JyBhYyBjbyBjb20gY29vcCBlZHUgZ292IGludCBtdXNldW0gbmV0IG9yZyAnLAogICAgICAnbXgnOicgY29tIGVkdSBnb2IgbmV0IG9yZyAnLAogICAgICAnbXknOicgY29tIGVkdSBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ25mJzonIGFydHMgY29tIGZpcm0gaW5mbyBuZXQgb3RoZXIgcGVyIHJlYyBzdG9yZSB3ZWIgJywKICAgICAgJ25nJzonIGJpeiBjb20gZWR1IGdvdiBtaWwgbW9iaSBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduaSc6JyBhYyBjbyBjb20gZWR1IGdvYiBtaWwgbmV0IG5vbSBvcmcgJywKICAgICAgJ25wJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICducic6JyBiaXogY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdvbSc6JyBhYyBiaXogY28gY29tIGVkdSBnb3YgbWVkIG1pbCBtdXNldW0gbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdwZSc6JyBjb20gZWR1IGdvYiBtaWwgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwaCc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgbmdvIG9yZyAnLAogICAgICAncGsnOicgYml6IGNvbSBlZHUgZmFtIGdvYiBnb2sgZ29uIGdvcCBnb3MgZ292IG5ldCBvcmcgd2ViICcsCiAgICAgICdwbCc6JyBhcnQgYmlhbHlzdG9rIGJpeiBjb20gZWR1IGdkYSBnZGFuc2sgZ29yem93IGdvdiBpbmZvIGthdG93aWNlIGtyYWtvdyBsb2R6IGx1YmxpbiBtaWwgbmV0IG5nbyBvbHN6dHluIG9yZyBwb3puYW4gcHdyIHJhZG9tIHNsdXBzayBzemN6ZWNpbiB0b3J1biB3YXJzemF3YSB3YXcgd3JvYyB3cm9jbGF3IHpnb3JhICcsCiAgICAgICdwcic6JyBhYyBiaXogY29tIGVkdSBlc3QgZ292IGluZm8gaXNsYSBuYW1lIG5ldCBvcmcgcHJvIHByb2YgJywKICAgICAgJ3BzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgcGxvIHNlYyAnLAogICAgICAncHcnOicgYmVsYXUgY28gZWQgZ28gbmUgb3IgJywKICAgICAgJ3JvJzonIGFydHMgY29tIGZpcm0gaW5mbyBub20gbnQgb3JnIHJlYyBzdG9yZSB0bSB3d3cgJywKICAgICAgJ3JzJzonIGFjIGNvIGVkdSBnb3YgaW4gb3JnICcsCiAgICAgICdzYic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzYyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzaCc6JyBjbyBjb20gZWR1IGdvdiBuZXQgbm9tIG9yZyAnLAogICAgICAnc2wnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc3QnOicgY28gY29tIGNvbnN1bGFkbyBlZHUgZW1iYWl4YWRhIGdvdiBtaWwgbmV0IG9yZyBwcmluY2lwZSBzYW90b21lIHN0b3JlICcsCiAgICAgICdzdic6JyBjb20gZWR1IGdvYiBvcmcgcmVkICcsCiAgICAgICdzeic6JyBhYyBjbyBvcmcgJywKICAgICAgJ3RyJzonIGF2IGJicyBiZWwgYml6IGNvbSBkciBlZHUgZ2VuIGdvdiBpbmZvIGsxMiBuYW1lIG5ldCBvcmcgcG9sIHRlbCB0c2sgdHYgd2ViICcsCiAgICAgICd0dCc6JyBhZXJvIGJpeiBjYXQgY28gY29tIGNvb3AgZWR1IGdvdiBpbmZvIGludCBqb2JzIG1pbCBtb2JpIG11c2V1bSBuYW1lIG5ldCBvcmcgcHJvIHRlbCB0cmF2ZWwgJywKICAgICAgJ3R3JzonIGNsdWIgY29tIGViaXogZWR1IGdhbWUgZ292IGlkdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbXUnOicgYWMgY28gY29tIGdvdiBuZXQgb3Igb3JnICcsCiAgICAgICdteic6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnbmEnOicgY28gY29tICcsCiAgICAgICdueic6JyBhYyBjbyBjcmkgZ2VlayBnZW4gZ292dCBoZWFsdGggaXdpIG1hb3JpIG1pbCBuZXQgb3JnIHBhcmxpYW1lbnQgc2Nob29sICcsCiAgICAgICdwYSc6JyBhYm8gYWMgY29tIGVkdSBnb2IgaW5nIG1lZCBuZXQgbm9tIG9yZyBzbGQgJywKICAgICAgJ3B0JzonIGNvbSBlZHUgZ292IGludCBuZXQgbm9tZSBvcmcgcHVibCAnLAogICAgICAncHknOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ3FhJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdyZSc6JyBhc3NvIGNvbSBub20gJywKICAgICAgJ3J1JzonIGFjIGFkeWdleWEgYWx0YWkgYW11ciBhcmtoYW5nZWxzayBhc3RyYWtoYW4gYmFzaGtpcmlhIGJlbGdvcm9kIGJpciBicnlhbnNrIGJ1cnlhdGlhIGNiZyBjaGVsIGNoZWx5YWJpbnNrIGNoaXRhIGNodWtvdGthIGNodXZhc2hpYSBjb20gZGFnZXN0YW4gZS1idXJnIGVkdSBnb3YgZ3Jvem55IGludCBpcmt1dHNrIGl2YW5vdm8gaXpoZXZzayBqYXIgam9zaGthci1vbGEga2FsbXlraWEga2FsdWdhIGthbWNoYXRrYSBrYXJlbGlhIGthemFuIGtjaHIga2VtZXJvdm8ga2hhYmFyb3ZzayBraGFrYXNzaWEga2h2IGtpcm92IGtvZW5pZyBrb21pIGtvc3Ryb21hIGtyYW5veWFyc2sga3ViYW4ga3VyZ2FuIGt1cnNrIGxpcGV0c2sgbWFnYWRhbiBtYXJpIG1hcmktZWwgbWFyaW5lIG1pbCBtb3Jkb3ZpYSBtb3NyZWcgbXNrIG11cm1hbnNrIG5hbGNoaWsgbmV0IG5ub3Ygbm92IG5vdm9zaWJpcnNrIG5zayBvbXNrIG9yZW5idXJnIG9yZyBvcnlvbCBwZW56YSBwZXJtIHBwIHBza292IHB0eiBybmQgcnlhemFuIHNha2hhbGluIHNhbWFyYSBzYXJhdG92IHNpbWJpcnNrIHNtb2xlbnNrIHNwYiBzdGF2cm9wb2wgc3R2IHN1cmd1dCB0YW1ib3YgdGF0YXJzdGFuIHRvbSB0b21zayB0c2FyaXRzeW4gdHNrIHR1bGEgdHV2YSB0dmVyIHR5dW1lbiB1ZG0gdWRtdXJ0aWEgdWxhbi11ZGUgdmxhZGlrYXZrYXogdmxhZGltaXIgdmxhZGl2b3N0b2sgdm9sZ29ncmFkIHZvbG9nZGEgdm9yb25lemggdnJuIHZ5YXRrYSB5YWt1dGlhIHlhbWFsIHlla2F0ZXJpbmJ1cmcgeXV6aG5vLXNha2hhbGluc2sgJywKICAgICAgJ3J3JzonIGFjIGNvIGNvbSBlZHUgZ291diBnb3YgaW50IG1pbCBuZXQgJywKICAgICAgJ3NhJzonIGNvbSBlZHUgZ292IG1lZCBuZXQgb3JnIHB1YiBzY2ggJywKICAgICAgJ3NkJzonIGNvbSBlZHUgZ292IGluZm8gbWVkIG5ldCBvcmcgdHYgJywKICAgICAgJ3NlJzonIGEgYWMgYiBiZCBjIGQgZSBmIGcgaCBpIGsgbCBtIG4gbyBvcmcgcCBwYXJ0aSBwcCBwcmVzcyByIHMgdCB0bSB1IHcgeCB5IHogJywKICAgICAgJ3NnJzonIGNvbSBlZHUgZ292IGlkbiBuZXQgb3JnIHBlciAnLAogICAgICAnc24nOicgYXJ0IGNvbSBlZHUgZ291diBvcmcgcGVyc28gdW5pdiAnLAogICAgICAnc3knOicgY29tIGVkdSBnb3YgbWlsIG5ldCBuZXdzIG9yZyAnLAogICAgICAndGgnOicgYWMgY28gZ28gaW4gbWkgbmV0IG9yICcsCiAgICAgICd0aic6JyBhYyBiaXogY28gY29tIGVkdSBnbyBnb3YgaW5mbyBpbnQgbWlsIG5hbWUgbmV0IG5pYyBvcmcgdGVzdCB3ZWIgJywKICAgICAgJ3RuJzonIGFncmluZXQgY29tIGRlZmVuc2UgZWR1bmV0IGVucyBmaW4gZ292IGluZCBpbmZvIGludGwgbWluY29tIG5hdCBuZXQgb3JnIHBlcnNvIHJucnQgcm5zIHJudSB0b3VyaXNtICcsCiAgICAgICd0eic6JyBhYyBjbyBnbyBuZSBvciAnLAogICAgICAndWEnOicgYml6IGNoZXJrYXNzeSBjaGVybmlnb3YgY2hlcm5vdnRzeSBjayBjbiBjbyBjb20gY3JpbWVhIGN2IGRuIGRuZXByb3BldHJvdnNrIGRvbmV0c2sgZHAgZWR1IGdvdiBpZiBpbiBpdmFuby1mcmFua2l2c2sga2gga2hhcmtvdiBraGVyc29uIGtobWVsbml0c2tpeSBraWV2IGtpcm92b2dyYWQga20ga3Iga3Mga3YgbGcgbHVnYW5zayBsdXRzayBsdml2IG1lIG1rIG5ldCBuaWtvbGFldiBvZCBvZGVzc2Egb3JnIHBsIHBvbHRhdmEgcHAgcm92bm8gcnYgc2ViYXN0b3BvbCBzdW15IHRlIHRlcm5vcGlsIHV6aGdvcm9kIHZpbm5pY2Egdm4gemFwb3Jpemh6aGUgemhpdG9taXIgenAgenQgJywKICAgICAgJ3VnJzonIGFjIGNvIGdvIG5lIG9yIG9yZyBzYyAnLAogICAgICAndWsnOicgYWMgYmwgYnJpdGlzaC1saWJyYXJ5IGNvIGN5bSBnb3YgZ292dCBpY25ldCBqZXQgbGVhIGx0ZCBtZSBtaWwgbW9kIG5hdGlvbmFsLWxpYnJhcnktc2NvdGxhbmQgbmVsIG5ldCBuaHMgbmljIG5scyBvcmcgb3JnbiBwYXJsaWFtZW50IHBsYyBwb2xpY2Ugc2NoIHNjb3Qgc29jICcsCiAgICAgICd1cyc6JyBkbmkgZmVkIGlzYSBraWRzIG5zbiAnLAogICAgICAndXknOicgY29tIGVkdSBndWIgbWlsIG5ldCBvcmcgJywKICAgICAgJ3ZlJzonIGNvIGNvbSBlZHUgZ29iIGluZm8gbWlsIG5ldCBvcmcgd2ViICcsCiAgICAgICd2aSc6JyBjbyBjb20gazEyIG5ldCBvcmcgJywKICAgICAgJ3ZuJzonIGFjIGJpeiBjb20gZWR1IGdvdiBoZWFsdGggaW5mbyBpbnQgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAneWUnOicgY28gY29tIGdvdiBsdGQgbWUgbmV0IG9yZyBwbGMgJywKICAgICAgJ3l1JzonIGFjIGNvIGVkdSBnb3Ygb3JnICcsCiAgICAgICd6YSc6JyBhYyBhZ3JpYyBhbHQgYm91cnNlIGNpdHkgY28gY3liZXJuZXQgZGIgZWR1IGdvdiBncm9uZGFyIGlhY2Nlc3MgaW10IGluY2EgbGFuZGVzaWduIGxhdyBtaWwgbmV0IG5nbyBuaXMgbm9tIG9saXZldHRpIG9yZyBwaXggc2Nob29sIHRtIHdlYiAnLAogICAgICAnem0nOicgYWMgY28gY29tIGVkdSBnb3YgbmV0IG9yZyBzY2ggJwogICAgfSwKICAgIC8vIGdvcmhpbGwgMjAxMy0xMC0yNTogVXNpbmcgaW5kZXhPZigpIGluc3RlYWQgUmVnZXhwKCkuIFNpZ25pZmljYW50IGJvb3N0CiAgICAvLyBpbiBib3RoIHBlcmZvcm1hbmNlIGFuZCBtZW1vcnkgZm9vdHByaW50LiBObyBpbml0aWFsaXphdGlvbiByZXF1aXJlZC4KICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3VyaS1qcy1zbGQtcmVnZXgtdnMtYmluYXJ5LXNlYXJjaC80CiAgICAvLyBGb2xsb3dpbmcgbWV0aG9kcyB1c2UgbGFzdEluZGV4T2YoKSByYXRoZXIgdGhhbiBhcnJheS5zcGxpdCgpIGluIG9yZGVyCiAgICAvLyB0byBhdm9pZCBhbnkgbWVtb3J5IGFsbG9jYXRpb25zLgogICAgaGFzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPD0gMCB8fCBzbGRPZmZzZXQgPj0gKHRsZE9mZnNldC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2Uoc2xkT2Zmc2V0KzEsIHRsZE9mZnNldCkgKyAnICcpID49IDA7CiAgICB9LAogICAgaXM6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicsIHRsZE9mZnNldC0xKTsKICAgICAgaWYgKHNsZE9mZnNldCA+PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZSgwLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPD0gMCB8fCBzbGRPZmZzZXQgPj0gKHRsZE9mZnNldC0xKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGlmIChzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA8IDApIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxKTsKICAgIH0sCiAgICBub0NvbmZsaWN0OiBmdW5jdGlvbigpewogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPT09IHRoaXMpIHsKICAgICAgICByb290LlNlY29uZExldmVsRG9tYWlucyA9IF9TZWNvbmRMZXZlbERvbWFpbnM7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKCiAgcmV0dXJuIFNMRDsKfSkpOwoKfSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9wdW55Y29kZScpLCByZXF1aXJlKCcuL0lQdjYnKSwgcmVxdWlyZSgnLi9TZWNvbmRMZXZlbERvbWFpbnMnKSk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShbJy4vcHVueWNvZGUnLCAnLi9JUHY2JywgJy4vU2Vjb25kTGV2ZWxEb21haW5zJ10sIGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5VUkkgPSBmYWN0b3J5KHJvb3QucHVueWNvZGUsIHJvb3QuSVB2Niwgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMsIHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocHVueWNvZGUsIElQdjYsIFNMRCwgcm9vdCkgewogICd1c2Ugc3RyaWN0JzsKICAvKmdsb2JhbCBsb2NhdGlvbiwgZXNjYXBlLCB1bmVzY2FwZSAqLwogIC8vIEZJWE1FOiB2Mi4wLjAgcmVuYW1jZSBub24tY2FtZWxDYXNlIHByb3BlcnRpZXMgdG8gdXBwZXJjYXNlCiAgLypqc2hpbnQgY2FtZWxjYXNlOiBmYWxzZSAqLwoKICAvLyBzYXZlIGN1cnJlbnQgVVJJIHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX1VSSSA9IHJvb3QgJiYgcm9vdC5VUkk7CgogIGZ1bmN0aW9uIFVSSSh1cmwsIGJhc2UpIHsKICAgIHZhciBfdXJsU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDE7CiAgICB2YXIgX2Jhc2VTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjsKCiAgICAvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmQKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICBpZiAoX2Jhc2VTdXBwbGllZCkgewogICAgICAgICAgcmV0dXJuIG5ldyBVUkkodXJsLCBiYXNlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgVVJJKHVybCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgVVJJKCk7CiAgICB9CgogICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSScpOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHVybCA9IGxvY2F0aW9uLmhyZWYgKyAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cmwgPSAnJzsKICAgICAgfQogICAgfQoKICAgIHRoaXMuaHJlZih1cmwpOwoKICAgIC8vIHJlc29sdmUgdG8gYmFzZSBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb25zdHJ1Y3RvcgogICAgaWYgKGJhc2UgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5hYnNvbHV0ZVRvKGJhc2UpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgVVJJLnZlcnNpb24gPSAnMS4xOC4xJzsKCiAgdmFyIHAgPSBVUkkucHJvdG90eXBlOwogIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwoKICBmdW5jdGlvbiBlc2NhcGVSZWdFeChzdHJpbmcpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2NvbW1pdC84NWFjMjE3ODNjMTFmOGNjYWIwNjEwNmRiYTk3MzVhMzFhODY5MjRkI2NvbW1pdGNvbW1lbnQtODIxOTYzCiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKICB9CgogIGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHsKICAgIC8vIElFOCBkb2Vzbid0IHJldHVybiBbT2JqZWN0IFVuZGVmaW5lZF0gYnV0IFtPYmplY3QgT2JqZWN0XSBmb3IgdW5kZWZpbmVkIHZhbHVlCiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gJ1VuZGVmaW5lZCc7CiAgICB9CgogICAgcmV0dXJuIFN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKS5zbGljZSg4LCAtMSk7CiAgfQoKICBmdW5jdGlvbiBpc0FycmF5KG9iaikgewogICAgcmV0dXJuIGdldFR5cGUob2JqKSA9PT0gJ0FycmF5JzsKICB9CgogIGZ1bmN0aW9uIGZpbHRlckFycmF5VmFsdWVzKGRhdGEsIHZhbHVlKSB7CiAgICB2YXIgbG9va3VwID0ge307CiAgICB2YXIgaSwgbGVuZ3RoOwoKICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgbG9va3VwID0gbnVsbDsKICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbdmFsdWVbaV1dID0gdHJ1ZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgbG9va3VwW3ZhbHVlXSA9IHRydWU7CiAgICB9CgogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqLwogICAgICB2YXIgX21hdGNoID0gbG9va3VwICYmIGxvb2t1cFtkYXRhW2ldXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgfHwgIWxvb2t1cCAmJiB2YWx1ZS50ZXN0KGRhdGFbaV0pOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgICAgaWYgKF9tYXRjaCkgewogICAgICAgIGRhdGEuc3BsaWNlKGksIDEpOwogICAgICAgIGxlbmd0aC0tOwogICAgICAgIGktLTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBkYXRhOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZSkgewogICAgdmFyIGksIGxlbmd0aDsKCiAgICAvLyB2YWx1ZSBtYXkgYmUgc3RyaW5nLCBudW1iZXIsIGFycmF5LCByZWdleHAKICAgIGlmIChpc0FycmF5KHZhbHVlKSkgewogICAgICAvLyBOb3RlOiB0aGlzIGNhbiBiZSBvcHRpbWl6ZWQgdG8gTyhuKSAoaW5zdGVhZCBvZiBjdXJyZW50IE8obSAqIG4pKQogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGlmICghYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZVtpXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHZhciBfdHlwZSA9IGdldFR5cGUodmFsdWUpOwogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoX3R5cGUgPT09ICdSZWdFeHAnKSB7CiAgICAgICAgaWYgKHR5cGVvZiBsaXN0W2ldID09PSAnc3RyaW5nJyAmJiBsaXN0W2ldLm1hdGNoKHZhbHVlKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGxpc3RbaV0gPT09IHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhcnJheXNFcXVhbChvbmUsIHR3bykgewogICAgaWYgKCFpc0FycmF5KG9uZSkgfHwgIWlzQXJyYXkodHdvKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gYXJyYXlzIGNhbid0IGJlIGVxdWFsIGlmIHRoZXkgaGF2ZSBkaWZmZXJlbnQgYW1vdW50IG9mIGNvbnRlbnQKICAgIGlmIChvbmUubGVuZ3RoICE9PSB0d28ubGVuZ3RoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBvbmUuc29ydCgpOwogICAgdHdvLnNvcnQoKTsKCiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9uZS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgaWYgKG9uZVtpXSAhPT0gdHdvW2ldKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmltU2xhc2hlcyh0ZXh0KSB7CiAgICB2YXIgdHJpbV9leHByZXNzaW9uID0gL15cLyt8XC8rJC9nOwogICAgcmV0dXJuIHRleHQucmVwbGFjZSh0cmltX2V4cHJlc3Npb24sICcnKTsKICB9CgogIFVSSS5fcGFydHMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHByb3RvY29sOiBudWxsLAogICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgIGhvc3RuYW1lOiBudWxsLAogICAgICB1cm46IG51bGwsCiAgICAgIHBvcnQ6IG51bGwsCiAgICAgIHBhdGg6IG51bGwsCiAgICAgIHF1ZXJ5OiBudWxsLAogICAgICBmcmFnbWVudDogbnVsbCwKICAgICAgLy8gc3RhdGUKICAgICAgZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzOiBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLAogICAgICBlc2NhcGVRdWVyeVNwYWNlOiBVUkkuZXNjYXBlUXVlcnlTcGFjZQogICAgfTsKICB9OwogIC8vIHN0YXRlOiBhbGxvdyBkdXBsaWNhdGUgcXVlcnkgcGFyYW1ldGVycyAoYT0xJmE9MSkKICBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZmFsc2U7CiAgLy8gc3RhdGU6IHJlcGxhY2VzICsgd2l0aCAlMjAgKHNwYWNlIGluIHF1ZXJ5IHN0cmluZ3MpCiAgVVJJLmVzY2FwZVF1ZXJ5U3BhY2UgPSB0cnVlOwogIC8vIHN0YXRpYyBwcm9wZXJ0aWVzCiAgVVJJLnByb3RvY29sX2V4cHJlc3Npb24gPSAvXlthLXpdW2EtejAtOS4rLV0qJC9pOwogIFVSSS5pZG5fZXhwcmVzc2lvbiA9IC9bXmEtejAtOVwuLV0vaTsKICBVUkkucHVueWNvZGVfZXhwcmVzc2lvbiA9IC8oeG4tLSkvaTsKICAvLyB3ZWxsLCAzMzMuNDQ0LjU1NS42NjYgbWF0Y2hlcywgYnV0IGl0IHN1cmUgYWluJ3Qgbm8gSVB2NCAtIGRvIHdlIGNhcmU/CiAgVVJJLmlwNF9leHByZXNzaW9uID0gL15cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9JC87CiAgLy8gY3JlZGl0cyB0byBSaWNoIEJyb3duCiAgLy8gc291cmNlOiBodHRwOi8vZm9ydW1zLmludGVybWFwcGVyLmNvbS92aWV3dG9waWMucGhwP3A9MTA5NiMxMDk2CiAgLy8gc3BlY2lmaWNhdGlvbjogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDI5MS50eHQKICBVUkkuaXA2X2V4cHJlc3Npb24gPSAvXlxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpKSglLispP1xzKiQvOwogIC8vIGV4cHJlc3Npb24gdXNlZCBpcyAiZ3J1YmVyIHJldmlzZWQiIChAZ3J1YmVyIHYyKSBkZXRlcm1pbmVkIHRvIGJlIHRoZQogIC8vIGJlc3Qgc29sdXRpb24gaW4gYSByZWdleC1nb2xmIHdlIGRpZCBhIGNvdXBsZSBvZiBhZ2VzIGFnbyBhdAogIC8vICogaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXgKICAvLyAqIGh0dHA6Ly9yb2RuZXlyZWhtLmRlL3QvdXJsLXJlZ2V4Lmh0bWwKICBVUkkuZmluZF91cmlfZXhwcmVzc2lvbiA9IC9cYigoPzpbYS16XVtcdy1dKzooPzpcL3sxLDN9fFthLXowLTklXSl8d3d3XGR7MCwzfVsuXXxbYS16MC05LlwtXStbLl1bYS16XXsyLDR9XC8pKD86W15ccygpPD5dK3xcKChbXlxzKCk8Pl0rfChcKFteXHMoKTw+XStcKSkpKlwpKSsoPzpcKChbXlxzKCk8Pl0rfChcKFteXHMoKTw+XStcKSkpKlwpfFteXHNgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9pZzsKICBVUkkuZmluZFVyaSA9IHsKICAgIC8vIHZhbGlkICJzY2hlbWU6Ly8iIG9yICJ3d3cuIgogICAgc3RhcnQ6IC9cYig/OihbYS16XVthLXowLTkuKy1dKjpcL1wvKXx3d3dcLikvZ2ksCiAgICAvLyBldmVyeXRoaW5nIHVwIHRvIHRoZSBuZXh0IHdoaXRlc3BhY2UKICAgIGVuZDogL1tcc1xyXG5dfCQvLAogICAgLy8gdHJpbSB0cmFpbGluZyBwdW5jdHVhdGlvbiBjYXB0dXJlZCBieSBlbmQgUmVnRXhwCiAgICB0cmltOiAvW2AhKClcW1xde307OiciLiw8Pj/Cq8K74oCc4oCd4oCe4oCY4oCZXSskLwogIH07CiAgLy8gaHR0cDovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy91cmktc2NoZW1lcy5odG1sCiAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX1RDUF9hbmRfVURQX3BvcnRfbnVtYmVycyNXZWxsLWtub3duX3BvcnRzCiAgVVJJLmRlZmF1bHRQb3J0cyA9IHsKICAgIGh0dHA6ICc4MCcsCiAgICBodHRwczogJzQ0MycsCiAgICBmdHA6ICcyMScsCiAgICBnb3BoZXI6ICc3MCcsCiAgICB3czogJzgwJywKICAgIHdzczogJzQ0MycKICB9OwogIC8vIGFsbG93ZWQgaG9zdG5hbWUgY2hhcmFjdGVycyBhY2NvcmRpbmcgdG8gUkZDIDM5ODYKICAvLyBBTFBIQSBESUdJVCAiLSIgIi4iICJfIiAifiIgIiEiICIkIiAiJiIgIiciICIoIiAiKSIgIioiICIrIiAiLCIgIjsiICI9IiAlZW5jb2RlZAogIC8vIEkndmUgbmV2ZXIgc2VlbiBhIChub24tSUROKSBob3N0bmFtZSBvdGhlciB0aGFuOiBBTFBIQSBESUdJVCAuIC0KICBVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzID0gL1teYS16QS1aMC05XC4tXS87CiAgLy8gbWFwIERPTSBFbGVtZW50cyB0byB0aGVpciBVUkkgYXR0cmlidXRlCiAgVVJJLmRvbUF0dHJpYnV0ZXMgPSB7CiAgICAnYSc6ICdocmVmJywKICAgICdibG9ja3F1b3RlJzogJ2NpdGUnLAogICAgJ2xpbmsnOiAnaHJlZicsCiAgICAnYmFzZSc6ICdocmVmJywKICAgICdzY3JpcHQnOiAnc3JjJywKICAgICdmb3JtJzogJ2FjdGlvbicsCiAgICAnaW1nJzogJ3NyYycsCiAgICAnYXJlYSc6ICdocmVmJywKICAgICdpZnJhbWUnOiAnc3JjJywKICAgICdlbWJlZCc6ICdzcmMnLAogICAgJ3NvdXJjZSc6ICdzcmMnLAogICAgJ3RyYWNrJzogJ3NyYycsCiAgICAnaW5wdXQnOiAnc3JjJywgLy8gYnV0IG9ubHkgaWYgdHlwZT0iaW1hZ2UiCiAgICAnYXVkaW8nOiAnc3JjJywKICAgICd2aWRlbyc6ICdzcmMnCiAgfTsKICBVUkkuZ2V0RG9tQXR0cmlidXRlID0gZnVuY3Rpb24obm9kZSkgewogICAgaWYgKCFub2RlIHx8ICFub2RlLm5vZGVOYW1lKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgdmFyIG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgLy8gPGlucHV0PiBzaG91bGQgb25seSBleHBvc2Ugc3JjIGZvciB0eXBlPSJpbWFnZSIKICAgIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLnR5cGUgIT09ICdpbWFnZScpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gVVJJLmRvbUF0dHJpYnV0ZXNbbm9kZU5hbWVdOwogIH07CgogIGZ1bmN0aW9uIGVzY2FwZUZvckR1bWJGaXJlZm94MzYodmFsdWUpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MQogICAgcmV0dXJuIGVzY2FwZSh2YWx1ZSk7CiAgfQoKICAvLyBlbmNvZGluZyAvIGRlY29kaW5nIGFjY29yZGluZyB0byBSRkMzOTg2CiAgZnVuY3Rpb24gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykgewogICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvZW5jb2RlVVJJQ29tcG9uZW50CiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykKICAgICAgLnJlcGxhY2UoL1shJygpKl0vZywgZXNjYXBlRm9yRHVtYkZpcmVmb3gzNikKICAgICAgLnJlcGxhY2UoL1wqL2csICclMkEnKTsKICB9CiAgVVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDsKICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogIFVSSS5pc284ODU5ID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gZXNjYXBlOwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogIH07CiAgVVJJLnVuaWNvZGUgPSBmdW5jdGlvbigpIHsKICAgIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogIH07CiAgVVJJLmNoYXJhY3RlcnMgPSB7CiAgICBwYXRobmFtZTogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDI0fDI2fDJCfDJDfDNCfDNEfDNBfDQwKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIC0uX34hJygpKgogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nLAogICAgICAgICAgJyUzQSc6ICc6JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyNdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZXNlcnZlZDogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIGdlbi1kZWxpbXMKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTJGJzogJy8nLAogICAgICAgICAgJyUzRic6ICc/JywKICAgICAgICAgICclMjMnOiAnIycsCiAgICAgICAgICAnJTVCJzogJ1snLAogICAgICAgICAgJyU1RCc6ICddJywKICAgICAgICAgICclNDAnOiAnQCcsCiAgICAgICAgICAvLyBzdWItZGVsaW1zCiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cm5wYXRoOiB7CiAgICAgIC8vIFRoZSBjaGFyYWN0ZXJzIHVuZGVyIGBlbmNvZGVgIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQyAyMTQxIGFzIGJlaW5nIGFjY2VwdGFibGUKICAgICAgLy8gZm9yIHVzYWdlIGluIGEgVVJOLiBSRkMyMTQxIGFsc28gY2FsbHMgb3V0ICItIiwgIi4iLCBhbmQgIl8iIGFzIGFjY2VwdGFibGUgY2hhcmFjdGVycywgYnV0CiAgICAgIC8vIHRoZXNlIGFyZW4ndCBlbmNvZGVkIGJ5IGVuY29kZVVSSUNvbXBvbmVudCwgc28gd2UgZG9uJ3QgaGF2ZSB0byBjYWxsIHRoZW0gb3V0IGhlcmUuIEFsc28KICAgICAgLy8gbm90ZSB0aGF0IHRoZSBjb2xvbiBjaGFyYWN0ZXIgaXMgbm90IGZlYXR1cmVkIGluIHRoZSBlbmNvZGluZyBtYXA7IHRoaXMgaXMgYmVjYXVzZSBVUkkuanMKICAgICAgLy8gZ2l2ZXMgdGhlIGNvbG9ucyBpbiBVUk5zIHNlbWFudGljIG1lYW5pbmcgYXMgdGhlIGRlbGltaXRlcnMgb2YgcGF0aCBzZWdlbWVudHMsIGFuZCBzbyBpdAogICAgICAvLyBzaG91bGQgbm90IGFwcGVhciB1bmVuY29kZWQgaW4gYSBzZWdtZW50IGl0c2VsZi4KICAgICAgLy8gU2VlIGFsc28gdGhlIG5vdGUgYWJvdmUgYWJvdXQgUkZDMzk4NiBhbmQgY2FwaXRhbGFsaXplZCBoZXggZGlnaXRzLgogICAgICBlbmNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyNHwyN3wyOHwyOXwyQXwyQnwyQ3wzQnwzRHw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjcnOiAnXCcnLAogICAgICAgICAgJyUyOCc6ICcoJywKICAgICAgICAgICclMjknOiAnKScsCiAgICAgICAgICAnJTJBJzogJyonLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDMjE0MSBhcyAicmVzZXJ2ZWQiIGNoYXJhY3RlcnMgdGhhdAogICAgICAvLyBzaG91bGQgbmV2ZXIgYXBwZWFyIGluIGEgVVJOLCBwbHVzIHRoZSBjb2xvbiBjaGFyYWN0ZXIgKHNlZSBub3RlIGFib3ZlKS4KICAgICAgZGVjb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogL1tcL1w/IzpdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycsCiAgICAgICAgICAnOic6ICclM0EnCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBVUkkuZW5jb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIHZhciBlc2NhcGVkID0gVVJJLmVuY29kZShzdHJpbmcgKyAnJyk7CiAgICBpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTsKICAgIH0KCiAgICByZXR1cm4gZXNjYXBlUXVlcnlTcGFjZSA/IGVzY2FwZWQucmVwbGFjZSgvJTIwL2csICcrJykgOiBlc2NhcGVkOwogIH07CiAgVVJJLmRlY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICBzdHJpbmcgKz0gJyc7CiAgICBpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTsKICAgIH0KCiAgICB0cnkgewogICAgICByZXR1cm4gVVJJLmRlY29kZShlc2NhcGVRdWVyeVNwYWNlID8gc3RyaW5nLnJlcGxhY2UoL1wrL2csICclMjAnKSA6IHN0cmluZyk7CiAgICB9IGNhdGNoKGUpIHsKICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgIC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3CiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgcmV0dXJuIHN0cmluZzsKICAgIH0KICB9OwogIC8vIGdlbmVyYXRlIGVuY29kZS9kZWNvZGUgcGF0aCBmdW5jdGlvbnMKICB2YXIgX3BhcnRzID0geydlbmNvZGUnOidlbmNvZGUnLCAnZGVjb2RlJzonZGVjb2RlJ307CiAgdmFyIF9wYXJ0OwogIHZhciBnZW5lcmF0ZUFjY2Vzc29yID0gZnVuY3Rpb24oX2dyb3VwLCBfcGFydCkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykgewogICAgICB0cnkgewogICAgICAgIHJldHVybiBVUklbX3BhcnRdKHN0cmluZyArICcnKS5yZXBsYWNlKFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLmV4cHJlc3Npb24sIGZ1bmN0aW9uKGMpIHsKICAgICAgICAgIHJldHVybiBVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5tYXBbY107CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncywKICAgICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3CiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MgogICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgIH0KICAgIH07CiAgfTsKCiAgZm9yIChfcGFydCBpbiBfcGFydHMpIHsKICAgIFVSSVtfcGFydCArICdQYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigncGF0aG5hbWUnLCBfcGFydHNbX3BhcnRdKTsKICAgIFVSSVtfcGFydCArICdVcm5QYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigndXJucGF0aCcsIF9wYXJ0c1tfcGFydF0pOwogIH0KCiAgdmFyIGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uID0gZnVuY3Rpb24oX3NlcCwgX2NvZGluZ0Z1bmNOYW1lLCBfaW5uZXJDb2RpbmdGdW5jTmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykgewogICAgICAvLyBXaHkgcGFzcyBpbiBuYW1lcyBvZiBmdW5jdGlvbnMsIHJhdGhlciB0aGFuIHRoZSBmdW5jdGlvbiBvYmplY3RzIHRoZW1zZWx2ZXM/IFRoZQogICAgICAvLyBkZWZpbml0aW9ucyBvZiBzb21lIGZ1bmN0aW9ucyAoYnV0IGluIHBhcnRpY3VsYXIsIFVSSS5kZWNvZGUpIHdpbGwgb2NjYXNpb25hbGx5IGNoYW5nZSBkdWUKICAgICAgLy8gdG8gVVJJLmpzIGhhdmluZyBJU084ODU5IGFuZCBVbmljb2RlIG1vZGVzLiBQYXNzaW5nIGluIHRoZSBuYW1lIGFuZCBnZXR0aW5nIGl0IHdpbGwgZW5zdXJlCiAgICAgIC8vIHRoYXQgdGhlIGZ1bmN0aW9ucyB3ZSB1c2UgaGVyZSBhcmUgImZyZXNoIi4KICAgICAgdmFyIGFjdHVhbENvZGluZ0Z1bmM7CiAgICAgIGlmICghX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgICAgICBhY3R1YWxDb2RpbmdGdW5jID0gVVJJW19jb2RpbmdGdW5jTmFtZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IGZ1bmN0aW9uKHN0cmluZykgewogICAgICAgICAgcmV0dXJuIFVSSVtfY29kaW5nRnVuY05hbWVdKFVSSVtfaW5uZXJDb2RpbmdGdW5jTmFtZV0oc3RyaW5nKSk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHNlZ21lbnRzID0gKHN0cmluZyArICcnKS5zcGxpdChfc2VwKTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHNlZ21lbnRzW2ldID0gYWN0dWFsQ29kaW5nRnVuYyhzZWdtZW50c1tpXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWdtZW50cy5qb2luKF9zZXApOwogICAgfTsKICB9OwoKICAvLyBUaGlzIHRha2VzIHBsYWNlIG91dHNpZGUgdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBkb24ndCB3YW50LCBlLmcuLCBlbmNvZGVVcm5QYXRoIGZ1bmN0aW9ucy4KICBVUkkuZGVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2RlY29kZVBhdGhTZWdtZW50Jyk7CiAgVVJJLmRlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdkZWNvZGVVcm5QYXRoU2VnbWVudCcpOwogIFVSSS5yZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZW5jb2RlUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CiAgVVJJLnJlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdlbmNvZGVVcm5QYXRoU2VnbWVudCcsICdkZWNvZGUnKTsKCiAgVVJJLmVuY29kZVJlc2VydmVkID0gZ2VuZXJhdGVBY2Nlc3NvcigncmVzZXJ2ZWQnLCAnZW5jb2RlJyk7CgogIFVSSS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIHZhciBwb3M7CiAgICBpZiAoIXBhcnRzKSB7CiAgICAgIHBhcnRzID0ge307CiAgICB9CiAgICAvLyBbcHJvdG9jb2wiOi8vIlt1c2VybmFtZVsiOiJwYXNzd29yZF0iQCJdaG9zdG5hbWVbIjoicG9ydF0iLyI/XVtwYXRoXVsiPyJxdWVyeXN0cmluZ11bIiMiZnJhZ21lbnRdCgogICAgLy8gZXh0cmFjdCBmcmFnbWVudAogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJyMnKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMuZnJhZ21lbnQgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHF1ZXJ5CiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignPycpOwogICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgIC8vIGVzY2FwaW5nPwogICAgICBwYXJ0cy5xdWVyeSA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcHJvdG9jb2wKICAgIGlmIChzdHJpbmcuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7CiAgICAgIC8vIHJlbGF0aXZlLXNjaGVtZQogICAgICBwYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMik7CiAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgIHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIGlmIChwb3MgPiAtMSkgewogICAgICAgIHBhcnRzLnByb3RvY29sID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgaWYgKHBhcnRzLnByb3RvY29sICYmICFwYXJ0cy5wcm90b2NvbC5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIC8vIDogbWF5IGJlIHdpdGhpbiB0aGUgcGF0aAogICAgICAgICAgcGFydHMucHJvdG9jb2wgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEsIHBvcyArIDMpID09PSAnLy8nKSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDMpOwoKICAgICAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7CiAgICAgICAgICBwYXJ0cy51cm4gPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIHdoYXQncyBsZWZ0IG11c3QgYmUgdGhlIHBhdGgKICAgIHBhcnRzLnBhdGggPSBzdHJpbmc7CgogICAgLy8gYW5kIHdlJ3JlIGRvbmUKICAgIHJldHVybiBwYXJ0czsKICB9OwogIFVSSS5wYXJzZUhvc3QgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci4KICAgIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlcwogICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvYmxvYi8zODZmZDI0ZjQ5YjBlOWQxYThhMDc2NTkyYTQwNDE2OGZhZWVjYzM0L2xpYi91cmwuanMjTDExNS1MMTI0CiAgICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNgogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvcHVsbC8yMzMKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXC9nLCAnLycpOwoKICAgIC8vIGV4dHJhY3QgaG9zdDpwb3J0CiAgICB2YXIgcG9zID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgIHZhciBicmFja2V0UG9zOwogICAgdmFyIHQ7CgogICAgaWYgKHBvcyA9PT0gLTEpIHsKICAgICAgcG9zID0gc3RyaW5nLmxlbmd0aDsKICAgIH0KCiAgICBpZiAoc3RyaW5nLmNoYXJBdCgwKSA9PT0gJ1snKSB7CiAgICAgIC8vIElQdjYgaG9zdCAtIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQjc2VjdGlvbi02CiAgICAgIC8vIEkgY2xhaW0gbW9zdCBjbGllbnQgc29mdHdhcmUgYnJlYWtzIG9uIElQdjYgYW55d2F5cy4gVG8gc2ltcGxpZnkgdGhpbmdzLCBVUkkgb25seSBhY2NlcHRzCiAgICAgIC8vIElQdjYrcG9ydCBpbiB0aGUgZm9ybWF0IFsyMDAxOmRiODo6MV06ODAgKGZvciB0aGUgdGltZSBiZWluZykKICAgICAgYnJhY2tldFBvcyA9IHN0cmluZy5pbmRleE9mKCddJyk7CiAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygxLCBicmFja2V0UG9zKSB8fCBudWxsOwogICAgICBwYXJ0cy5wb3J0ID0gc3RyaW5nLnN1YnN0cmluZyhicmFja2V0UG9zICsgMiwgcG9zKSB8fCBudWxsOwogICAgICBpZiAocGFydHMucG9ydCA9PT0gJy8nKSB7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBmaXJzdENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonKTsKICAgICAgdmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpOwogICAgICB2YXIgbmV4dENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonLCBmaXJzdENvbG9uICsgMSk7CiAgICAgIGlmIChuZXh0Q29sb24gIT09IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBuZXh0Q29sb24gPCBmaXJzdFNsYXNoKSkgewogICAgICAgIC8vIElQdjYgaG9zdCBjb250YWlucyBtdWx0aXBsZSBjb2xvbnMgLSBidXQgbm8gcG9ydAogICAgICAgIC8vIHRoaXMgbm90YXRpb24gaXMgYWN0dWFsbHkgbm90IGFsbG93ZWQgYnkgUkZDIDM5ODYsIGJ1dCB3ZSdyZSBhIGxpYmVyYWwgcGFyc2VyCiAgICAgICAgcGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDsKICAgICAgICBwYXJ0cy5wb3J0ID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgICAgcGFydHMuaG9zdG5hbWUgPSB0WzBdIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IHRbMV0gfHwgbnVsbDsKICAgICAgfQogICAgfQoKICAgIGlmIChwYXJ0cy5ob3N0bmFtZSAmJiBzdHJpbmcuc3Vic3RyaW5nKHBvcykuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgcG9zKys7CiAgICAgIHN0cmluZyA9ICcvJyArIHN0cmluZzsKICAgIH0KCiAgICByZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhwb3MpIHx8ICcvJzsKICB9OwogIFVSSS5wYXJzZUF1dGhvcml0eSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIHN0cmluZyA9IFVSSS5wYXJzZVVzZXJpbmZvKHN0cmluZywgcGFydHMpOwogICAgcmV0dXJuIFVSSS5wYXJzZUhvc3Qoc3RyaW5nLCBwYXJ0cyk7CiAgfTsKICBVUkkucGFyc2VVc2VyaW5mbyA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIC8vIGV4dHJhY3QgdXNlcm5hbWU6cGFzc3dvcmQKICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgIHZhciBwb3MgPSBzdHJpbmcubGFzdEluZGV4T2YoJ0AnLCBmaXJzdFNsYXNoID4gLTEgPyBmaXJzdFNsYXNoIDogc3RyaW5nLmxlbmd0aCAtIDEpOwogICAgdmFyIHQ7CgogICAgLy8gYXV0aG9yaXR5QCBtdXN0IGNvbWUgYmVmb3JlIC9wYXRoCiAgICBpZiAocG9zID4gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IHBvcyA8IGZpcnN0U2xhc2gpKSB7CiAgICAgIHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTsKICAgICAgcGFydHMudXNlcm5hbWUgPSB0WzBdID8gVVJJLmRlY29kZSh0WzBdKSA6IG51bGw7CiAgICAgIHQuc2hpZnQoKTsKICAgICAgcGFydHMucGFzc3dvcmQgPSB0WzBdID8gVVJJLmRlY29kZSh0LmpvaW4oJzonKSkgOiBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgfSBlbHNlIHsKICAgICAgcGFydHMudXNlcm5hbWUgPSBudWxsOwogICAgICBwYXJ0cy5wYXNzd29yZCA9IG51bGw7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZzsKICB9OwogIFVSSS5wYXJzZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICBpZiAoIXN0cmluZykgewogICAgICByZXR1cm4ge307CiAgICB9CgogICAgLy8gdGhyb3cgb3V0IHRoZSBmdW5reSBidXNpbmVzcyAtICI/IltuYW1lIj0idmFsdWUiJiJdKwogICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoLyYrL2csICcmJykucmVwbGFjZSgvXlw/KiYqfCYrJC9nLCAnJyk7CgogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIHZhciBpdGVtcyA9IHt9OwogICAgdmFyIHNwbGl0cyA9IHN0cmluZy5zcGxpdCgnJicpOwogICAgdmFyIGxlbmd0aCA9IHNwbGl0cy5sZW5ndGg7CiAgICB2YXIgdiwgbmFtZSwgdmFsdWU7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2ID0gc3BsaXRzW2ldLnNwbGl0KCc9Jyk7CiAgICAgIG5hbWUgPSBVUkkuZGVjb2RlUXVlcnkodi5zaGlmdCgpLCBlc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgLy8gbm8gIj0iIGlzIG51bGwgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29sbGVjdC11cmwtcGFyYW1ldGVycwogICAgICB2YWx1ZSA9IHYubGVuZ3RoID8gVVJJLmRlY29kZVF1ZXJ5KHYuam9pbignPScpLCBlc2NhcGVRdWVyeVNwYWNlKSA6IG51bGw7CgogICAgICBpZiAoaGFzT3duLmNhbGwoaXRlbXMsIG5hbWUpKSB7CiAgICAgICAgaWYgKHR5cGVvZiBpdGVtc1tuYW1lXSA9PT0gJ3N0cmluZycgfHwgaXRlbXNbbmFtZV0gPT09IG51bGwpIHsKICAgICAgICAgIGl0ZW1zW25hbWVdID0gW2l0ZW1zW25hbWVdXTsKICAgICAgICB9CgogICAgICAgIGl0ZW1zW25hbWVdLnB1c2godmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW1zW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaXRlbXM7CiAgfTsKCiAgVVJJLmJ1aWxkID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKHBhcnRzLnByb3RvY29sKSB7CiAgICAgIHQgKz0gcGFydHMucHJvdG9jb2wgKyAnOic7CiAgICB9CgogICAgaWYgKCFwYXJ0cy51cm4gJiYgKHQgfHwgcGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJy8vJzsKICAgIH0KCiAgICB0ICs9IChVUkkuYnVpbGRBdXRob3JpdHkocGFydHMpIHx8ICcnKTsKCiAgICBpZiAodHlwZW9mIHBhcnRzLnBhdGggPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChwYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nICYmIHR5cGVvZiBwYXJ0cy5ob3N0bmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0ICs9ICcvJzsKICAgICAgfQoKICAgICAgdCArPSBwYXJ0cy5wYXRoOwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMucXVlcnkgPT09ICdzdHJpbmcnICYmIHBhcnRzLnF1ZXJ5KSB7CiAgICAgIHQgKz0gJz8nICsgcGFydHMucXVlcnk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5mcmFnbWVudCA9PT0gJ3N0cmluZycgJiYgcGFydHMuZnJhZ21lbnQpIHsKICAgICAgdCArPSAnIycgKyBwYXJ0cy5mcmFnbWVudDsKICAgIH0KICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkSG9zdCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmICghcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmV0dXJuICcnOwogICAgfSBlbHNlIGlmIChVUkkuaXA2X2V4cHJlc3Npb24udGVzdChwYXJ0cy5ob3N0bmFtZSkpIHsKICAgICAgdCArPSAnWycgKyBwYXJ0cy5ob3N0bmFtZSArICddJzsKICAgIH0gZWxzZSB7CiAgICAgIHQgKz0gcGFydHMuaG9zdG5hbWU7CiAgICB9CgogICAgaWYgKHBhcnRzLnBvcnQpIHsKICAgICAgdCArPSAnOicgKyBwYXJ0cy5wb3J0OwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkQXV0aG9yaXR5ID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHJldHVybiBVUkkuYnVpbGRVc2VyaW5mbyhwYXJ0cykgKyBVUkkuYnVpbGRIb3N0KHBhcnRzKTsKICB9OwogIFVSSS5idWlsZFVzZXJpbmZvID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKHBhcnRzLnVzZXJuYW1lKSB7CiAgICAgIHQgKz0gVVJJLmVuY29kZShwYXJ0cy51c2VybmFtZSk7CiAgICB9CgogICAgaWYgKHBhcnRzLnBhc3N3b3JkKSB7CiAgICAgIHQgKz0gJzonICsgVVJJLmVuY29kZShwYXJ0cy5wYXNzd29yZCk7CiAgICB9CgogICAgaWYgKHQpIHsKICAgICAgdCArPSAnQCc7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYgb3IgaHR0cDovL2xhYnMuYXBhY2hlLm9yZy93ZWJhcmNoL3VyaS9yZmMvcmZjMzk4Ni5odG1sCiAgICAvLyBiZWluZyDCuy0uX34hJCYnKCkqKyw7PTpALz/CqyAlSEVYIGFuZCBhbG51bSBhcmUgYWxsb3dlZAogICAgLy8gdGhlIFJGQyBleHBsaWNpdGx5IHN0YXRlcyA/L2ZvbyBiZWluZyBhIHZhbGlkIHVzZSBjYXNlLCBubyBtZW50aW9uIG9mIHBhcmFtZXRlciBzeW50YXghCiAgICAvLyBVUkkuanMgdHJlYXRzIHRoZSBxdWVyeSBzdHJpbmcgYXMgYmVpbmcgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkCiAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlCgogICAgdmFyIHQgPSAnJzsKICAgIHZhciB1bmlxdWUsIGtleSwgaSwgbGVuZ3RoOwogICAgZm9yIChrZXkgaW4gZGF0YSkgewogICAgICBpZiAoaGFzT3duLmNhbGwoZGF0YSwga2V5KSAmJiBrZXkpIHsKICAgICAgICBpZiAoaXNBcnJheShkYXRhW2tleV0pKSB7CiAgICAgICAgICB1bmlxdWUgPSB7fTsKICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGFba2V5XS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoZGF0YVtrZXldW2ldICE9PSB1bmRlZmluZWQgJiYgdW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XVtpXSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgICAgICAgICAgaWYgKGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHQuc3Vic3RyaW5nKDEpOwogIH07CiAgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlIC0tIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gZG9uJ3QgYXBwZW5kICI9IiBmb3IgbnVsbCB2YWx1ZXMsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI3VybC1wYXJhbWV0ZXItc2VyaWFsaXphdGlvbgogICAgcmV0dXJuIFVSSS5lbmNvZGVRdWVyeShuYW1lLCBlc2NhcGVRdWVyeVNwYWNlKSArICh2YWx1ZSAhPT0gbnVsbCA/ICc9JyArIFVSSS5lbmNvZGVRdWVyeSh2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgOiAnJyk7CiAgfTsKCiAgVVJJLmFkZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgVVJJLmFkZFF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChkYXRhW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICBkYXRhW25hbWVdID0gdmFsdWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhW25hbWVdID09PSAnc3RyaW5nJykgewogICAgICAgIGRhdGFbbmFtZV0gPSBbZGF0YVtuYW1lXV07CiAgICAgIH0KCiAgICAgIGlmICghaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07CiAgICAgIH0KCiAgICAgIGRhdGFbbmFtZV0gPSAoZGF0YVtuYW1lXSB8fCBbXSkuY29uY2F0KHZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKICBVUkkucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIGksIGxlbmd0aCwga2V5OwoKICAgIGlmIChpc0FycmF5KG5hbWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBkYXRhW25hbWVbaV1dID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGdldFR5cGUobmFtZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgICBpZiAobmFtZS50ZXN0KGtleSkpIHsKICAgICAgICAgIGRhdGFba2V5XSA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAoa2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykgewogICAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pICYmIHZhbHVlLnRlc3QoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhW25hbWVdID09PSBTdHJpbmcodmFsdWUpICYmICghaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSkgewogICAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5yZW1vdmVRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcsIFJlZ0V4cCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKICBVUkkuaGFzUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHN3aXRjaCAoZ2V0VHlwZShuYW1lKSkgewogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZQogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkpIHsKICAgICAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpICYmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IFVSSS5oYXNRdWVyeShkYXRhLCBrZXksIHZhbHVlKSkpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgY2FzZSAnT2JqZWN0JzoKICAgICAgICBmb3IgKHZhciBfa2V5IGluIG5hbWUpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBfa2V5KSkgewogICAgICAgICAgICBpZiAoIVVSSS5oYXNRdWVyeShkYXRhLCBfa2V5LCBuYW1lW19rZXldKSkgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYSBzdHJpbmcsIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciBvYmplY3QgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CgogICAgc3dpdGNoIChnZXRUeXBlKHZhbHVlKSkgewogICAgICBjYXNlICdVbmRlZmluZWQnOgogICAgICAgIC8vIHRydWUgaWYgZXhpc3RzIChidXQgbWF5IGJlIGVtcHR5KQogICAgICAgIHJldHVybiBuYW1lIGluIGRhdGE7IC8vIGRhdGFbbmFtZV0gIT09IHVuZGVmaW5lZDsKCiAgICAgIGNhc2UgJ0Jvb2xlYW4nOgogICAgICAgIC8vIHRydWUgaWYgZXhpc3RzIGFuZCBub24tZW1wdHkKICAgICAgICB2YXIgX2Jvb2x5ID0gQm9vbGVhbihpc0FycmF5KGRhdGFbbmFtZV0pID8gZGF0YVtuYW1lXS5sZW5ndGggOiBkYXRhW25hbWVdKTsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IF9ib29seTsKCiAgICAgIGNhc2UgJ0Z1bmN0aW9uJzoKICAgICAgICAvLyBhbGxvdyBjb21wbGV4IGNvbXBhcmlzb24KICAgICAgICByZXR1cm4gISF2YWx1ZShkYXRhW25hbWVdLCBuYW1lLCBkYXRhKTsKCiAgICAgIGNhc2UgJ0FycmF5JzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHZhciBvcCA9IHdpdGhpbkFycmF5ID8gYXJyYXlDb250YWlucyA6IGFycmF5c0VxdWFsOwogICAgICAgIHJldHVybiBvcChkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBjYXNlICdSZWdFeHAnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIEJvb2xlYW4oZGF0YVtuYW1lXSAmJiBkYXRhW25hbWVdLm1hdGNoKHZhbHVlKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdpdGhpbkFycmF5KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBjYXNlICdOdW1iZXInOgogICAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTsKICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovCiAgICAgIGNhc2UgJ1N0cmluZyc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZGF0YVtuYW1lXSA9PT0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdpdGhpbkFycmF5KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKCgogIFVSSS5qb2luUGF0aHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBpbnB1dCA9IFtdOwogICAgdmFyIHNlZ21lbnRzID0gW107CiAgICB2YXIgbm9uRW1wdHlTZWdtZW50cyA9IDA7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHVybCA9IG5ldyBVUkkoYXJndW1lbnRzW2ldKTsKICAgICAgaW5wdXQucHVzaCh1cmwpOwogICAgICB2YXIgX3NlZ21lbnRzID0gdXJsLnNlZ21lbnQoKTsKICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBfc2VnbWVudHMubGVuZ3RoOyBzKyspIHsKICAgICAgICBpZiAodHlwZW9mIF9zZWdtZW50c1tzXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHNlZ21lbnRzLnB1c2goX3NlZ21lbnRzW3NdKTsKICAgICAgICB9CgogICAgICAgIGlmIChfc2VnbWVudHNbc10pIHsKICAgICAgICAgIG5vbkVtcHR5U2VnbWVudHMrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhbm9uRW1wdHlTZWdtZW50cykgewogICAgICByZXR1cm4gbmV3IFVSSSgnJyk7CiAgICB9CgogICAgdmFyIHVyaSA9IG5ldyBVUkkoJycpLnNlZ21lbnQoc2VnbWVudHMpOwoKICAgIGlmIChpbnB1dFswXS5wYXRoKCkgPT09ICcnIHx8IGlucHV0WzBdLnBhdGgoKS5zbGljZSgwLCAxKSA9PT0gJy8nKSB7CiAgICAgIHVyaS5wYXRoKCcvJyArIHVyaS5wYXRoKCkpOwogICAgfQoKICAgIHJldHVybiB1cmkubm9ybWFsaXplKCk7CiAgfTsKCiAgVVJJLmNvbW1vblBhdGggPSBmdW5jdGlvbihvbmUsIHR3bykgewogICAgdmFyIGxlbmd0aCA9IE1hdGgubWluKG9uZS5sZW5ndGgsIHR3by5sZW5ndGgpOwogICAgdmFyIHBvczsKCiAgICAvLyBmaW5kIGZpcnN0IG5vbi1tYXRjaGluZyBjaGFyYWN0ZXIKICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSB0d28uY2hhckF0KHBvcykpIHsKICAgICAgICBwb3MtLTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3MgPCAxKSB7CiAgICAgIHJldHVybiBvbmUuY2hhckF0KDApID09PSB0d28uY2hhckF0KDApICYmIG9uZS5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnOwogICAgfQoKICAgIC8vIHJldmVydCB0byBsYXN0IC8KICAgIGlmIChvbmUuY2hhckF0KHBvcykgIT09ICcvJyB8fCB0d28uY2hhckF0KHBvcykgIT09ICcvJykgewogICAgICBwb3MgPSBvbmUuc3Vic3RyaW5nKDAsIHBvcykubGFzdEluZGV4T2YoJy8nKTsKICAgIH0KCiAgICByZXR1cm4gb25lLnN1YnN0cmluZygwLCBwb3MgKyAxKTsKICB9OwoKICBVUkkud2l0aGluU3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nLCBjYWxsYmFjaywgb3B0aW9ucykgewogICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTsKICAgIHZhciBfc3RhcnQgPSBvcHRpb25zLnN0YXJ0IHx8IFVSSS5maW5kVXJpLnN0YXJ0OwogICAgdmFyIF9lbmQgPSBvcHRpb25zLmVuZCB8fCBVUkkuZmluZFVyaS5lbmQ7CiAgICB2YXIgX3RyaW0gPSBvcHRpb25zLnRyaW0gfHwgVVJJLmZpbmRVcmkudHJpbTsKICAgIHZhciBfYXR0cmlidXRlT3BlbiA9IC9bYS16MC05LV09WyInXT8kL2k7CgogICAgX3N0YXJ0Lmxhc3RJbmRleCA9IDA7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICB2YXIgbWF0Y2ggPSBfc3RhcnQuZXhlYyhzdHJpbmcpOwogICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHZhciBzdGFydCA9IG1hdGNoLmluZGV4OwogICAgICBpZiAob3B0aW9ucy5pZ25vcmVIdG1sKSB7CiAgICAgICAgLy8gYXR0cmlidXQoZT1bIiddPyQpCiAgICAgICAgdmFyIGF0dHJpYnV0ZU9wZW4gPSBzdHJpbmcuc2xpY2UoTWF0aC5tYXgoc3RhcnQgLSAzLCAwKSwgc3RhcnQpOwogICAgICAgIGlmIChhdHRyaWJ1dGVPcGVuICYmIF9hdHRyaWJ1dGVPcGVuLnRlc3QoYXR0cmlidXRlT3BlbikpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGVuZCA9IHN0YXJ0ICsgc3RyaW5nLnNsaWNlKHN0YXJ0KS5zZWFyY2goX2VuZCk7CiAgICAgIHZhciBzbGljZSA9IHN0cmluZy5zbGljZShzdGFydCwgZW5kKS5yZXBsYWNlKF90cmltLCAnJyk7CiAgICAgIGlmIChvcHRpb25zLmlnbm9yZSAmJiBvcHRpb25zLmlnbm9yZS50ZXN0KHNsaWNlKSkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBlbmQgPSBzdGFydCArIHNsaWNlLmxlbmd0aDsKICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKHNsaWNlLCBzdGFydCwgZW5kLCBzdHJpbmcpOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgc3RhcnQpICsgcmVzdWx0ICsgc3RyaW5nLnNsaWNlKGVuZCk7CiAgICAgIF9zdGFydC5sYXN0SW5kZXggPSBzdGFydCArIHJlc3VsdC5sZW5ndGg7CiAgICB9CgogICAgX3N0YXJ0Lmxhc3RJbmRleCA9IDA7CiAgICByZXR1cm4gc3RyaW5nOwogIH07CgogIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lID0gZnVuY3Rpb24odikgewogICAgLy8gVGhlb3JldGljYWxseSBVUklzIGFsbG93IHBlcmNlbnQtZW5jb2RpbmcgaW4gSG9zdG5hbWVzIChhY2NvcmRpbmcgdG8gUkZDIDM5ODYpCiAgICAvLyB0aGV5IGFyZSBub3QgcGFydCBvZiBETlMgYW5kIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IFVSSS5qcwoKICAgIGlmICh2Lm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgIC8vIHRlc3QgcHVueWNvZGUKICAgICAgaWYgKCFwdW55Y29kZSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7CiAgICAgIH0KCiAgICAgIGlmIChwdW55Y29kZS50b0FTQ0lJKHYpLm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIG5vQ29uZmxpY3QKICBVUkkubm9Db25mbGljdCA9IGZ1bmN0aW9uKHJlbW92ZUFsbCkgewogICAgaWYgKHJlbW92ZUFsbCkgewogICAgICB2YXIgdW5jb25mbGljdGVkID0gewogICAgICAgIFVSSTogdGhpcy5ub0NvbmZsaWN0KCkKICAgICAgfTsKCiAgICAgIGlmIChyb290LlVSSVRlbXBsYXRlICYmIHR5cGVvZiByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuVVJJVGVtcGxhdGUgPSByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QoKTsKICAgICAgfQoKICAgICAgaWYgKHJvb3QuSVB2NiAmJiB0eXBlb2Ygcm9vdC5JUHY2Lm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuSVB2NiA9IHJvb3QuSVB2Ni5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LlNlY29uZExldmVsRG9tYWlucyAmJiB0eXBlb2Ygcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHVuY29uZmxpY3RlZC5TZWNvbmRMZXZlbERvbWFpbnMgPSByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bmNvbmZsaWN0ZWQ7CiAgICB9IGVsc2UgaWYgKHJvb3QuVVJJID09PSB0aGlzKSB7CiAgICAgIHJvb3QuVVJJID0gX1VSSTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmJ1aWxkID0gZnVuY3Rpb24oZGVmZXJCdWlsZCkgewogICAgaWYgKGRlZmVyQnVpbGQgPT09IHRydWUpIHsKICAgICAgdGhpcy5fZGVmZXJyZWRfYnVpbGQgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkZWZlckJ1aWxkID09PSB1bmRlZmluZWQgfHwgdGhpcy5fZGVmZXJyZWRfYnVpbGQpIHsKICAgICAgdGhpcy5fc3RyaW5nID0gVVJJLmJ1aWxkKHRoaXMuX3BhcnRzKTsKICAgICAgdGhpcy5fZGVmZXJyZWRfYnVpbGQgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmNsb25lID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gbmV3IFVSSSh0aGlzKTsKICB9OwoKICBwLnZhbHVlT2YgPSBwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5idWlsZChmYWxzZSkuX3N0cmluZzsKICB9OwoKCiAgZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcihfcGFydCl7CiAgICByZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fcGFydHNbX3BhcnRdID0gdiB8fCBudWxsOwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoX3BhcnQsIF9rZXkpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh2ICE9PSBudWxsKSB7CiAgICAgICAgICB2ID0gdiArICcnOwogICAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSBfa2V5KSB7CiAgICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHY7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CiAgICB9OwogIH0KCiAgcC5wcm90b2NvbCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Byb3RvY29sJyk7CiAgcC51c2VybmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3VzZXJuYW1lJyk7CiAgcC5wYXNzd29yZCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Bhc3N3b3JkJyk7CiAgcC5ob3N0bmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ2hvc3RuYW1lJyk7CiAgcC5wb3J0ID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncG9ydCcpOwogIHAucXVlcnkgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdxdWVyeScsICc/Jyk7CiAgcC5mcmFnbWVudCA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ2ZyYWdtZW50JywgJyMnKTsKCiAgcC5zZWFyY2ggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHQgPSB0aGlzLnF1ZXJ5KHYsIGJ1aWxkKTsKICAgIHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJz8nICsgdCkgOiB0OwogIH07CiAgcC5oYXNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5mcmFnbWVudCh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCcjJyArIHQpIDogdDsKICB9OwoKICBwLnBhdGhuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aCB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CiAgICAgIHJldHVybiB2ID8gKHRoaXMuX3BhcnRzLnVybiA/IFVSSS5kZWNvZGVVcm5QYXRoIDogVVJJLmRlY29kZVBhdGgpKHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlVXJuUGF0aCh2KSA6ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVBhdGgodikgOiAnLyc7CiAgICAgIH0KICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucGF0aCA9IHAucGF0aG5hbWU7CiAgcC5ocmVmID0gZnVuY3Rpb24oaHJlZiwgYnVpbGQpIHsKICAgIHZhciBrZXk7CgogICAgaWYgKGhyZWYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpOwogICAgfQoKICAgIHRoaXMuX3N0cmluZyA9ICcnOwogICAgdGhpcy5fcGFydHMgPSBVUkkuX3BhcnRzKCk7CgogICAgdmFyIF9VUkkgPSBocmVmIGluc3RhbmNlb2YgVVJJOwogICAgdmFyIF9vYmplY3QgPSB0eXBlb2YgaHJlZiA9PT0gJ29iamVjdCcgJiYgKGhyZWYuaG9zdG5hbWUgfHwgaHJlZi5wYXRoIHx8IGhyZWYucGF0aG5hbWUpOwogICAgaWYgKGhyZWYubm9kZU5hbWUpIHsKICAgICAgdmFyIGF0dHJpYnV0ZSA9IFVSSS5nZXREb21BdHRyaWJ1dGUoaHJlZik7CiAgICAgIGhyZWYgPSBocmVmW2F0dHJpYnV0ZV0gfHwgJyc7CiAgICAgIF9vYmplY3QgPSBmYWxzZTsKICAgIH0KCiAgICAvLyB3aW5kb3cubG9jYXRpb24gaXMgcmVwb3J0ZWQgdG8gYmUgYW4gb2JqZWN0LCBidXQgaXQncyBub3QgdGhlIHNvcnQKICAgIC8vIG9mIG9iamVjdCB3ZSdyZSBsb29raW5nIGZvcjoKICAgIC8vICogbG9jYXRpb24ucHJvdG9jb2wgZW5kcyB3aXRoIGEgY29sb24KICAgIC8vICogbG9jYXRpb24ucXVlcnkgIT0gb2JqZWN0LnNlYXJjaAogICAgLy8gKiBsb2NhdGlvbi5oYXNoICE9IG9iamVjdC5mcmFnbWVudAogICAgLy8gc2ltcGx5IHNlcmlhbGl6aW5nIHRoZSB1bmtub3duIG9iamVjdCBzaG91bGQgZG8gdGhlIHRyaWNrCiAgICAvLyAoZm9yIGxvY2F0aW9uLCBub3QgZm9yIGV2ZXJ5dGhpbmcuLi4pCiAgICBpZiAoIV9VUkkgJiYgX29iamVjdCAmJiBocmVmLnBhdGhuYW1lICE9PSB1bmRlZmluZWQpIHsKICAgICAgaHJlZiA9IGhyZWYudG9TdHJpbmcoKTsKICAgIH0KCiAgICBpZiAodHlwZW9mIGhyZWYgPT09ICdzdHJpbmcnIHx8IGhyZWYgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgdGhpcy5fcGFydHMgPSBVUkkucGFyc2UoU3RyaW5nKGhyZWYpLCB0aGlzLl9wYXJ0cyk7CiAgICB9IGVsc2UgaWYgKF9VUkkgfHwgX29iamVjdCkgewogICAgICB2YXIgc3JjID0gX1VSSSA/IGhyZWYuX3BhcnRzIDogaHJlZjsKICAgICAgZm9yIChrZXkgaW4gc3JjKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKHRoaXMuX3BhcnRzLCBrZXkpKSB7CiAgICAgICAgICB0aGlzLl9wYXJ0c1trZXldID0gc3JjW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGlucHV0Jyk7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gaWRlbnRpZmljYXRpb24gYWNjZXNzb3JzCiAgcC5pcyA9IGZ1bmN0aW9uKHdoYXQpIHsKICAgIHZhciBpcCA9IGZhbHNlOwogICAgdmFyIGlwNCA9IGZhbHNlOwogICAgdmFyIGlwNiA9IGZhbHNlOwogICAgdmFyIG5hbWUgPSBmYWxzZTsKICAgIHZhciBzbGQgPSBmYWxzZTsKICAgIHZhciBpZG4gPSBmYWxzZTsKICAgIHZhciBwdW55Y29kZSA9IGZhbHNlOwogICAgdmFyIHJlbGF0aXZlID0gIXRoaXMuX3BhcnRzLnVybjsKCiAgICBpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmVsYXRpdmUgPSBmYWxzZTsKICAgICAgaXA0ID0gVVJJLmlwNF9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcDYgPSBVUkkuaXA2X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlwID0gaXA0IHx8IGlwNjsKICAgICAgbmFtZSA9ICFpcDsKICAgICAgc2xkID0gbmFtZSAmJiBTTEQgJiYgU0xELmhhcyh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlkbiA9IG5hbWUgJiYgVVJJLmlkbl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBwdW55Y29kZSA9IG5hbWUgJiYgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICB9CgogICAgc3dpdGNoICh3aGF0LnRvTG93ZXJDYXNlKCkpIHsKICAgICAgY2FzZSAncmVsYXRpdmUnOgogICAgICAgIHJldHVybiByZWxhdGl2ZTsKCiAgICAgIGNhc2UgJ2Fic29sdXRlJzoKICAgICAgICByZXR1cm4gIXJlbGF0aXZlOwoKICAgICAgLy8gaG9zdG5hbWUgaWRlbnRpZmljYXRpb24KICAgICAgY2FzZSAnZG9tYWluJzoKICAgICAgY2FzZSAnbmFtZSc6CiAgICAgICAgcmV0dXJuIG5hbWU7CgogICAgICBjYXNlICdzbGQnOgogICAgICAgIHJldHVybiBzbGQ7CgogICAgICBjYXNlICdpcCc6CiAgICAgICAgcmV0dXJuIGlwOwoKICAgICAgY2FzZSAnaXA0JzoKICAgICAgY2FzZSAnaXB2NCc6CiAgICAgIGNhc2UgJ2luZXQ0JzoKICAgICAgICByZXR1cm4gaXA0OwoKICAgICAgY2FzZSAnaXA2JzoKICAgICAgY2FzZSAnaXB2Nic6CiAgICAgIGNhc2UgJ2luZXQ2JzoKICAgICAgICByZXR1cm4gaXA2OwoKICAgICAgY2FzZSAnaWRuJzoKICAgICAgICByZXR1cm4gaWRuOwoKICAgICAgY2FzZSAndXJsJzoKICAgICAgICByZXR1cm4gIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3Vybic6CiAgICAgICAgcmV0dXJuICEhdGhpcy5fcGFydHMudXJuOwoKICAgICAgY2FzZSAncHVueWNvZGUnOgogICAgICAgIHJldHVybiBwdW55Y29kZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9OwoKICAvLyBjb21wb25lbnQgc3BlY2lmaWMgaW5wdXQgdmFsaWRhdGlvbgogIHZhciBfcHJvdG9jb2wgPSBwLnByb3RvY29sOwogIHZhciBfcG9ydCA9IHAucG9ydDsKICB2YXIgX2hvc3RuYW1lID0gcC5ob3N0bmFtZTsKCiAgcC5wcm90b2NvbCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgLy8gYWNjZXB0IHRyYWlsaW5nIDovLwogICAgICAgIHYgPSB2LnJlcGxhY2UoLzooXC9cLyk/JC8sICcnKTsKCiAgICAgICAgaWYgKCF2Lm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuXCd0IHN0YXJ0IHdpdGggW0EtWl0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcHJvdG9jb2wuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKICBwLnNjaGVtZSA9IHAucHJvdG9jb2w7CiAgcC5wb3J0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICh2ID09PSAwKSB7CiAgICAgICAgdiA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgdiArPSAnJzsKICAgICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICc6JykgewogICAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYubWF0Y2goL1teMC05XS8pKSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQb3J0ICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIF9wb3J0LmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5ob3N0bmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgeCA9IHt9OwogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB4KTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdiA9IHguaG9zdG5hbWU7CiAgICB9CiAgICByZXR1cm4gX2hvc3RuYW1lLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CgogIC8vIGNvbXBvdW5kIGFjY2Vzc29ycwogIHAub3JpZ2luID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2woKTsKICAgICAgdmFyIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5KCk7CiAgICAgIGlmICghYXV0aG9yaXR5KSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICByZXR1cm4gKHByb3RvY29sID8gcHJvdG9jb2wgKyAnOi8vJyA6ICcnKSArIHRoaXMuYXV0aG9yaXR5KCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgb3JpZ2luID0gVVJJKHYpOwogICAgICB0aGlzCiAgICAgICAgLnByb3RvY29sKG9yaWdpbi5wcm90b2NvbCgpKQogICAgICAgIC5hdXRob3JpdHkob3JpZ2luLmF1dGhvcml0eSgpKQogICAgICAgIC5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuaG9zdCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRIb3N0KHRoaXMuX3BhcnRzKSA6ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5hdXRob3JpdHkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkQXV0aG9yaXR5KHRoaXMuX3BhcnRzKSA6ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUF1dGhvcml0eSh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnVzZXJpbmZvID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB0ID0gVVJJLmJ1aWxkVXNlcmluZm8odGhpcy5fcGFydHMpOwogICAgICByZXR1cm4gdCA/IHQuc3Vic3RyaW5nKDAsIHQubGVuZ3RoIC0xKSA6IHQ7CiAgICB9IGVsc2UgewogICAgICBpZiAodlt2Lmxlbmd0aC0xXSAhPT0gJ0AnKSB7CiAgICAgICAgdiArPSAnQCc7CiAgICAgIH0KCiAgICAgIFVSSS5wYXJzZVVzZXJpbmZvKHYsIHRoaXMuX3BhcnRzKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucmVzb3VyY2UgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHBhcnRzOwoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMucGF0aCgpICsgdGhpcy5zZWFyY2goKSArIHRoaXMuaGFzaCgpOwogICAgfQoKICAgIHBhcnRzID0gVVJJLnBhcnNlKHYpOwogICAgdGhpcy5fcGFydHMucGF0aCA9IHBhcnRzLnBhdGg7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IHBhcnRzLnF1ZXJ5OwogICAgdGhpcy5fcGFydHMuZnJhZ21lbnQgPSBwYXJ0cy5mcmFnbWVudDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGZyYWN0aW9uIGFjY2Vzc29ycwogIHAuc3ViZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICAvLyBjb252ZW5pZW5jZSwgcmV0dXJuICJ3d3ciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBncmFiIGRvbWFpbiBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGggLSAxOwogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGVuZCkgfHwgJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoOwogICAgICB2YXIgc3ViID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGUpOwogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoc3ViKSk7CgogICAgICBpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLicpIHsKICAgICAgICB2ICs9ICcuJzsKICAgICAgfQoKICAgICAgaWYgKHYpIHsKICAgICAgICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSh2KTsKICAgICAgfQoKICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5kb21haW4gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyBjb252ZW5pZW5jZSwgcmV0dXJuICJleGFtcGxlLm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIGlmIGhvc3RuYW1lIGNvbnNpc3RzIG9mIDEgb3IgMiBzZWdtZW50cywgaXQgbXVzdCBiZSB0aGUgZG9tYWluCiAgICAgIHZhciB0ID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubWF0Y2goL1wuL2cpOwogICAgICBpZiAodCAmJiB0Lmxlbmd0aCA8IDIpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWU7CiAgICAgIH0KCiAgICAgIC8vIGdyYWIgdGxkIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50CiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLnRsZChidWlsZCkubGVuZ3RoIC0gMTsKICAgICAgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nLCBlbmQgLTEpICsgMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCF2KSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBkb21haW4gZW1wdHknKTsKICAgICAgfQoKICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CgogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHY7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZG9tYWluKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnRsZCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIC8vIHJldHVybiAib3JnIiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIHBvcyA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIHZhciB0bGQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcocG9zICsgMSk7CgogICAgICBpZiAoYnVpbGQgIT09IHRydWUgJiYgU0xEICYmIFNMRC5saXN0W3RsZC50b0xvd2VyQ2FzZSgpXSkgewogICAgICAgIHJldHVybiBTTEQuZ2V0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB8fCB0bGQ7CiAgICAgIH0KCiAgICAgIHJldHVybiB0bGQ7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVwbGFjZTsKCiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIGVtcHR5Jyk7CiAgICAgIH0gZWxzZSBpZiAodi5tYXRjaCgvW15hLXpBLVowLTktXS8pKSB7CiAgICAgICAgaWYgKFNMRCAmJiBTTEQuaXModikpIHsKICAgICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVExEICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpOwogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZGlyZWN0b3J5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoICYmICF0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnLyc7CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGggLSAxOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZW5kKSB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CgogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoKHJlcykgOiByZXM7CgogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGg7CiAgICAgIHZhciBkaXJlY3RvcnkgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KGRpcmVjdG9yeSkpOwoKICAgICAgLy8gZnVsbHkgcXVhbGlmaWVyIGRpcmVjdG9yaWVzIGJlZ2luIHdpdGggYSBzbGFzaAogICAgICBpZiAoIXRoaXMuaXMoJ3JlbGF0aXZlJykpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHYgPSAnLyc7CiAgICAgICAgfQoKICAgICAgICBpZiAodi5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICAgICAgdiA9ICcvJyArIHY7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBkaXJlY3RvcmllcyBhbHdheXMgZW5kIHdpdGggYSBzbGFzaAogICAgICBpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLycpIHsKICAgICAgICB2ICs9ICcvJzsKICAgICAgfQoKICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5maWxlbmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5wYXRoLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZyhwb3MrMSk7CgogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG11dGF0ZWREaXJlY3RvcnkgPSBmYWxzZTsKCiAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJy8nKSB7CiAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICB9CgogICAgICBpZiAodi5tYXRjaCgvXC4/XC8vKSkgewogICAgICAgIG11dGF0ZWREaXJlY3RvcnkgPSB0cnVlOwogICAgICB9CgogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5maWxlbmFtZSgpKSArICckJyk7CiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKCiAgICAgIGlmIChtdXRhdGVkRGlyZWN0b3J5KSB7CiAgICAgICAgdGhpcy5ub3JtYWxpemVQYXRoKGJ1aWxkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zdWZmaXggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lKCk7CiAgICAgIHZhciBwb3MgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgcywgcmVzOwoKICAgICAgaWYgKHBvcyA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIHN1ZmZpeCBtYXkgb25seSBjb250YWluIGFsbnVtIGNoYXJhY3RlcnMgKHl1cCwgSSBtYWRlIHRoaXMgdXAuKQogICAgICBzID0gZmlsZW5hbWUuc3Vic3RyaW5nKHBvcysxKTsKICAgICAgcmVzID0gKC9eW2EtejAtOSVdKyQvaSkudGVzdChzKSA/IHMgOiAnJzsKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJy4nKSB7CiAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICB9CgogICAgICB2YXIgc3VmZml4ID0gdGhpcy5zdWZmaXgoKTsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXN1ZmZpeCkgewogICAgICAgIGlmICghdikgewogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoICs9ICcuJyArIFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB9IGVsc2UgaWYgKCF2KSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoJy4nICsgc3VmZml4KSArICckJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoc3VmZml4KSArICckJyk7CiAgICAgIH0KCiAgICAgIGlmIChyZXBsYWNlKSB7CiAgICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnNlZ21lbnQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlcGFyYXRvciA9IHRoaXMuX3BhcnRzLnVybiA/ICc6JyA6ICcvJzsKICAgIHZhciBwYXRoID0gdGhpcy5wYXRoKCk7CiAgICB2YXIgYWJzb2x1dGUgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nOwogICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdChzZXBhcmF0b3IpOwoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHNlZ21lbnQ7CiAgICAgIHNlZ21lbnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudCAiJyArIHNlZ21lbnQgKyAnIiwgbXVzdCBiZSAwLWJhc2VkIGludGVnZXInKTsKICAgIH0KCiAgICBpZiAoYWJzb2x1dGUpIHsKICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0KCiAgICBpZiAoc2VnbWVudCA8IDApIHsKICAgICAgLy8gYWxsb3cgbmVnYXRpdmUgaW5kZXhlcyB0byBhZGRyZXNzIGZyb20gdGhlIGVuZAogICAgICBzZWdtZW50ID0gTWF0aC5tYXgoc2VnbWVudHMubGVuZ3RoICsgc2VnbWVudCwgMCk7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqLwogICAgICByZXR1cm4gc2VnbWVudCA9PT0gdW5kZWZpbmVkCiAgICAgICAgPyBzZWdtZW50cwogICAgICAgIDogc2VnbWVudHNbc2VnbWVudF07CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqLwogICAgfSBlbHNlIGlmIChzZWdtZW50ID09PSBudWxsIHx8IHNlZ21lbnRzW3NlZ21lbnRdID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKGlzQXJyYXkodikpIHsKICAgICAgICBzZWdtZW50cyA9IFtdOwogICAgICAgIC8vIGNvbGxhcHNlIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiBhcnJheQogICAgICAgIGZvciAodmFyIGk9MCwgbD12Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgaWYgKCF2W2ldLmxlbmd0aCAmJiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggJiYgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpOwogICAgICAgICAgfQoKICAgICAgICAgIHNlZ21lbnRzLnB1c2godHJpbVNsYXNoZXModltpXSkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh2IHx8IHR5cGVvZiB2ID09PSAnc3RyaW5nJykgewogICAgICAgIHYgPSB0cmltU2xhc2hlcyh2KTsKICAgICAgICBpZiAoc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9PT0gJycpIHsKICAgICAgICAgIC8vIGVtcHR5IHRyYWlsaW5nIGVsZW1lbnRzIGhhdmUgdG8gYmUgb3ZlcndyaXR0ZW4KICAgICAgICAgIC8vIHRvIHByZXZlbnQgcmVzdWx0cyBzdWNoIGFzIC9mb28vL2JhcgogICAgICAgICAgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9IHY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlZ21lbnRzLnB1c2godik7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAodikgewogICAgICAgIHNlZ21lbnRzW3NlZ21lbnRdID0gdHJpbVNsYXNoZXModik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHNlZ21lbnQsIDEpOwogICAgICB9CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnVuc2hpZnQoJycpOwogICAgfQoKICAgIHJldHVybiB0aGlzLnBhdGgoc2VnbWVudHMuam9pbihzZXBhcmF0b3IpLCBidWlsZCk7CiAgfTsKICBwLnNlZ21lbnRDb2RlZCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7CiAgICB2YXIgc2VnbWVudHMsIGksIGw7CgogICAgaWYgKHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogICAgICBpZiAoIWlzQXJyYXkoc2VnbWVudHMpKSB7CiAgICAgICAgc2VnbWVudHMgPSBzZWdtZW50cyAhPT0gdW5kZWZpbmVkID8gVVJJLmRlY29kZShzZWdtZW50cykgOiB1bmRlZmluZWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChpID0gMCwgbCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgc2VnbWVudHNbaV0gPSBVUkkuZGVjb2RlKHNlZ21lbnRzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWdtZW50czsKICAgIH0KCiAgICBpZiAoIWlzQXJyYXkodikpIHsKICAgICAgdiA9ICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgdiBpbnN0YW5jZW9mIFN0cmluZykgPyBVUkkuZW5jb2RlKHYpIDogdjsKICAgIH0gZWxzZSB7CiAgICAgIGZvciAoaSA9IDAsIGwgPSB2Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZbaV0gPSBVUkkuZW5jb2RlKHZbaV0pOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7CiAgfTsKCiAgLy8gbXV0YXRpbmcgcXVlcnkgc3RyaW5nCiAgdmFyIHEgPSBwLnF1ZXJ5OwogIHAucXVlcnkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgPT09IHRydWUpIHsKICAgICAgcmV0dXJuIFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHZhciByZXN1bHQgPSB2LmNhbGwodGhpcywgZGF0YSk7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkocmVzdWx0IHx8IGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgaWYgKHYgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeSh2LCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHEuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgICB9CiAgfTsKICBwLnNldFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKCiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8IG5hbWUgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IG51bGw7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkgewogICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSBuYW1lW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuYWRkUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLmFkZFF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWUpOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5yZW1vdmVRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBVUkkucmVtb3ZlUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUpOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5oYXNRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICByZXR1cm4gVVJJLmhhc1F1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSk7CiAgfTsKICBwLnNldFNlYXJjaCA9IHAuc2V0UXVlcnk7CiAgcC5hZGRTZWFyY2ggPSBwLmFkZFF1ZXJ5OwogIHAucmVtb3ZlU2VhcmNoID0gcC5yZW1vdmVRdWVyeTsKICBwLmhhc1NlYXJjaCA9IHAuaGFzUXVlcnk7CgogIC8vIHNhbml0aXppbmcgVVJMcwogIHAubm9ybWFsaXplID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB0aGlzCiAgICAgICAgLm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVQYXRoKGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgICAubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpCiAgICAgICAgLmJ1aWxkKCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMKICAgICAgLm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKQogICAgICAubm9ybWFsaXplSG9zdG5hbWUoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVQb3J0KGZhbHNlKQogICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKQogICAgICAubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpCiAgICAgIC5idWlsZCgpOwogIH07CiAgcC5ub3JtYWxpemVQcm90b2NvbCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJykgewogICAgICB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9IHRoaXMuX3BhcnRzLnByb3RvY29sLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplSG9zdG5hbWUgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIGlmICh0aGlzLmlzKCdJRE4nKSAmJiBwdW55Y29kZSkgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcygnSVB2NicpICYmIElQdjYpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IElQdjYuYmVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQb3J0ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIC8vIHJlbW92ZSBwb3J0IG9mIGl0J3MgdGhlIHByb3RvY29sJ3MgZGVmYXVsdAogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fcGFydHMucG9ydCA9PT0gVVJJLmRlZmF1bHRQb3J0c1t0aGlzLl9wYXJ0cy5wcm90b2NvbF0pIHsKICAgICAgdGhpcy5fcGFydHMucG9ydCA9IG51bGw7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUGF0aCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICB2YXIgX3BhdGggPSB0aGlzLl9wYXJ0cy5wYXRoOwogICAgaWYgKCFfcGF0aCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSBVUkkucmVjb2RlVXJuUGF0aCh0aGlzLl9wYXJ0cy5wYXRoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIF9wYXRoID0gVVJJLnJlY29kZVBhdGgoX3BhdGgpOwoKICAgIHZhciBfd2FzX3JlbGF0aXZlOwogICAgdmFyIF9sZWFkaW5nUGFyZW50cyA9ICcnOwogICAgdmFyIF9wYXJlbnQsIF9wb3M7CgogICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzCiAgICBpZiAoX3BhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgX3dhc19yZWxhdGl2ZSA9IHRydWU7CiAgICAgIF9wYXRoID0gJy8nICsgX3BhdGg7CiAgICB9CgogICAgLy8gaGFuZGxlIHJlbGF0aXZlIGZpbGVzIChhcyBvcHBvc2VkIHRvIGRpcmVjdG9yaWVzKQogICAgaWYgKF9wYXRoLnNsaWNlKC0zKSA9PT0gJy8uLicgfHwgX3BhdGguc2xpY2UoLTIpID09PSAnLy4nKSB7CiAgICAgIF9wYXRoICs9ICcvJzsKICAgIH0KCiAgICAvLyByZXNvbHZlIHNpbXBsZXMKICAgIF9wYXRoID0gX3BhdGgKICAgICAgLnJlcGxhY2UoLyhcLyhcLlwvKSspfChcL1wuJCkvZywgJy8nKQogICAgICAucmVwbGFjZSgvXC97Mix9L2csICcvJyk7CgogICAgLy8gcmVtZW1iZXIgbGVhZGluZyBwYXJlbnRzCiAgICBpZiAoX3dhc19yZWxhdGl2ZSkgewogICAgICBfbGVhZGluZ1BhcmVudHMgPSBfcGF0aC5zdWJzdHJpbmcoMSkubWF0Y2goL14oXC5cLlwvKSsvKSB8fCAnJzsKICAgICAgaWYgKF9sZWFkaW5nUGFyZW50cykgewogICAgICAgIF9sZWFkaW5nUGFyZW50cyA9IF9sZWFkaW5nUGFyZW50c1swXTsKICAgICAgfQogICAgfQoKICAgIC8vIHJlc29sdmUgcGFyZW50cwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgX3BhcmVudCA9IF9wYXRoLnNlYXJjaCgvXC9cLlwuKFwvfCQpLyk7CiAgICAgIGlmIChfcGFyZW50ID09PSAtMSkgewogICAgICAgIC8vIG5vIG1vcmUgLi4vIHRvIHJlc29sdmUKICAgICAgICBicmVhazsKICAgICAgfSBlbHNlIGlmIChfcGFyZW50ID09PSAwKSB7CiAgICAgICAgLy8gdG9wIGxldmVsIGNhbm5vdCBiZSByZWxhdGl2ZSwgc2tpcCBpdAogICAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDMpOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBfcG9zID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wYXJlbnQpLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIGlmIChfcG9zID09PSAtMSkgewogICAgICAgIF9wb3MgPSBfcGFyZW50OwogICAgICB9CiAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wb3MpICsgX3BhdGguc3Vic3RyaW5nKF9wYXJlbnQgKyAzKTsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gcmVsYXRpdmUKICAgIGlmIChfd2FzX3JlbGF0aXZlICYmIHRoaXMuaXMoJ3JlbGF0aXZlJykpIHsKICAgICAgX3BhdGggPSBfbGVhZGluZ1BhcmVudHMgKyBfcGF0aC5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgdGhpcy5fcGFydHMucGF0aCA9IF9wYXRoOwogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGhuYW1lID0gcC5ub3JtYWxpemVQYXRoOwogIHAubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5xdWVyeS5sZW5ndGgpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeShVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUZyYWdtZW50ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICghdGhpcy5fcGFydHMuZnJhZ21lbnQpIHsKICAgICAgdGhpcy5fcGFydHMuZnJhZ21lbnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVNlYXJjaCA9IHAubm9ybWFsaXplUXVlcnk7CiAgcC5ub3JtYWxpemVIYXNoID0gcC5ub3JtYWxpemVGcmFnbWVudDsKCiAgcC5pc284ODU5ID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgdW5pY29kZSBpbnB1dCwgaXNvODg1OSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gZXNjYXBlOwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICAgIHRyeSB7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBVUkkuZW5jb2RlID0gZTsKICAgICAgVVJJLmRlY29kZSA9IGQ7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLnVuaWNvZGUgPSBmdW5jdGlvbigpIHsKICAgIC8vIGV4cGVjdCBpc284ODU5IGlucHV0LCB1bmljb2RlIG91dHB1dAogICAgdmFyIGUgPSBVUkkuZW5jb2RlOwogICAgdmFyIGQgPSBVUkkuZGVjb2RlOwoKICAgIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgICBVUkkuZGVjb2RlID0gdW5lc2NhcGU7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5yZWFkYWJsZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHVyaSA9IHRoaXMuY2xvbmUoKTsKICAgIC8vIHJlbW92aW5nIHVzZXJuYW1lLCBwYXNzd29yZCwgYmVjYXVzZSB0aGV5IHNob3VsZG4ndCBiZSBkaXNwbGF5ZWQgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgICB1cmkudXNlcm5hbWUoJycpLnBhc3N3b3JkKCcnKS5ub3JtYWxpemUoKTsKICAgIHZhciB0ID0gJyc7CiAgICBpZiAodXJpLl9wYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHVyaS5fcGFydHMucHJvdG9jb2wgKyAnOi8vJzsKICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodXJpLmlzKCdwdW55Y29kZScpICYmIHB1bnljb2RlKSB7CiAgICAgICAgdCArPSBwdW55Y29kZS50b1VuaWNvZGUodXJpLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgICAgaWYgKHVyaS5fcGFydHMucG9ydCkgewogICAgICAgICAgdCArPSAnOicgKyB1cmkuX3BhcnRzLnBvcnQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHQgKz0gdXJpLmhvc3QoKTsKICAgICAgfQogICAgfQoKICAgIGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lICYmIHVyaS5fcGFydHMucGF0aCAmJiB1cmkuX3BhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdCArPSAnLyc7CiAgICB9CgogICAgdCArPSB1cmkucGF0aCh0cnVlKTsKICAgIGlmICh1cmkuX3BhcnRzLnF1ZXJ5KSB7CiAgICAgIHZhciBxID0gJyc7CiAgICAgIGZvciAodmFyIGkgPSAwLCBxcCA9IHVyaS5fcGFydHMucXVlcnkuc3BsaXQoJyYnKSwgbCA9IHFwLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZhciBrdiA9IChxcFtpXSB8fCAnJykuc3BsaXQoJz0nKTsKICAgICAgICBxICs9ICcmJyArIFVSSS5kZWNvZGVRdWVyeShrdlswXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgIC5yZXBsYWNlKC8mL2csICclMjYnKTsKCiAgICAgICAgaWYgKGt2WzFdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHEgKz0gJz0nICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzFdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKQogICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHQgKz0gJz8nICsgcS5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgdCArPSBVUkkuZGVjb2RlUXVlcnkodXJpLmhhc2goKSwgdHJ1ZSk7CiAgICByZXR1cm4gdDsKICB9OwoKICAvLyByZXNvbHZpbmcgcmVsYXRpdmUgYW5kIGFic29sdXRlIFVSTHMKICBwLmFic29sdXRlVG8gPSBmdW5jdGlvbihiYXNlKSB7CiAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgcHJvcGVydGllcyA9IFsncHJvdG9jb2wnLCAndXNlcm5hbWUnLCAncGFzc3dvcmQnLCAnaG9zdG5hbWUnLCAncG9ydCddOwogICAgdmFyIGJhc2VkaXIsIGksIHA7CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7CiAgICB9CgogICAgaWYgKCEoYmFzZSBpbnN0YW5jZW9mIFVSSSkpIHsKICAgICAgYmFzZSA9IG5ldyBVUkkoYmFzZSk7CiAgICB9CgogICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sID0gYmFzZS5fcGFydHMucHJvdG9jb2w7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiByZXNvbHZlZDsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyAocCA9IHByb3BlcnRpZXNbaV0pOyBpKyspIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzW3BdID0gYmFzZS5fcGFydHNbcF07CiAgICB9CgogICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucGF0aCkgewogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IGJhc2UuX3BhcnRzLnBhdGg7CiAgICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5KSB7CiAgICAgICAgcmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5ID0gYmFzZS5fcGFydHMucXVlcnk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAocmVzb2x2ZWQuX3BhcnRzLnBhdGguc3Vic3RyaW5nKC0yKSA9PT0gJy4uJykgewogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCArPSAnLyc7CiAgICB9CgogICAgaWYgKHJlc29sdmVkLnBhdGgoKS5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBiYXNlZGlyID0gYmFzZS5kaXJlY3RvcnkoKTsKICAgICAgYmFzZWRpciA9IGJhc2VkaXIgPyBiYXNlZGlyIDogYmFzZS5wYXRoKCkuaW5kZXhPZignLycpID09PSAwID8gJy8nIDogJyc7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gKGJhc2VkaXIgPyAoYmFzZWRpciArICcvJykgOiAnJykgKyByZXNvbHZlZC5fcGFydHMucGF0aDsKICAgICAgcmVzb2x2ZWQubm9ybWFsaXplUGF0aCgpOwogICAgfQoKICAgIHJlc29sdmVkLmJ1aWxkKCk7CiAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgfTsKICBwLnJlbGF0aXZlVG8gPSBmdW5jdGlvbihiYXNlKSB7CiAgICB2YXIgcmVsYXRpdmUgPSB0aGlzLmNsb25lKCkubm9ybWFsaXplKCk7CiAgICB2YXIgcmVsYXRpdmVQYXJ0cywgYmFzZVBhcnRzLCBjb21tb24sIHJlbGF0aXZlUGF0aCwgYmFzZVBhdGg7CgogICAgaWYgKHJlbGF0aXZlLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpLm5vcm1hbGl6ZSgpOwogICAgcmVsYXRpdmVQYXJ0cyA9IHJlbGF0aXZlLl9wYXJ0czsKICAgIGJhc2VQYXJ0cyA9IGJhc2UuX3BhcnRzOwogICAgcmVsYXRpdmVQYXRoID0gcmVsYXRpdmUucGF0aCgpOwogICAgYmFzZVBhdGggPSBiYXNlLnBhdGgoKTsKCiAgICBpZiAocmVsYXRpdmVQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJJIGlzIGFscmVhZHkgcmVsYXRpdmUnKTsKICAgIH0KCiAgICBpZiAoYmFzZVBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGEgVVJJIHJlbGF0aXZlIHRvIGFub3RoZXIgcmVsYXRpdmUgVVJJJyk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPT09IGJhc2VQYXJ0cy5wcm90b2NvbCkgewogICAgICByZWxhdGl2ZVBhcnRzLnByb3RvY29sID0gbnVsbDsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gYmFzZVBhcnRzLnVzZXJuYW1lIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IGJhc2VQYXJ0cy5wYXNzd29yZCkgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IG51bGwpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPT09IGJhc2VQYXJ0cy5ob3N0bmFtZSAmJiByZWxhdGl2ZVBhcnRzLnBvcnQgPT09IGJhc2VQYXJ0cy5wb3J0KSB7CiAgICAgIHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPSBudWxsOwogICAgICByZWxhdGl2ZVBhcnRzLnBvcnQgPSBudWxsOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGF0aCA9PT0gYmFzZVBhdGgpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gJyc7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIC8vIGRldGVybWluZSBjb21tb24gc3ViIHBhdGgKICAgIGNvbW1vbiA9IFVSSS5jb21tb25QYXRoKHJlbGF0aXZlUGF0aCwgYmFzZVBhdGgpOwoKICAgIC8vIElmIHRoZSBwYXRocyBoYXZlIG5vdGhpbmcgaW4gY29tbW9uLCByZXR1cm4gYSByZWxhdGl2ZSBVUkwgd2l0aCB0aGUgYWJzb2x1dGUgcGF0aC4KICAgIGlmICghY29tbW9uKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIHZhciBwYXJlbnRzID0gYmFzZVBhcnRzLnBhdGgKICAgICAgLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKQogICAgICAucmVwbGFjZSgvW15cL10qJC8sICcnKQogICAgICAucmVwbGFjZSgvLio/XC8vZywgJy4uLycpOwoKICAgIHJlbGF0aXZlUGFydHMucGF0aCA9IChwYXJlbnRzICsgcmVsYXRpdmVQYXJ0cy5wYXRoLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKSkgfHwgJy4vJzsKCiAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICB9OwoKICAvLyBjb21wYXJpbmcgVVJJcwogIHAuZXF1YWxzID0gZnVuY3Rpb24odXJpKSB7CiAgICB2YXIgb25lID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHR3byA9IG5ldyBVUkkodXJpKTsKICAgIHZhciBvbmVfbWFwID0ge307CiAgICB2YXIgdHdvX21hcCA9IHt9OwogICAgdmFyIGNoZWNrZWQgPSB7fTsKICAgIHZhciBvbmVfcXVlcnksIHR3b19xdWVyeSwga2V5OwoKICAgIG9uZS5ub3JtYWxpemUoKTsKICAgIHR3by5ub3JtYWxpemUoKTsKCiAgICAvLyBleGFjdCBtYXRjaAogICAgaWYgKG9uZS50b1N0cmluZygpID09PSB0d28udG9TdHJpbmcoKSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHF1ZXJ5IHN0cmluZwogICAgb25lX3F1ZXJ5ID0gb25lLnF1ZXJ5KCk7CiAgICB0d29fcXVlcnkgPSB0d28ucXVlcnkoKTsKICAgIG9uZS5xdWVyeSgnJyk7CiAgICB0d28ucXVlcnkoJycpOwoKICAgIC8vIGRlZmluaXRlbHkgbm90IGVxdWFsIGlmIG5vdCBldmVuIG5vbi1xdWVyeSBwYXJ0cyBtYXRjaAogICAgaWYgKG9uZS50b1N0cmluZygpICE9PSB0d28udG9TdHJpbmcoKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gcXVlcnkgcGFyYW1ldGVycyBoYXZlIHRoZSBzYW1lIGxlbmd0aCwgZXZlbiBpZiB0aGV5J3JlIHBlcm11dGVkCiAgICBpZiAob25lX3F1ZXJ5Lmxlbmd0aCAhPT0gdHdvX3F1ZXJ5Lmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KG9uZV9xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB0d29fbWFwID0gVVJJLnBhcnNlUXVlcnkodHdvX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKCiAgICBmb3IgKGtleSBpbiBvbmVfbWFwKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbChvbmVfbWFwLCBrZXkpKSB7CiAgICAgICAgaWYgKCFpc0FycmF5KG9uZV9tYXBba2V5XSkpIHsKICAgICAgICAgIGlmIChvbmVfbWFwW2tleV0gIT09IHR3b19tYXBba2V5XSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICghYXJyYXlzRXF1YWwob25lX21hcFtrZXldLCB0d29fbWFwW2tleV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBjaGVja2VkW2tleV0gPSB0cnVlOwogICAgICB9CiAgICB9CgogICAgZm9yIChrZXkgaW4gdHdvX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwodHdvX21hcCwga2V5KSkgewogICAgICAgIGlmICghY2hlY2tlZFtrZXldKSB7CiAgICAgICAgICAvLyB0d28gY29udGFpbnMgYSBwYXJhbWV0ZXIgbm90IHByZXNlbnQgaW4gb25lCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfTsKCiAgLy8gc3RhdGUKICBwLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZ1bmN0aW9uKHYpIHsKICAgIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9ICEhdjsKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuZXNjYXBlUXVlcnlTcGFjZSA9IGZ1bmN0aW9uKHYpIHsKICAgIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICByZXR1cm4gVVJJOwp9KSk7Cgp9LHsiLi9JUHY2Ijo0LCIuL1NlY29uZExldmVsRG9tYWlucyI6NSwiLi9wdW55Y29kZSI6N31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4wIGJ5IEBtYXRoaWFzICovCjsoZnVuY3Rpb24ocm9vdCkgewoKCS8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi8KCXZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYKCQkhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzOwoJdmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJgoJCSFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlOwoJdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDsKCWlmICgKCQlmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8CgkJZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsCgkpIHsKCQlyb290ID0gZnJlZUdsb2JhbDsKCX0KCgkvKioKCSAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC4KCSAqIEBuYW1lIHB1bnljb2RlCgkgKiBAdHlwZSBPYmplY3QKCSAqLwoJdmFyIHB1bnljb2RlLAoKCS8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi8KCW1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTEKCgkvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovCgliYXNlID0gMzYsCgl0TWluID0gMSwKCXRNYXggPSAyNiwKCXNrZXcgPSAzOCwKCWRhbXAgPSA3MDAsCglpbml0aWFsQmlhcyA9IDcyLAoJaW5pdGlhbE4gPSAxMjgsIC8vIDB4ODAKCWRlbGltaXRlciA9ICctJywgLy8gJ1x4MkQnCgoJLyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi8KCXJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLAoJcmVnZXhOb25BU0NJSSA9IC9bXlx4MjAtXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFycwoJcmVnZXhTZXBhcmF0b3JzID0gL1tceDJFXHUzMDAyXHVGRjBFXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzCgoJLyoqIEVycm9yIG1lc3NhZ2VzICovCgllcnJvcnMgPSB7CgkJJ292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJywKCQknbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLAoJCSdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnCgl9LAoKCS8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi8KCWJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbiwKCWZsb29yID0gTWF0aC5mbG9vciwKCXN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsCgoJLyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqLwoJa2V5OwoKCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCS8qKgoJICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuCgkgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuCgkgKi8KCWZ1bmN0aW9uIGVycm9yKHR5cGUpIHsKCQl0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pOwoJfQoKCS8qKgoJICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci4KCSAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheQoJICogaXRlbS4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwKGFycmF5LCBmbikgewoJCXZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7CgkJdmFyIHJlc3VsdCA9IFtdOwoJCXdoaWxlIChsZW5ndGgtLSkgewoJCQlyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pOwoJCX0KCQlyZXR1cm4gcmVzdWx0OwoJfQoKCS8qKgoJICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsCgkgKiBhZGRyZXNzZXMuCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy4KCSAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeQoJICogY2hhcmFjdGVyLgoJICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sKCSAqIGZ1bmN0aW9uLgoJICovCglmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikgewoJCXZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpOwoJCXZhciByZXN1bHQgPSAnJzsKCQlpZiAocGFydHMubGVuZ3RoID4gMSkgewoJCQkvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlCgkJCS8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuCgkJCXJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnOwoJCQlzdHJpbmcgPSBwYXJ0c1sxXTsKCQl9CgkJLy8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LgoJCXN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1x4MkUnKTsKCQl2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7CgkJdmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpOwoJCXJldHVybiByZXN1bHQgKyBlbmNvZGVkOwoJfQoKCS8qKgoJICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZQoJICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LAoJICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2gKCSAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LAoJICogbWF0Y2hpbmcgVVRGLTE2LgoJICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgCgkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyCgkgKiBAbmFtZSBkZWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuCgkgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuCgkgKi8KCWZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7CgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBjb3VudGVyID0gMCwKCQkgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCwKCQkgICAgdmFsdWUsCgkJICAgIGV4dHJhOwoJCXdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCXZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCQkJaWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkgewoJCQkJLy8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyCgkJCQlleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCQlpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZQoJCQkJCW91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0CgkJCQkJLy8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyCgkJCQkJb3V0cHV0LnB1c2godmFsdWUpOwoJCQkJCWNvdW50ZXItLTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJfQoJCX0KCQlyZXR1cm4gb3V0cHV0OwoJfQoKCS8qKgoJICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZW5jb2RlCgkgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLgoJICovCglmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7CgkJcmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHsKCQkJdmFyIG91dHB1dCA9ICcnOwoJCQlpZiAodmFsdWUgPiAweEZGRkYpIHsKCQkJCXZhbHVlIC09IDB4MTAwMDA7CgkJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTsKCQkJCXZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjsKCQkJfQoJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTsKCQkJcmV0dXJuIG91dHB1dDsKCQl9KS5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci4KCSAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYAoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS4KCSAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpbgoJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZgoJICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuCgkgKi8KCWZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHsKCQlpZiAoY29kZVBvaW50IC0gNDggPCAxMCkgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gMjI7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA2NTsKCQl9CgkJaWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDk3OwoJCX0KCQlyZXR1cm4gYmFzZTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC4KCSAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYAoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvcgoJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2UKCSAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpcwoJICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQKCSAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uCgkgKi8KCWZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykgewoJCS8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aCgkJLy8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45CgkJcmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTsKCX0KCgkvKioKCSAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuCgkgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNAoJICogQHByaXZhdGUKCSAqLwoJZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7CgkJdmFyIGsgPSAwOwoJCWRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7CgkJZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpOwoJCWZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7CgkJCWRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTsKCQl9CgkJcmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZQoJICogc3ltYm9scy4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJICovCglmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHsKCQkvLyBEb24ndCB1c2UgVUNTLTIKCQl2YXIgb3V0cHV0ID0gW10sCgkJICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLAoJCSAgICBvdXQsCgkJICAgIGkgPSAwLAoJCSAgICBuID0gaW5pdGlhbE4sCgkJICAgIGJpYXMgPSBpbml0aWFsQmlhcywKCQkgICAgYmFzaWMsCgkJICAgIGosCgkJICAgIGluZGV4LAoJCSAgICBvbGRpLAoJCSAgICB3LAoJCSAgICBrLAoJCSAgICBkaWdpdCwKCQkgICAgdCwKCQkgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovCgkJICAgIGJhc2VNaW51c1Q7CgoJCS8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZQoJCS8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5CgkJLy8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuCgoJCWJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTsKCQlpZiAoYmFzaWMgPCAwKSB7CgkJCWJhc2ljID0gMDsKCQl9CgoJCWZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7CgkJCS8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludAoJCQlpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7CgkJCQllcnJvcignbm90LWJhc2ljJyk7CgkJCX0KCQkJb3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7CgkJfQoKCQkvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlCgkJLy8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS4KCgkJZm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHsKCgkJCS8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC4KCQkJLy8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLAoJCQkvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llcgoJCQkvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZwoJCQkvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLgoJCQlmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgoJCQkJaWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7CgkJCQkJZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTsKCQkJCX0KCgkJCQlkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTsKCgkJCQlpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJaSArPSBkaWdpdCAqIHc7CgkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCgkJCQlpZiAoZGlnaXQgPCB0KSB7CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJaWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCXcgKj0gYmFzZU1pbnVzVDsKCgkJCX0KCgkJCW91dCA9IG91dHB1dC5sZW5ndGggKyAxOwoJCQliaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTsKCgkJCS8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsCgkJCS8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6CgkJCWlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHsKCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQl9CgoJCQluICs9IGZsb29yKGkgLyBvdXQpOwoJCQlpICU9IG91dDsKCgkJCS8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXQKCQkJb3V0cHV0LnNwbGljZShpKyssIDAsIG4pOwoKCQl9CgoJCXJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYQoJICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICovCglmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHsKCQl2YXIgbiwKCQkgICAgZGVsdGEsCgkJICAgIGhhbmRsZWRDUENvdW50LAoJCSAgICBiYXNpY0xlbmd0aCwKCQkgICAgYmlhcywKCQkgICAgaiwKCQkgICAgbSwKCQkgICAgcSwKCQkgICAgaywKCQkgICAgdCwKCQkgICAgY3VycmVudFZhbHVlLAoJCSAgICBvdXRwdXQgPSBbXSwKCQkgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi8KCQkgICAgaW5wdXRMZW5ndGgsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsCgkJICAgIGJhc2VNaW51c1QsCgkJICAgIHFNaW51c1Q7CgoJCS8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGUKCQlpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpOwoKCQkvLyBDYWNoZSB0aGUgbGVuZ3RoCgkJaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7CgoJCS8vIEluaXRpYWxpemUgdGhlIHN0YXRlCgkJbiA9IGluaXRpYWxOOwoJCWRlbHRhID0gMDsKCQliaWFzID0gaW5pdGlhbEJpYXM7CgoJCS8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMKCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHsKCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTsKCQkJfQoJCX0KCgkJaGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7CgoJCS8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkOwoJCS8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy4KCgkJLy8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyCgkJaWYgKGJhc2ljTGVuZ3RoKSB7CgkJCW91dHB1dC5wdXNoKGRlbGltaXRlcik7CgkJfQoKCQkvLyBNYWluIGVuY29kaW5nIGxvb3A6CgkJd2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHsKCgkJCS8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHQKCQkJLy8gbGFyZ2VyIG9uZToKCQkJZm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHsKCQkJCQltID0gY3VycmVudFZhbHVlOwoJCQkJfQoJCQl9CgoJCQkvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sCgkJCS8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93CgkJCWhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTsKCQkJaWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHsKCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQl9CgoJCQlkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lOwoJCQluID0gbTsKCgkJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCgkJCQlpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7CgkJCQkJLy8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIKCQkJCQlmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgkJCQkJCXQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpOwoJCQkJCQlpZiAocSA8IHQpIHsKCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgkJCQkJCXFNaW51c1QgPSBxIC0gdDsKCQkJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJCQlvdXRwdXQucHVzaCgKCQkJCQkJCXN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkKCQkJCQkJKTsKCQkJCQkJcSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTsKCQkJCQl9CgoJCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTsKCQkJCQliaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpOwoJCQkJCWRlbHRhID0gMDsKCQkJCQkrK2hhbmRsZWRDUENvdW50OwoJCQkJfQoJCQl9CgoJCQkrK2RlbHRhOwoJCQkrK247CgoJCX0KCQlyZXR1cm4gb3V0cHV0LmpvaW4oJycpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcwoJICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLgoJICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuCgkgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0bwoJICogY29udmVydCB0byBVbmljb2RlLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlCgkgKiBzdHJpbmcuCgkgKi8KCWZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkgewoJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQlyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZykKCQkJCT8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKQoJCQkJOiBzdHJpbmc7CgkJfSk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG8KCSAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLAoJICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluCgkgKiBBU0NJSS4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGEKCSAqIFVuaWNvZGUgc3RyaW5nLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvcgoJICogZW1haWwgYWRkcmVzcy4KCSAqLwoJZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkgewoJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQlyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZykKCQkJCT8gJ3huLS0nICsgZW5jb2RlKHN0cmluZykKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCS8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi8KCXB1bnljb2RlID0gewoJCS8qKgoJCSAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBTdHJpbmcKCQkgKi8KCQkndmVyc2lvbic6ICcxLjMuMicsCgkJLyoqCgkJICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXIKCQkgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLgoJCSAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCSAqIEB0eXBlIE9iamVjdAoJCSAqLwoJCSd1Y3MyJzogewoJCQknZGVjb2RlJzogdWNzMmRlY29kZSwKCQkJJ2VuY29kZSc6IHVjczJlbmNvZGUKCQl9LAoJCSdkZWNvZGUnOiBkZWNvZGUsCgkJJ2VuY29kZSc6IGVuY29kZSwKCQkndG9BU0NJSSc6IHRvQVNDSUksCgkJJ3RvVW5pY29kZSc6IHRvVW5pY29kZQoJfTsKCgkvKiogRXhwb3NlIGBwdW55Y29kZWAgKi8KCS8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJucwoJLy8gbGlrZSB0aGUgZm9sbG93aW5nOgoJaWYgKAoJCXR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJgoJCXR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmCgkJZGVmaW5lLmFtZAoJKSB7CgkJZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gcHVueWNvZGU7CgkJfSk7Cgl9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHsKCQlpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsKCQkJLy8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wKwoJCQlmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTsKCQl9IGVsc2UgewoJCQkvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLQoJCQlmb3IgKGtleSBpbiBwdW55Y29kZSkgewoJCQkJcHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pOwoJCQl9CgkJfQoJfSBlbHNlIHsKCQkvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyCgkJcm9vdC5wdW55Y29kZSA9IHB1bnljb2RlOwoJfQoKfSh0aGlzKSk7Cgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCnZhciBfRGlzY292ZXJ5ID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9EaXNjb3ZlcnknKTsKCnZhciBfRGlzY292ZXJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc2NvdmVyeSk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyJyk7Cgp2YXIgX0lkZW50aXR5TWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JZGVudGl0eU1hbmFnZXIpOwoKdmFyIF91cmlqcyA9IHJlcXVpcmUoJ3VyaWpzJyk7Cgp2YXIgX3VyaWpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VyaWpzKTsKCnZhciBfU3luY2hlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpOwoKdmFyIF9Hcm91cENoYXQgPSByZXF1aXJlKCcuL0dyb3VwQ2hhdCcpOwoKdmFyIF9Hcm91cENoYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBDaGF0KTsKCnZhciBfbm90aWZpY2F0aW9uc1RyaWdnZXIgPSByZXF1aXJlKCcuLi9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbnMtdHJpZ2dlcicpOwoKdmFyIF9ub3RpZmljYXRpb25zVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub3RpZmljYXRpb25zVHJpZ2dlcik7Cgp2YXIgX2NvbW11bmljYXRpb24gPSByZXF1aXJlKCcuL2NvbW11bmljYXRpb24nKTsKCnZhciBfY29tbXVuaWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tdW5pY2F0aW9uKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9Cgp2YXIgR3JvdXBDaGF0SHlwZXJ0eSA9IHsKICAgIF9nZXRIeUZvcjogZnVuY3Rpb24gX2dldEh5Rm9yKHBhcnRpY2lwYW50cykgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwYXJ0aWNpcGFudHMubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5oeXBlcnR5RGlzY292ZXJ5U2VydmljZS5kaXNjb3Zlckh5cGVydHkocC5lbWFpbCwgX3RoaXMuc2NoZW1lLCBfdGhpcy5yZXNvdXJjZXMsIHAuZG9tYWluKS50aGVuKGZ1bmN0aW9uIChoeXBlcnRpZXMpIHsKICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBPYmplY3Qua2V5cyhoeXBlcnRpZXMpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoaHlwZXJ0aWVzW2FdLmxhc3RNb2RpZmllZCkgPCBuZXcgRGF0ZShoeXBlcnRpZXNbYl0ubGFzdE1vZGlmaWVkKSA/IDEgOiAtMTsKICAgICAgICAgICAgICAgIH0pLnNoaWZ0KCk7CgogICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHRocm93IG5ldyBFcnJvcignQ2hhdCBIeXBlcnR5IG5vdCBmb3VuZCcsIHApOwoKICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKICAgIH0sCiAgICBfYWRkQ2hpbGQ6IGZ1bmN0aW9uIF9hZGRDaGlsZChkYXRhT2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhT2JqZWN0LmFkZENoaWxkKCdjaGF0bWVzc2FnZXMnLCBtZXNzYWdlKTsKICAgICAgICB9OwogICAgfSwKICAgIF9vbkFkZENoaWxkOiBmdW5jdGlvbiBfb25BZGRDaGlsZChkYXRhT2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBkYXRhT2JqZWN0Lm9uQWRkQ2hpbGQoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soY2hpbGQuZGF0YSB8fCBjaGlsZC52YWx1ZSwgY2hpbGQuaWRlbnRpdHkpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKG5hbWUsIHBhcnRpY2lwYW50cykgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SHlGb3IocGFydGljaXBhbnRzKS50aGVuKGZ1bmN0aW9uIChoeXBlcnRpZXMpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zeW5jaGVyLmNyZWF0ZShfdGhpczIub2JqZWN0RGVzY1VSTCwgaHlwZXJ0aWVzLCAoMCwgX2NvbW11bmljYXRpb24yLmRlZmF1bHQpKG5hbWUsIGh5cGVydGllcy5jb25jYXQoW190aGlzMi5oeXBlcnR5VVJMXSkpKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0UmVwb3J0ZXIpIHsKICAgICAgICAgICAgZGF0YU9iamVjdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmFjY2VwdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pZGVudGl0eU1hbmFnZXJTZXJ2aWNlLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoKS50aGVuKGZ1bmN0aW9uIChpZGVudGl0eSkgewogICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfR3JvdXBDaGF0Mi5kZWZhdWx0KShkYXRhT2JqZWN0UmVwb3J0ZXIudXJsLCBfdGhpczIuX2FkZENoaWxkKGRhdGFPYmplY3RSZXBvcnRlciksIF90aGlzMi5fb25BZGRDaGlsZChkYXRhT2JqZWN0UmVwb3J0ZXIpLCBkYXRhT2JqZWN0UmVwb3J0ZXIuZGF0YSwgX3RoaXMyLl9wb3NpdGlvbi5kYXRhLCBpZGVudGl0eSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIG9uSW52aXRlOiBmdW5jdGlvbiBvbkludml0ZShjYWxsYmFjaykgewogICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICB0aGlzLnN5bmNoZXIub25Ob3RpZmljYXRpb24oZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIGlmIChldmVudC5zY2hlbWEuZW5kc1dpdGgoX3RoaXMzLmxvY2F0aW9uRFMpKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuc3luY2hlci5zdWJzY3JpYmUoX3RoaXMzLmxvY2F0aW9uRGVzY1VSTCwgZXZlbnQudXJsKS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLl9wb3NpdGlvbiA9IGRhdGFPYmplY3Q7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5zY2hlbWEuZW5kc1dpdGgoX3RoaXMzLmdyb3VwQ2hhdERTKSkgewogICAgICAgICAgICAgICAgX3RoaXMzLnN5bmNoZXIuc3Vic2NyaWJlKF90aGlzMy5vYmplY3REZXNjVVJMLCBldmVudC51cmwpLnRoZW4oZnVuY3Rpb24gKGRhdGFPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmlkZW50aXR5TWFuYWdlclNlcnZpY2UuZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCgpLnRoZW4oZnVuY3Rpb24gKGlkZW50aXR5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5ub3RpZmljYXRpb25zLnRyaWdnZXIoW3sgZW1haWw6IGlkZW50aXR5LnVzZXJuYW1lLCBkb21haW46IF90aGlzMy5kb21haW4gfV0sIHsgdHlwZTogJ05FV19DSEFUJywgcGF5bG9hZDogeyBpZDogZGF0YU9iamVjdC51cmwsIG5hbWU6IGRhdGFPYmplY3QuZGF0YS5uYW1lIH0gfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCgwLCBfR3JvdXBDaGF0Mi5kZWZhdWx0KShkYXRhT2JqZWN0LnVybCwgX3RoaXMzLl9hZGRDaGlsZChkYXRhT2JqZWN0KSwgX3RoaXMzLl9vbkFkZENoaWxkKGRhdGFPYmplY3QpLCBkYXRhT2JqZWN0LmRhdGEsIF90aGlzMy5fcG9zaXRpb24uZGF0YSwgaWRlbnRpdHkpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9Cn07Cgp2YXIgZ3JvdXBDaGF0RmFjdG9yeSA9IGZ1bmN0aW9uIGdyb3VwQ2hhdEZhY3RvcnkoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpIHsKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpOwogICAgdmFyIGh5cGVydHlEaXNjb3ZlcnkgPSBuZXcgX0Rpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLCBidXMpOwogICAgdmFyIGlkZW50aXR5TWFuYWdlciA9IG5ldyBfSWRlbnRpdHlNYW5hZ2VyMi5kZWZhdWx0KGh5cGVydHlVUkwsIGNvbmZpZy5ydW50aW1lVVJMLCBidXMpOwogICAgdmFyIHVyaSA9IG5ldyBfdXJpanMyLmRlZmF1bHQoaHlwZXJ0eVVSTCk7CiAgICB2YXIgbm90aWZpY2F0aW9ucyA9ICgwLCBfbm90aWZpY2F0aW9uc1RyaWdnZXIyLmRlZmF1bHQpKHVyaS5ob3N0bmFtZSgpLCBzeW5jaGVyLCBoeXBlcnR5RGlzY292ZXJ5KTsKICAgIHZhciBncm91cENoYXREUyA9ICdDb21tdW5pY2F0aW9uJzsKICAgIHZhciBsb2NhdGlvbkRTID0gJ0NvbnRleHQnOwoKICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3JvdXBDaGF0SHlwZXJ0eSksIHsKICAgICAgICBfcG9zaXRpb246IHsgZGF0YTogeyB2YWx1ZXM6IHt9IH0gfSwKICAgICAgICBzeW5jaGVyOiBzeW5jaGVyLAogICAgICAgIGh5cGVydHlEaXNjb3ZlcnlTZXJ2aWNlOiBoeXBlcnR5RGlzY292ZXJ5LAogICAgICAgIGlkZW50aXR5TWFuYWdlclNlcnZpY2U6IGlkZW50aXR5TWFuYWdlciwKICAgICAgICBvYmplY3REZXNjVVJMOiAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIHVyaS5ob3N0bmFtZSgpICsgJy8ud2VsbC1rbm93bi9kYXRhc2NoZW1hLycgKyBncm91cENoYXREUywKICAgICAgICBsb2NhdGlvbkRlc2NVUkw6ICdoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4nICsgdXJpLmhvc3RuYW1lKCkgKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvJyArIGxvY2F0aW9uRFMsCiAgICAgICAgaHlwZXJ0eVVSTDogaHlwZXJ0eVVSTCwKICAgICAgICBub3RpZmljYXRpb25zOiBub3RpZmljYXRpb25zLAogICAgICAgIGRvbWFpbjogdXJpLmhvc3RuYW1lKCksCiAgICAgICAgZ3JvdXBDaGF0RFM6IGdyb3VwQ2hhdERTLAogICAgICAgIGxvY2F0aW9uRFM6IGxvY2F0aW9uRFMsCiAgICAgICAgc2NoZW1lOiBbJ2NvbW0nXSwKICAgICAgICByZXNvdXJjZXM6IFsnY2hhdCddCiAgICB9KTsKfTsKCmZ1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKSB7CiAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdHcm91cENoYXQnLAogICAgICAgIGluc3RhbmNlOiBncm91cENoYXRGYWN0b3J5KGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKQogICAgfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbnMtdHJpZ2dlciI6MTYsIi4vR3JvdXBDaGF0Ijo5LCIuL2NvbW11bmljYXRpb24iOjEyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0Rpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXIiOjIsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6MywidXJpanMiOjZ9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7CgpleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaWQsIGFkZENoaWxkLCBvbkFkZENoaWxkLCBfcmVmLCBwb3NpdGlvbiwgaWRlbnRpdHkpIHsKICAgIHZhciBuYW1lID0gX3JlZi5uYW1lOwogICAgdmFyIHN0YXJ0aW5nVGltZSA9IF9yZWYuc3RhcnRpbmdUaW1lOwogICAgdmFyIHBhcnRpY2lwYW50cyA9IF9yZWYucGFydGljaXBhbnRzOwoKICAgIHZhciBpbml0aWFsRGF0YSA9IHsKICAgICAgICBpZDogaWQsCiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBzdGFydGluZ1RpbWU6IHN0YXJ0aW5nVGltZSwKICAgICAgICBtZXNzYWdlczogW10sCiAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLAogICAgICAgIHBhcnRpY2lwYW50czogcGFydGljaXBhbnRzLAogICAgICAgIGlkZW50aXR5OiBpZGVudGl0eSwKICAgICAgICBhZGRDaGlsZDogYWRkQ2hpbGQsCiAgICAgICAgb25BZGRDaGlsZDogb25BZGRDaGlsZCwKICAgICAgICByZWNlaXZlQnVmZmVyOiBbXSwKICAgICAgICByZWNlaXZlZFNpemU6IDAKICAgIH07CgogICAgdmFyIGNoYXQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR3JvdXBDaGF0KSwgaW5pdGlhbERhdGEpOwogICAgY2hhdCA9ICgwLCBfc2VuZERhdGEuYWRkU2VuZERhdGFJZlN1cHBvcnRlZCkoY2hhdCk7CgogICAgcmV0dXJuIGNoYXQ7Cn07Cgp2YXIgX0dyb3VwQ2hhdE1lc3NhZ2UgPSByZXF1aXJlKCcuL0dyb3VwQ2hhdE1lc3NhZ2UnKTsKCnZhciBfR3JvdXBDaGF0TWVzc2FnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm91cENoYXRNZXNzYWdlKTsKCnZhciBfR3JvdXBDaGF0RmlsZSA9IHJlcXVpcmUoJy4vR3JvdXBDaGF0RmlsZScpOwoKdmFyIF9Hcm91cENoYXRGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwQ2hhdEZpbGUpOwoKdmFyIF9ncHMgPSByZXF1aXJlKCcuL2dwcycpOwoKdmFyIF9zZW5kRGF0YSA9IHJlcXVpcmUoJy4vc2VuZC1kYXRhJyk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKdmFyIEdyb3VwQ2hhdCA9IHsKICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZShtZXNzYWdlLCBkaXN0YW5jZSkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiB0aGlzLmFkZENoaWxkKHsgdHlwZTogJ1RFWFQnLCBtZXNzYWdlOiBtZXNzYWdlLCBkaXN0YW5jZTogZGlzdGFuY2UsIHBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uLCBzdGFydGluZ1RpbWU6IERhdGUubm93KCkgfSkudGhlbihmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgX3RoaXMubWVzc2FnZXMucHVzaCgoMCwgX0dyb3VwQ2hhdE1lc3NhZ2UyLmRlZmF1bHQpKGNoaWxkLmRhdGEsIHRydWUsIF90aGlzLmlkZW50aXR5KSk7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5tZXNzYWdlc1tfdGhpcy5tZXNzYWdlcy5sZW5ndGggLSAxXTsKICAgICAgICB9KTsKICAgIH0sCiAgICBvbk1lc3NhZ2U6IGZ1bmN0aW9uIG9uTWVzc2FnZShjYWxsYmFjaykgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB0aGlzLm9uQWRkQ2hpbGQoZnVuY3Rpb24gKG1lc3NhZ2UsIGlkZW50aXR5KSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3Byb2Nlc3NUZXh0TWVzc2FnZXMobWVzc2FnZSwgaWRlbnRpdHksIGNhbGxiYWNrKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBfcHJvY2Vzc1RleHRNZXNzYWdlczogZnVuY3Rpb24gX3Byb2Nlc3NUZXh0TWVzc2FnZXMobWVzc2FnZSwgaWRlbnRpdHksIGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPSAnVEVYVCcpIHJldHVybjsKCiAgICAgICAgdmFyIG15UG9zaXRpb24gPSAoMCwgX2dwcy5Qb3NpdGlvbikodGhpcy5wb3NpdGlvbik7CiAgICAgICAgdmFyIGFyZWEgPSAoMCwgX2dwcy5BcmVhKShtZXNzYWdlLnBvc2l0aW9uLCBtZXNzYWdlLmRpc3RhbmNlKTsKCiAgICAgICAgaWYgKCFteVBvc2l0aW9uLmlzSW4oYXJlYSkpIHJldHVybjsKCiAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKCgwLCBfR3JvdXBDaGF0TWVzc2FnZTIuZGVmYXVsdCkobWVzc2FnZSwgZmFsc2UsIGlkZW50aXR5LnVzZXJQcm9maWxlKSk7CiAgICAgICAgY2FsbGJhY2sodGhpcy5tZXNzYWdlc1t0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDFdKTsKICAgIH0sCiAgICBnZXRDb250ZXh0OiBmdW5jdGlvbiBnZXRDb250ZXh0KCkgewogICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzW3RoaXMubWVzc2FnZXMubGVuZ3RoIC0gMV0gPyB0aGlzLm1lc3NhZ2VzW3RoaXMubWVzc2FnZXMubGVuZ3RoIC0gMV0udGV4dCA6ICcnOwogICAgfQp9OwoKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi9Hcm91cENoYXRGaWxlIjoxMCwiLi9Hcm91cENoYXRNZXNzYWdlIjoxMSwiLi9ncHMiOjEzLCIuL3NlbmQtZGF0YSI6MTV9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwoKZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKF9yZWYsIGlzTWUsIGlkZW50aXR5KSB7CiAgICB2YXIgZmlsZSA9IF9yZWYuZmlsZTsKICAgIHZhciBzdGFydGluZ1RpbWUgPSBfcmVmLnN0YXJ0aW5nVGltZTsKCiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEdyb3VwQ2hhdEZpbGUpLCB7CiAgICAgICAgaXNNZTogaXNNZSwKICAgICAgICBmaWxlOiBmaWxlLAogICAgICAgIHN0YXJ0aW5nVGltZTogc3RhcnRpbmdUaW1lLAogICAgICAgIGlkZW50aXR5OiBpZGVudGl0eQogICAgfSk7Cn07Cgp2YXIgR3JvdXBDaGF0RmlsZSA9IHsKICAgIGVsYXBzZWRNaW51dGVzOiBmdW5jdGlvbiBlbGFwc2VkTWludXRlcygpIHsKICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRpbmdUaW1lKSAlIDg2NDAwMDAwICUgMzYwMDAwMCAvIDYwMDAwKTsKICAgIH0KfTsKCm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1siZGVmYXVsdCJdOwoKfSx7fV0sMTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKCmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChfcmVmLCBpc01lLCBpZGVudGl0eSkgewogICAgdmFyIG1lc3NhZ2UgPSBfcmVmLm1lc3NhZ2U7CiAgICB2YXIgc3RhcnRpbmdUaW1lID0gX3JlZi5zdGFydGluZ1RpbWU7CgogICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShHcm91cENoYXRNZXNzYWdlKSwgewogICAgICAgIGlzTWU6IGlzTWUsCiAgICAgICAgdGV4dDogbWVzc2FnZSwKICAgICAgICBzdGFydGluZ1RpbWU6IHN0YXJ0aW5nVGltZSwKICAgICAgICBpZGVudGl0eTogaWRlbnRpdHkKICAgIH0pOwp9OwoKdmFyIEdyb3VwQ2hhdE1lc3NhZ2UgPSB7CiAgICBlbGFwc2VkTWludXRlczogZnVuY3Rpb24gZWxhcHNlZE1pbnV0ZXMoKSB7CiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKERhdGUubm93KCkgLSB0aGlzLnN0YXJ0aW5nVGltZSkgJSA4NjQwMDAwMCAlIDM2MDAwMDAgLyA2MDAwMCk7CiAgICB9Cn07Cgptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCn0se31dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IGNvbW11bmljYXRpb247CmZ1bmN0aW9uIGNvbW11bmljYXRpb24obmFtZSwgcGFydGljaXBhbnRzKSB7CiAgICByZXR1cm4gewogICAgICAgIGlkOiAnJywKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIG93bmVyOiAnJywKICAgICAgICBzY2hlbWU6ICdjb21tJywKICAgICAgICBzdGFydGluZ1RpbWU6ICcnLAogICAgICAgIGxhc3RNb2RpZmllZDogJycsCiAgICAgICAgZHVyYXRpb246ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgcW9zOiAnJywKICAgICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50cwogICAgfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7CnZhciBQb3NpdGlvbiA9IHsKICAgIF9kaXN0YW5jZTogZnVuY3Rpb24gX2Rpc3RhbmNlKG9yaWdpbiwgZGVzdGluYXRpb24sIHVuaXQpIHsKICAgICAgICB2YXIgcmFkbGF0MSA9IE1hdGguUEkgKiBvcmlnaW4ubGF0aXR1ZGUgLyAxODA7CiAgICAgICAgdmFyIHJhZGxhdDIgPSBNYXRoLlBJICogZGVzdGluYXRpb24ubGF0aXR1ZGUgLyAxODA7CiAgICAgICAgdmFyIHRoZXRhID0gb3JpZ2luLmxvbmdpdHVkZSAtIGRlc3RpbmF0aW9uLmxvbmdpdHVkZTsKICAgICAgICB2YXIgcmFkdGhldGEgPSBNYXRoLlBJICogdGhldGEgLyAxODA7CiAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNpbihyYWRsYXQxKSAqIE1hdGguc2luKHJhZGxhdDIpICsgTWF0aC5jb3MocmFkbGF0MSkgKiBNYXRoLmNvcyhyYWRsYXQyKSAqIE1hdGguY29zKHJhZHRoZXRhKTsKICAgICAgICBkaXN0ID0gTWF0aC5hY29zKGRpc3QpOwogICAgICAgIGRpc3QgPSBkaXN0ICogMTgwIC8gTWF0aC5QSTsKICAgICAgICBkaXN0ID0gZGlzdCAqIDYwICogMS4xNTE1OwogICAgICAgIGlmICh1bml0ID09ICdLJykgewogICAgICAgICAgICBkaXN0ID0gZGlzdCAqIDEuNjA5MzQ0OwogICAgICAgIH0KICAgICAgICBpZiAodW5pdCA9PSAnTicpIHsKICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiAwLjg2ODQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkaXN0OwogICAgfSwKICAgIGlzSW46IGZ1bmN0aW9uIGlzSW4oYXJlYSkgewogICAgICAgIGlmICghYXJlYS5yYWRpdXMpIHJldHVybiB0cnVlOwoKICAgICAgICByZXR1cm4gdGhpcy5fZGlzdGFuY2UoYXJlYS5jZW50ZXIsIHRoaXMsICdLJykgPD0gYXJlYS5yYWRpdXM7CiAgICB9Cn07CgpmdW5jdGlvbiBQb3NpdGlvbkZhY3RvcnkocG9zaXRpb25BcnJheSkgewogICAgdmFyIHBvc2l0aW9uID0gewogICAgICAgIGxhdGl0dWRlOiAwLAogICAgICAgIGxvbmdpdHVkZTogMAogICAgfTsKCiAgICBpZiAocG9zaXRpb25BcnJheS52YWx1ZXMgJiYgcG9zaXRpb25BcnJheS52YWx1ZXMuZm9yRWFjaCkgcG9zaXRpb25BcnJheS52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gcG9zaXRpb25bdmFsdWUubmFtZV0gPSB2YWx1ZS52YWx1ZTsKICAgIH0pOwoKICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoUG9zaXRpb24pLCBwb3NpdGlvbik7Cn0KCnZhciBBcmVhID0ge307CgpmdW5jdGlvbiBBcmVhRmFjdG9yeShjZW50ZXIsIHJhZGl1cykgewogICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBcmVhKSwgeyBjZW50ZXI6IGNlbnRlciwgcmFkaXVzOiByYWRpdXMgfSk7Cn0KCmV4cG9ydHMuUG9zaXRpb24gPSBQb3NpdGlvbkZhY3Rvcnk7CmV4cG9ydHMuQXJlYSA9IEFyZWFGYWN0b3J5OwoKfSx7fV0sMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gUGVlckNvbm5lY3Rpb247CnZhciBSVENQZWVyQ29ubmVjdGlvbiA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiB8fCB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24gfHwgd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uOwoKZnVuY3Rpb24gUGVlckNvbm5lY3Rpb24oc2lnbmFsaW5nKSB7CiAgICB2YXIgY29ubmVjdGlvbiA9IHVuZGVmaW5lZDsKICAgIHZhciBjaGFubmVsID0gdW5kZWZpbmVkOwogICAgdmFyIGhhbmRsZU9uQ29ubmVjdGlvbiA9IHVuZGVmaW5lZDsKICAgIHZhciBoYW5kbGVPbkRhdGEgPSB1bmRlZmluZWQ7CiAgICB2YXIgX3NlbmREYXRhID0gZnVuY3Rpb24gX3NlbmREYXRhKGRhdGEpIHsKICAgICAgICBpZiAoY2hhbm5lbC5yZWFkeVN0YXRlID09PSAnb3BlbicpIHsKICAgICAgICAgICAgY2hhbm5lbC5zZW5kKGRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3NlbmREYXRhKGRhdGEpOwogICAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0KICAgIH07CgogICAgdmFyIGNuID0gewogICAgICAgIHNlbmREYXRhOiBfc2VuZERhdGEsCgogICAgICAgIG9uRGF0YTogZnVuY3Rpb24gb25EYXRhKGhhbmRsZXIpIHsKICAgICAgICAgICAgaGFuZGxlT25EYXRhID0gaGFuZGxlcjsKICAgICAgICB9CiAgICB9OwoKICAgIGNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24obnVsbCwgbnVsbCk7CgogICAgY29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHsKICAgICAgICAgICAgc2lnbmFsaW5nLnNlbmRNZXNzYWdlKHsgdHlwZTogJ0lDRV9DQU5ESURBVEUnLCBkYXRhOiBldmVudC5jYW5kaWRhdGUudG9KU09OKCkgfSk7CiAgICAgICAgfQogICAgfTsKCiAgICBjb25uZWN0aW9uLm9uZGF0YWNoYW5uZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBjaGFubmVsID0gZXZlbnQuY2hhbm5lbDsKICAgICAgICBjaGFubmVsLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInOwogICAgICAgIGNoYW5uZWwub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICBpZiAoISFoYW5kbGVPbkRhdGEpIGhhbmRsZU9uRGF0YShtc2cuZGF0YSk7CiAgICAgICAgfTsKICAgIH07CgogICAgc2lnbmFsaW5nLm9uTWVzc2FnZShmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdJQ0VfQ0FORElEQVRFJykgewogICAgICAgICAgICBjb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShtZXNzYWdlLmRhdGEpOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAnU0RQX09GRkVSJykgewogICAgICAgICAgICBjb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG1lc3NhZ2UuZGF0YSk7CiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcCkgewogICAgICAgICAgICAgICAgY29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKS50aGVuKGZ1bmN0aW9uIChkZXNjKSB7CiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpOwogICAgICAgICAgICAgICAgICAgIHNpZ25hbGluZy5zZW5kTWVzc2FnZSh7IHR5cGU6ICdTRFBfT0ZGRVInLCBkYXRhOiBkZXNjLnRvSlNPTigpIH0pOwogICAgICAgICAgICAgICAgICAgIGlmICghIWhhbmRsZU9uQ29ubmVjdGlvbikgaGFuZGxlT25Db25uZWN0aW9uKGNuKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIHsKICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgaWYgKCFjaGFubmVsKSB7CiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbCA9IGNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoJ3NlbmREYXRhQ2hhbm5lbCcsIG51bGwpOwogICAgICAgICAgICAgICAgICAgIGNoYW5uZWwub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFoYW5kbGVPbkRhdGEpIGhhbmRsZU9uRGF0YShtc2cuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkudGhlbihmdW5jdGlvbiAob2ZmZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsaW5nLnNlbmRNZXNzYWdlKHsgdHlwZTogJ1NEUF9PRkZFUicsIGRhdGE6IG9mZmVyLnRvSlNPTigpIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVzb2x2ZShjbik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIG9uQ29ubmVjdGlvbjogZnVuY3Rpb24gb25Db25uZWN0aW9uKGhhbmRsZXIpIHsKICAgICAgICAgICAgaGFuZGxlT25Db25uZWN0aW9uID0gaGFuZGxlcjsKICAgICAgICB9LAoKICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7fQogICAgfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuU2VuZERhdGEgPSB1bmRlZmluZWQ7CmV4cG9ydHMuYWRkU2VuZERhdGFJZlN1cHBvcnRlZCA9IGFkZFNlbmREYXRhSWZTdXBwb3J0ZWQ7Cgp2YXIgX3BlZXJDb25uZWN0aW9uID0gcmVxdWlyZSgnLi9wZWVyLWNvbm5lY3Rpb24nKTsKCnZhciBfcGVlckNvbm5lY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGVlckNvbm5lY3Rpb24pOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCnZhciBTZW5kRGF0YSA9IGV4cG9ydHMuU2VuZERhdGEgPSB7CiAgICBvblJlY2VpdmVNZXNzYWdlOiBmdW5jdGlvbiBvblJlY2VpdmVNZXNzYWdlKGRhdGEpIHsKICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHRoaXMuYnVmID0gcGFyc2VJbnQoZGF0YSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKGRhdGEpOwogICAgICAgIHRoaXMucmVjZWl2ZWRTaXplICs9IGRhdGEuYnl0ZUxlbmd0aDsKCiAgICAgICAgaWYgKHRoaXMucmVjZWl2ZWRTaXplID09PSB0aGlzLmJ1ZikgewogICAgICAgICAgICB2YXIgcmVjZWl2ZWQgPSBuZXcgd2luZG93LkJsb2IodGhpcy5yZWNlaXZlQnVmZmVyKTsKICAgICAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyID0gW107CiAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRTaXplID0gMDsKCiAgICAgICAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHJlY2VpdmVkKTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKEdyb3VwQ2hhdEZpbGUoeyBmaWxlOiB1cmwsIHN0YXJ0aW5nVGltZTogRGF0ZS5ub3coKSB9LCB0cnVlLCB7fSkpOwoKICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sodGhpcy5tZXNzYWdlc1t0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDFdKTsKICAgICAgICB9CiAgICB9LAogICAgc2VuZEZpbGU6IGZ1bmN0aW9uIHNlbmRGaWxlKGZpbGUpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB0aGlzLnBlZXIub3BlbigpLnRoZW4oZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHsKICAgICAgICAgICAgY29ubmVjdGlvbi5vbkRhdGEoX3RoaXMub25SZWNlaXZlTWVzc2FnZS5iaW5kKF90aGlzKSk7CiAgICAgICAgICAgIGNvbm5lY3Rpb24uc2VuZERhdGEoZmlsZS5zaXplKTsKICAgICAgICAgICAgdmFyIGNodW5rU2l6ZSA9IDE2Mzg0OwogICAgICAgICAgICB2YXIgc2xpY2VGaWxlID0gZnVuY3Rpb24gc2xpY2VGaWxlKG9mZnNldCkgewogICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZW5kRGF0YShlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zaXplID4gb2Zmc2V0ICsgZS50YXJnZXQucmVzdWx0LmJ5dGVMZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNsaWNlRmlsZSwgMCwgb2Zmc2V0ICsgY2h1bmtTaXplKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KGZpbGUpOwogICAgICAgICAgICAgICAgdmFyIHNsaWNlID0gZmlsZS5zbGljZShvZmZzZXQsIG9mZnNldCArIGNodW5rU2l6ZSk7CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoc2xpY2UpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBzbGljZUZpbGUoMCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgb25NZXNzYWdlOiBmdW5jdGlvbiBvbk1lc3NhZ2UoY2FsbGJhY2spIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdGhpcy5vbkFkZENoaWxkKGZ1bmN0aW9uIChtZXNzYWdlLCBpZGVudGl0eSkgewogICAgICAgICAgICBfdGhpczIuX2NhbGxiYWNrID0gY2FsbGJhY2s7CiAgICAgICAgICAgIF90aGlzMi5fcHJvY2Vzc1RleHRNZXNzYWdlcyhtZXNzYWdlLCBpZGVudGl0eSwgY2FsbGJhY2spOwogICAgICAgICAgICBfdGhpczIucGVlck1lc3NhZ2UobWVzc2FnZSk7CiAgICAgICAgfSk7CiAgICB9Cn07CgpmdW5jdGlvbiBhZGRTZW5kRGF0YUlmU3VwcG9ydGVkKGNoYXQpIHsKICAgIGlmIChjaGF0LnBhcnRpY2lwYW50cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgaW5pdGlhbERhdGEgPSB7fTsKICAgICAgICAgICAgdmFyIHBlZXIgPSAoMCwgX3BlZXJDb25uZWN0aW9uMi5kZWZhdWx0KSh7IHNlbmRNZXNzYWdlOiBjaGF0LmFkZENoaWxkLCBvbk1lc3NhZ2U6IGZ1bmN0aW9uIG9uTWVzc2FnZShjYWxsYmFjaykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsRGF0YS5wZWVyTWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG1zZyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0gfSk7CiAgICAgICAgICAgIGNoYXQgPSBPYmplY3QuYXNzaWduKGNoYXQsIFNlbmREYXRhLCBpbml0aWFsRGF0YSwgeyBwZWVyOiBwZWVyIH0pOwoKICAgICAgICAgICAgcGVlci5vbkNvbm5lY3Rpb24oZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHsKICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24ub25EYXRhKGNoYXQub25SZWNlaXZlTWVzc2FnZS5iaW5kKGNoYXQpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkoKTsKICAgIH0KCiAgICByZXR1cm4gY2hhdDsKfQoKfSx7Ii4vcGVlci1jb25uZWN0aW9uIjoxNH1dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7CnZhciBOb3RpZmljYXRpb25zVHJpZ2dlck9iamVjdCA9IHsKICAgIF9nZXRIeUZvcjogZnVuY3Rpb24gX2dldEh5Rm9yKGlkZW50aXRpZXMpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaWRlbnRpdGllcy5tYXAoZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9kaXNjb3ZlcnlTZXJ2aWNlLmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcihwLmVtYWlsLCBwLmRvbWFpbikudGhlbihmdW5jdGlvbiAoaHlwZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoaHlwZXJ0aWVzKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGtleToga2V5LCBkZXNjcmlwdG9yOiBoeXBlcnRpZXNba2V5XS5kZXNjcmlwdG9yLCBsYXN0TW9kaWZpZWQ6IGh5cGVydGllc1trZXldLmxhc3RNb2RpZmllZCB9OwogICAgICAgICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChkZXNjKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2MuZGVzY3JpcHRvci5lbmRzV2l0aCgnTm90aWZpY2F0aW9uc09ic2VydmVyJyk7CiAgICAgICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGEubGFzdE1vZGlmaWVkKSA8IG5ldyBEYXRlKGIubGFzdE1vZGlmaWVkKSA/IDEgOiAtMTsKICAgICAgICAgICAgICAgIH0pLnNoaWZ0KCkua2V5OwogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7CiAgICB9LAogICAgdHJpZ2dlcjogZnVuY3Rpb24gdHJpZ2dlcihyZWNpcGllbnRzLCBub3RpZmljYXRpb24pIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEh5Rm9yKHJlY2lwaWVudHMpLnRoZW4oZnVuY3Rpb24gKGh5cGVydHlVUkxzKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3N5bmNoZXIuY3JlYXRlKF90aGlzMi5fb2JqZWN0RGVzY1VSTCwgaHlwZXJ0eVVSTHMsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXBvcnRlcikgewogICAgICAgICAgICAgICAgcmVwb3J0ZXIub25TdWJzY3JpcHRpb24oZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmFjY2VwdCgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3J0ZXIuYWRkQ2hpbGQoJ2NoYXRtZXNzYWdlcycsIG5vdGlmaWNhdGlvbikudGhlbihmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vdGlmaWNhdGlvbiBzZW5kZWQnLCBub3RpZmljYXRpb24pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9Cn07Cgp2YXIgTm90aWZpY2F0aW9uc1RyaWdnZXIgPSBmdW5jdGlvbiBOb3RpZmljYXRpb25zVHJpZ2dlcihkb21haW4sIHN5bmNoZXIsIGRpc2NvdmVyeVNlcnZpY2UpIHsKICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsKICAgICAgICBfc3luY2hlcjogc3luY2hlciwKCiAgICAgICAgX2Rpc2NvdmVyeVNlcnZpY2U6IGRpc2NvdmVyeVNlcnZpY2UsCgogICAgICAgIF9vYmplY3REZXNjVVJMOiAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIGRvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uJwogICAgfSwgTm90aWZpY2F0aW9uc1RyaWdnZXJPYmplY3QpOwp9OwoKZXhwb3J0cy5kZWZhdWx0ID0gTm90aWZpY2F0aW9uc1RyaWdnZXI7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV19LHt9LFs4XSkoOCkKfSk7",
      "sourceCodeClassname": "GroupChat",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10006,
    "version": "0.1",
    "description": "Description of GroupChat",
    "language": "Javascript",
    "objectName": "GroupChat",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "HelloWorldObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgQXVnIDEwIDIwMTYgMTU6MjU6NDkgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixvKXtmdW5jdGlvbiBuKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmYSlyZXR1cm4gYShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBuKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbyl9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8by5sZW5ndGg7cysrKW4ob1tzXSk7cmV0dXJuIG59KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG89InBlcmZvcm1DaGFuZ2UiLG49Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGEoZSl7dmFyIHQ9YXJndW1lbnRzLHM9YVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbbl0uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW25dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxjPWRbbl0uYXBwbHkodGhpcyxzKTtyZXR1cm4oYy5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDpjfX0sdGhpcyksY319O2Zvcih2YXIgYyBpbiBzKXNbY11bbl09dC5wcm90b3R5cGVbY10sdC5wcm90b3R5cGVbY109c1tjXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjIwfV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIxfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjJ9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyM31dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjI0fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI1fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIjoyN31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYz1vKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBhKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbz0oMCxjWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09byl7dmFyIG49KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW4/dm9pZCAwOmEobix0LHIpfWlmKCJ2YWx1ZSJpbiBvKXJldHVybiBvLnZhbHVlO3ZhciBzPW8uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1LCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9byhuKSxzPWUoIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpLGM9byhzKSxhPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksdT1vKGEpO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCx1WyJkZWZhdWx0Il0pKHQpKSk7ZS5wcm90b3R5cGU9KDAsY1siZGVmYXVsdCJdKSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGlbImRlZmF1bHQiXT8oMCxpWyJkZWZhdWx0Il0pKGUsdCk6ZS5fX3Byb3RvX189dCl9fSx7Ii4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OCwiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9zeW1ib2wiKSxjPW8ocyksYT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09dHlwZW9mIGlbImRlZmF1bHQiXT9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOnR5cGVvZiBlfTtyWyJkZWZhdWx0Il09ImZ1bmN0aW9uIj09dHlwZW9mIGNbImRlZmF1bHQiXSYmInN5bWJvbCI9PT1hKGlbImRlZmF1bHQiXSk/ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjphKGUpfX0seyIuLi9jb3JlLWpzL3N5bWJvbCI6MTAsIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG49by5KU09OfHwoby5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3RyaW5naWZ5LmFwcGx5KG4sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzV9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSI6MTAwfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Iik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBvLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOjEwMX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoxMDJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjoxMDN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjEwNH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjEwNX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6MTA3LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6MTA5LCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOjExMCwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiOjExMX1dLDI3OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX3drcy1leHQiKS5mKCJpdGVyYXRvciIpfSx7Ii4uLy4uL21vZHVsZXMvX3drcy1leHQiOjk2LCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDMwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1vJiZvIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW8oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjU0fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1vKHQpLHU9bihhLmxlbmd0aCksbD1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1Pmw7KWlmKGM9YVtsKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKGV8fGwgaW4gYSkmJmFbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo4OCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLWxlbmd0aCI6OTF9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpLG49ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09byhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbikpP3I6aT9vKHQpOiJPYmplY3QiPT0oYz1vKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MzQsIi4vX3drcyI6OTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gby5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW8pfSx7fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihvKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbyl7cmV0dXJuIGUuY2FsbCh0LHIsbyl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixvLG4pe3JldHVybiBlLmNhbGwodCxyLG8sbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjI4fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0M31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW8obikmJm8obi5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/bi5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX29iamVjdC1nb3BzIiksaT1lKCIuL19vYmplY3QtcGllIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSkscj1uLmY7aWYocilmb3IodmFyIHMsYz1yKGUpLGE9aS5mLHU9MDtjLmxlbmd0aD51OylhLmNhbGwoZSxzPWNbdSsrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LHsiLi9fb2JqZWN0LWdvcHMiOjcxLCIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1waWUiOjc1fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2N0eCIpLHM9ZSgiLi9faGlkZSIpLGM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIHUsbCxmLGQ9ZSZhLkYsXz1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix5PWUmYS5XLHY9Xz9uOm5bdF18fChuW3RdPXt9KSxqPXZbY10sbT1fP286cD9vW3RdOihvW3RdfHx7fSlbY107XyYmKHI9dCk7Zm9yKHUgaW4gcilsPSFkJiZtJiZ2b2lkIDAhPT1tW3VdLGwmJnUgaW4gdnx8KGY9bD9tW3VdOnJbdV0sdlt1XT1fJiYiZnVuY3Rpb24iIT10eXBlb2YgbVt1XT9yW3VdOmgmJmw/aShmLG8pOnkmJm1bdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG8pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG8pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRbY109ZVtjXSx0fShmKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixiJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW3VdPWYsZSZhLlImJmomJiFqW3VdJiZzKGosdSxmKSkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLGEuVT02NCxhLlI9MTI4LHQuZXhwb3J0cz1hfSx7Ii4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19nbG9iYWwiOjQ1LCIuL19oaWRlIjo0N31dLDQzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jdHgiKSxuPWUoIi4vX2l0ZXItY2FsbCIpLGk9ZSgiLi9faXMtYXJyYXktaXRlciIpLHM9ZSgiLi9fYW4tb2JqZWN0IiksYz1lKCIuL190by1sZW5ndGgiKSxhPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksdT17fSxsPXt9LHI9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYsZCl7dmFyIF8scCxiLGgseT1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmEoZSksdj1vKHIsZix0PzI6MSksaj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB5KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoeSkpe2ZvcihfPWMoZS5sZW5ndGgpO18+ajtqKyspaWYoaD10P3YocyhwPWVbal0pWzBdLHBbMV0pOnYoZVtqXSksaD09PXV8fGg9PT1sKXJldHVybiBofWVsc2UgZm9yKGI9eS5jYWxsKGUpOyEocD1iLm5leHQoKSkuZG9uZTspaWYoaD1uKGIsdixwLnZhbHVlLHQpLGg9PT11fHxoPT09bClyZXR1cm4gaH07ci5CUkVBSz11LHIuUkVUVVJOPWx9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtYXJyYXktaXRlciI6NTIsIi4vX2l0ZXItY2FsbCI6NTUsIi4vX3RvLWxlbmd0aCI6OTEsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo5OH1dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW8pfSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5jYWxsKGUsdCl9fSx7fV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZihlLHQsbigxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19wcm9wZXJ0eS1kZXNjIjo3N31dLDQ4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjo0NX1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19kZXNjcmlwdG9ycyIpJiYhZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19mYWlscyI6NDN9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG89dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbz9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbz9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbz9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG8/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1vKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi9fY29mIjozNH1dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXRlcmF0b3JzIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihvLkFycmF5PT09ZXx8aVtuXT09PWUpfX0seyIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09byhlKX19LHsiLi9fY29mIjozNH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXt0cnl7cmV0dXJuIG4/dChvKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbyhzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjMxfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW8ocyx7bmV4dDpuKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjQ3LCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2xpYnJhcnkiKSxuPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGw9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vX29iamVjdC1ncG8iKSxkPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLF89IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsYj0ia2V5cyIsaD0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix2LGosbSxnKXt1KHIsdCx2KTt2YXIgdyxPLGsseD1mdW5jdGlvbihlKXtpZighXyYmZSBpbiBSKXJldHVybiBSW2VdO3N3aXRjaChlKXtjYXNlIGI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxDPXQrIiBJdGVyYXRvciIsRT1qPT1oLFM9ITEsUj1lLnByb3RvdHlwZSxUPVJbZF18fFJbcF18fGomJlJbal0sTT1UfHx4KGopLFA9aj9FP3goImVudHJpZXMiKTpNOnZvaWQgMCxBPSJBcnJheSI9PXQ/Ui5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9ZihBLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGwoayxDLCEwKSxvfHxjKGssZCl8fHMoayxkLHkpKSksRSYmVCYmVC5uYW1lIT09aCYmKFM9ITAsTT1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxvJiYhZ3x8IV8mJiFTJiZSW2RdfHxzKFIsZCxNKSxhW3RdPU0sYVtDXT15LGopaWYodz17dmFsdWVzOkU/TTp4KGgpLGtleXM6bT9NOngoYiksZW50cmllczpQfSxnKWZvcihPIGluIHcpTyBpbiBSfHxpKFIsTyx3W09dKTtlbHNlIG4obi5QK24uRiooX3x8UyksdCx3KTtyZXR1cm4gd319LHsiLi9fZXhwb3J0Ijo0MiwiLi9faGFzIjo0NiwiLi9faGlkZSI6NDcsIi4vX2l0ZXItY3JlYXRlIjo1NiwiLi9faXRlcmF0b3JzIjo2MCwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1ncG8iOjcyLCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbj0hMTt0cnl7dmFyIGk9WzddW29dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtuPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbilyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtvXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjk3fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1rZXlzIiksbj1lKCIuL190by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9bihlKSxzPW8oaSksYz1zLmxlbmd0aCxhPTA7Yz5hOylpZihpW3I9c1thKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fdG8taW9iamVjdCI6OTB9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdWlkIikoIm1ldGEiKSxuPWUoIi4vX2lzLW9iamVjdCIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19vYmplY3QtZHAiKS5mLGM9MCxhPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHU9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gYShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7cyhlLG8se3ZhbHVlOntpOiJPIisgKytjLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxvKSl7aWYoIWEoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW29dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW29dLnd9LF89ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJnAuTkVFRCYmYShlKSYmIWkoZSxvKSYmbChlKSxlfSxwPXQuZXhwb3J0cz17S0VZOm8sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpkLG9uRnJlZXplOl99fSx7Ii4vX2ZhaWxzIjo0MywiLi9faGFzIjo0NiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fdWlkIjo5NH1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL190YXNrIikuc2V0LGk9by5NdXRhdGlvbk9ic2VydmVyfHxvLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1vLnByb2Nlc3MsYz1vLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG8sbjtmb3IoYSYmKG89cy5kb21haW4pJiZvLmV4aXQoKTtlOyl7bj1lLmZuLGU9ZS5uZXh0O3RyeXtuKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbyYmby5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBsPSEwLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtmLmRhdGE9bD0hbH19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBkPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtkLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe24uY2FsbChvLHUpfTtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIG49e2ZuOm8sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9biksZXx8KGU9bixyKCkpLHQ9bn19fSx7Ii4vX2NvZiI6MzQsIi4vX2dsb2JhbCI6NDUsIi4vX3Rhc2siOjg3fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbz1pLmxlbmd0aCxuPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK24pLHQuY2xvc2UoKSx1PXQuRjtvLS07KWRlbGV0ZSB1W2FdW2lbb11dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1vKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm4ocix0KX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19odG1sIjo0OCwiLi9fb2JqZWN0LWRwcyI6NjcsIi4vX3NoYXJlZC1rZXkiOjgzfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdD1pKHQsITApLG8ociksbil0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtuKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOylvLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19vYmplY3Qta2V5cyI6NzR9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1waWUiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG4oIW8uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faGFzIjo0NiwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3RvLWlvYmplY3QiOjkwLCIuL190by1wcmltaXRpdmUiOjkzfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wbiIpLmYsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG4oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2MoZSk6bihvKGUpKX19LHsiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL190by1pb2JqZWN0Ijo5MH1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3IuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDcxOltmdW5jdGlvbihlLHQscil7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LHt9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hhcyIpLG49ZSgiLi9fdG8tb2JqZWN0IiksaT1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW4oZSksbyhlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0seyIuL19oYXMiOjQ2LCIuL19zaGFyZWQta2V5Ijo4MywiLi9fdG8tb2JqZWN0Ijo5Mn1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1pb2JqZWN0IiksaT1lKCIuL19hcnJheS1pbmNsdWRlcyIpKCExKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSksYT0wLHU9W107Zm9yKHIgaW4gYylyIT1zJiZvKGMscikmJnUucHVzaChyKTtmb3IoO3QubGVuZ3RoPmE7KW8oYyxyPXRbYSsrXSkmJih+aSh1LHIpfHx1LnB1c2gocikpO3JldHVybiB1fX0seyIuL19hcnJheS1pbmNsdWRlcyI6MzIsIi4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1pb2JqZWN0Ijo5MH1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsbil9fSx7Ii4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCI6NzN9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3IuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0se31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShuLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbyhvLlMrby5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vX2NvcmUiOjM1LCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hpZGUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0KXImJmVbbl0/ZVtuXT10W25dOm8oZSxuLHRbbl0pO3JldHVybiBlfX0seyIuL19oaWRlIjo0N31dLDc5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2hpZGUiKX0seyIuL19oaWRlIjo0N31dLDgwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWZ1bmN0aW9uKGUsdCl7aWYobihlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuL19jdHgiKShGdW5jdGlvbi5jYWxsLGUoIi4vX29iamVjdC1nb3BkIikuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChuKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWdvcGQiOjY4fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19vYmplY3QtZHAiKSxzPWUoIi4vX2Rlc2NyaXB0b3JzIiksYz1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgbltlXT9uW2VdOm9bZV07cyYmdCYmIXRbY10mJmkuZih0LGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi9fY29yZSI6MzUsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZ2xvYmFsIjo0NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIikuZixuPWUoIi4vX2hhcyIpLGk9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbihlPXI/ZTplLnByb3RvdHlwZSxpKSYmbyhlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vX2hhcyI6NDYsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcyI6OTd9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJrZXlzIiksbj1lKCIuL191aWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPW4oZSkpfX0seyIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9b1tuXXx8KG9bbl09e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuL19nbG9iYWwiOjQ1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2EtZnVuY3Rpb24iKSxpPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1vKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW8ocylbaV0pP3Q6bihyKX19LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLW9iamVjdCI6MzEsIi4vX3drcyI6OTd9XSw4NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhuKHQpKSxhPW8ociksdT1jLmxlbmd0aDtyZXR1cm4gYTwwfHxhPj11P2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdChhKSxpPDU1Mjk2fHxpPjU2MzE5fHxhKzE9PT11fHwocz1jLmNoYXJDb2RlQXQoYSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdChhKTppOmU/Yy5zbGljZShhLGErMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX3RvLWludGVnZXIiOjg5fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbyxuLGkscz1lKCIuL19jdHgiKSxjPWUoIi4vX2ludm9rZSIpLGE9ZSgiLi9faHRtbCIpLHU9ZSgiLi9fZG9tLWNyZWF0ZSIpLGw9ZSgiLi9fZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxfPWwuY2xlYXJJbW1lZGlhdGUscD1sLk1lc3NhZ2VDaGFubmVsLGI9MCxoPXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsdj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGguaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWhbZV07ZGVsZXRlIGhbZV0sdCgpfX0saj1mdW5jdGlvbihlKXt2LmNhbGwoZS5kYXRhKX07ZCYmX3x8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGhbKytiXT1mdW5jdGlvbigpe2MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbyhiKSxifSxfPWZ1bmN0aW9uKGUpe2RlbGV0ZSBoW2VdfSwicHJvY2VzcyI9PWUoIi4vX2NvZiIpKGYpP289ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKHYsZSwxKSl9OnA/KG49bmV3IHAsaT1uLnBvcnQyLG4ucG9ydDEub25tZXNzYWdlPWosbz1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG89ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaiwhMSkpOm89eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksdi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKHYsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6X319LHsiLi9fY29mIjozNCwiLi9fY3R4IjozNiwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2dsb2JhbCI6NDUsIi4vX2h0bWwiOjQ4LCIuL19pbnZva2UiOjUwfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW8oZSksZTwwP24oZSt0LDApOmkoZSx0KX19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bjpvKShlKX19LHt9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lvYmplY3QiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSx7Ii4vX2RlZmluZWQiOjM3LCIuL19pb2JqZWN0Ijo1MX1dLDkxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/bihvKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vX3RvLWludGVnZXIiOjg5fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobyhlKSl9fSx7Ii4vX2RlZmluZWQiOjM3fV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4gZTt2YXIgcixuO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSw5NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPTAsbj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK28rbikudG9TdHJpbmcoMzYpKX19LHt9XSw5NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fbGlicmFyeSIpLHM9ZSgiLi9fd2tzLWV4dCIpLGM9ZSgiLi9fb2JqZWN0LWRwIikuZjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5TeW1ib2x8fChuLlN5bWJvbD1pP3t9Om8uU3ltYm9sfHx7fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxjKHQsZSx7dmFsdWU6cy5mKGUpfSl9fSx7Ii4vX2NvcmUiOjM1LCIuL19nbG9iYWwiOjQ1LCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzLWV4dCI6OTZ9XSw5NjpbZnVuY3Rpb24oZSx0LHIpe3IuZj1lKCIuL193a3MiKX0seyIuL193a3MiOjk3fV0sOTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19zaGFyZWQiKSgid2tzIiksbj1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfHwob1tlXT1zJiZpW2VdfHwocz9pOm4pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9b30seyIuL19nbG9iYWwiOjQ1LCIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jbGFzc29mIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW25dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbyhlKV19fSx7Ii4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG49ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxuKDEpKToia2V5cyI9PXQ/bigwLHIpOiJ2YWx1ZXMiPT10P24oMCxlW3JdKTpuKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxvKCJrZXlzIiksbygidmFsdWVzIiksbygiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjksIi4vX2l0ZXItZGVmaW5lIjo1NywiLi9faXRlci1zdGVwIjo1OSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7Y3JlYXRlOmUoIi4vX29iamVjdC1jcmVhdGUiKX0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1jcmVhdGUiOjY1fV0sMTAxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMrby5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19leHBvcnQiOjQyLCIuL19vYmplY3QtZHAiOjY2fV0sMTAyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKG8oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1ncG8iKTtlKCIuL19vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3QtZ3BvIjo3MiwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1vYmplY3QiOjkyfV0sMTA1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vX3NldC1wcm90byIpLnNldH0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX3NldC1wcm90byI6ODB9XSwxMDY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG8sbixpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxsPWUoIi4vX2V4cG9ydCIpLGY9ZSgiLi9faXMtb2JqZWN0IiksZD0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxfPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSxiPShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSxoPWUoIi4vX3Rhc2siKS5zZXQseT1lKCIuL19taWNyb3Rhc2siKSgpLHY9IlByb21pc2UiLGo9Yy5UeXBlRXJyb3IsbT1jLnByb2Nlc3MsZz1jW3ZdLG09Yy5wcm9jZXNzLHc9InByb2Nlc3MiPT11KG0pLE89ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1nLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShPLE8pfTtyZXR1cm4od3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihPKWluc3RhbmNlb2Ygcn1jYXRjaChvKXt9fSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1nJiZ0PT09aX0sQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFmKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sRT1mdW5jdGlvbihlKXtyZXR1cm4geChnLGUpP25ldyBTKGUpOm5ldyBuKGUpfSxTPW49ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxvKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IGooIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9b30pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFI9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxUPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYzt5KGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWUuX3Ysbj0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1uP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8obnx8KDI9PWUuX2gmJkEoZSksZS5faD0xKSxzPT09ITA/cj1vOih1JiZ1LmVudGVyKCkscj1zKG8pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EoaigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1DKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobyl9Y2F0Y2gobCl7YShsKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJk0oZSl9KX19LE09ZnVuY3Rpb24oZSl7aC5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG8sbj1lLl92O2lmKFAoZSkmJih0PVIoZnVuY3Rpb24oKXt3P20uZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246bn0pOihvPWMuY29uc29sZSkmJm8uZXJyb3ImJm8uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbil9KSxlLl9oPXd8fFAoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sUD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbz0wO3IubGVuZ3RoPm87KWlmKHQ9cltvKytdLHQuZmFpbHx8IVAodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3c/bS5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLFQodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IGooIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9QyhlKSk/eShmdW5jdGlvbigpe3ZhciBvPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShOLG8sMSksYShELG8sMSkpfWNhdGNoKG4pe0QuY2FsbChvLG4pfX0pOihyLl92PWUsci5fcz0xLFQociwhMSkpfWNhdGNoKG8pe0QuY2FsbCh7X3c6cixfZDohMX0sbyl9fX07a3x8KGc9ZnVuY3Rpb24oZSl7Xyh0aGlzLGcsdiwiX2giKSxkKGUpLG8uY2FsbCh0aGlzKTt0cnl7ZShhKE4sdGhpcywxKSxhKEQsdGhpcywxKSl9Y2F0Y2godCl7RC5jYWxsKHRoaXMsdCl9fSxvPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG8ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9RShiKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj13P20uZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbzt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShOLGUsMSksdGhpcy5yZWplY3Q9YShELGUsMSl9KSxsKGwuRytsLlcrbC5GKiFrLHtQcm9taXNlOmd9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcsdiksZSgiLi9fc2V0LXNwZWNpZXMiKSh2KSxpPWUoIi4vX2NvcmUiKVt2XSxsKGwuUytsLkYqIWssdix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PUUodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSwKdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IWspLHYse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1FKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqIShrJiZlKCIuL19pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe2cuYWxsKGUpWyJjYXRjaCJdKE8pfSkpLHYse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVzb2x2ZSxuPXIucmVqZWN0LGk9UihmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7cChlLCExLGZ1bmN0aW9uKGUpe3ZhciBjPWkrKyxhPSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXthfHwoYT0hMCxyW2NdPWUsLS1zfHxvKHIpKX0sbil9KSwtLXN8fG8ocil9KTtyZXR1cm4gaSYmbihpLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbz1yLnJlamVjdCxuPVIoZnVuY3Rpb24oKXtwKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG8pfSl9KTtyZXR1cm4gbiYmbyhuLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLWluc3RhbmNlIjozMCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19leHBvcnQiOjQyLCIuL19mb3Itb2YiOjQ0LCIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0LCIuL19pdGVyLWRldGVjdCI6NTgsIi4vX2xpYnJhcnkiOjYyLCIuL19taWNyb3Rhc2siOjY0LCIuL19yZWRlZmluZS1hbGwiOjc4LCIuL19zZXQtcHJvdG8iOjgwLCIuL19zZXQtc3BlY2llcyI6ODEsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciI6ODUsIi4vX3Rhc2siOjg3LCIuL193a3MiOjk3fV0sMTA4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX3N0cmluZy1hdCIpKCEwKTtlKCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1vKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjU3LCIuL19zdHJpbmctYXQiOjg2fV0sMTA5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGFzIiksaT1lKCIuL19kZXNjcmlwdG9ycyIpLHM9ZSgiLi9fZXhwb3J0IiksYz1lKCIuL19yZWRlZmluZSIpLGE9ZSgiLi9fbWV0YSIpLktFWSx1PWUoIi4vX2ZhaWxzIiksbD1lKCIuL19zaGFyZWQiKSxmPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZD1lKCIuL191aWQiKSxfPWUoIi4vX3drcyIpLHA9ZSgiLi9fd2tzLWV4dCIpLGI9ZSgiLi9fd2tzLWRlZmluZSIpLGg9ZSgiLi9fa2V5b2YiKSx5PWUoIi4vX2VudW0ta2V5cyIpLHY9ZSgiLi9faXMtYXJyYXkiKSxqPWUoIi4vX2FuLW9iamVjdCIpLG09ZSgiLi9fdG8taW9iamVjdCIpLGc9ZSgiLi9fdG8tcHJpbWl0aXZlIiksdz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksTz1lKCIuL19vYmplY3QtY3JlYXRlIiksaz1lKCIuL19vYmplY3QtZ29wbi1leHQiKSx4PWUoIi4vX29iamVjdC1nb3BkIiksQz1lKCIuL19vYmplY3QtZHAiKSxFPWUoIi4vX29iamVjdC1rZXlzIiksUz14LmYsUj1DLmYsVD1rLmYsTT1vLlN5bWJvbCxQPW8uSlNPTixBPVAmJlAuc3RyaW5naWZ5LEQ9InByb3RvdHlwZSIsTj1fKCJfaGlkZGVuIiksTD1fKCJ0b1ByaW1pdGl2ZSIpLEY9e30ucHJvcGVydHlJc0VudW1lcmFibGUsST1sKCJzeW1ib2wtcmVnaXN0cnkiKSxVPWwoInN5bWJvbHMiKSx6PWwoIm9wLXN5bWJvbHMiKSxIPU9iamVjdFtEXSxWPSJmdW5jdGlvbiI9PXR5cGVvZiBNLEI9by5RT2JqZWN0LEo9IUJ8fCFCW0RdfHwhQltEXS5maW5kQ2hpbGQsVz1pJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oUih7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBSKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1TKEgsdCk7byYmZGVsZXRlIEhbdF0sUihlLHQsciksbyYmZSE9PUgmJlIoSCx0LG8pfTpSLFk9ZnVuY3Rpb24oZSl7dmFyIHQ9VVtlXT1PKE1bRF0pO3JldHVybiB0Ll9rPWUsdH0scT1WJiYic3ltYm9sIj09dHlwZW9mIE0uaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE19LEs9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09SCYmSyh6LHQsciksaihlKSx0PWcodCwhMCksaihyKSxuKFUsdCk/KHIuZW51bWVyYWJsZT8obihlLE4pJiZlW05dW3RdJiYoZVtOXVt0XT0hMSkscj1PKHIse2VudW1lcmFibGU6dygwLCExKX0pKToobihlLE4pfHxSKGUsTix3KDEse30pKSxlW05dW3RdPSEwKSxXKGUsdCxyKSk6UihlLHQscil9LEc9ZnVuY3Rpb24oZSx0KXtqKGUpO2Zvcih2YXIgcixvPXkodD1tKHQpKSxuPTAsaT1vLmxlbmd0aDtpPm47KUsoZSxyPW9bbisrXSx0W3JdKTtyZXR1cm4gZX0sWj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P08oZSk6RyhPKGUpLHQpfSxYPWZ1bmN0aW9uKGUpe3ZhciB0PUYuY2FsbCh0aGlzLGU9ZyhlLCEwKSk7cmV0dXJuISh0aGlzPT09SCYmbihVLGUpJiYhbih6LGUpKSYmKCEodHx8IW4odGhpcyxlKXx8IW4oVSxlKXx8bih0aGlzLE4pJiZ0aGlzW05dW2VdKXx8dCl9LCQ9ZnVuY3Rpb24oZSx0KXtpZihlPW0oZSksdD1nKHQsITApLGUhPT1IfHwhbihVLHQpfHxuKHosdCkpe3ZhciByPVMoZSx0KTtyZXR1cm4hcnx8IW4oVSx0KXx8bihlLE4pJiZlW05dW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sUT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1UKG0oZSkpLG89W10saT0wO3IubGVuZ3RoPmk7KW4oVSx0PXJbaSsrXSl8fHQ9PU58fHQ9PWF8fG8ucHVzaCh0KTtyZXR1cm4gb30sZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PUgsbz1UKHI/ejptKGUpKSxpPVtdLHM9MDtvLmxlbmd0aD5zOykhbihVLHQ9b1tzKytdKXx8ciYmIW4oSCx0KXx8aS5wdXNoKFVbdF0pO3JldHVybiBpfTtWfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PUgmJnQuY2FsbCh6LHIpLG4odGhpcyxOKSYmbih0aGlzW05dLGUpJiYodGhpc1tOXVtlXT0hMSksVyh0aGlzLGUsdygxLHIpKX07cmV0dXJuIGkmJkomJlcoSCxlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxZKGUpfSxjKE1bRF0sInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPSQsQy5mPUssZSgiLi9fb2JqZWN0LWdvcG4iKS5mPWsuZj1RLGUoIi4vX29iamVjdC1waWUiKS5mPVgsZSgiLi9fb2JqZWN0LWdvcHMiKS5mPWVlLGkmJiFlKCIuL19saWJyYXJ5IikmJmMoSCwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLHAuZj1mdW5jdGlvbihlKXtyZXR1cm4gWShfKGUpKX0pLHMocy5HK3MuVytzLkYqIVYse1N5bWJvbDpNfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KV8odGVbcmUrK10pO2Zvcih2YXIgdGU9RShfLnN0b3JlKSxyZT0wO3RlLmxlbmd0aD5yZTspYih0ZVtyZSsrXSk7cyhzLlMrcy5GKiFWLCJTeW1ib2wiLHsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gbihJLGUrPSIiKT9JW2VdOklbZV09TShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJuIGgoSSxlKTt0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Sj0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Sj0hMX19KSxzKHMuUytzLkYqIVYsIk9iamVjdCIse2NyZWF0ZTpaLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpHLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZWV9KSxQJiZzKHMuUytzLkYqKCFWfHx1KGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1BKFtlXSl8fCJ7fSIhPUEoe2E6ZX0pfHwie30iIT1BKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIXEoZSkpe2Zvcih2YXIgdCxyLG89W2VdLG49MTthcmd1bWVudHMubGVuZ3RoPm47KW8ucHVzaChhcmd1bWVudHNbbisrXSk7cmV0dXJuIHQ9b1sxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnYodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYociYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIXEodCkpcmV0dXJuIHR9KSxvWzFdPXQsQS5hcHBseShQLG8pfX19KSxNW0RdW0xdfHxlKCIuL19oaWRlIikoTVtEXSxMLE1bRF0udmFsdWVPZiksZihNLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZW51bS1rZXlzIjo0MSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzLCIuL19nbG9iYWwiOjQ1LCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXMtYXJyYXkiOjUzLCIuL19rZXlvZiI6NjEsIi4vX2xpYnJhcnkiOjYyLCIuL19tZXRhIjo2MywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1nb3BkIjo2OCwiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL19vYmplY3QtZ29wbi1leHQiOjY5LCIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc2hhcmVkIjo4NCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTMsIi4vX3VpZCI6OTQsIi4vX3drcyI6OTcsIi4vX3drcy1kZWZpbmUiOjk1LCIuL193a3MtZXh0Ijo5Nn1dLDExMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vX3drcy1kZWZpbmUiKSgiYXN5bmNJdGVyYXRvciIpfSx7Ii4vX3drcy1kZWZpbmUiOjk1fV0sMTExOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJvYnNlcnZhYmxlIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2hpZGUiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksYz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLGE9MDthPDU7YSsrKXt2YXIgdT1jW2FdLGw9b1t1XSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW3NdJiZuKGYscyx1KSxpW3VdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6OTl9XSwxMTM6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbyl7InVzZSBzdHJpY3QiO3ZhciBuLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxjPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYT10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG8pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG8pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPXJ8fDA7bzxlLmxlbmd0aDtvKyspaWYoZVtvXT09PXQpcmV0dXJuIG87cmV0dXJuLTF9LHU9ci5NYXAhPT1vJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFthKGUscildfSxzZXQ6ZnVuY3Rpb24ocixvKXt2YXIgbj1hKGUscik7bj09PS0xPyhlLnB1c2gociksdC5wdXNoKG8pLHRoaXMuc2l6ZSsrKTp0W25dPW99LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBvPWEoZSxyKTtvPi0xJiYoZS5zcGxpY2UobywxKSx0LnNwbGljZShvLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbb10sZVtvXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbz0odChhKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtvLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbixpPTA7aTxvLmxlbmd0aDspKG49YShyLG9baSsrXSkpPi0xJiZyLnNwbGljZShuLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbyxuPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmbi5wdXNoKHIpO2Vsc2V7bz1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpby5jYWxsKHQscikmJm4ucHVzaChyKX1yZXR1cm4gYyh0KSYmbi5wdXNoKCJsZW5ndGgiKSxufSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLF89ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLHA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPW4uZ2V0KGUpO28/KGgobyxlKSxtKGUsbyx0LHIpKToobz1iKGUpLG0oZSxvLHQsciksMT09PW4uc2l6ZSYmXyh5KSl9LGI9ZnVuY3Rpb24odCxyKXt2YXIgbyxpPWwodCkscz1bXSxjPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjohIWUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCksZXh0ZW5zaWJsZTohZS5pc0V4dGVuc2libGV8fGUuaXNFeHRlbnNpYmxlKHQpLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmoodCxyKX07aWYoZClmb3Iobz1yLmRlc2NyaXB0b3JzPVtdO2M8aS5sZW5ndGg7KW9bY109ZCh0LGlbY10pLHNbY109dFtpW2MrK11dO2Vsc2UgZm9yKDtjPGkubGVuZ3RoOylzW2NdPXRbaVtjKytdXTtyZXR1cm4gbi5zZXQodCxyKSxyfSxoPWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixvLG4pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYz10LnZhbHVlc1tyXSxhPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG4mJihjPT09cz8wPT09YyYmMS9jIT09MS9zOmM9PT1jfHxzPT09cykmJihnKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC52YWx1ZXNbcl09cyksIWEuY29uZmlndXJhYmxlfHxuLmNvbmZpZ3VyYWJsZSYmbi53cml0YWJsZT09PWEud3JpdGFibGUmJm4uZW51bWVyYWJsZT09PWEuZW51bWVyYWJsZSYmbi5nZXQ9PT1hLmdldCYmbi5zZXQ9PT1hLnNldHx8KGcoZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG8pLHQuZGVzY3JpcHRvcnNbcl09bil9OmZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPXQucHJvcGVydGllc1tyXSxpPWVbbl0scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoZyhlLHQse25hbWU6bix0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG8pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG8sbixpKXtmb3IodmFyIHMsYz1yLmxlbmd0aDtvJiZjLS07KW51bGwhPT1yW2NdJiYocz1kKGUscltjXSksby0tLHM/dChlLG4sYyxpLHMpOihnKGUsbix7bmFtZTpyW2NdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbY119LGkpLG4ucHJvcGVydGllcy5zcGxpY2UoYywxKSxuLnZhbHVlcy5zcGxpY2UoYywxKSxuLmRlc2NyaXB0b3JzLnNwbGljZShjLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG8sbil7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihnKGUsbyx7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbaV19LG4pLG8ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxvLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obyxuLGkpe2lmKG8uaGFuZGxlcnMuc2l6ZSYmIW8uZnJvemVuKXt2YXIgcyxjLHUsXyxwLGIsaCx5LHY9by52YWx1ZXMsaj1vLmRlc2NyaXB0b3JzLG09MDtpZihvLmV4dGVuc2libGUpaWYocz1vLnByb3BlcnRpZXMuc2xpY2UoKSxjPXMubGVuZ3RoLHU9bChuKSxqKXtmb3IoO208dS5sZW5ndGg7KXA9dVttKytdLF89YShzLHApLHk9ZChuLHApLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2gobltwXSksai5wdXNoKHkpKTooc1tfXT1udWxsLGMtLSx0KG4sbyxfLGkseSkpO3IobixzLGMsbyxpKSxlLmlzRXh0ZW5zaWJsZShuKXx8KG8uZXh0ZW5zaWJsZT0hMSxnKG4sbyx7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpufSxpKSxvLmZyb3plbj1lLmlzRnJvemVuKG4pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCksYj1uW3BdLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2goYikpOihzW19dPW51bGwsYy0tLHQobixvLF8saSkpO3IobixzLGMsbyxpKX1lbHNlIGlmKCFvLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKylwPXNbbV0sdChuLG8sbSxpLGQobixwKSk7ZS5pc0Zyb3plbihuKSYmKG8uZnJvemVuPSEwKX1mJiYoaD1mKG4pLGghPT1vLnByb3RvJiYoZyhuLG8se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6bixvbGRWYWx1ZTpvLnByb3RvfSksby5wcm90bz1oKSl9fX0oKSx5PWZ1bmN0aW9uKCl7bi5zaXplJiYobi5mb3JFYWNoKGgpLGkuZm9yRWFjaCh2KSxfKHkpKX0sdj1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0saj1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW4uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1uLmdldChlKTtpZihyKXt2YXIgbyxpPXtvYmplY3Q6ZX07Zm9yKG8gaW4gdCkib2JqZWN0IiE9PW8mJihpW29dPXRbb10pO2coZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYz1uLmdldChlKSxhPWFyZ3VtZW50c1syXSx1PWE9PT1vP3IoKTpyLmNhbGwoYSk7aWYoYyYmaChjLGUsdCksYyYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtnKGUsYyxzKX19fX0sbT1mdW5jdGlvbihlLHQscixvKXt2YXIgbj1pLmdldChyKTtufHxpLnNldChyLG49e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksbi5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpvLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixuKX0sZz1mdW5jdGlvbihlLHQscixvKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBvfHxhKG4sbyk9PT0tMSkmJmEobixyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtuPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG4pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG49PT1vKW49cztlbHNlIGlmKCFufHwib2JqZWN0IiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBwKHQscixuKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixvPWkuZ2V0KHQpO3JldHVybiBvJiYocj1vLm9ic2VydmVkLmdldChlKSkmJihvLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLF8oZnVuY3Rpb24oKXt2KG8sdCl9KSwxPT09by5vYnNlcnZlZC5zaXplJiZvLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpvLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/blsiZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmoodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHYodCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSwxMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbj1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9byhuKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxjPW8ocyksYT1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1vKGEpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9Y1siZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOCwiLi9zeW5jaGVyL1N5bmNoZXIiOjEyMSwiYXJyYXkub2JzZXJ2ZSI6MSwib2JqZWN0Lm9ic2VydmUiOjExM31dLDExNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoIi4vU3luY09iamVjdCIpLF89byhkKSxwPWUoIi4vRGF0YU9iamVjdENoaWxkIiksYj1vKHApLGg9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fc3luY2hlcj10LGMuX3VybD1yLGMuX3NjaGVtYT1vLGMuX3N0YXR1cz1uLGMuX3N5bmNPYmo9bmV3IF9bImRlZmF1bHQiXShpKSxjLl9jaGlsZHJlbnM9cyxjLl92ZXJzaW9uPTAsYy5fY2hpbGRJZD0wLGMuX2NoaWxkcmVuT2JqZWN0cz17fSxjLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxjLl9vd25lcj10Ll9vd25lcixjLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBuPXIrbyxpPXQuX2J1cy5hZGRMaXN0ZW5lcihuLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGNbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbz1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxuPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86bixib2R5OntyZXNvdXJjZTpvLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGM9bmV3IGJbImRlZmF1bHQiXShyLG8sdCxyLl9vd25lcixpKTtjLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6bixjaGlsZElkOm99KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tvXT1jLGUoYyl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbz1uZXcgYlsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1vLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG49e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbiksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobikpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBvPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG8uYm9keS52YWx1ZT1lLmRhdGEpOihvLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG8uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihvLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYoby50bz10LnBhdGgsby5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG8pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBvPXQuYm9keS5hdHRyaWJ1dGUsbj0oMCxoLmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShvKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYz1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFtjLDBdLmNvbmNhdChuKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGE9aS5vYmosdT1pLmxhc3Q7YS5zcGxpY2UodSxuKX1lbHNlIGkub2JqW2kubGFzdF09bjtlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW46ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbz10Ll9jaGlsZHJlbk9iamVjdHNbcl07bz90Ll9jaGFuZ2VPYmplY3Qoby5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsIi4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWUoIi4vU3luY09iamVjdCIpLHU9byhhKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYz10aGlzO2MuX3BhcmVudD10LGMuX2NoaWxkSWQ9cixjLl9vd25lcj1uLGMuX21zZ0lkPXMsYy5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG8pLGMuX2J1cz10Ll9idXMsYy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjEyMCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDExNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGc9byhtKSx3PXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8sbixzLGEsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLHMuZGF0YSxhKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgZ1siZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG89e3R5cGU6dy5FWEFDVCxjYWxsYmFjazp0fSxuPWUuaW5kZXhPZigiKiIpO249PT1lLmxlbmd0aC0xJiYoMD09PW4/by50eXBlPXcuQU5ZOihvLnR5cGU9dy5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW99fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX2ZpbHRlcnNbcl07by50eXBlPT09dy5BTlk/by5jYWxsYmFjayhlKTpvLnR5cGU9PT13LlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm8uY2FsbGJhY2soZSk6by50eXBlPT09dy5FWEFDVCYmZS5maWVsZD09PXImJm8uY2FsbGJhY2soZSl9KX19XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6MTE1LCIuL0RhdGFPYmplY3RDaGlsZCI6MTE2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBhPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLGkscykpLGw9YTtyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxhfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG89e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW87dmFyIG49e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7bltlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm59fX0pLG99LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om99O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGFjY2VwdDpmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKX19KX0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMSxkZXNjOnJ9fSl9fTt0Ll9vblJlYWRIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFQUQtRVZFTlQ6ICIsciksdC5fb25SZWFkSGFuZGxlcihyKSl9fSx7a2V5OiJzdWJzY3JpcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uc319XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Zyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdCI6MTE1LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxjPW8ocyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8sbil7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9byxzLl9jaGlsZHJlbj1uLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWEsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuT2JqZWN0VHlwZT1yLkNoYW5nZVR5cGU9dm9pZCAwO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9byhhKSxsPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciByPXRoaXM7ci5fb2JzZXJ2ZXJzPVtdLHIuX2ZpbHRlcnM9e30sdD9yLl9kYXRhPSgwLGwuZGVlcENsb25lKSh0KTpyLl9kYXRhPXt9LHIuX2ludGVybmFsT2JzZXJ2ZShuZXcgZCxyLl9kYXRhKX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6Im9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5wdXNoKGUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLiIpO3JldHVybiB0aGlzLl9maW5kV2l0aFNwbGl0KHQpfX0se2tleToiZmluZEJlZm9yZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1lLnNwbGl0KCIuIik7cmV0dXJuIHQubGFzdD1yLnBvcCgpLHQub2JqPXRoaXMuX2ZpbmRXaXRoU3BsaXQociksdH19LHtrZXk6Il9maW5kV2l0aFNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dD10W2VdfSksdH19LHtrZXk6Il9maXJlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QoZSl9KX19LHtrZXk6Il9pc09ic2VydmFibGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnN0cnVjdG9yPT09T2JqZWN0fHxlLmNvbnN0cnVjdG9yPT09QXJyYXl9fSx7a2V5OiJfaW50ZXJuYWxPYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbz1mdW5jdGlvbih0KXtyLl9vbkNoYW5nZXMoZSx0KX07aWYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7T2JqZWN0Lm9ic2VydmUodCxvKTtmb3IodmFyIG4gaW4gdClyLl9pc09ic2VydmFibGUodFtuXSkmJnIuX2ludGVybmFsT2JzZXJ2ZShlWyJuZXciXShuKSx0W25dKX1lbHNlIGlmKHQuY29uc3RydWN0b3I9PT1BcnJheSl7QXJyYXkub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgaSBpbiB0KWlmKHIuX2lzT2JzZXJ2YWJsZSh0W2ldKSl7dmFyIHM9ZVsibmV3Il0obmV3IF8odFtpXSxpKSk7ci5faW50ZXJuYWxPYnNlcnZlKHMsdFtpXSl9fX19fSx7a2V5OiJfb25DaGFuZ2VzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Zm9yKHZhciBvIGluIHQpe3ZhciBuPXRbb10ub2JqZWN0LGk9dm9pZCAwO2lmKG4uY29uc3RydWN0b3I9PT1PYmplY3QmJihpPWIuT0JKRUNUKSxuLmNvbnN0cnVjdG9yPT09QXJyYXkmJihpPWIuQVJSQVkpLCJzcGxpY2UiPT09dFtvXS50eXBlKSFmdW5jdGlvbigpe3ZhciBzPXRbb10uaW5kZXgsYz1lWyJuZXciXSgiIitzKSxhPWMudG9TdHJpbmcoKSx1PXRbb10ucmVtb3ZlZC5sZW5ndGg7aWYoMCE9PXUpe3ZhciBmPXRbb10ucmVtb3ZlZDtmLmZvckVhY2goZnVuY3Rpb24odCxvKXtyLl9pc09ic2VydmFibGUodCkmJmUucmVtb3ZlSW5kZXgocytvKX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5SRU1PVkUsb1R5cGU6aSxmaWVsZDphLGRhdGE6dX0pfXZhciBkPXRbb10uYWRkZWRDb3VudDtpZigwIT09ZCl7dmFyIGI9bi5zbGljZShzLHMrZCk7Yi5mb3JFYWNoKGZ1bmN0aW9uKHQsbyl7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbj1lWyJuZXciXShuZXcgXyh0LHMrbykpO3IuX2ludGVybmFsT2JzZXJ2ZShuLHQpfX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGIpfSl9cyE9PW4ubGVuZ3RoLTEmJmUucmVJbmRleEZyb20obil9KCk7ZWxzZXt2YXIgcz1lWyJuZXciXSh0W29dLm5hbWUpLGM9cy50b1N0cmluZygpO2lmKGMuaW5kZXhPZigiU3ltYm9sIikhPT0tMSljb250aW51ZTt2YXIgYT1uW3Rbb10ubmFtZV07InVwZGF0ZSI9PT10W29dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5VUERBVEUsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSksImFkZCI9PT10W29dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUocyxhKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShhKX0pKSwiZGVsZXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmN9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InJlbW92ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fb2JzZXJ2YWJsZXNbZV19fSx7a2V5OiJyZUluZGV4RnJvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX29ic2VydmFibGVzW3JdLG49ZS5pbmRleE9mKG8ub2JqKTtvLmlkeCE9biYmKG8uaWR4PW4sZGVsZXRlIHQuX29ic2VydmFibGVzW3JdLHQuX29ic2VydmFibGVzW25dPW8pfSl9fSx7a2V5OiJuZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PV8mJih0aGlzLl9vYnNlcnZhYmxlc1tlLmlkeF09ZSk7dmFyIHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0Ll9wYXRoLnB1c2goZSksdH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fcGF0aC5wdXNoKGUpfSksdH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24odCxyKXswPT09cj9lPXQudG9TdHJpbmcoKTplKz0iLiIrdC50b1N0cmluZygpfSksZX19XSksZX0oKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLm9iaj10LHRoaXMuaWR4PXJ9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKX19XSksZX0oKSxwPXIuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LGI9ci5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07clsiZGVmYXVsdCJdPWZ9LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW8obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLF89byhkKSxwPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksYj1vKHApLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLl9vd25lcj10LG4uX2J1cz1yLG4uX3N1YlVSTD1vLnJ1bnRpbWVVUkwrIi9zbSIsbi5fcmVwb3J0ZXJzPXt9LG4uX29ic2VydmVycz17fSxuLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6bi5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpuLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6bi5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzO3IucmVwb3J0ZXI9by5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbj17dHlwZToiY3JlYXRlIixmcm9tOm8uX293bmVyLHRvOm8uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtvLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG4pLDIwMD09PW4uYm9keS5jb2RlKXt2YXIgcz1uLmJvZHkucmVzb3VyY2UsYz1uZXcgZlsiZGVmYXVsdCJdKG8scyxlLCJvbiIscixuLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO28uX3JlcG9ydGVyc1tzXT1jLHQoYyl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxvPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihuLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKG8pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbyk7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG8uYm9keS5jb2RlPDIwMClzPW5ldyBiWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW8uYm9keS5jb2RlKXt2YXIgYz1uZXcgX1siZGVmYXVsdCJdKHIsdCxlLCJvbiIsby5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sby5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1jLG4oYykscy5hcHBseShjKX1lbHNlIGkoby5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG8pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpewpjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6byh0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbz17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG89dC5fb2JzZXJ2ZXJzW3JdO2lmKG8pe3ZhciBuPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSwyMDA9PT1uJiZvWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm4sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWgsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6MTE3LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL0RhdGFQcm92aXNpb25hbCI6MTE5LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDEyMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG4oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbz1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO29bMF09PT1lJiYob1swXT0iaHR0cHMiLG9bMV09ZSk7dmFyIG49e3R5cGU6b1swXSxkb21haW46b1sxXSxpZGVudGl0eTpvWzJdfTtyZXR1cm4gbn1mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxwWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBjKGUpe2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSl9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW4oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW4oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9byhmKSxfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9byhfKTtyLmRpdmlkZVVSTD1uLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbMTE0XSkoMTE0KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCnZhciBfU3luY2hlciA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpOwoKdmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7Cgp2YXIgX0V2ZW50RW1pdHRlcjIgPSByZXF1aXJlKCcuLi91dGlscy9FdmVudEVtaXR0ZXInKTsKCnZhciBfRXZlbnRFbWl0dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSA/IGNhbGwgOiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKiBqc2hpbnQgdW5kZWY6IHRydWUgKi8KCi8qKgoqIEhlbGxvIFdvcmxkIE9ic2VydmVyCiogQGF1dGhvciBQYXVsbyBDaGFpbmhvIFtwYXVsby1nLWNoYWluaG9AdGVsZWNvbS5wdF0KKiBAdmVyc2lvbiAwLjEuMAoqLwp2YXIgSGVsbG9Xb3JsZE9ic2VydmVyID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHsKICBfaW5oZXJpdHMoSGVsbG9Xb3JsZE9ic2VydmVyLCBfRXZlbnRFbWl0dGVyKTsKCiAgLyoqCiAgKiBDcmVhdGUgYSBuZXcgSGVsbG9Xb3JsZE9ic2VydmVyCiAgKiBAcGFyYW0gIHtTeW5jaGVyfSBzeW5jaGVyIC0gU3luY2hlciBwcm92aWRlZCBmcm9tIHRoZSBydW50aW1lIGNvcmUKICAqLwogIGZ1bmN0aW9uIEhlbGxvV29ybGRPYnNlcnZlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWxsb1dvcmxkT2JzZXJ2ZXIpOwoKICAgIGlmICghaHlwZXJ0eVVSTCkgdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghYnVzKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBNaW5pQnVzIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwogICAgaWYgKCFjb25maWd1cmF0aW9uKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpOwoKICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSGVsbG9Xb3JsZE9ic2VydmVyKS5jYWxsKHRoaXMpKTsKCiAgICB2YXIgX3RoaXMgPSBfdGhpczI7CiAgICB2YXIgZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHlVUkwpLmRvbWFpbjsKICAgIF90aGlzLl9kb21haW4gPSBkb21haW47CgogICAgX3RoaXMuX29iamVjdERlc2NVUkwgPSAnaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyArIGRvbWFpbiArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9IZWxsb1dvcmxkRGF0YVNjaGVtYSc7CgogICAgdmFyIHN5bmNoZXIgPSBuZXcgX1N5bmNoZXIuU3luY2hlcihoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pOwogICAgc3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgX3RoaXMuX29uTm90aWZpY2F0aW9uKGV2ZW50KTsKICAgIH0pOwoKICAgIF90aGlzLl9zeW5jaGVyID0gc3luY2hlcjsKICAgIHJldHVybiBfdGhpczI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSGVsbG9Xb3JsZE9ic2VydmVyLCBbewogICAga2V5OiAnX29uTm90aWZpY2F0aW9uJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Ob3RpZmljYXRpb24oZXZlbnQpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmluZm8oJ0V2ZW50IFJlY2VpdmVkOiAnLCBldmVudCk7CgogICAgICBfdGhpcy50cmlnZ2VyKCdpbnZpdGF0aW9uJywgZXZlbnQuaWRlbnRpdHkpOwoKICAgICAgLy8gQWNrbm93bGVkZ2UgcmVwb3J0ZXIgYWJvdXQgdGhlIEludml0YXRpb24gd2FzIHJlY2VpdmVkCiAgICAgIGV2ZW50LmFjaygpOwoKICAgICAgLy8gU3Vic2NyaWJlIEhlbGxvIFdvcmxkIE9iamVjdAogICAgICBfdGhpcy5fc3luY2hlci5zdWJzY3JpYmUoX3RoaXMuX29iamVjdERlc2NVUkwsIGV2ZW50LnVybCkudGhlbihmdW5jdGlvbiAoaGVsbG9PYmp0T2JzZXJ2ZXIpIHsKCiAgICAgICAgLy8gSGVsbG8gV29ybGQgT2JqZWN0IHdhcyBzdWJzY3JpYmVkCiAgICAgICAgY29uc29sZS5pbmZvKGhlbGxvT2JqdE9ic2VydmVyKTsKCiAgICAgICAgLy8gbGV0cyBub3RpZnkgdGhlIEFwcCB0aGUgc3Vic2NyaXB0aW9uIHdhcyBhY2NlcHRlZCB3aXRoIHRoZSBtbm9zdCB1cGRhdGVkIHZlcnNpb24gb2YgSGVsbG8gV29ybGQgT2JqZWN0CgogICAgICAgIF90aGlzLnRyaWdnZXIoJ2hlbGxvJywgaGVsbG9PYmp0T2JzZXJ2ZXIuZGF0YSk7CgogICAgICAgIC8vIGxldHMgbm93IG9ic2VydmUgYW55IGNoYW5nZXMgZG9uZSBpbiBIZWxsbyBXb3JsZCBPYmplY3QKCiAgICAgICAgaGVsbG9PYmp0T2JzZXJ2ZXIub25DaGFuZ2UoJyonLCBmdW5jdGlvbiAoZXZlbnQpIHsKCiAgICAgICAgICAvLyBIZWxsbyBXb3JsZCBPYmplY3Qgd2FzIGNoYW5nZWQKICAgICAgICAgIGNvbnNvbGUuaW5mbygnbWVzc2FnZSByZWNlaXZlZDonLCBldmVudCk7CgogICAgICAgICAgLy8gbGV0cyBub3RpZnkgdGhlIEFwcCBhYm91dCB0aGUgY2hhbmdlCiAgICAgICAgICBfdGhpcy50cmlnZ2VyKCdoZWxsbycsIGhlbGxvT2JqdE9ic2VydmVyLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIZWxsb1dvcmxkT2JzZXJ2ZXI7Cn0oX0V2ZW50RW1pdHRlcjMuZGVmYXVsdCk7CgpmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZ3VyYXRpb24pIHsKCiAgcmV0dXJuIHsKICAgIG5hbWU6ICdIZWxsb1dvcmxkT2JzZXJ2ZXInLAogICAgaW5zdGFuY2U6IG5ldyBIZWxsb1dvcmxkT2JzZXJ2ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKQogIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvRXZlbnRFbWl0dGVyIjozLCIuLi91dGlscy91dGlscyI6NCwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLyoqCiAqIEV2ZW50RW1pdHRlcgogKiBBbGwgY2xhc3NlcyB3aGljaCBleHRlbmRzIHRoaXMsIGNhbiBoYXZlIGFkZEV2ZW50TGlzdGVuZXIgYW5kIHRyaWdnZXIgZXZlbnRzOwogKi8KdmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAvKioKICAgICAqIEluaXRpYWxpemVzIHRoZSBFdmVudEVtaXR0ZXIKICAgICAqLwogICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpOwoKICAgICAgICAvLyBzZXQgdXAgbGlzdGVuZXIgaG9sZGVyCiAgICAgICAgdGhpcy5fX2V2ZW50TGlzdGVuZXJzID0ge307CiAgICB9CgogICAgLyoqCiAgICAgKiBhZGRFdmVudExpc3RlbmVyIGxpc3RlbiBmb3IgYW4gZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgZXZlbnRUeXBlIC0gbGlzdGVuaW5nIGZvciB0aGlzIHR5cGUgb2YgZXZlbnQKICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICBjYiAgICAgICAgLSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGl0IGlzIGludm9rZWQKICAgICAqLwoKCiAgICBfY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbewogICAgICAgIGtleTogImFkZEV2ZW50TGlzdGVuZXIiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2IpIHsKICAgICAgICAgICAgLy8gYWRkIGNhbGxiYWNrIHRvIHRoZSBsaXN0IG9mIGNhbGxiYWNrcyBmb3IgdGhpcyB0eXBlCiAgICAgICAgICAgIC8vIGlmIHRoZSBsaXN0IGRvZXNuJ3QgZXhpc3QgeWV0LCBjcmVhdGUgaXQgd2l0aCB0aGUgY2FsbGJhY2sgYXMgbWVtYmVyCiAgICAgICAgICAgIGlmIChjYiAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV0pIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudFR5cGVdID0gW2NiXTtlbHNlIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudFR5cGVdLnB1c2goY2IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBJbnZva2UgdGhlIGV2ZW50VHlwZQogICAgICAgICAqIEBwYXJhbSAge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgd2lsbCBiZSBpbnZva2VkCiAgICAgICAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICAgICAgICovCgogICAgfSwgewogICAgICAgIGtleTogInRyaWdnZXIiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50VHlwZSwgcGFyYW1zKSB7CiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBjYWxsYmFja3MgZm9yIHRoaXMgdHlwZQogICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV07CiAgICAgICAgICAgIGlmIChjYWxsYmFja3MpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgewogICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoIGVycm9ycyB0byBtYWtlIHN1cmUgZXZlcnkgY2FsbGJhY2sgaXMgYmVpbmcgY2FsbGVkCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2IocGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiY2FsbGluZyBsaXN0ZW5lciAiICsgY2IubmFtZSArICIgZm9yIGV2ZW50IHR5cGUgIiArIGV2ZW50VHlwZSArICIgd2l0aCBwYXJhbWV0ZXJzICciICsgcGFyYW1zICsgIicgcmVzdWx0ZWQgaW4gYW4gZXJyb3IhIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEV2ZW50RW1pdHRlcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRFbWl0dGVyOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGl2aWRlVVJMID0gZGl2aWRlVVJMOwpleHBvcnRzLmRlZXBDbG9uZSA9IGRlZXBDbG9uZTsKZXhwb3J0cy5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7Ci8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovCgovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwoKLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovCgovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTCh1cmwpIHsKCiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKICB2YXIgcmUgPSAvKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTsKICB2YXIgc3Vic3QgPSAnJDEsJDIsJDMnOwogIHZhciBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTsKCiAgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwogIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7CiAgICBwYXJ0c1swXSA9ICdodHRwcyc7CiAgICBwYXJ0c1sxXSA9IHVybDsKICB9CgogIHZhciByZXN1bHQgPSB7CiAgICB0eXBlOiBwYXJ0c1swXSwKICAgIGRvbWFpbjogcGFydHNbMV0sCiAgICBpZGVudGl0eTogcGFydHNbMl0KICB9OwoKICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogTWFrZSBhIENPUFkgb2YgdGhlIG9yaWdpbmFsIGRhdGEKICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZAogKiBAcmV0dXJuIHtPYmplY3R9CiAqLwpmdW5jdGlvbiBkZWVwQ2xvbmUob2JqKSB7CiAgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgogIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwp9CgovKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge29iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwpmdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgICAgcmVzb2x2ZShtZWRpYVN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCn0se31dfSx7fSxbMl0pKDIpCn0pOw==",
      "sourceCodeClassname": "HelloWorldObserver",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10007,
    "version": "0.1",
    "description": "Description of HelloWorldObserver",
    "language": "Javascript",
    "objectName": "HelloWorldObserver",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "HelloWorldReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgQXVnIDEwIDIwMTYgMTU6MjU6NDkgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixvKXtmdW5jdGlvbiBuKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmYSlyZXR1cm4gYShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBuKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbyl9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8by5sZW5ndGg7cysrKW4ob1tzXSk7cmV0dXJuIG59KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG89InBlcmZvcm1DaGFuZ2UiLG49Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGEoZSl7dmFyIHQ9YXJndW1lbnRzLHM9YVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbbl0uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW25dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxjPWRbbl0uYXBwbHkodGhpcyxzKTtyZXR1cm4oYy5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDpjfX0sdGhpcyksY319O2Zvcih2YXIgYyBpbiBzKXNbY11bbl09dC5wcm90b3R5cGVbY10sdC5wcm90b3R5cGVbY109c1tjXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjIwfV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIxfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjJ9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyM31dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjI0fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI1fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIjoyN31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYz1vKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBhKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbz0oMCxjWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09byl7dmFyIG49KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW4/dm9pZCAwOmEobix0LHIpfWlmKCJ2YWx1ZSJpbiBvKXJldHVybiBvLnZhbHVlO3ZhciBzPW8uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1LCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9byhuKSxzPWUoIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpLGM9byhzKSxhPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksdT1vKGEpO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCx1WyJkZWZhdWx0Il0pKHQpKSk7ZS5wcm90b3R5cGU9KDAsY1siZGVmYXVsdCJdKSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGlbImRlZmF1bHQiXT8oMCxpWyJkZWZhdWx0Il0pKGUsdCk6ZS5fX3Byb3RvX189dCl9fSx7Ii4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OCwiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9zeW1ib2wiKSxjPW8ocyksYT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09dHlwZW9mIGlbImRlZmF1bHQiXT9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOnR5cGVvZiBlfTtyWyJkZWZhdWx0Il09ImZ1bmN0aW9uIj09dHlwZW9mIGNbImRlZmF1bHQiXSYmInN5bWJvbCI9PT1hKGlbImRlZmF1bHQiXSk/ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjphKGUpfX0seyIuLi9jb3JlLWpzL3N5bWJvbCI6MTAsIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG49by5KU09OfHwoby5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3RyaW5naWZ5LmFwcGx5KG4sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzV9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSI6MTAwfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Iik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBvLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOjEwMX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoxMDJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjoxMDN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjEwNH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjEwNX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6MTA3LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6MTA5LCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOjExMCwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiOjExMX1dLDI3OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX3drcy1leHQiKS5mKCJpdGVyYXRvciIpfSx7Ii4uLy4uL21vZHVsZXMvX3drcy1leHQiOjk2LCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDMwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1vJiZvIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW8oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjU0fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1vKHQpLHU9bihhLmxlbmd0aCksbD1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1Pmw7KWlmKGM9YVtsKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKGV8fGwgaW4gYSkmJmFbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo4OCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLWxlbmd0aCI6OTF9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpLG49ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09byhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbikpP3I6aT9vKHQpOiJPYmplY3QiPT0oYz1vKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MzQsIi4vX3drcyI6OTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gby5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW8pfSx7fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihvKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbyl7cmV0dXJuIGUuY2FsbCh0LHIsbyl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixvLG4pe3JldHVybiBlLmNhbGwodCxyLG8sbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjI4fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0M31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW8obikmJm8obi5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/bi5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX29iamVjdC1nb3BzIiksaT1lKCIuL19vYmplY3QtcGllIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSkscj1uLmY7aWYocilmb3IodmFyIHMsYz1yKGUpLGE9aS5mLHU9MDtjLmxlbmd0aD51OylhLmNhbGwoZSxzPWNbdSsrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LHsiLi9fb2JqZWN0LWdvcHMiOjcxLCIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1waWUiOjc1fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2N0eCIpLHM9ZSgiLi9faGlkZSIpLGM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIHUsbCxmLGQ9ZSZhLkYsXz1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix5PWUmYS5XLHY9Xz9uOm5bdF18fChuW3RdPXt9KSxqPXZbY10sbT1fP286cD9vW3RdOihvW3RdfHx7fSlbY107XyYmKHI9dCk7Zm9yKHUgaW4gcilsPSFkJiZtJiZ2b2lkIDAhPT1tW3VdLGwmJnUgaW4gdnx8KGY9bD9tW3VdOnJbdV0sdlt1XT1fJiYiZnVuY3Rpb24iIT10eXBlb2YgbVt1XT9yW3VdOmgmJmw/aShmLG8pOnkmJm1bdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG8pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG8pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRbY109ZVtjXSx0fShmKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixiJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW3VdPWYsZSZhLlImJmomJiFqW3VdJiZzKGosdSxmKSkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLGEuVT02NCxhLlI9MTI4LHQuZXhwb3J0cz1hfSx7Ii4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19nbG9iYWwiOjQ1LCIuL19oaWRlIjo0N31dLDQzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jdHgiKSxuPWUoIi4vX2l0ZXItY2FsbCIpLGk9ZSgiLi9faXMtYXJyYXktaXRlciIpLHM9ZSgiLi9fYW4tb2JqZWN0IiksYz1lKCIuL190by1sZW5ndGgiKSxhPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksdT17fSxsPXt9LHI9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYsZCl7dmFyIF8scCxiLGgseT1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmEoZSksdj1vKHIsZix0PzI6MSksaj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB5KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoeSkpe2ZvcihfPWMoZS5sZW5ndGgpO18+ajtqKyspaWYoaD10P3YocyhwPWVbal0pWzBdLHBbMV0pOnYoZVtqXSksaD09PXV8fGg9PT1sKXJldHVybiBofWVsc2UgZm9yKGI9eS5jYWxsKGUpOyEocD1iLm5leHQoKSkuZG9uZTspaWYoaD1uKGIsdixwLnZhbHVlLHQpLGg9PT11fHxoPT09bClyZXR1cm4gaH07ci5CUkVBSz11LHIuUkVUVVJOPWx9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtYXJyYXktaXRlciI6NTIsIi4vX2l0ZXItY2FsbCI6NTUsIi4vX3RvLWxlbmd0aCI6OTEsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo5OH1dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW8pfSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5jYWxsKGUsdCl9fSx7fV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZihlLHQsbigxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19wcm9wZXJ0eS1kZXNjIjo3N31dLDQ4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjo0NX1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19kZXNjcmlwdG9ycyIpJiYhZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19mYWlscyI6NDN9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG89dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbz9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbz9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbz9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG8/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1vKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi9fY29mIjozNH1dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXRlcmF0b3JzIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihvLkFycmF5PT09ZXx8aVtuXT09PWUpfX0seyIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09byhlKX19LHsiLi9fY29mIjozNH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXt0cnl7cmV0dXJuIG4/dChvKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbyhzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjMxfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW8ocyx7bmV4dDpuKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjQ3LCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2xpYnJhcnkiKSxuPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGw9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vX29iamVjdC1ncG8iKSxkPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLF89IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsYj0ia2V5cyIsaD0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix2LGosbSxnKXt1KHIsdCx2KTt2YXIgdyxPLGsseD1mdW5jdGlvbihlKXtpZighXyYmZSBpbiBSKXJldHVybiBSW2VdO3N3aXRjaChlKXtjYXNlIGI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxDPXQrIiBJdGVyYXRvciIsRT1qPT1oLFM9ITEsUj1lLnByb3RvdHlwZSxUPVJbZF18fFJbcF18fGomJlJbal0sTT1UfHx4KGopLFA9aj9FP3goImVudHJpZXMiKTpNOnZvaWQgMCxBPSJBcnJheSI9PXQ/Ui5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9ZihBLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGwoayxDLCEwKSxvfHxjKGssZCl8fHMoayxkLHkpKSksRSYmVCYmVC5uYW1lIT09aCYmKFM9ITAsTT1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxvJiYhZ3x8IV8mJiFTJiZSW2RdfHxzKFIsZCxNKSxhW3RdPU0sYVtDXT15LGopaWYodz17dmFsdWVzOkU/TTp4KGgpLGtleXM6bT9NOngoYiksZW50cmllczpQfSxnKWZvcihPIGluIHcpTyBpbiBSfHxpKFIsTyx3W09dKTtlbHNlIG4obi5QK24uRiooX3x8UyksdCx3KTtyZXR1cm4gd319LHsiLi9fZXhwb3J0Ijo0MiwiLi9faGFzIjo0NiwiLi9faGlkZSI6NDcsIi4vX2l0ZXItY3JlYXRlIjo1NiwiLi9faXRlcmF0b3JzIjo2MCwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1ncG8iOjcyLCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbj0hMTt0cnl7dmFyIGk9WzddW29dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtuPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbilyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtvXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjk3fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1rZXlzIiksbj1lKCIuL190by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9bihlKSxzPW8oaSksYz1zLmxlbmd0aCxhPTA7Yz5hOylpZihpW3I9c1thKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fdG8taW9iamVjdCI6OTB9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdWlkIikoIm1ldGEiKSxuPWUoIi4vX2lzLW9iamVjdCIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19vYmplY3QtZHAiKS5mLGM9MCxhPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHU9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gYShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7cyhlLG8se3ZhbHVlOntpOiJPIisgKytjLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxvKSl7aWYoIWEoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW29dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW29dLnd9LF89ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJnAuTkVFRCYmYShlKSYmIWkoZSxvKSYmbChlKSxlfSxwPXQuZXhwb3J0cz17S0VZOm8sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpkLG9uRnJlZXplOl99fSx7Ii4vX2ZhaWxzIjo0MywiLi9faGFzIjo0NiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fdWlkIjo5NH1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL190YXNrIikuc2V0LGk9by5NdXRhdGlvbk9ic2VydmVyfHxvLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1vLnByb2Nlc3MsYz1vLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG8sbjtmb3IoYSYmKG89cy5kb21haW4pJiZvLmV4aXQoKTtlOyl7bj1lLmZuLGU9ZS5uZXh0O3RyeXtuKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbyYmby5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBsPSEwLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtmLmRhdGE9bD0hbH19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBkPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtkLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe24uY2FsbChvLHUpfTtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIG49e2ZuOm8sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9biksZXx8KGU9bixyKCkpLHQ9bn19fSx7Ii4vX2NvZiI6MzQsIi4vX2dsb2JhbCI6NDUsIi4vX3Rhc2siOjg3fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbz1pLmxlbmd0aCxuPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK24pLHQuY2xvc2UoKSx1PXQuRjtvLS07KWRlbGV0ZSB1W2FdW2lbb11dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1vKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm4ocix0KX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19odG1sIjo0OCwiLi9fb2JqZWN0LWRwcyI6NjcsIi4vX3NoYXJlZC1rZXkiOjgzfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdD1pKHQsITApLG8ociksbil0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtuKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOylvLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19vYmplY3Qta2V5cyI6NzR9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1waWUiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG4oIW8uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faGFzIjo0NiwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3RvLWlvYmplY3QiOjkwLCIuL190by1wcmltaXRpdmUiOjkzfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wbiIpLmYsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG4oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2MoZSk6bihvKGUpKX19LHsiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL190by1pb2JqZWN0Ijo5MH1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3IuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDcxOltmdW5jdGlvbihlLHQscil7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LHt9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hhcyIpLG49ZSgiLi9fdG8tb2JqZWN0IiksaT1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW4oZSksbyhlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0seyIuL19oYXMiOjQ2LCIuL19zaGFyZWQta2V5Ijo4MywiLi9fdG8tb2JqZWN0Ijo5Mn1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1pb2JqZWN0IiksaT1lKCIuL19hcnJheS1pbmNsdWRlcyIpKCExKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSksYT0wLHU9W107Zm9yKHIgaW4gYylyIT1zJiZvKGMscikmJnUucHVzaChyKTtmb3IoO3QubGVuZ3RoPmE7KW8oYyxyPXRbYSsrXSkmJih+aSh1LHIpfHx1LnB1c2gocikpO3JldHVybiB1fX0seyIuL19hcnJheS1pbmNsdWRlcyI6MzIsIi4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1pb2JqZWN0Ijo5MH1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsbil9fSx7Ii4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCI6NzN9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3IuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0se31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShuLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbyhvLlMrby5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vX2NvcmUiOjM1LCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hpZGUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0KXImJmVbbl0/ZVtuXT10W25dOm8oZSxuLHRbbl0pO3JldHVybiBlfX0seyIuL19oaWRlIjo0N31dLDc5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2hpZGUiKX0seyIuL19oaWRlIjo0N31dLDgwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWZ1bmN0aW9uKGUsdCl7aWYobihlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuL19jdHgiKShGdW5jdGlvbi5jYWxsLGUoIi4vX29iamVjdC1nb3BkIikuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChuKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWdvcGQiOjY4fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19vYmplY3QtZHAiKSxzPWUoIi4vX2Rlc2NyaXB0b3JzIiksYz1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgbltlXT9uW2VdOm9bZV07cyYmdCYmIXRbY10mJmkuZih0LGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi9fY29yZSI6MzUsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZ2xvYmFsIjo0NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIikuZixuPWUoIi4vX2hhcyIpLGk9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbihlPXI/ZTplLnByb3RvdHlwZSxpKSYmbyhlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vX2hhcyI6NDYsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcyI6OTd9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJrZXlzIiksbj1lKCIuL191aWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPW4oZSkpfX0seyIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9b1tuXXx8KG9bbl09e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuL19nbG9iYWwiOjQ1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2EtZnVuY3Rpb24iKSxpPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1vKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW8ocylbaV0pP3Q6bihyKX19LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLW9iamVjdCI6MzEsIi4vX3drcyI6OTd9XSw4NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhuKHQpKSxhPW8ociksdT1jLmxlbmd0aDtyZXR1cm4gYTwwfHxhPj11P2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdChhKSxpPDU1Mjk2fHxpPjU2MzE5fHxhKzE9PT11fHwocz1jLmNoYXJDb2RlQXQoYSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdChhKTppOmU/Yy5zbGljZShhLGErMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX3RvLWludGVnZXIiOjg5fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbyxuLGkscz1lKCIuL19jdHgiKSxjPWUoIi4vX2ludm9rZSIpLGE9ZSgiLi9faHRtbCIpLHU9ZSgiLi9fZG9tLWNyZWF0ZSIpLGw9ZSgiLi9fZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxfPWwuY2xlYXJJbW1lZGlhdGUscD1sLk1lc3NhZ2VDaGFubmVsLGI9MCxoPXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsdj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGguaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWhbZV07ZGVsZXRlIGhbZV0sdCgpfX0saj1mdW5jdGlvbihlKXt2LmNhbGwoZS5kYXRhKX07ZCYmX3x8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGhbKytiXT1mdW5jdGlvbigpe2MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbyhiKSxifSxfPWZ1bmN0aW9uKGUpe2RlbGV0ZSBoW2VdfSwicHJvY2VzcyI9PWUoIi4vX2NvZiIpKGYpP289ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKHYsZSwxKSl9OnA/KG49bmV3IHAsaT1uLnBvcnQyLG4ucG9ydDEub25tZXNzYWdlPWosbz1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG89ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaiwhMSkpOm89eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksdi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKHYsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6X319LHsiLi9fY29mIjozNCwiLi9fY3R4IjozNiwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2dsb2JhbCI6NDUsIi4vX2h0bWwiOjQ4LCIuL19pbnZva2UiOjUwfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW8oZSksZTwwP24oZSt0LDApOmkoZSx0KX19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bjpvKShlKX19LHt9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lvYmplY3QiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSx7Ii4vX2RlZmluZWQiOjM3LCIuL19pb2JqZWN0Ijo1MX1dLDkxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/bihvKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vX3RvLWludGVnZXIiOjg5fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobyhlKSl9fSx7Ii4vX2RlZmluZWQiOjM3fV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4gZTt2YXIgcixuO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSw5NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPTAsbj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK28rbikudG9TdHJpbmcoMzYpKX19LHt9XSw5NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fbGlicmFyeSIpLHM9ZSgiLi9fd2tzLWV4dCIpLGM9ZSgiLi9fb2JqZWN0LWRwIikuZjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5TeW1ib2x8fChuLlN5bWJvbD1pP3t9Om8uU3ltYm9sfHx7fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxjKHQsZSx7dmFsdWU6cy5mKGUpfSl9fSx7Ii4vX2NvcmUiOjM1LCIuL19nbG9iYWwiOjQ1LCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzLWV4dCI6OTZ9XSw5NjpbZnVuY3Rpb24oZSx0LHIpe3IuZj1lKCIuL193a3MiKX0seyIuL193a3MiOjk3fV0sOTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19zaGFyZWQiKSgid2tzIiksbj1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfHwob1tlXT1zJiZpW2VdfHwocz9pOm4pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9b30seyIuL19nbG9iYWwiOjQ1LCIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jbGFzc29mIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW25dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbyhlKV19fSx7Ii4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG49ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxuKDEpKToia2V5cyI9PXQ/bigwLHIpOiJ2YWx1ZXMiPT10P24oMCxlW3JdKTpuKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxvKCJrZXlzIiksbygidmFsdWVzIiksbygiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjksIi4vX2l0ZXItZGVmaW5lIjo1NywiLi9faXRlci1zdGVwIjo1OSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7Y3JlYXRlOmUoIi4vX29iamVjdC1jcmVhdGUiKX0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1jcmVhdGUiOjY1fV0sMTAxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMrby5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19leHBvcnQiOjQyLCIuL19vYmplY3QtZHAiOjY2fV0sMTAyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKG8oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1ncG8iKTtlKCIuL19vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3QtZ3BvIjo3MiwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1vYmplY3QiOjkyfV0sMTA1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vX3NldC1wcm90byIpLnNldH0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX3NldC1wcm90byI6ODB9XSwxMDY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG8sbixpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxsPWUoIi4vX2V4cG9ydCIpLGY9ZSgiLi9faXMtb2JqZWN0IiksZD0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxfPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSxiPShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSxoPWUoIi4vX3Rhc2siKS5zZXQseT1lKCIuL19taWNyb3Rhc2siKSgpLHY9IlByb21pc2UiLGo9Yy5UeXBlRXJyb3IsbT1jLnByb2Nlc3MsZz1jW3ZdLG09Yy5wcm9jZXNzLHc9InByb2Nlc3MiPT11KG0pLE89ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1nLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShPLE8pfTtyZXR1cm4od3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihPKWluc3RhbmNlb2Ygcn1jYXRjaChvKXt9fSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1nJiZ0PT09aX0sQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFmKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sRT1mdW5jdGlvbihlKXtyZXR1cm4geChnLGUpP25ldyBTKGUpOm5ldyBuKGUpfSxTPW49ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxvKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IGooIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9b30pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFI9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxUPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYzt5KGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWUuX3Ysbj0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1uP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8obnx8KDI9PWUuX2gmJkEoZSksZS5faD0xKSxzPT09ITA/cj1vOih1JiZ1LmVudGVyKCkscj1zKG8pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EoaigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1DKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobyl9Y2F0Y2gobCl7YShsKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJk0oZSl9KX19LE09ZnVuY3Rpb24oZSl7aC5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG8sbj1lLl92O2lmKFAoZSkmJih0PVIoZnVuY3Rpb24oKXt3P20uZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246bn0pOihvPWMuY29uc29sZSkmJm8uZXJyb3ImJm8uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbil9KSxlLl9oPXd8fFAoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sUD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbz0wO3IubGVuZ3RoPm87KWlmKHQ9cltvKytdLHQuZmFpbHx8IVAodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3c/bS5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLFQodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IGooIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9QyhlKSk/eShmdW5jdGlvbigpe3ZhciBvPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShOLG8sMSksYShELG8sMSkpfWNhdGNoKG4pe0QuY2FsbChvLG4pfX0pOihyLl92PWUsci5fcz0xLFQociwhMSkpfWNhdGNoKG8pe0QuY2FsbCh7X3c6cixfZDohMX0sbyl9fX07a3x8KGc9ZnVuY3Rpb24oZSl7Xyh0aGlzLGcsdiwiX2giKSxkKGUpLG8uY2FsbCh0aGlzKTt0cnl7ZShhKE4sdGhpcywxKSxhKEQsdGhpcywxKSl9Y2F0Y2godCl7RC5jYWxsKHRoaXMsdCl9fSxvPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG8ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9RShiKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj13P20uZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbzt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShOLGUsMSksdGhpcy5yZWplY3Q9YShELGUsMSl9KSxsKGwuRytsLlcrbC5GKiFrLHtQcm9taXNlOmd9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcsdiksZSgiLi9fc2V0LXNwZWNpZXMiKSh2KSxpPWUoIi4vX2NvcmUiKVt2XSxsKGwuUytsLkYqIWssdix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PUUodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSwKdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IWspLHYse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1FKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqIShrJiZlKCIuL19pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe2cuYWxsKGUpWyJjYXRjaCJdKE8pfSkpLHYse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVzb2x2ZSxuPXIucmVqZWN0LGk9UihmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7cChlLCExLGZ1bmN0aW9uKGUpe3ZhciBjPWkrKyxhPSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXthfHwoYT0hMCxyW2NdPWUsLS1zfHxvKHIpKX0sbil9KSwtLXN8fG8ocil9KTtyZXR1cm4gaSYmbihpLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbz1yLnJlamVjdCxuPVIoZnVuY3Rpb24oKXtwKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG8pfSl9KTtyZXR1cm4gbiYmbyhuLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLWluc3RhbmNlIjozMCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19leHBvcnQiOjQyLCIuL19mb3Itb2YiOjQ0LCIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0LCIuL19pdGVyLWRldGVjdCI6NTgsIi4vX2xpYnJhcnkiOjYyLCIuL19taWNyb3Rhc2siOjY0LCIuL19yZWRlZmluZS1hbGwiOjc4LCIuL19zZXQtcHJvdG8iOjgwLCIuL19zZXQtc3BlY2llcyI6ODEsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciI6ODUsIi4vX3Rhc2siOjg3LCIuL193a3MiOjk3fV0sMTA4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX3N0cmluZy1hdCIpKCEwKTtlKCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1vKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjU3LCIuL19zdHJpbmctYXQiOjg2fV0sMTA5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGFzIiksaT1lKCIuL19kZXNjcmlwdG9ycyIpLHM9ZSgiLi9fZXhwb3J0IiksYz1lKCIuL19yZWRlZmluZSIpLGE9ZSgiLi9fbWV0YSIpLktFWSx1PWUoIi4vX2ZhaWxzIiksbD1lKCIuL19zaGFyZWQiKSxmPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZD1lKCIuL191aWQiKSxfPWUoIi4vX3drcyIpLHA9ZSgiLi9fd2tzLWV4dCIpLGI9ZSgiLi9fd2tzLWRlZmluZSIpLGg9ZSgiLi9fa2V5b2YiKSx5PWUoIi4vX2VudW0ta2V5cyIpLHY9ZSgiLi9faXMtYXJyYXkiKSxqPWUoIi4vX2FuLW9iamVjdCIpLG09ZSgiLi9fdG8taW9iamVjdCIpLGc9ZSgiLi9fdG8tcHJpbWl0aXZlIiksdz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksTz1lKCIuL19vYmplY3QtY3JlYXRlIiksaz1lKCIuL19vYmplY3QtZ29wbi1leHQiKSx4PWUoIi4vX29iamVjdC1nb3BkIiksQz1lKCIuL19vYmplY3QtZHAiKSxFPWUoIi4vX29iamVjdC1rZXlzIiksUz14LmYsUj1DLmYsVD1rLmYsTT1vLlN5bWJvbCxQPW8uSlNPTixBPVAmJlAuc3RyaW5naWZ5LEQ9InByb3RvdHlwZSIsTj1fKCJfaGlkZGVuIiksTD1fKCJ0b1ByaW1pdGl2ZSIpLEY9e30ucHJvcGVydHlJc0VudW1lcmFibGUsST1sKCJzeW1ib2wtcmVnaXN0cnkiKSxVPWwoInN5bWJvbHMiKSx6PWwoIm9wLXN5bWJvbHMiKSxIPU9iamVjdFtEXSxWPSJmdW5jdGlvbiI9PXR5cGVvZiBNLEI9by5RT2JqZWN0LEo9IUJ8fCFCW0RdfHwhQltEXS5maW5kQ2hpbGQsVz1pJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oUih7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBSKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1TKEgsdCk7byYmZGVsZXRlIEhbdF0sUihlLHQsciksbyYmZSE9PUgmJlIoSCx0LG8pfTpSLFk9ZnVuY3Rpb24oZSl7dmFyIHQ9VVtlXT1PKE1bRF0pO3JldHVybiB0Ll9rPWUsdH0scT1WJiYic3ltYm9sIj09dHlwZW9mIE0uaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE19LEs9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09SCYmSyh6LHQsciksaihlKSx0PWcodCwhMCksaihyKSxuKFUsdCk/KHIuZW51bWVyYWJsZT8obihlLE4pJiZlW05dW3RdJiYoZVtOXVt0XT0hMSkscj1PKHIse2VudW1lcmFibGU6dygwLCExKX0pKToobihlLE4pfHxSKGUsTix3KDEse30pKSxlW05dW3RdPSEwKSxXKGUsdCxyKSk6UihlLHQscil9LEc9ZnVuY3Rpb24oZSx0KXtqKGUpO2Zvcih2YXIgcixvPXkodD1tKHQpKSxuPTAsaT1vLmxlbmd0aDtpPm47KUsoZSxyPW9bbisrXSx0W3JdKTtyZXR1cm4gZX0sWj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P08oZSk6RyhPKGUpLHQpfSxYPWZ1bmN0aW9uKGUpe3ZhciB0PUYuY2FsbCh0aGlzLGU9ZyhlLCEwKSk7cmV0dXJuISh0aGlzPT09SCYmbihVLGUpJiYhbih6LGUpKSYmKCEodHx8IW4odGhpcyxlKXx8IW4oVSxlKXx8bih0aGlzLE4pJiZ0aGlzW05dW2VdKXx8dCl9LCQ9ZnVuY3Rpb24oZSx0KXtpZihlPW0oZSksdD1nKHQsITApLGUhPT1IfHwhbihVLHQpfHxuKHosdCkpe3ZhciByPVMoZSx0KTtyZXR1cm4hcnx8IW4oVSx0KXx8bihlLE4pJiZlW05dW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sUT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1UKG0oZSkpLG89W10saT0wO3IubGVuZ3RoPmk7KW4oVSx0PXJbaSsrXSl8fHQ9PU58fHQ9PWF8fG8ucHVzaCh0KTtyZXR1cm4gb30sZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PUgsbz1UKHI/ejptKGUpKSxpPVtdLHM9MDtvLmxlbmd0aD5zOykhbihVLHQ9b1tzKytdKXx8ciYmIW4oSCx0KXx8aS5wdXNoKFVbdF0pO3JldHVybiBpfTtWfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PUgmJnQuY2FsbCh6LHIpLG4odGhpcyxOKSYmbih0aGlzW05dLGUpJiYodGhpc1tOXVtlXT0hMSksVyh0aGlzLGUsdygxLHIpKX07cmV0dXJuIGkmJkomJlcoSCxlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxZKGUpfSxjKE1bRF0sInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPSQsQy5mPUssZSgiLi9fb2JqZWN0LWdvcG4iKS5mPWsuZj1RLGUoIi4vX29iamVjdC1waWUiKS5mPVgsZSgiLi9fb2JqZWN0LWdvcHMiKS5mPWVlLGkmJiFlKCIuL19saWJyYXJ5IikmJmMoSCwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLHAuZj1mdW5jdGlvbihlKXtyZXR1cm4gWShfKGUpKX0pLHMocy5HK3MuVytzLkYqIVYse1N5bWJvbDpNfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KV8odGVbcmUrK10pO2Zvcih2YXIgdGU9RShfLnN0b3JlKSxyZT0wO3RlLmxlbmd0aD5yZTspYih0ZVtyZSsrXSk7cyhzLlMrcy5GKiFWLCJTeW1ib2wiLHsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gbihJLGUrPSIiKT9JW2VdOklbZV09TShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJuIGgoSSxlKTt0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Sj0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Sj0hMX19KSxzKHMuUytzLkYqIVYsIk9iamVjdCIse2NyZWF0ZTpaLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpHLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZWV9KSxQJiZzKHMuUytzLkYqKCFWfHx1KGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1BKFtlXSl8fCJ7fSIhPUEoe2E6ZX0pfHwie30iIT1BKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIXEoZSkpe2Zvcih2YXIgdCxyLG89W2VdLG49MTthcmd1bWVudHMubGVuZ3RoPm47KW8ucHVzaChhcmd1bWVudHNbbisrXSk7cmV0dXJuIHQ9b1sxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnYodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYociYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIXEodCkpcmV0dXJuIHR9KSxvWzFdPXQsQS5hcHBseShQLG8pfX19KSxNW0RdW0xdfHxlKCIuL19oaWRlIikoTVtEXSxMLE1bRF0udmFsdWVPZiksZihNLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZW51bS1rZXlzIjo0MSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzLCIuL19nbG9iYWwiOjQ1LCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXMtYXJyYXkiOjUzLCIuL19rZXlvZiI6NjEsIi4vX2xpYnJhcnkiOjYyLCIuL19tZXRhIjo2MywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1nb3BkIjo2OCwiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL19vYmplY3QtZ29wbi1leHQiOjY5LCIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc2hhcmVkIjo4NCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTMsIi4vX3VpZCI6OTQsIi4vX3drcyI6OTcsIi4vX3drcy1kZWZpbmUiOjk1LCIuL193a3MtZXh0Ijo5Nn1dLDExMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vX3drcy1kZWZpbmUiKSgiYXN5bmNJdGVyYXRvciIpfSx7Ii4vX3drcy1kZWZpbmUiOjk1fV0sMTExOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJvYnNlcnZhYmxlIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2hpZGUiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksYz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLGE9MDthPDU7YSsrKXt2YXIgdT1jW2FdLGw9b1t1XSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW3NdJiZuKGYscyx1KSxpW3VdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6OTl9XSwxMTM6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbyl7InVzZSBzdHJpY3QiO3ZhciBuLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxjPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYT10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG8pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG8pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPXJ8fDA7bzxlLmxlbmd0aDtvKyspaWYoZVtvXT09PXQpcmV0dXJuIG87cmV0dXJuLTF9LHU9ci5NYXAhPT1vJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFthKGUscildfSxzZXQ6ZnVuY3Rpb24ocixvKXt2YXIgbj1hKGUscik7bj09PS0xPyhlLnB1c2gociksdC5wdXNoKG8pLHRoaXMuc2l6ZSsrKTp0W25dPW99LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBvPWEoZSxyKTtvPi0xJiYoZS5zcGxpY2UobywxKSx0LnNwbGljZShvLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbb10sZVtvXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbz0odChhKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtvLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbixpPTA7aTxvLmxlbmd0aDspKG49YShyLG9baSsrXSkpPi0xJiZyLnNwbGljZShuLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbyxuPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmbi5wdXNoKHIpO2Vsc2V7bz1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpby5jYWxsKHQscikmJm4ucHVzaChyKX1yZXR1cm4gYyh0KSYmbi5wdXNoKCJsZW5ndGgiKSxufSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLF89ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLHA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPW4uZ2V0KGUpO28/KGgobyxlKSxtKGUsbyx0LHIpKToobz1iKGUpLG0oZSxvLHQsciksMT09PW4uc2l6ZSYmXyh5KSl9LGI9ZnVuY3Rpb24odCxyKXt2YXIgbyxpPWwodCkscz1bXSxjPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjohIWUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCksZXh0ZW5zaWJsZTohZS5pc0V4dGVuc2libGV8fGUuaXNFeHRlbnNpYmxlKHQpLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmoodCxyKX07aWYoZClmb3Iobz1yLmRlc2NyaXB0b3JzPVtdO2M8aS5sZW5ndGg7KW9bY109ZCh0LGlbY10pLHNbY109dFtpW2MrK11dO2Vsc2UgZm9yKDtjPGkubGVuZ3RoOylzW2NdPXRbaVtjKytdXTtyZXR1cm4gbi5zZXQodCxyKSxyfSxoPWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixvLG4pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYz10LnZhbHVlc1tyXSxhPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG4mJihjPT09cz8wPT09YyYmMS9jIT09MS9zOmM9PT1jfHxzPT09cykmJihnKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC52YWx1ZXNbcl09cyksIWEuY29uZmlndXJhYmxlfHxuLmNvbmZpZ3VyYWJsZSYmbi53cml0YWJsZT09PWEud3JpdGFibGUmJm4uZW51bWVyYWJsZT09PWEuZW51bWVyYWJsZSYmbi5nZXQ9PT1hLmdldCYmbi5zZXQ9PT1hLnNldHx8KGcoZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG8pLHQuZGVzY3JpcHRvcnNbcl09bil9OmZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPXQucHJvcGVydGllc1tyXSxpPWVbbl0scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoZyhlLHQse25hbWU6bix0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG8pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG8sbixpKXtmb3IodmFyIHMsYz1yLmxlbmd0aDtvJiZjLS07KW51bGwhPT1yW2NdJiYocz1kKGUscltjXSksby0tLHM/dChlLG4sYyxpLHMpOihnKGUsbix7bmFtZTpyW2NdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbY119LGkpLG4ucHJvcGVydGllcy5zcGxpY2UoYywxKSxuLnZhbHVlcy5zcGxpY2UoYywxKSxuLmRlc2NyaXB0b3JzLnNwbGljZShjLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG8sbil7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihnKGUsbyx7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbaV19LG4pLG8ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxvLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obyxuLGkpe2lmKG8uaGFuZGxlcnMuc2l6ZSYmIW8uZnJvemVuKXt2YXIgcyxjLHUsXyxwLGIsaCx5LHY9by52YWx1ZXMsaj1vLmRlc2NyaXB0b3JzLG09MDtpZihvLmV4dGVuc2libGUpaWYocz1vLnByb3BlcnRpZXMuc2xpY2UoKSxjPXMubGVuZ3RoLHU9bChuKSxqKXtmb3IoO208dS5sZW5ndGg7KXA9dVttKytdLF89YShzLHApLHk9ZChuLHApLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2gobltwXSksai5wdXNoKHkpKTooc1tfXT1udWxsLGMtLSx0KG4sbyxfLGkseSkpO3IobixzLGMsbyxpKSxlLmlzRXh0ZW5zaWJsZShuKXx8KG8uZXh0ZW5zaWJsZT0hMSxnKG4sbyx7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpufSxpKSxvLmZyb3plbj1lLmlzRnJvemVuKG4pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCksYj1uW3BdLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2goYikpOihzW19dPW51bGwsYy0tLHQobixvLF8saSkpO3IobixzLGMsbyxpKX1lbHNlIGlmKCFvLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKylwPXNbbV0sdChuLG8sbSxpLGQobixwKSk7ZS5pc0Zyb3plbihuKSYmKG8uZnJvemVuPSEwKX1mJiYoaD1mKG4pLGghPT1vLnByb3RvJiYoZyhuLG8se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6bixvbGRWYWx1ZTpvLnByb3RvfSksby5wcm90bz1oKSl9fX0oKSx5PWZ1bmN0aW9uKCl7bi5zaXplJiYobi5mb3JFYWNoKGgpLGkuZm9yRWFjaCh2KSxfKHkpKX0sdj1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0saj1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW4uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1uLmdldChlKTtpZihyKXt2YXIgbyxpPXtvYmplY3Q6ZX07Zm9yKG8gaW4gdCkib2JqZWN0IiE9PW8mJihpW29dPXRbb10pO2coZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYz1uLmdldChlKSxhPWFyZ3VtZW50c1syXSx1PWE9PT1vP3IoKTpyLmNhbGwoYSk7aWYoYyYmaChjLGUsdCksYyYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtnKGUsYyxzKX19fX0sbT1mdW5jdGlvbihlLHQscixvKXt2YXIgbj1pLmdldChyKTtufHxpLnNldChyLG49e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksbi5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpvLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixuKX0sZz1mdW5jdGlvbihlLHQscixvKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBvfHxhKG4sbyk9PT0tMSkmJmEobixyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtuPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG4pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG49PT1vKW49cztlbHNlIGlmKCFufHwib2JqZWN0IiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBwKHQscixuKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixvPWkuZ2V0KHQpO3JldHVybiBvJiYocj1vLm9ic2VydmVkLmdldChlKSkmJihvLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLF8oZnVuY3Rpb24oKXt2KG8sdCl9KSwxPT09by5vYnNlcnZlZC5zaXplJiZvLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpvLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/blsiZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmoodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHYodCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSwxMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbj1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9byhuKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxjPW8ocyksYT1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1vKGEpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9Y1siZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOCwiLi9zeW5jaGVyL1N5bmNoZXIiOjEyMSwiYXJyYXkub2JzZXJ2ZSI6MSwib2JqZWN0Lm9ic2VydmUiOjExM31dLDExNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoIi4vU3luY09iamVjdCIpLF89byhkKSxwPWUoIi4vRGF0YU9iamVjdENoaWxkIiksYj1vKHApLGg9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fc3luY2hlcj10LGMuX3VybD1yLGMuX3NjaGVtYT1vLGMuX3N0YXR1cz1uLGMuX3N5bmNPYmo9bmV3IF9bImRlZmF1bHQiXShpKSxjLl9jaGlsZHJlbnM9cyxjLl92ZXJzaW9uPTAsYy5fY2hpbGRJZD0wLGMuX2NoaWxkcmVuT2JqZWN0cz17fSxjLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxjLl9vd25lcj10Ll9vd25lcixjLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBuPXIrbyxpPXQuX2J1cy5hZGRMaXN0ZW5lcihuLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGNbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbz1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxuPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86bixib2R5OntyZXNvdXJjZTpvLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGM9bmV3IGJbImRlZmF1bHQiXShyLG8sdCxyLl9vd25lcixpKTtjLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6bixjaGlsZElkOm99KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tvXT1jLGUoYyl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbz1uZXcgYlsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1vLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG49e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbiksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobikpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBvPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG8uYm9keS52YWx1ZT1lLmRhdGEpOihvLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG8uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihvLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYoby50bz10LnBhdGgsby5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG8pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBvPXQuYm9keS5hdHRyaWJ1dGUsbj0oMCxoLmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShvKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYz1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFtjLDBdLmNvbmNhdChuKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGE9aS5vYmosdT1pLmxhc3Q7YS5zcGxpY2UodSxuKX1lbHNlIGkub2JqW2kubGFzdF09bjtlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW46ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbz10Ll9jaGlsZHJlbk9iamVjdHNbcl07bz90Ll9jaGFuZ2VPYmplY3Qoby5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsIi4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWUoIi4vU3luY09iamVjdCIpLHU9byhhKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYz10aGlzO2MuX3BhcmVudD10LGMuX2NoaWxkSWQ9cixjLl9vd25lcj1uLGMuX21zZ0lkPXMsYy5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG8pLGMuX2J1cz10Ll9idXMsYy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjEyMCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDExNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGc9byhtKSx3PXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8sbixzLGEsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLHMuZGF0YSxhKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgZ1siZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG89e3R5cGU6dy5FWEFDVCxjYWxsYmFjazp0fSxuPWUuaW5kZXhPZigiKiIpO249PT1lLmxlbmd0aC0xJiYoMD09PW4/by50eXBlPXcuQU5ZOihvLnR5cGU9dy5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW99fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX2ZpbHRlcnNbcl07by50eXBlPT09dy5BTlk/by5jYWxsYmFjayhlKTpvLnR5cGU9PT13LlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm8uY2FsbGJhY2soZSk6by50eXBlPT09dy5FWEFDVCYmZS5maWVsZD09PXImJm8uY2FsbGJhY2soZSl9KX19XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6MTE1LCIuL0RhdGFPYmplY3RDaGlsZCI6MTE2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBhPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLGkscykpLGw9YTtyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxhfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG89e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW87dmFyIG49e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7bltlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm59fX0pLG99LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om99O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGFjY2VwdDpmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKX19KX0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMSxkZXNjOnJ9fSl9fTt0Ll9vblJlYWRIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFQUQtRVZFTlQ6ICIsciksdC5fb25SZWFkSGFuZGxlcihyKSl9fSx7a2V5OiJzdWJzY3JpcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uc319XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Zyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdCI6MTE1LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxjPW8ocyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8sbil7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9byxzLl9jaGlsZHJlbj1uLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWEsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuT2JqZWN0VHlwZT1yLkNoYW5nZVR5cGU9dm9pZCAwO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9byhhKSxsPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciByPXRoaXM7ci5fb2JzZXJ2ZXJzPVtdLHIuX2ZpbHRlcnM9e30sdD9yLl9kYXRhPSgwLGwuZGVlcENsb25lKSh0KTpyLl9kYXRhPXt9LHIuX2ludGVybmFsT2JzZXJ2ZShuZXcgZCxyLl9kYXRhKX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6Im9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5wdXNoKGUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLiIpO3JldHVybiB0aGlzLl9maW5kV2l0aFNwbGl0KHQpfX0se2tleToiZmluZEJlZm9yZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1lLnNwbGl0KCIuIik7cmV0dXJuIHQubGFzdD1yLnBvcCgpLHQub2JqPXRoaXMuX2ZpbmRXaXRoU3BsaXQociksdH19LHtrZXk6Il9maW5kV2l0aFNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dD10W2VdfSksdH19LHtrZXk6Il9maXJlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QoZSl9KX19LHtrZXk6Il9pc09ic2VydmFibGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnN0cnVjdG9yPT09T2JqZWN0fHxlLmNvbnN0cnVjdG9yPT09QXJyYXl9fSx7a2V5OiJfaW50ZXJuYWxPYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbz1mdW5jdGlvbih0KXtyLl9vbkNoYW5nZXMoZSx0KX07aWYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7T2JqZWN0Lm9ic2VydmUodCxvKTtmb3IodmFyIG4gaW4gdClyLl9pc09ic2VydmFibGUodFtuXSkmJnIuX2ludGVybmFsT2JzZXJ2ZShlWyJuZXciXShuKSx0W25dKX1lbHNlIGlmKHQuY29uc3RydWN0b3I9PT1BcnJheSl7QXJyYXkub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgaSBpbiB0KWlmKHIuX2lzT2JzZXJ2YWJsZSh0W2ldKSl7dmFyIHM9ZVsibmV3Il0obmV3IF8odFtpXSxpKSk7ci5faW50ZXJuYWxPYnNlcnZlKHMsdFtpXSl9fX19fSx7a2V5OiJfb25DaGFuZ2VzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Zm9yKHZhciBvIGluIHQpe3ZhciBuPXRbb10ub2JqZWN0LGk9dm9pZCAwO2lmKG4uY29uc3RydWN0b3I9PT1PYmplY3QmJihpPWIuT0JKRUNUKSxuLmNvbnN0cnVjdG9yPT09QXJyYXkmJihpPWIuQVJSQVkpLCJzcGxpY2UiPT09dFtvXS50eXBlKSFmdW5jdGlvbigpe3ZhciBzPXRbb10uaW5kZXgsYz1lWyJuZXciXSgiIitzKSxhPWMudG9TdHJpbmcoKSx1PXRbb10ucmVtb3ZlZC5sZW5ndGg7aWYoMCE9PXUpe3ZhciBmPXRbb10ucmVtb3ZlZDtmLmZvckVhY2goZnVuY3Rpb24odCxvKXtyLl9pc09ic2VydmFibGUodCkmJmUucmVtb3ZlSW5kZXgocytvKX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5SRU1PVkUsb1R5cGU6aSxmaWVsZDphLGRhdGE6dX0pfXZhciBkPXRbb10uYWRkZWRDb3VudDtpZigwIT09ZCl7dmFyIGI9bi5zbGljZShzLHMrZCk7Yi5mb3JFYWNoKGZ1bmN0aW9uKHQsbyl7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbj1lWyJuZXciXShuZXcgXyh0LHMrbykpO3IuX2ludGVybmFsT2JzZXJ2ZShuLHQpfX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGIpfSl9cyE9PW4ubGVuZ3RoLTEmJmUucmVJbmRleEZyb20obil9KCk7ZWxzZXt2YXIgcz1lWyJuZXciXSh0W29dLm5hbWUpLGM9cy50b1N0cmluZygpO2lmKGMuaW5kZXhPZigiU3ltYm9sIikhPT0tMSljb250aW51ZTt2YXIgYT1uW3Rbb10ubmFtZV07InVwZGF0ZSI9PT10W29dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5VUERBVEUsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSksImFkZCI9PT10W29dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUocyxhKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShhKX0pKSwiZGVsZXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmN9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InJlbW92ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fb2JzZXJ2YWJsZXNbZV19fSx7a2V5OiJyZUluZGV4RnJvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX29ic2VydmFibGVzW3JdLG49ZS5pbmRleE9mKG8ub2JqKTtvLmlkeCE9biYmKG8uaWR4PW4sZGVsZXRlIHQuX29ic2VydmFibGVzW3JdLHQuX29ic2VydmFibGVzW25dPW8pfSl9fSx7a2V5OiJuZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PV8mJih0aGlzLl9vYnNlcnZhYmxlc1tlLmlkeF09ZSk7dmFyIHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0Ll9wYXRoLnB1c2goZSksdH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fcGF0aC5wdXNoKGUpfSksdH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24odCxyKXswPT09cj9lPXQudG9TdHJpbmcoKTplKz0iLiIrdC50b1N0cmluZygpfSksZX19XSksZX0oKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLm9iaj10LHRoaXMuaWR4PXJ9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKX19XSksZX0oKSxwPXIuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LGI9ci5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07clsiZGVmYXVsdCJdPWZ9LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW8obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLF89byhkKSxwPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksYj1vKHApLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLl9vd25lcj10LG4uX2J1cz1yLG4uX3N1YlVSTD1vLnJ1bnRpbWVVUkwrIi9zbSIsbi5fcmVwb3J0ZXJzPXt9LG4uX29ic2VydmVycz17fSxuLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6bi5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpuLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6bi5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzO3IucmVwb3J0ZXI9by5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbj17dHlwZToiY3JlYXRlIixmcm9tOm8uX293bmVyLHRvOm8uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtvLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG4pLDIwMD09PW4uYm9keS5jb2RlKXt2YXIgcz1uLmJvZHkucmVzb3VyY2UsYz1uZXcgZlsiZGVmYXVsdCJdKG8scyxlLCJvbiIscixuLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO28uX3JlcG9ydGVyc1tzXT1jLHQoYyl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxvPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihuLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKG8pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbyk7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG8uYm9keS5jb2RlPDIwMClzPW5ldyBiWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW8uYm9keS5jb2RlKXt2YXIgYz1uZXcgX1siZGVmYXVsdCJdKHIsdCxlLCJvbiIsby5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sby5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1jLG4oYykscy5hcHBseShjKX1lbHNlIGkoby5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG8pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpewpjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6byh0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbz17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG89dC5fb2JzZXJ2ZXJzW3JdO2lmKG8pe3ZhciBuPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSwyMDA9PT1uJiZvWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm4sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWgsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6MTE3LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL0RhdGFQcm92aXNpb25hbCI6MTE5LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDEyMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG4oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbz1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO29bMF09PT1lJiYob1swXT0iaHR0cHMiLG9bMV09ZSk7dmFyIG49e3R5cGU6b1swXSxkb21haW46b1sxXSxpZGVudGl0eTpvWzJdfTtyZXR1cm4gbn1mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxwWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBjKGUpe2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSl9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW4oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW4oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9byhmKSxfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9byhfKTtyLmRpdmlkZVVSTD1uLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbMTE0XSkoMTE0KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7IC8qIGpzaGludCB1bmRlZjogdHJ1ZSAqLwoKZXhwb3J0cy5kZWZhdWx0ID0gYWN0aXZhdGU7Cgp2YXIgX1N5bmNoZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKdmFyIF9oZWxsbzIgPSByZXF1aXJlKCcuL2hlbGxvJyk7Cgp2YXIgX2hlbGxvMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbGxvMik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBIeXBlcnR5IENvbm5lY3RvcjsKKiBAYXV0aG9yIFBhdWxvIENoYWluaG8gW3BhdWxvLWctY2hhaW5ob0B0ZWxlY29tLnB0XQoqIEB2ZXJzaW9uIDAuMS4wCiovCnZhciBIZWxsb1dvcmxkUmVwb3J0ZXIgPSBmdW5jdGlvbiAoKSB7CgogIC8qKgogICogQ3JlYXRlIGEgbmV3IEhlbGxvV29ybGRSZXBvcnRlcgogICogQHBhcmFtICB7U3luY2hlcn0gc3luY2hlciAtIFN5bmNoZXIgcHJvdmlkZWQgZnJvbSB0aGUgcnVudGltZSBjb3JlCiAgKi8KICBmdW5jdGlvbiBIZWxsb1dvcmxkUmVwb3J0ZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVsbG9Xb3JsZFJlcG9ydGVyKTsKCiAgICBpZiAoIWh5cGVydHlVUkwpIHRocm93IG5ldyBFcnJvcignVGhlIGh5cGVydHlVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWJ1cykgdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKICAgIGlmICghY29uZmlndXJhdGlvbikgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBkb21haW4gPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkoaHlwZXJ0eVVSTCkuZG9tYWluOwogICAgX3RoaXMuX2RvbWFpbiA9IGRvbWFpbjsKICAgIF90aGlzLl9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyBkb21haW4gKyAnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvSGVsbG9Xb3JsZERhdGFTY2hlbWEnOwoKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKTsKCiAgICBfdGhpcy5fc3luY2hlciA9IHN5bmNoZXI7CiAgfQoKICAvKioKICAqIENyZWF0ZSBIZWxsb1dvcmxkIERhdGEgT2JqZWN0CiAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMfSBIeXBlcnR5VVJMIC0gSW52aXRlZAogICovCgogIF9jcmVhdGVDbGFzcyhIZWxsb1dvcmxkUmVwb3J0ZXIsIFt7CiAgICBrZXk6ICdoZWxsbycsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGVsbG8oaHlwZXJ0eVVSTCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgc3luY2hlciA9IF90aGlzLl9zeW5jaGVyOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgc3luY2hlci5jcmVhdGUoX3RoaXMuX29iamVjdERlc2NVUkwsIFtoeXBlcnR5VVJMXSwgX2hlbGxvMy5kZWZhdWx0KS50aGVuKGZ1bmN0aW9uIChoZWxsb09ianRSZXBvcnRlcikgewogICAgICAgICAgY29uc29sZS5pbmZvKCcxLiBSZXR1cm4gQ3JlYXRlZCBIZWxsbyBXb3JsZCBEYXRhIE9iamVjdCBSZXBvcnRlcicsIGhlbGxvT2JqdFJlcG9ydGVyKTsKCiAgICAgICAgICBfdGhpcy5oZWxsb09ianRSZXBvcnRlciA9IGhlbGxvT2JqdFJlcG9ydGVyOwoKICAgICAgICAgIGhlbGxvT2JqdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tIEhlbGxvIFdvcmxkIFJlcG9ydGVyIHJlY2VpdmVkIHN1YnNjcmlwdGlvbiByZXF1ZXN0IC0tLS0tLS0tLSBcbicpOwoKICAgICAgICAgICAgLy8gQWxsIHN1YnNjcmlwdGlvbiByZXF1ZXN0ZWQgYXJlIGFjY2VwdGVkCgogICAgICAgICAgICBldmVudC5hY2NlcHQoKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJlc29sdmUoaGVsbG9PYmp0UmVwb3J0ZXIpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgICAgIHJlamVjdChyZWFzb24pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVXBkYXRlIEhlbGxvV29ybGQgRGF0YSBPYmplY3QKICAgICoKICAgICovCgogIH0sIHsKICAgIGtleTogJ2J5ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gYnllKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2J5ZTonLCBfdGhpcy5oZWxsb09ianRSZXBvcnRlcik7CgogICAgICBfdGhpcy5oZWxsb09ianRSZXBvcnRlci5kYXRhLmhlbGxvID0gIkJ5ZSwgQnllISEiOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEhlbGxvV29ybGRSZXBvcnRlcjsKfSgpOwoKZnVuY3Rpb24gYWN0aXZhdGUoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWd1cmF0aW9uKSB7CgogIHJldHVybiB7CiAgICBuYW1lOiAnSGVsbG9Xb3JsZFJlcG9ydGVyJywKICAgIGluc3RhbmNlOiBuZXcgSGVsbG9Xb3JsZFJlcG9ydGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlndXJhdGlvbikKICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL3V0aWxzL3V0aWxzIjo0LCIuL2hlbGxvIjozLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKCnZhciBoZWxsbyA9IHsKICBuYW1lOiAiaGVsbG8iLAogIGhlbGxvOiAiSGVsbG8gYnVkZHkhISIKfTsKCmV4cG9ydHMuZGVmYXVsdCA9IGhlbGxvOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGl2aWRlVVJMID0gZGl2aWRlVVJMOwpleHBvcnRzLmRlZXBDbG9uZSA9IGRlZXBDbG9uZTsKZXhwb3J0cy5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7Ci8qKgogKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoqLwoKLy8ganNoaW50IGJyb3dzZXI6dHJ1ZSwganF1ZXJ5OiB0cnVlCi8vIGpzaGludCB2YXJzdG10OiB0cnVlCi8qIGdsb2JhbCBIYW5kbGViYXJzICovCgovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwoKLyoqCiAqIEB0eXBlZGVmIGRpdmlkZVVSTAogKiBAdHlwZSBPYmplY3QKICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGlkZW50aXR5IFRoZSBpZGVudGl0eSBvZiBVUkwKICovCgovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTCh1cmwpIHsKCiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYikqKFwvW1wvXGRcd1wuLV0qKSooPzpbXD9dKSooLispKi9naTsKICB2YXIgcmUgPSAvKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naTsKICB2YXIgc3Vic3QgPSAnJDEsJDIsJDMnOwogIHZhciBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTsKCiAgLy8gSWYgdGhlIHVybCBoYXMgbm8gcHJvdG9jb2wsIHRoZSBkZWZhdWx0IHByb3RvY29sIHNldCBpcyBodHRwcwogIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7CiAgICBwYXJ0c1swXSA9ICdodHRwcyc7CiAgICBwYXJ0c1sxXSA9IHVybDsKICB9CgogIHZhciByZXN1bHQgPSB7CiAgICB0eXBlOiBwYXJ0c1swXSwKICAgIGRvbWFpbjogcGFydHNbMV0sCiAgICBpZGVudGl0eTogcGFydHNbMl0KICB9OwoKICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogTWFrZSBhIENPUFkgb2YgdGhlIG9yaWdpbmFsIGRhdGEKICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZAogKiBAcmV0dXJuIHtPYmplY3R9CiAqLwpmdW5jdGlvbiBkZWVwQ2xvbmUob2JqKSB7CiAgLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgogIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwp9CgovKioKICogR2V0IFdlYlJUQyBBUEkgcmVzb3VyY2VzCiAqIEBwYXJhbSAge29iamVjdH0gICAgIG9wdGlvbnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVzb3VyY2VzIHdpbGwgYmUgdXNlZCAoY2FtZXJhLCBtaWMsIHJlc29sdXRpb24sIGV0Yyk7CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwpmdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpIHsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgICAgcmVzb2x2ZShtZWRpYVN0cmVhbSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgIHJlamVjdChyZWFzb24pOwogICAgfSk7CiAgfSk7Cn0KCn0se31dfSx7fSxbMl0pKDIpCn0pOw==",
      "sourceCodeClassname": "HelloWorldReporter",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10008,
    "version": "0.1",
    "description": "Description of HelloWorldReporter",
    "language": "Javascript",
    "objectName": "HelloWorldReporter",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "Location": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgQXVnIDEwIDIwMTYgMTU6MjU6NDkgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixvKXtmdW5jdGlvbiBuKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmYSlyZXR1cm4gYShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBuKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbyl9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8by5sZW5ndGg7cysrKW4ob1tzXSk7cmV0dXJuIG59KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG89InBlcmZvcm1DaGFuZ2UiLG49Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGEoZSl7dmFyIHQ9YXJndW1lbnRzLHM9YVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbbl0uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW25dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxjPWRbbl0uYXBwbHkodGhpcyxzKTtyZXR1cm4oYy5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDpjfX0sdGhpcyksY319O2Zvcih2YXIgYyBpbiBzKXNbY11bbl09dC5wcm90b3R5cGVbY10sdC5wcm90b3R5cGVbY109c1tjXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjIwfV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIxfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjJ9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyM31dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjI0fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI1fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIjoyN31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYz1vKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBhKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbz0oMCxjWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09byl7dmFyIG49KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW4/dm9pZCAwOmEobix0LHIpfWlmKCJ2YWx1ZSJpbiBvKXJldHVybiBvLnZhbHVlO3ZhciBzPW8uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1LCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9byhuKSxzPWUoIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpLGM9byhzKSxhPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksdT1vKGEpO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCx1WyJkZWZhdWx0Il0pKHQpKSk7ZS5wcm90b3R5cGU9KDAsY1siZGVmYXVsdCJdKSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGlbImRlZmF1bHQiXT8oMCxpWyJkZWZhdWx0Il0pKGUsdCk6ZS5fX3Byb3RvX189dCl9fSx7Ii4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OCwiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9zeW1ib2wiKSxjPW8ocyksYT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09dHlwZW9mIGlbImRlZmF1bHQiXT9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOnR5cGVvZiBlfTtyWyJkZWZhdWx0Il09ImZ1bmN0aW9uIj09dHlwZW9mIGNbImRlZmF1bHQiXSYmInN5bWJvbCI9PT1hKGlbImRlZmF1bHQiXSk/ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjphKGUpfX0seyIuLi9jb3JlLWpzL3N5bWJvbCI6MTAsIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG49by5KU09OfHwoby5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3RyaW5naWZ5LmFwcGx5KG4sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzV9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSI6MTAwfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Iik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBvLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOjEwMX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoxMDJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjoxMDN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjEwNH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjEwNX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6MTA3LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6MTA5LCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOjExMCwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiOjExMX1dLDI3OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX3drcy1leHQiKS5mKCJpdGVyYXRvciIpfSx7Ii4uLy4uL21vZHVsZXMvX3drcy1leHQiOjk2LCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDMwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1vJiZvIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW8oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjU0fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1vKHQpLHU9bihhLmxlbmd0aCksbD1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1Pmw7KWlmKGM9YVtsKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKGV8fGwgaW4gYSkmJmFbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo4OCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLWxlbmd0aCI6OTF9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpLG49ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09byhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbikpP3I6aT9vKHQpOiJPYmplY3QiPT0oYz1vKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MzQsIi4vX3drcyI6OTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gby5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW8pfSx7fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihvKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbyl7cmV0dXJuIGUuY2FsbCh0LHIsbyl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixvLG4pe3JldHVybiBlLmNhbGwodCxyLG8sbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjI4fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0M31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW8obikmJm8obi5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/bi5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX29iamVjdC1nb3BzIiksaT1lKCIuL19vYmplY3QtcGllIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSkscj1uLmY7aWYocilmb3IodmFyIHMsYz1yKGUpLGE9aS5mLHU9MDtjLmxlbmd0aD51OylhLmNhbGwoZSxzPWNbdSsrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LHsiLi9fb2JqZWN0LWdvcHMiOjcxLCIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1waWUiOjc1fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2N0eCIpLHM9ZSgiLi9faGlkZSIpLGM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIHUsbCxmLGQ9ZSZhLkYsXz1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix5PWUmYS5XLHY9Xz9uOm5bdF18fChuW3RdPXt9KSxqPXZbY10sbT1fP286cD9vW3RdOihvW3RdfHx7fSlbY107XyYmKHI9dCk7Zm9yKHUgaW4gcilsPSFkJiZtJiZ2b2lkIDAhPT1tW3VdLGwmJnUgaW4gdnx8KGY9bD9tW3VdOnJbdV0sdlt1XT1fJiYiZnVuY3Rpb24iIT10eXBlb2YgbVt1XT9yW3VdOmgmJmw/aShmLG8pOnkmJm1bdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG8pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG8pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRbY109ZVtjXSx0fShmKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixiJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW3VdPWYsZSZhLlImJmomJiFqW3VdJiZzKGosdSxmKSkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLGEuVT02NCxhLlI9MTI4LHQuZXhwb3J0cz1hfSx7Ii4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19nbG9iYWwiOjQ1LCIuL19oaWRlIjo0N31dLDQzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jdHgiKSxuPWUoIi4vX2l0ZXItY2FsbCIpLGk9ZSgiLi9faXMtYXJyYXktaXRlciIpLHM9ZSgiLi9fYW4tb2JqZWN0IiksYz1lKCIuL190by1sZW5ndGgiKSxhPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksdT17fSxsPXt9LHI9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYsZCl7dmFyIF8scCxiLGgseT1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmEoZSksdj1vKHIsZix0PzI6MSksaj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB5KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoeSkpe2ZvcihfPWMoZS5sZW5ndGgpO18+ajtqKyspaWYoaD10P3YocyhwPWVbal0pWzBdLHBbMV0pOnYoZVtqXSksaD09PXV8fGg9PT1sKXJldHVybiBofWVsc2UgZm9yKGI9eS5jYWxsKGUpOyEocD1iLm5leHQoKSkuZG9uZTspaWYoaD1uKGIsdixwLnZhbHVlLHQpLGg9PT11fHxoPT09bClyZXR1cm4gaH07ci5CUkVBSz11LHIuUkVUVVJOPWx9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtYXJyYXktaXRlciI6NTIsIi4vX2l0ZXItY2FsbCI6NTUsIi4vX3RvLWxlbmd0aCI6OTEsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo5OH1dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW8pfSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5jYWxsKGUsdCl9fSx7fV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZihlLHQsbigxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19wcm9wZXJ0eS1kZXNjIjo3N31dLDQ4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjo0NX1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19kZXNjcmlwdG9ycyIpJiYhZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19mYWlscyI6NDN9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG89dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbz9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbz9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbz9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG8/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1vKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi9fY29mIjozNH1dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXRlcmF0b3JzIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihvLkFycmF5PT09ZXx8aVtuXT09PWUpfX0seyIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09byhlKX19LHsiLi9fY29mIjozNH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXt0cnl7cmV0dXJuIG4/dChvKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbyhzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjMxfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW8ocyx7bmV4dDpuKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjQ3LCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2xpYnJhcnkiKSxuPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGw9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vX29iamVjdC1ncG8iKSxkPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLF89IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsYj0ia2V5cyIsaD0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix2LGosbSxnKXt1KHIsdCx2KTt2YXIgdyxPLGsseD1mdW5jdGlvbihlKXtpZighXyYmZSBpbiBSKXJldHVybiBSW2VdO3N3aXRjaChlKXtjYXNlIGI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxDPXQrIiBJdGVyYXRvciIsRT1qPT1oLFM9ITEsUj1lLnByb3RvdHlwZSxUPVJbZF18fFJbcF18fGomJlJbal0sTT1UfHx4KGopLFA9aj9FP3goImVudHJpZXMiKTpNOnZvaWQgMCxBPSJBcnJheSI9PXQ/Ui5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9ZihBLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGwoayxDLCEwKSxvfHxjKGssZCl8fHMoayxkLHkpKSksRSYmVCYmVC5uYW1lIT09aCYmKFM9ITAsTT1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxvJiYhZ3x8IV8mJiFTJiZSW2RdfHxzKFIsZCxNKSxhW3RdPU0sYVtDXT15LGopaWYodz17dmFsdWVzOkU/TTp4KGgpLGtleXM6bT9NOngoYiksZW50cmllczpQfSxnKWZvcihPIGluIHcpTyBpbiBSfHxpKFIsTyx3W09dKTtlbHNlIG4obi5QK24uRiooX3x8UyksdCx3KTtyZXR1cm4gd319LHsiLi9fZXhwb3J0Ijo0MiwiLi9faGFzIjo0NiwiLi9faGlkZSI6NDcsIi4vX2l0ZXItY3JlYXRlIjo1NiwiLi9faXRlcmF0b3JzIjo2MCwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1ncG8iOjcyLCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbj0hMTt0cnl7dmFyIGk9WzddW29dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtuPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbilyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtvXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjk3fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1rZXlzIiksbj1lKCIuL190by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9bihlKSxzPW8oaSksYz1zLmxlbmd0aCxhPTA7Yz5hOylpZihpW3I9c1thKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fdG8taW9iamVjdCI6OTB9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdWlkIikoIm1ldGEiKSxuPWUoIi4vX2lzLW9iamVjdCIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19vYmplY3QtZHAiKS5mLGM9MCxhPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHU9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gYShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7cyhlLG8se3ZhbHVlOntpOiJPIisgKytjLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxvKSl7aWYoIWEoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW29dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW29dLnd9LF89ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJnAuTkVFRCYmYShlKSYmIWkoZSxvKSYmbChlKSxlfSxwPXQuZXhwb3J0cz17S0VZOm8sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpkLG9uRnJlZXplOl99fSx7Ii4vX2ZhaWxzIjo0MywiLi9faGFzIjo0NiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fdWlkIjo5NH1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL190YXNrIikuc2V0LGk9by5NdXRhdGlvbk9ic2VydmVyfHxvLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1vLnByb2Nlc3MsYz1vLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG8sbjtmb3IoYSYmKG89cy5kb21haW4pJiZvLmV4aXQoKTtlOyl7bj1lLmZuLGU9ZS5uZXh0O3RyeXtuKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbyYmby5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBsPSEwLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtmLmRhdGE9bD0hbH19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBkPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtkLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe24uY2FsbChvLHUpfTtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIG49e2ZuOm8sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9biksZXx8KGU9bixyKCkpLHQ9bn19fSx7Ii4vX2NvZiI6MzQsIi4vX2dsb2JhbCI6NDUsIi4vX3Rhc2siOjg3fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbz1pLmxlbmd0aCxuPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK24pLHQuY2xvc2UoKSx1PXQuRjtvLS07KWRlbGV0ZSB1W2FdW2lbb11dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1vKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm4ocix0KX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19odG1sIjo0OCwiLi9fb2JqZWN0LWRwcyI6NjcsIi4vX3NoYXJlZC1rZXkiOjgzfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdD1pKHQsITApLG8ociksbil0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtuKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOylvLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19vYmplY3Qta2V5cyI6NzR9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1waWUiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG4oIW8uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faGFzIjo0NiwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3RvLWlvYmplY3QiOjkwLCIuL190by1wcmltaXRpdmUiOjkzfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wbiIpLmYsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG4oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2MoZSk6bihvKGUpKX19LHsiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL190by1pb2JqZWN0Ijo5MH1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3IuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDcxOltmdW5jdGlvbihlLHQscil7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LHt9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hhcyIpLG49ZSgiLi9fdG8tb2JqZWN0IiksaT1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW4oZSksbyhlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0seyIuL19oYXMiOjQ2LCIuL19zaGFyZWQta2V5Ijo4MywiLi9fdG8tb2JqZWN0Ijo5Mn1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1pb2JqZWN0IiksaT1lKCIuL19hcnJheS1pbmNsdWRlcyIpKCExKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSksYT0wLHU9W107Zm9yKHIgaW4gYylyIT1zJiZvKGMscikmJnUucHVzaChyKTtmb3IoO3QubGVuZ3RoPmE7KW8oYyxyPXRbYSsrXSkmJih+aSh1LHIpfHx1LnB1c2gocikpO3JldHVybiB1fX0seyIuL19hcnJheS1pbmNsdWRlcyI6MzIsIi4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1pb2JqZWN0Ijo5MH1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsbil9fSx7Ii4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCI6NzN9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3IuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0se31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShuLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbyhvLlMrby5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vX2NvcmUiOjM1LCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hpZGUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0KXImJmVbbl0/ZVtuXT10W25dOm8oZSxuLHRbbl0pO3JldHVybiBlfX0seyIuL19oaWRlIjo0N31dLDc5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2hpZGUiKX0seyIuL19oaWRlIjo0N31dLDgwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWZ1bmN0aW9uKGUsdCl7aWYobihlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuL19jdHgiKShGdW5jdGlvbi5jYWxsLGUoIi4vX29iamVjdC1nb3BkIikuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChuKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWdvcGQiOjY4fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19vYmplY3QtZHAiKSxzPWUoIi4vX2Rlc2NyaXB0b3JzIiksYz1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgbltlXT9uW2VdOm9bZV07cyYmdCYmIXRbY10mJmkuZih0LGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi9fY29yZSI6MzUsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZ2xvYmFsIjo0NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIikuZixuPWUoIi4vX2hhcyIpLGk9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbihlPXI/ZTplLnByb3RvdHlwZSxpKSYmbyhlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vX2hhcyI6NDYsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcyI6OTd9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJrZXlzIiksbj1lKCIuL191aWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPW4oZSkpfX0seyIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9b1tuXXx8KG9bbl09e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuL19nbG9iYWwiOjQ1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2EtZnVuY3Rpb24iKSxpPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1vKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW8ocylbaV0pP3Q6bihyKX19LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLW9iamVjdCI6MzEsIi4vX3drcyI6OTd9XSw4NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhuKHQpKSxhPW8ociksdT1jLmxlbmd0aDtyZXR1cm4gYTwwfHxhPj11P2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdChhKSxpPDU1Mjk2fHxpPjU2MzE5fHxhKzE9PT11fHwocz1jLmNoYXJDb2RlQXQoYSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdChhKTppOmU/Yy5zbGljZShhLGErMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX3RvLWludGVnZXIiOjg5fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbyxuLGkscz1lKCIuL19jdHgiKSxjPWUoIi4vX2ludm9rZSIpLGE9ZSgiLi9faHRtbCIpLHU9ZSgiLi9fZG9tLWNyZWF0ZSIpLGw9ZSgiLi9fZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxfPWwuY2xlYXJJbW1lZGlhdGUscD1sLk1lc3NhZ2VDaGFubmVsLGI9MCxoPXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsdj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGguaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWhbZV07ZGVsZXRlIGhbZV0sdCgpfX0saj1mdW5jdGlvbihlKXt2LmNhbGwoZS5kYXRhKX07ZCYmX3x8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGhbKytiXT1mdW5jdGlvbigpe2MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbyhiKSxifSxfPWZ1bmN0aW9uKGUpe2RlbGV0ZSBoW2VdfSwicHJvY2VzcyI9PWUoIi4vX2NvZiIpKGYpP289ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKHYsZSwxKSl9OnA/KG49bmV3IHAsaT1uLnBvcnQyLG4ucG9ydDEub25tZXNzYWdlPWosbz1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG89ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaiwhMSkpOm89eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksdi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKHYsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6X319LHsiLi9fY29mIjozNCwiLi9fY3R4IjozNiwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2dsb2JhbCI6NDUsIi4vX2h0bWwiOjQ4LCIuL19pbnZva2UiOjUwfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW8oZSksZTwwP24oZSt0LDApOmkoZSx0KX19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bjpvKShlKX19LHt9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lvYmplY3QiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSx7Ii4vX2RlZmluZWQiOjM3LCIuL19pb2JqZWN0Ijo1MX1dLDkxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/bihvKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vX3RvLWludGVnZXIiOjg5fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobyhlKSl9fSx7Ii4vX2RlZmluZWQiOjM3fV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4gZTt2YXIgcixuO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSw5NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPTAsbj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK28rbikudG9TdHJpbmcoMzYpKX19LHt9XSw5NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fbGlicmFyeSIpLHM9ZSgiLi9fd2tzLWV4dCIpLGM9ZSgiLi9fb2JqZWN0LWRwIikuZjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5TeW1ib2x8fChuLlN5bWJvbD1pP3t9Om8uU3ltYm9sfHx7fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxjKHQsZSx7dmFsdWU6cy5mKGUpfSl9fSx7Ii4vX2NvcmUiOjM1LCIuL19nbG9iYWwiOjQ1LCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzLWV4dCI6OTZ9XSw5NjpbZnVuY3Rpb24oZSx0LHIpe3IuZj1lKCIuL193a3MiKX0seyIuL193a3MiOjk3fV0sOTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19zaGFyZWQiKSgid2tzIiksbj1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfHwob1tlXT1zJiZpW2VdfHwocz9pOm4pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9b30seyIuL19nbG9iYWwiOjQ1LCIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jbGFzc29mIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW25dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbyhlKV19fSx7Ii4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG49ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxuKDEpKToia2V5cyI9PXQ/bigwLHIpOiJ2YWx1ZXMiPT10P24oMCxlW3JdKTpuKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxvKCJrZXlzIiksbygidmFsdWVzIiksbygiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjksIi4vX2l0ZXItZGVmaW5lIjo1NywiLi9faXRlci1zdGVwIjo1OSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7Y3JlYXRlOmUoIi4vX29iamVjdC1jcmVhdGUiKX0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1jcmVhdGUiOjY1fV0sMTAxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMrby5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19leHBvcnQiOjQyLCIuL19vYmplY3QtZHAiOjY2fV0sMTAyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKG8oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1ncG8iKTtlKCIuL19vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3QtZ3BvIjo3MiwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1vYmplY3QiOjkyfV0sMTA1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vX3NldC1wcm90byIpLnNldH0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX3NldC1wcm90byI6ODB9XSwxMDY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG8sbixpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxsPWUoIi4vX2V4cG9ydCIpLGY9ZSgiLi9faXMtb2JqZWN0IiksZD0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxfPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSxiPShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSxoPWUoIi4vX3Rhc2siKS5zZXQseT1lKCIuL19taWNyb3Rhc2siKSgpLHY9IlByb21pc2UiLGo9Yy5UeXBlRXJyb3IsbT1jLnByb2Nlc3MsZz1jW3ZdLG09Yy5wcm9jZXNzLHc9InByb2Nlc3MiPT11KG0pLE89ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1nLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShPLE8pfTtyZXR1cm4od3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihPKWluc3RhbmNlb2Ygcn1jYXRjaChvKXt9fSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1nJiZ0PT09aX0sQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFmKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sRT1mdW5jdGlvbihlKXtyZXR1cm4geChnLGUpP25ldyBTKGUpOm5ldyBuKGUpfSxTPW49ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxvKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IGooIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9b30pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFI9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxUPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYzt5KGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWUuX3Ysbj0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1uP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8obnx8KDI9PWUuX2gmJkEoZSksZS5faD0xKSxzPT09ITA/cj1vOih1JiZ1LmVudGVyKCkscj1zKG8pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EoaigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1DKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobyl9Y2F0Y2gobCl7YShsKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJk0oZSl9KX19LE09ZnVuY3Rpb24oZSl7aC5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG8sbj1lLl92O2lmKFAoZSkmJih0PVIoZnVuY3Rpb24oKXt3P20uZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246bn0pOihvPWMuY29uc29sZSkmJm8uZXJyb3ImJm8uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbil9KSxlLl9oPXd8fFAoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sUD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbz0wO3IubGVuZ3RoPm87KWlmKHQ9cltvKytdLHQuZmFpbHx8IVAodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3c/bS5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLFQodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IGooIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9QyhlKSk/eShmdW5jdGlvbigpe3ZhciBvPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShOLG8sMSksYShELG8sMSkpfWNhdGNoKG4pe0QuY2FsbChvLG4pfX0pOihyLl92PWUsci5fcz0xLFQociwhMSkpfWNhdGNoKG8pe0QuY2FsbCh7X3c6cixfZDohMX0sbyl9fX07a3x8KGc9ZnVuY3Rpb24oZSl7Xyh0aGlzLGcsdiwiX2giKSxkKGUpLG8uY2FsbCh0aGlzKTt0cnl7ZShhKE4sdGhpcywxKSxhKEQsdGhpcywxKSl9Y2F0Y2godCl7RC5jYWxsKHRoaXMsdCl9fSxvPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG8ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9RShiKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj13P20uZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbzt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShOLGUsMSksdGhpcy5yZWplY3Q9YShELGUsMSl9KSxsKGwuRytsLlcrbC5GKiFrLHtQcm9taXNlOmd9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcsdiksZSgiLi9fc2V0LXNwZWNpZXMiKSh2KSxpPWUoIi4vX2NvcmUiKVt2XSxsKGwuUytsLkYqIWssdix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PUUodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSwKdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IWspLHYse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1FKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqIShrJiZlKCIuL19pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe2cuYWxsKGUpWyJjYXRjaCJdKE8pfSkpLHYse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVzb2x2ZSxuPXIucmVqZWN0LGk9UihmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7cChlLCExLGZ1bmN0aW9uKGUpe3ZhciBjPWkrKyxhPSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXthfHwoYT0hMCxyW2NdPWUsLS1zfHxvKHIpKX0sbil9KSwtLXN8fG8ocil9KTtyZXR1cm4gaSYmbihpLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbz1yLnJlamVjdCxuPVIoZnVuY3Rpb24oKXtwKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG8pfSl9KTtyZXR1cm4gbiYmbyhuLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLWluc3RhbmNlIjozMCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19leHBvcnQiOjQyLCIuL19mb3Itb2YiOjQ0LCIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0LCIuL19pdGVyLWRldGVjdCI6NTgsIi4vX2xpYnJhcnkiOjYyLCIuL19taWNyb3Rhc2siOjY0LCIuL19yZWRlZmluZS1hbGwiOjc4LCIuL19zZXQtcHJvdG8iOjgwLCIuL19zZXQtc3BlY2llcyI6ODEsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciI6ODUsIi4vX3Rhc2siOjg3LCIuL193a3MiOjk3fV0sMTA4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX3N0cmluZy1hdCIpKCEwKTtlKCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1vKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjU3LCIuL19zdHJpbmctYXQiOjg2fV0sMTA5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGFzIiksaT1lKCIuL19kZXNjcmlwdG9ycyIpLHM9ZSgiLi9fZXhwb3J0IiksYz1lKCIuL19yZWRlZmluZSIpLGE9ZSgiLi9fbWV0YSIpLktFWSx1PWUoIi4vX2ZhaWxzIiksbD1lKCIuL19zaGFyZWQiKSxmPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZD1lKCIuL191aWQiKSxfPWUoIi4vX3drcyIpLHA9ZSgiLi9fd2tzLWV4dCIpLGI9ZSgiLi9fd2tzLWRlZmluZSIpLGg9ZSgiLi9fa2V5b2YiKSx5PWUoIi4vX2VudW0ta2V5cyIpLHY9ZSgiLi9faXMtYXJyYXkiKSxqPWUoIi4vX2FuLW9iamVjdCIpLG09ZSgiLi9fdG8taW9iamVjdCIpLGc9ZSgiLi9fdG8tcHJpbWl0aXZlIiksdz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksTz1lKCIuL19vYmplY3QtY3JlYXRlIiksaz1lKCIuL19vYmplY3QtZ29wbi1leHQiKSx4PWUoIi4vX29iamVjdC1nb3BkIiksQz1lKCIuL19vYmplY3QtZHAiKSxFPWUoIi4vX29iamVjdC1rZXlzIiksUz14LmYsUj1DLmYsVD1rLmYsTT1vLlN5bWJvbCxQPW8uSlNPTixBPVAmJlAuc3RyaW5naWZ5LEQ9InByb3RvdHlwZSIsTj1fKCJfaGlkZGVuIiksTD1fKCJ0b1ByaW1pdGl2ZSIpLEY9e30ucHJvcGVydHlJc0VudW1lcmFibGUsST1sKCJzeW1ib2wtcmVnaXN0cnkiKSxVPWwoInN5bWJvbHMiKSx6PWwoIm9wLXN5bWJvbHMiKSxIPU9iamVjdFtEXSxWPSJmdW5jdGlvbiI9PXR5cGVvZiBNLEI9by5RT2JqZWN0LEo9IUJ8fCFCW0RdfHwhQltEXS5maW5kQ2hpbGQsVz1pJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oUih7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBSKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1TKEgsdCk7byYmZGVsZXRlIEhbdF0sUihlLHQsciksbyYmZSE9PUgmJlIoSCx0LG8pfTpSLFk9ZnVuY3Rpb24oZSl7dmFyIHQ9VVtlXT1PKE1bRF0pO3JldHVybiB0Ll9rPWUsdH0scT1WJiYic3ltYm9sIj09dHlwZW9mIE0uaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE19LEs9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09SCYmSyh6LHQsciksaihlKSx0PWcodCwhMCksaihyKSxuKFUsdCk/KHIuZW51bWVyYWJsZT8obihlLE4pJiZlW05dW3RdJiYoZVtOXVt0XT0hMSkscj1PKHIse2VudW1lcmFibGU6dygwLCExKX0pKToobihlLE4pfHxSKGUsTix3KDEse30pKSxlW05dW3RdPSEwKSxXKGUsdCxyKSk6UihlLHQscil9LEc9ZnVuY3Rpb24oZSx0KXtqKGUpO2Zvcih2YXIgcixvPXkodD1tKHQpKSxuPTAsaT1vLmxlbmd0aDtpPm47KUsoZSxyPW9bbisrXSx0W3JdKTtyZXR1cm4gZX0sWj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P08oZSk6RyhPKGUpLHQpfSxYPWZ1bmN0aW9uKGUpe3ZhciB0PUYuY2FsbCh0aGlzLGU9ZyhlLCEwKSk7cmV0dXJuISh0aGlzPT09SCYmbihVLGUpJiYhbih6LGUpKSYmKCEodHx8IW4odGhpcyxlKXx8IW4oVSxlKXx8bih0aGlzLE4pJiZ0aGlzW05dW2VdKXx8dCl9LCQ9ZnVuY3Rpb24oZSx0KXtpZihlPW0oZSksdD1nKHQsITApLGUhPT1IfHwhbihVLHQpfHxuKHosdCkpe3ZhciByPVMoZSx0KTtyZXR1cm4hcnx8IW4oVSx0KXx8bihlLE4pJiZlW05dW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sUT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1UKG0oZSkpLG89W10saT0wO3IubGVuZ3RoPmk7KW4oVSx0PXJbaSsrXSl8fHQ9PU58fHQ9PWF8fG8ucHVzaCh0KTtyZXR1cm4gb30sZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PUgsbz1UKHI/ejptKGUpKSxpPVtdLHM9MDtvLmxlbmd0aD5zOykhbihVLHQ9b1tzKytdKXx8ciYmIW4oSCx0KXx8aS5wdXNoKFVbdF0pO3JldHVybiBpfTtWfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PUgmJnQuY2FsbCh6LHIpLG4odGhpcyxOKSYmbih0aGlzW05dLGUpJiYodGhpc1tOXVtlXT0hMSksVyh0aGlzLGUsdygxLHIpKX07cmV0dXJuIGkmJkomJlcoSCxlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxZKGUpfSxjKE1bRF0sInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPSQsQy5mPUssZSgiLi9fb2JqZWN0LWdvcG4iKS5mPWsuZj1RLGUoIi4vX29iamVjdC1waWUiKS5mPVgsZSgiLi9fb2JqZWN0LWdvcHMiKS5mPWVlLGkmJiFlKCIuL19saWJyYXJ5IikmJmMoSCwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLHAuZj1mdW5jdGlvbihlKXtyZXR1cm4gWShfKGUpKX0pLHMocy5HK3MuVytzLkYqIVYse1N5bWJvbDpNfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KV8odGVbcmUrK10pO2Zvcih2YXIgdGU9RShfLnN0b3JlKSxyZT0wO3RlLmxlbmd0aD5yZTspYih0ZVtyZSsrXSk7cyhzLlMrcy5GKiFWLCJTeW1ib2wiLHsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gbihJLGUrPSIiKT9JW2VdOklbZV09TShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJuIGgoSSxlKTt0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Sj0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Sj0hMX19KSxzKHMuUytzLkYqIVYsIk9iamVjdCIse2NyZWF0ZTpaLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpHLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZWV9KSxQJiZzKHMuUytzLkYqKCFWfHx1KGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1BKFtlXSl8fCJ7fSIhPUEoe2E6ZX0pfHwie30iIT1BKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIXEoZSkpe2Zvcih2YXIgdCxyLG89W2VdLG49MTthcmd1bWVudHMubGVuZ3RoPm47KW8ucHVzaChhcmd1bWVudHNbbisrXSk7cmV0dXJuIHQ9b1sxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnYodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYociYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIXEodCkpcmV0dXJuIHR9KSxvWzFdPXQsQS5hcHBseShQLG8pfX19KSxNW0RdW0xdfHxlKCIuL19oaWRlIikoTVtEXSxMLE1bRF0udmFsdWVPZiksZihNLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZW51bS1rZXlzIjo0MSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzLCIuL19nbG9iYWwiOjQ1LCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXMtYXJyYXkiOjUzLCIuL19rZXlvZiI6NjEsIi4vX2xpYnJhcnkiOjYyLCIuL19tZXRhIjo2MywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1nb3BkIjo2OCwiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL19vYmplY3QtZ29wbi1leHQiOjY5LCIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc2hhcmVkIjo4NCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTMsIi4vX3VpZCI6OTQsIi4vX3drcyI6OTcsIi4vX3drcy1kZWZpbmUiOjk1LCIuL193a3MtZXh0Ijo5Nn1dLDExMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vX3drcy1kZWZpbmUiKSgiYXN5bmNJdGVyYXRvciIpfSx7Ii4vX3drcy1kZWZpbmUiOjk1fV0sMTExOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJvYnNlcnZhYmxlIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2hpZGUiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksYz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLGE9MDthPDU7YSsrKXt2YXIgdT1jW2FdLGw9b1t1XSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW3NdJiZuKGYscyx1KSxpW3VdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6OTl9XSwxMTM6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbyl7InVzZSBzdHJpY3QiO3ZhciBuLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxjPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYT10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG8pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG8pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPXJ8fDA7bzxlLmxlbmd0aDtvKyspaWYoZVtvXT09PXQpcmV0dXJuIG87cmV0dXJuLTF9LHU9ci5NYXAhPT1vJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFthKGUscildfSxzZXQ6ZnVuY3Rpb24ocixvKXt2YXIgbj1hKGUscik7bj09PS0xPyhlLnB1c2gociksdC5wdXNoKG8pLHRoaXMuc2l6ZSsrKTp0W25dPW99LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBvPWEoZSxyKTtvPi0xJiYoZS5zcGxpY2UobywxKSx0LnNwbGljZShvLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbb10sZVtvXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbz0odChhKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtvLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbixpPTA7aTxvLmxlbmd0aDspKG49YShyLG9baSsrXSkpPi0xJiZyLnNwbGljZShuLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbyxuPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmbi5wdXNoKHIpO2Vsc2V7bz1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpby5jYWxsKHQscikmJm4ucHVzaChyKX1yZXR1cm4gYyh0KSYmbi5wdXNoKCJsZW5ndGgiKSxufSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLF89ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLHA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPW4uZ2V0KGUpO28/KGgobyxlKSxtKGUsbyx0LHIpKToobz1iKGUpLG0oZSxvLHQsciksMT09PW4uc2l6ZSYmXyh5KSl9LGI9ZnVuY3Rpb24odCxyKXt2YXIgbyxpPWwodCkscz1bXSxjPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjohIWUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCksZXh0ZW5zaWJsZTohZS5pc0V4dGVuc2libGV8fGUuaXNFeHRlbnNpYmxlKHQpLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmoodCxyKX07aWYoZClmb3Iobz1yLmRlc2NyaXB0b3JzPVtdO2M8aS5sZW5ndGg7KW9bY109ZCh0LGlbY10pLHNbY109dFtpW2MrK11dO2Vsc2UgZm9yKDtjPGkubGVuZ3RoOylzW2NdPXRbaVtjKytdXTtyZXR1cm4gbi5zZXQodCxyKSxyfSxoPWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixvLG4pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYz10LnZhbHVlc1tyXSxhPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG4mJihjPT09cz8wPT09YyYmMS9jIT09MS9zOmM9PT1jfHxzPT09cykmJihnKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC52YWx1ZXNbcl09cyksIWEuY29uZmlndXJhYmxlfHxuLmNvbmZpZ3VyYWJsZSYmbi53cml0YWJsZT09PWEud3JpdGFibGUmJm4uZW51bWVyYWJsZT09PWEuZW51bWVyYWJsZSYmbi5nZXQ9PT1hLmdldCYmbi5zZXQ9PT1hLnNldHx8KGcoZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG8pLHQuZGVzY3JpcHRvcnNbcl09bil9OmZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPXQucHJvcGVydGllc1tyXSxpPWVbbl0scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoZyhlLHQse25hbWU6bix0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG8pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG8sbixpKXtmb3IodmFyIHMsYz1yLmxlbmd0aDtvJiZjLS07KW51bGwhPT1yW2NdJiYocz1kKGUscltjXSksby0tLHM/dChlLG4sYyxpLHMpOihnKGUsbix7bmFtZTpyW2NdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbY119LGkpLG4ucHJvcGVydGllcy5zcGxpY2UoYywxKSxuLnZhbHVlcy5zcGxpY2UoYywxKSxuLmRlc2NyaXB0b3JzLnNwbGljZShjLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG8sbil7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihnKGUsbyx7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbaV19LG4pLG8ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxvLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obyxuLGkpe2lmKG8uaGFuZGxlcnMuc2l6ZSYmIW8uZnJvemVuKXt2YXIgcyxjLHUsXyxwLGIsaCx5LHY9by52YWx1ZXMsaj1vLmRlc2NyaXB0b3JzLG09MDtpZihvLmV4dGVuc2libGUpaWYocz1vLnByb3BlcnRpZXMuc2xpY2UoKSxjPXMubGVuZ3RoLHU9bChuKSxqKXtmb3IoO208dS5sZW5ndGg7KXA9dVttKytdLF89YShzLHApLHk9ZChuLHApLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2gobltwXSksai5wdXNoKHkpKTooc1tfXT1udWxsLGMtLSx0KG4sbyxfLGkseSkpO3IobixzLGMsbyxpKSxlLmlzRXh0ZW5zaWJsZShuKXx8KG8uZXh0ZW5zaWJsZT0hMSxnKG4sbyx7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpufSxpKSxvLmZyb3plbj1lLmlzRnJvemVuKG4pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCksYj1uW3BdLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2goYikpOihzW19dPW51bGwsYy0tLHQobixvLF8saSkpO3IobixzLGMsbyxpKX1lbHNlIGlmKCFvLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKylwPXNbbV0sdChuLG8sbSxpLGQobixwKSk7ZS5pc0Zyb3plbihuKSYmKG8uZnJvemVuPSEwKX1mJiYoaD1mKG4pLGghPT1vLnByb3RvJiYoZyhuLG8se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6bixvbGRWYWx1ZTpvLnByb3RvfSksby5wcm90bz1oKSl9fX0oKSx5PWZ1bmN0aW9uKCl7bi5zaXplJiYobi5mb3JFYWNoKGgpLGkuZm9yRWFjaCh2KSxfKHkpKX0sdj1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0saj1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW4uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1uLmdldChlKTtpZihyKXt2YXIgbyxpPXtvYmplY3Q6ZX07Zm9yKG8gaW4gdCkib2JqZWN0IiE9PW8mJihpW29dPXRbb10pO2coZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYz1uLmdldChlKSxhPWFyZ3VtZW50c1syXSx1PWE9PT1vP3IoKTpyLmNhbGwoYSk7aWYoYyYmaChjLGUsdCksYyYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtnKGUsYyxzKX19fX0sbT1mdW5jdGlvbihlLHQscixvKXt2YXIgbj1pLmdldChyKTtufHxpLnNldChyLG49e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksbi5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpvLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixuKX0sZz1mdW5jdGlvbihlLHQscixvKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBvfHxhKG4sbyk9PT0tMSkmJmEobixyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtuPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG4pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG49PT1vKW49cztlbHNlIGlmKCFufHwib2JqZWN0IiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBwKHQscixuKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixvPWkuZ2V0KHQpO3JldHVybiBvJiYocj1vLm9ic2VydmVkLmdldChlKSkmJihvLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLF8oZnVuY3Rpb24oKXt2KG8sdCl9KSwxPT09by5vYnNlcnZlZC5zaXplJiZvLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpvLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/blsiZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmoodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHYodCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSwxMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbj1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9byhuKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxjPW8ocyksYT1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1vKGEpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9Y1siZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOCwiLi9zeW5jaGVyL1N5bmNoZXIiOjEyMSwiYXJyYXkub2JzZXJ2ZSI6MSwib2JqZWN0Lm9ic2VydmUiOjExM31dLDExNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoIi4vU3luY09iamVjdCIpLF89byhkKSxwPWUoIi4vRGF0YU9iamVjdENoaWxkIiksYj1vKHApLGg9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fc3luY2hlcj10LGMuX3VybD1yLGMuX3NjaGVtYT1vLGMuX3N0YXR1cz1uLGMuX3N5bmNPYmo9bmV3IF9bImRlZmF1bHQiXShpKSxjLl9jaGlsZHJlbnM9cyxjLl92ZXJzaW9uPTAsYy5fY2hpbGRJZD0wLGMuX2NoaWxkcmVuT2JqZWN0cz17fSxjLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxjLl9vd25lcj10Ll9vd25lcixjLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBuPXIrbyxpPXQuX2J1cy5hZGRMaXN0ZW5lcihuLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGNbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbz1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxuPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86bixib2R5OntyZXNvdXJjZTpvLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGM9bmV3IGJbImRlZmF1bHQiXShyLG8sdCxyLl9vd25lcixpKTtjLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6bixjaGlsZElkOm99KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tvXT1jLGUoYyl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbz1uZXcgYlsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1vLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG49e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbiksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobikpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBvPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG8uYm9keS52YWx1ZT1lLmRhdGEpOihvLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG8uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihvLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYoby50bz10LnBhdGgsby5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG8pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBvPXQuYm9keS5hdHRyaWJ1dGUsbj0oMCxoLmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShvKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYz1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFtjLDBdLmNvbmNhdChuKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGE9aS5vYmosdT1pLmxhc3Q7YS5zcGxpY2UodSxuKX1lbHNlIGkub2JqW2kubGFzdF09bjtlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW46ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbz10Ll9jaGlsZHJlbk9iamVjdHNbcl07bz90Ll9jaGFuZ2VPYmplY3Qoby5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsIi4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWUoIi4vU3luY09iamVjdCIpLHU9byhhKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYz10aGlzO2MuX3BhcmVudD10LGMuX2NoaWxkSWQ9cixjLl9vd25lcj1uLGMuX21zZ0lkPXMsYy5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG8pLGMuX2J1cz10Ll9idXMsYy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjEyMCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDExNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGc9byhtKSx3PXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8sbixzLGEsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLHMuZGF0YSxhKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgZ1siZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG89e3R5cGU6dy5FWEFDVCxjYWxsYmFjazp0fSxuPWUuaW5kZXhPZigiKiIpO249PT1lLmxlbmd0aC0xJiYoMD09PW4/by50eXBlPXcuQU5ZOihvLnR5cGU9dy5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW99fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX2ZpbHRlcnNbcl07by50eXBlPT09dy5BTlk/by5jYWxsYmFjayhlKTpvLnR5cGU9PT13LlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm8uY2FsbGJhY2soZSk6by50eXBlPT09dy5FWEFDVCYmZS5maWVsZD09PXImJm8uY2FsbGJhY2soZSl9KX19XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6MTE1LCIuL0RhdGFPYmplY3RDaGlsZCI6MTE2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBhPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLGkscykpLGw9YTtyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxhfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG89e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW87dmFyIG49e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7bltlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm59fX0pLG99LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om99O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGFjY2VwdDpmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKX19KX0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMSxkZXNjOnJ9fSl9fTt0Ll9vblJlYWRIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFQUQtRVZFTlQ6ICIsciksdC5fb25SZWFkSGFuZGxlcihyKSl9fSx7a2V5OiJzdWJzY3JpcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uc319XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Zyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdCI6MTE1LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxjPW8ocyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8sbil7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9byxzLl9jaGlsZHJlbj1uLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWEsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuT2JqZWN0VHlwZT1yLkNoYW5nZVR5cGU9dm9pZCAwO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9byhhKSxsPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciByPXRoaXM7ci5fb2JzZXJ2ZXJzPVtdLHIuX2ZpbHRlcnM9e30sdD9yLl9kYXRhPSgwLGwuZGVlcENsb25lKSh0KTpyLl9kYXRhPXt9LHIuX2ludGVybmFsT2JzZXJ2ZShuZXcgZCxyLl9kYXRhKX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6Im9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5wdXNoKGUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLiIpO3JldHVybiB0aGlzLl9maW5kV2l0aFNwbGl0KHQpfX0se2tleToiZmluZEJlZm9yZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1lLnNwbGl0KCIuIik7cmV0dXJuIHQubGFzdD1yLnBvcCgpLHQub2JqPXRoaXMuX2ZpbmRXaXRoU3BsaXQociksdH19LHtrZXk6Il9maW5kV2l0aFNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dD10W2VdfSksdH19LHtrZXk6Il9maXJlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QoZSl9KX19LHtrZXk6Il9pc09ic2VydmFibGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnN0cnVjdG9yPT09T2JqZWN0fHxlLmNvbnN0cnVjdG9yPT09QXJyYXl9fSx7a2V5OiJfaW50ZXJuYWxPYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbz1mdW5jdGlvbih0KXtyLl9vbkNoYW5nZXMoZSx0KX07aWYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7T2JqZWN0Lm9ic2VydmUodCxvKTtmb3IodmFyIG4gaW4gdClyLl9pc09ic2VydmFibGUodFtuXSkmJnIuX2ludGVybmFsT2JzZXJ2ZShlWyJuZXciXShuKSx0W25dKX1lbHNlIGlmKHQuY29uc3RydWN0b3I9PT1BcnJheSl7QXJyYXkub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgaSBpbiB0KWlmKHIuX2lzT2JzZXJ2YWJsZSh0W2ldKSl7dmFyIHM9ZVsibmV3Il0obmV3IF8odFtpXSxpKSk7ci5faW50ZXJuYWxPYnNlcnZlKHMsdFtpXSl9fX19fSx7a2V5OiJfb25DaGFuZ2VzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Zm9yKHZhciBvIGluIHQpe3ZhciBuPXRbb10ub2JqZWN0LGk9dm9pZCAwO2lmKG4uY29uc3RydWN0b3I9PT1PYmplY3QmJihpPWIuT0JKRUNUKSxuLmNvbnN0cnVjdG9yPT09QXJyYXkmJihpPWIuQVJSQVkpLCJzcGxpY2UiPT09dFtvXS50eXBlKSFmdW5jdGlvbigpe3ZhciBzPXRbb10uaW5kZXgsYz1lWyJuZXciXSgiIitzKSxhPWMudG9TdHJpbmcoKSx1PXRbb10ucmVtb3ZlZC5sZW5ndGg7aWYoMCE9PXUpe3ZhciBmPXRbb10ucmVtb3ZlZDtmLmZvckVhY2goZnVuY3Rpb24odCxvKXtyLl9pc09ic2VydmFibGUodCkmJmUucmVtb3ZlSW5kZXgocytvKX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5SRU1PVkUsb1R5cGU6aSxmaWVsZDphLGRhdGE6dX0pfXZhciBkPXRbb10uYWRkZWRDb3VudDtpZigwIT09ZCl7dmFyIGI9bi5zbGljZShzLHMrZCk7Yi5mb3JFYWNoKGZ1bmN0aW9uKHQsbyl7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbj1lWyJuZXciXShuZXcgXyh0LHMrbykpO3IuX2ludGVybmFsT2JzZXJ2ZShuLHQpfX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGIpfSl9cyE9PW4ubGVuZ3RoLTEmJmUucmVJbmRleEZyb20obil9KCk7ZWxzZXt2YXIgcz1lWyJuZXciXSh0W29dLm5hbWUpLGM9cy50b1N0cmluZygpO2lmKGMuaW5kZXhPZigiU3ltYm9sIikhPT0tMSljb250aW51ZTt2YXIgYT1uW3Rbb10ubmFtZV07InVwZGF0ZSI9PT10W29dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5VUERBVEUsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSksImFkZCI9PT10W29dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUocyxhKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShhKX0pKSwiZGVsZXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmN9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InJlbW92ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fb2JzZXJ2YWJsZXNbZV19fSx7a2V5OiJyZUluZGV4RnJvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX29ic2VydmFibGVzW3JdLG49ZS5pbmRleE9mKG8ub2JqKTtvLmlkeCE9biYmKG8uaWR4PW4sZGVsZXRlIHQuX29ic2VydmFibGVzW3JdLHQuX29ic2VydmFibGVzW25dPW8pfSl9fSx7a2V5OiJuZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PV8mJih0aGlzLl9vYnNlcnZhYmxlc1tlLmlkeF09ZSk7dmFyIHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0Ll9wYXRoLnB1c2goZSksdH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fcGF0aC5wdXNoKGUpfSksdH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24odCxyKXswPT09cj9lPXQudG9TdHJpbmcoKTplKz0iLiIrdC50b1N0cmluZygpfSksZX19XSksZX0oKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLm9iaj10LHRoaXMuaWR4PXJ9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKX19XSksZX0oKSxwPXIuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LGI9ci5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07clsiZGVmYXVsdCJdPWZ9LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW8obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLF89byhkKSxwPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksYj1vKHApLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLl9vd25lcj10LG4uX2J1cz1yLG4uX3N1YlVSTD1vLnJ1bnRpbWVVUkwrIi9zbSIsbi5fcmVwb3J0ZXJzPXt9LG4uX29ic2VydmVycz17fSxuLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6bi5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpuLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6bi5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzO3IucmVwb3J0ZXI9by5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbj17dHlwZToiY3JlYXRlIixmcm9tOm8uX293bmVyLHRvOm8uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtvLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG4pLDIwMD09PW4uYm9keS5jb2RlKXt2YXIgcz1uLmJvZHkucmVzb3VyY2UsYz1uZXcgZlsiZGVmYXVsdCJdKG8scyxlLCJvbiIscixuLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO28uX3JlcG9ydGVyc1tzXT1jLHQoYyl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxvPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihuLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKG8pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbyk7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG8uYm9keS5jb2RlPDIwMClzPW5ldyBiWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW8uYm9keS5jb2RlKXt2YXIgYz1uZXcgX1siZGVmYXVsdCJdKHIsdCxlLCJvbiIsby5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sby5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1jLG4oYykscy5hcHBseShjKX1lbHNlIGkoby5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG8pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpewpjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6byh0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbz17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG89dC5fb2JzZXJ2ZXJzW3JdO2lmKG8pe3ZhciBuPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSwyMDA9PT1uJiZvWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm4sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWgsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6MTE3LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL0RhdGFQcm92aXNpb25hbCI6MTE5LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDEyMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG4oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbz1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO29bMF09PT1lJiYob1swXT0iaHR0cHMiLG9bMV09ZSk7dmFyIG49e3R5cGU6b1swXSxkb21haW46b1sxXSxpZGVudGl0eTpvWzJdfTtyZXR1cm4gbn1mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxwWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBjKGUpe2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSl9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW4oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW4oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9byhmKSxfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9byhfKTtyLmRpdmlkZVVSTD1uLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbMTE0XSkoMTE0KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuSVB2NiA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKgogIHZhciBfaW4gPSAiZmU4MDowMDAwOjAwMDA6MDAwMDowMjA0OjYxZmY6ZmU5ZDpmMTU2IjsKICB2YXIgX291dCA9IElQdjYuYmVzdChfaW4pOwogIHZhciBfZXhwZWN0ZWQgPSAiZmU4MDo6MjA0OjYxZmY6ZmU5ZDpmMTU2IjsKCiAgY29uc29sZS5sb2coX2luLCBfb3V0LCBfZXhwZWN0ZWQsIF9vdXQgPT09IF9leHBlY3RlZCk7CiAgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IElQdjYgdmFyaWFibGUsIGlmIGFueQogIHZhciBfSVB2NiA9IHJvb3QgJiYgcm9vdC5JUHY2OwoKICBmdW5jdGlvbiBiZXN0UHJlc2VudGF0aW9uKGFkZHJlc3MpIHsKICAgIC8vIGJhc2VkIG9uOgogICAgLy8gSmF2YXNjcmlwdCB0byB0ZXN0IGFuIElQdjYgYWRkcmVzcyBmb3IgcHJvcGVyIGZvcm1hdCwgYW5kIHRvCiAgICAvLyBwcmVzZW50IHRoZSAiYmVzdCB0ZXh0IHJlcHJlc2VudGF0aW9uIiBhY2NvcmRpbmcgdG8gSUVURiBEcmFmdCBSRkMgYXQKICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQKICAgIC8vIDggRmViIDIwMTAgUmljaCBCcm93biwgRGFydHdhcmUsIExMQwogICAgLy8gUGxlYXNlIGZlZWwgZnJlZSB0byB1c2UgdGhpcyBjb2RlIGFzIGxvbmcgYXMgeW91IHByb3ZpZGUgYSBsaW5rIHRvCiAgICAvLyBodHRwOi8vd3d3LmludGVybWFwcGVyLmNvbQogICAgLy8gaHR0cDovL2ludGVybWFwcGVyLmNvbS9zdXBwb3J0L3Rvb2xzL0lQVjYtVmFsaWRhdG9yLmFzcHgKICAgIC8vIGh0dHA6Ly9kb3dubG9hZC5kYXJ0d2FyZS5jb20vdGhpcmRwYXJ0eS9pcHY2dmFsaWRhdG9yLmpzCgogICAgdmFyIF9hZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpOwogICAgdmFyIHNlZ21lbnRzID0gX2FkZHJlc3Muc3BsaXQoJzonKTsKICAgIHZhciBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CiAgICB2YXIgdG90YWwgPSA4OwoKICAgIC8vIHRyaW0gY29sb25zICg6OiBvciA6OmE6Yjpj4oCmIG9yIOKApmE6YjpjOjopCiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJyAmJiBzZWdtZW50c1syXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjoKICAgICAgLy8gcmVtb3ZlIGZpcnN0IHR3byBpdGVtcwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6eHh4eAogICAgICAvLyByZW1vdmUgdGhlIGZpcnN0IGl0ZW0KICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnICYmIHNlZ21lbnRzW2xlbmd0aCAtIDJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiB4eHh4OjoKICAgICAgc2VnbWVudHMucG9wKCk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFkanVzdCB0b3RhbCBzZWdtZW50cyBmb3IgSVB2NCB0cmFpbGVyCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0uaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAvLyBmb3VuZCBhICIuIiB3aGljaCBtZWFucyBJUHY0CiAgICAgIHRvdGFsID0gNzsKICAgIH0KCiAgICAvLyBmaWxsIGVtcHR5IHNlZ21lbnRzIHRoZW0gd2l0aCAiMDAwMCIKICAgIHZhciBwb3M7CiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKHNlZ21lbnRzW3Bvc10gPT09ICcnKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgdG90YWwpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMSwgJzAwMDAnKTsKICAgICAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA8IHRvdGFsKSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMCwgJzAwMDAnKTsKICAgICAgfQogICAgfQoKICAgIC8vIHN0cmlwIGxlYWRpbmcgemVyb3MKICAgIHZhciBfc2VnbWVudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgX3NlZ21lbnRzID0gc2VnbWVudHNbaV0uc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMgOyBqKyspIHsKICAgICAgICBpZiAoX3NlZ21lbnRzWzBdID09PSAnMCcgJiYgX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIF9zZWdtZW50cy5zcGxpY2UoMCwxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWdtZW50c1tpXSA9IF9zZWdtZW50cy5qb2luKCcnKTsKICAgIH0KCiAgICAvLyBmaW5kIGxvbmdlc3Qgc2VxdWVuY2Ugb2YgemVyb2VzIGFuZCBjb2FsZXNjZSB0aGVtIGludG8gb25lIHNlZ21lbnQKICAgIHZhciBiZXN0ID0gLTE7CiAgICB2YXIgX2Jlc3QgPSAwOwogICAgdmFyIF9jdXJyZW50ID0gMDsKICAgIHZhciBjdXJyZW50ID0gLTE7CiAgICB2YXIgaW56ZXJvZXMgPSBmYWxzZTsKICAgIC8vIGk7IGFscmVhZHkgZGVjbGFyZWQKCiAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBpZiAoaW56ZXJvZXMpIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgX2N1cnJlbnQgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW56ZXJvZXMgPSBmYWxzZTsKICAgICAgICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgICAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICAgICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgaW56ZXJvZXMgPSB0cnVlOwogICAgICAgICAgY3VycmVudCA9IGk7CiAgICAgICAgICBfY3VycmVudCA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICB9CgogICAgaWYgKF9iZXN0ID4gMSkgewogICAgICBzZWdtZW50cy5zcGxpY2UoYmVzdCwgX2Jlc3QsICcnKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYXNzZW1ibGUgcmVtYWluaW5nIHNlZ21lbnRzCiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnKSAgewogICAgICByZXN1bHQgPSAnOic7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdCArPSBzZWdtZW50c1tpXTsKICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi8KICAgIGlmIChyb290LklQdjYgPT09IHRoaXMpIHsKICAgICAgcm9vdC5JUHY2ID0gX0lQdjY7CiAgICB9CiAgCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBiZXN0OiBiZXN0UHJlc2VudGF0aW9uLAogICAgbm9Db25mbGljdDogbm9Db25mbGljdAogIH07Cn0pKTsKCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBTZWNvbmQgTGV2ZWwgRG9tYWluIChTTEQpIFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gc2F2ZSBjdXJyZW50IFNlY29uZExldmVsRG9tYWlucyB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6JyBjb20gZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhZSc6JyBhYyBjbyBnb3YgbWlsIG5hbWUgbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdhZic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYW8nOicgY28gZWQgZ3YgaXQgb2cgcGIgJywKICAgICAgJ2FyJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6JyBhYyBjbyBndiBvciAnLAogICAgICAnYXUnOicgYXNuIGNvbSBjc2lybyBlZHUgZ292IGlkIG5ldCBvcmcgJywKICAgICAgJ2JhJzonIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOicgYml6IGNvIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyBzdG9yZSB0diAnLAogICAgICAnYmgnOicgYml6IGNjIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnYm4nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0diAnLAogICAgICAnYnInOicgYWRtIGFkdiBhZ3IgYW0gYXJxIGFydCBhdG8gYiBiaW8gYmxvZyBibWQgY2ltIGNuZyBjbnQgY29tIGNvb3AgZWNuIGVkdSBlbmcgZXNwIGV0YyBldGkgZmFyIGZsb2cgZm0gZm5kIGZvdCBmc3QgZzEyIGdnZiBnb3YgaW1iIGluZCBpbmYgam9yIGp1cyBsZWwgbWF0IG1lZCBtaWwgbXVzIG5ldCBub20gbm90IG50ciBvZG8gb3JnIHBwZyBwcm8gcHNjIHBzaSBxc2wgcmVjIHNsZyBzcnYgdG1wIHRyZCB0dXIgdHYgdmV0IHZsb2cgd2lraSB6bGcgJywKICAgICAgJ2JzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzonIGR1IGV0IG9tIG92IHJnICcsCiAgICAgICdjYSc6JyBhYiBiYyBtYiBuYiBuZiBubCBucyBudCBudSBvbiBwZSBxYyBzayB5ayAnLAogICAgICAnY2snOicgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOicgYWMgYWggYmogY29tIGNxIGVkdSBmaiBnZCBnb3YgZ3MgZ3ggZ3ogaGEgaGIgaGUgaGkgaGwgaG4gamwganMganggbG4gbWlsIG5ldCBubSBueCBvcmcgcWggc2Mgc2Qgc2ggc24gc3ggdGogdHcgeGogeHogeW4gemogJywKICAgICAgJ2NvJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnY3InOicgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOicgYWMgYml6IGNvbSBla2xvZ2VzIGdvdiBsdGQgbmFtZSBuZXQgb3JnIHBhcmxpYW1lbnQgcHJlc3MgcHJvIHRtICcsCiAgICAgICdkbyc6JyBhcnQgY29tIGVkdSBnb2IgZ292IG1pbCBuZXQgb3JnIHNsZCB3ZWIgJywKICAgICAgJ2R6JzonIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6JyBjb20gZWR1IGZpbiBnb3YgaW5mbyBtZWQgbWlsIG5ldCBvcmcgcHJvICcsCiAgICAgICdlZyc6JyBjb20gZWR1IGV1biBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2kgJywKICAgICAgJ2VyJzonIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzonIGNvbSBlZHUgZ29iIG5vbSBvcmcgJywKICAgICAgJ2V0JzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5hbWUgbmV0IG9yZyAnLAogICAgICAnZmonOicgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6JyBhYyBjbyBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ2ZyJzonIGFzc28gY29tIGYgZ291diBub20gcHJkIHByZXNzZSB0bSAnLAogICAgICAnZ2cnOicgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOicgY29tIGVkdSBnb3YgbWlsIG9yZyAnLAogICAgICAnZ24nOicgYWMgY29tIGdvdiBuZXQgb3JnICcsCiAgICAgICdncic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOicgY29tIGVkdSBnb2IgaW5kIG1pbCBuZXQgb3JnICcsCiAgICAgICdndSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdoayc6JyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOicgMjAwMCBhZ3JhciBib2x0IGNhc2lubyBjaXR5IGNvIGVyb3RpY2EgZXJvdGlrYSBmaWxtIGZvcnVtIGdhbWVzIGhvdGVsIGluZm8gaW5nYXRsYW4gam9nYXN6IGtvbnl2ZWxvIGxha2FzIG1lZGlhIG5ld3Mgb3JnIHByaXYgcmVrbGFtIHNleCBzaG9wIHNwb3J0IHN1bGkgc3pleCB0bSB0b3pzZGUgdXRhemFzIHZpZGVvICcsCiAgICAgICdpZCc6JyBhYyBjbyBnbyBtaWwgbmV0IG9yIHNjaCB3ZWIgJywKICAgICAgJ2lsJzonIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOicgYWMgY28gZWR1IGVybmV0IGZpcm0gZ2VuIGdvdiBpIGluZCBtaWwgbmV0IG5pYyBvcmcgcmVzICcsCiAgICAgICdpcSc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgb3JnICcsCiAgICAgICdpcic6JyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzonIGVkdSBnb3YgJywKICAgICAgJ2plJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2pvJzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6JyBhYyBhZCBjbyBlZCBnbyBnciBsZyBuZSBvciAnLAogICAgICAna2UnOicgYWMgY28gZ28gaW5mbyBtZSBtb2JpIG5lIG9yIHNjICcsCiAgICAgICdraCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzonIGJpeiBjb20gZGUgZWR1IGdvdiBpbmZvIG1vYiBuZXQgb3JnIHRlbCAnLAogICAgICAna20nOicgYXNzbyBjb20gY29vcCBlZHUgZ291diBrIG1lZGVjaW4gbWlsIG5vbSBub3RhaXJlcyBwaGFybWFjaWVucyBwcmVzc2UgdG0gdmV0ZXJpbmFpcmUgJywKICAgICAgJ2tuJzonIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOicgYWMgYnVzYW4gY2h1bmdidWsgY2h1bmduYW0gY28gZGFlZ3UgZGFlamVvbiBlcyBnYW5nd29uIGdvIGd3YW5nanUgZ3llb25nYnVrIGd5ZW9uZ2dpIGd5ZW9uZ25hbSBocyBpbmNoZW9uIGplanUgamVvbmJ1ayBqZW9ubmFtIGsga2cgbWlsIG1zIG5lIG9yIHBlIHJlIHNjIHNlb3VsIHVsc2FuICcsCiAgICAgICdrdyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbGInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbGsnOicgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbHYnOicgYXNuIGNvbSBjb25mIGVkdSBnb3YgaWQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2x5JzonIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzonIGFjIGNvIGdvdiBtIG5ldCBvcmcgcHJlc3MgJywKICAgICAgJ21jJzonIGFzc28gdG0gJywKICAgICAgJ21lJzonIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOicgY29tIGVkdSBnb3YgbWlsIG5vbSBvcmcgcHJkIHRtICcsCiAgICAgICdtayc6JyBjb20gZWR1IGdvdiBpbmYgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbWwnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzonIGVkdSBnb3Ygb3JnICcsCiAgICAgICdtbyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6JyBhZXJvIGJpeiBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IG1pbCBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbXcnOicgYWMgY28gY29tIGNvb3AgZWR1IGdvdiBpbnQgbXVzZXVtIG5ldCBvcmcgJywKICAgICAgJ214JzonIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduZic6JyBhcnRzIGNvbSBmaXJtIGluZm8gbmV0IG90aGVyIHBlciByZWMgc3RvcmUgd2ViICcsCiAgICAgICduZyc6JyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOicgYWMgY28gY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICducCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbnInOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOicgYWMgYml6IGNvIGNvbSBlZHUgZ292IG1lZCBtaWwgbXVzZXVtIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAncGUnOicgY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncGgnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzonIGJpeiBjb20gZWR1IGZhbSBnb2IgZ29rIGdvbiBnb3AgZ29zIGdvdiBuZXQgb3JnIHdlYiAnLAogICAgICAncGwnOicgYXJ0IGJpYWx5c3RvayBiaXogY29tIGVkdSBnZGEgZ2RhbnNrIGdvcnpvdyBnb3YgaW5mbyBrYXRvd2ljZSBrcmFrb3cgbG9keiBsdWJsaW4gbWlsIG5ldCBuZ28gb2xzenR5biBvcmcgcG96bmFuIHB3ciByYWRvbSBzbHVwc2sgc3pjemVjaW4gdG9ydW4gd2Fyc3phd2Egd2F3IHdyb2Mgd3JvY2xhdyB6Z29yYSAnLAogICAgICAncHInOicgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHBsbyBzZWMgJywKICAgICAgJ3B3JzonIGJlbGF1IGNvIGVkIGdvIG5lIG9yICcsCiAgICAgICdybyc6JyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6JyBhYyBjbyBlZHUgZ292IGluIG9yZyAnLAogICAgICAnc2InOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2MnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOicgY28gY29tIGVkdSBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ3NsJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3N0JzonIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOicgY29tIGVkdSBnb2Igb3JnIHJlZCAnLAogICAgICAnc3onOicgYWMgY28gb3JnICcsCiAgICAgICd0cic6JyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOicgYWVybyBiaXogY2F0IGNvIGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgam9icyBtaWwgbW9iaSBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyB0ZWwgdHJhdmVsICcsCiAgICAgICd0dyc6JyBjbHViIGNvbSBlYml6IGVkdSBnYW1lIGdvdiBpZHYgbWlsIG5ldCBvcmcgJywKICAgICAgJ211JzonIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ25hJzonIGNvIGNvbSAnLAogICAgICAnbnonOicgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOicgYWJvIGFjIGNvbSBlZHUgZ29iIGluZyBtZWQgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwdCc6JyBjb20gZWR1IGdvdiBpbnQgbmV0IG5vbWUgb3JnIHB1YmwgJywKICAgICAgJ3B5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncmUnOicgYXNzbyBjb20gbm9tICcsCiAgICAgICdydSc6JyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6JyBhYyBjbyBjb20gZWR1IGdvdXYgZ292IGludCBtaWwgbmV0ICcsCiAgICAgICdzYSc6JyBjb20gZWR1IGdvdiBtZWQgbmV0IG9yZyBwdWIgc2NoICcsCiAgICAgICdzZCc6JyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6JyBhIGFjIGIgYmQgYyBkIGUgZiBnIGggaSBrIGwgbSBuIG8gb3JnIHAgcGFydGkgcHAgcHJlc3MgciBzIHQgdG0gdSB3IHggeSB6ICcsCiAgICAgICdzZyc6JyBjb20gZWR1IGdvdiBpZG4gbmV0IG9yZyBwZXIgJywKICAgICAgJ3NuJzonIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbmV3cyBvcmcgJywKICAgICAgJ3RoJzonIGFjIGNvIGdvIGluIG1pIG5ldCBvciAnLAogICAgICAndGonOicgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6JyBhZ3JpbmV0IGNvbSBkZWZlbnNlIGVkdW5ldCBlbnMgZmluIGdvdiBpbmQgaW5mbyBpbnRsIG1pbmNvbSBuYXQgbmV0IG9yZyBwZXJzbyBybnJ0IHJucyBybnUgdG91cmlzbSAnLAogICAgICAndHonOicgYWMgY28gZ28gbmUgb3IgJywKICAgICAgJ3VhJzonIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6JyBhYyBjbyBnbyBuZSBvciBvcmcgc2MgJywKICAgICAgJ3VrJzonIGFjIGJsIGJyaXRpc2gtbGlicmFyeSBjbyBjeW0gZ292IGdvdnQgaWNuZXQgamV0IGxlYSBsdGQgbWUgbWlsIG1vZCBuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kIG5lbCBuZXQgbmhzIG5pYyBubHMgb3JnIG9yZ24gcGFybGlhbWVudCBwbGMgcG9saWNlIHNjaCBzY290IHNvYyAnLAogICAgICAndXMnOicgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzonIGNvbSBlZHUgZ3ViIG1pbCBuZXQgb3JnICcsCiAgICAgICd2ZSc6JyBjbyBjb20gZWR1IGdvYiBpbmZvIG1pbCBuZXQgb3JnIHdlYiAnLAogICAgICAndmknOicgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6JyBhYyBiaXogY29tIGVkdSBnb3YgaGVhbHRoIGluZm8gaW50IG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ3llJzonIGNvIGNvbSBnb3YgbHRkIG1lIG5ldCBvcmcgcGxjICcsCiAgICAgICd5dSc6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOicgYWMgYWdyaWMgYWx0IGJvdXJzZSBjaXR5IGNvIGN5YmVybmV0IGRiIGVkdSBnb3YgZ3JvbmRhciBpYWNjZXNzIGltdCBpbmNhIGxhbmRlc2lnbiBsYXcgbWlsIG5ldCBuZ28gbmlzIG5vbSBvbGl2ZXR0aSBvcmcgcGl4IHNjaG9vbCB0bSB3ZWIgJywKICAgICAgJ3ptJzonIGFjIGNvIGNvbSBlZHUgZ292IG5ldCBvcmcgc2NoICcKICAgIH0sCiAgICAvLyBnb3JoaWxsIDIwMTMtMTAtMjU6IFVzaW5nIGluZGV4T2YoKSBpbnN0ZWFkIFJlZ2V4cCgpLiBTaWduaWZpY2FudCBib29zdAogICAgLy8gaW4gYm90aCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IGZvb3RwcmludC4gTm8gaW5pdGlhbGl6YXRpb24gcmVxdWlyZWQuCiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS91cmktanMtc2xkLXJlZ2V4LXZzLWJpbmFyeS1zZWFyY2gvNAogICAgLy8gRm9sbG93aW5nIG1ldGhvZHMgdXNlIGxhc3RJbmRleE9mKCkgcmF0aGVyIHRoYW4gYXJyYXkuc3BsaXQoKSBpbiBvcmRlcgogICAgLy8gdG8gYXZvaWQgYW55IG1lbW9yeSBhbGxvY2F0aW9ucy4KICAgIGhhczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPj0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2UoMCwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSk7CiAgICB9LAogICAgbm9Db25mbGljdDogZnVuY3Rpb24oKXsKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID09PSB0aGlzKSB7CiAgICAgICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBfU2Vjb25kTGV2ZWxEb21haW5zOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CgogIHJldHVybiBTTEQ7Cn0pKTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHsKICAndXNlIHN0cmljdCc7CiAgLypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi8KICAvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZQogIC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJOwoKICBmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7CiAgICB2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxOwogICAgdmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7CgogICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgaWYgKF9iYXNlU3VwcGxpZWQpIHsKICAgICAgICAgIHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSSSgpOwogICAgfQoKICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhyZWYodXJsKTsKCiAgICAvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3IKICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIFVSSS52ZXJzaW9uID0gJzEuMTguMSc7CgogIHZhciBwID0gVVJJLnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCiAgZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2MwogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7CiAgfQoKICBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7CiAgICAvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZQogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuICdVbmRlZmluZWQnOwogICAgfQoKICAgIHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHsKICAgIHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7CiAgfQoKICBmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkgewogICAgdmFyIGxvb2t1cCA9IHt9OwogICAgdmFyIGksIGxlbmd0aDsKCiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGxvb2t1cCA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgbG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxvb2t1cFt2YWx1ZV0gPSB0cnVlOwogICAgfQoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgdmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZAogICAgICAgIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBob3N0bmFtZTogbnVsbCwKICAgICAgdXJuOiBudWxsLAogICAgICBwb3J0OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICBxdWVyeTogbnVsbCwKICAgICAgZnJhZ21lbnQ6IG51bGwsCiAgICAgIC8vIHN0YXRlCiAgICAgIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywKICAgICAgZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2UKICAgIH07CiAgfTsKICAvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpCiAgVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlOwogIC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKQogIFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTsKICAvLyBzdGF0aWMgcHJvcGVydGllcwogIFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTsKICBVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcLi1dL2k7CiAgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7CiAgLy8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlPwogIFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSQvOwogIC8vIGNyZWRpdHMgdG8gUmljaCBCcm93bgogIC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NgogIC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0CiAgVVJJLmlwNl9leHByZXNzaW9uID0gL15ccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKSkoJS4rKT9ccyokLzsKICAvLyBleHByZXNzaW9uIHVzZWQgaXMgImdydWJlciByZXZpc2VkIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGUKICAvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXQKICAvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4CiAgLy8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sCiAgVVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXGIoKD86W2Etel1bXHctXSs6KD86XC97MSwzfXxbYS16MC05JV0pfHd3d1xkezAsM31bLl18W2EtejAtOS5cLV0rWy5dW2Etel17Miw0fVwvKSg/OlteXHMoKTw+XSt8XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKSkrKD86XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKXxbXlxzYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7CiAgVVJJLmZpbmRVcmkgPSB7CiAgICAvLyB2YWxpZCAic2NoZW1lOi8vIiBvciAid3d3LiIKICAgIHN0YXJ0OiAvXGIoPzooW2Etel1bYS16MC05ListXSo6XC9cLyl8d3d3XC4pL2dpLAogICAgLy8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlCiAgICBlbmQ6IC9bXHNcclxuXXwkLywKICAgIC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cAogICAgdHJpbTogL1tgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8KICB9OwogIC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0cwogIFVSSS5kZWZhdWx0UG9ydHMgPSB7CiAgICBodHRwOiAnODAnLAogICAgaHR0cHM6ICc0NDMnLAogICAgZnRwOiAnMjEnLAogICAgZ29waGVyOiAnNzAnLAogICAgd3M6ICc4MCcsCiAgICB3c3M6ICc0NDMnCiAgfTsKICAvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgLy8gQUxQSEEgRElHSVQgIi0iICIuIiAiXyIgIn4iICIhIiAiJCIgIiYiICInIiAiKCIgIikiICIqIiAiKyIgIiwiICI7IiAiPSIgJWVuY29kZWQKICAvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtCiAgVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVwuLV0vOwogIC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZQogIFVSSS5kb21BdHRyaWJ1dGVzID0gewogICAgJ2EnOiAnaHJlZicsCiAgICAnYmxvY2txdW90ZSc6ICdjaXRlJywKICAgICdsaW5rJzogJ2hyZWYnLAogICAgJ2Jhc2UnOiAnaHJlZicsCiAgICAnc2NyaXB0JzogJ3NyYycsCiAgICAnZm9ybSc6ICdhY3Rpb24nLAogICAgJ2ltZyc6ICdzcmMnLAogICAgJ2FyZWEnOiAnaHJlZicsCiAgICAnaWZyYW1lJzogJ3NyYycsCiAgICAnZW1iZWQnOiAnc3JjJywKICAgICdzb3VyY2UnOiAnc3JjJywKICAgICd0cmFjayc6ICdzcmMnLAogICAgJ2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9ImltYWdlIgogICAgJ2F1ZGlvJzogJ3NyYycsCiAgICAndmlkZW8nOiAnc3JjJwogIH07CiAgVVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT0iaW1hZ2UiCiAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTsKICB9OwoKICBmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTEKICAgIHJldHVybiBlc2NhcGUodmFsdWUpOwogIH0KCiAgLy8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NgogIGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHsKICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpCiAgICAgIC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpCiAgICAgIC5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICB9OwogIFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICB9OwogIFVSSS5jaGFyYWN0ZXJzID0gewogICAgcGF0aG5hbWU6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyAtLl9+IScoKSoKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jXS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXJ2ZWQ6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyBnZW4tZGVsaW1zCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyUyRic6ICcvJywKICAgICAgICAgICclM0YnOiAnPycsCiAgICAgICAgICAnJTIzJzogJyMnLAogICAgICAgICAgJyU1Qic6ICdbJywKICAgICAgICAgICclNUQnOiAnXScsCiAgICAgICAgICAnJTQwJzogJ0AnLAogICAgICAgICAgLy8gc3ViLWRlbGltcwogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXJucGF0aDogewogICAgICAvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlCiAgICAgIC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCAiLSIsICIuIiwgYW5kICJfIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dAogICAgICAvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvCiAgICAgIC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzCiAgICAgIC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXQKICAgICAgLy8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuCiAgICAgIC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy4KICAgICAgZW5jb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgInJlc2VydmVkIiBjaGFyYWN0ZXJzIHRoYXQKICAgICAgLy8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyM6XS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnLAogICAgICAgICAgJzonOiAnJTNBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgc3RyaW5nICs9ICcnOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnJTIwJykgOiBzdHJpbmcpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgIHJldHVybiBzdHJpbmc7CiAgICB9CiAgfTsKICAvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zCiAgdmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICByZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CiAgICB9OwogIH07CgogIGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7CiAgICBVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7CiAgICBVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTsKICB9CgogIHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgLy8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGUKICAgICAgLy8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlCiAgICAgIC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZQogICAgICAvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlICJmcmVzaCIuCiAgICAgIHZhciBhY3R1YWxDb2RpbmdGdW5jOwogICAgICBpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTsKICAgIH07CiAgfTsKCiAgLy8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuCiAgVVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpOwogIFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTsKICBVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpOwogIFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CgogIFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpOwoKICBVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICB2YXIgcG9zOwogICAgaWYgKCFwYXJ0cykgewogICAgICBwYXJ0cyA9IHt9OwogICAgfQogICAgLy8gW3Byb3RvY29sIjovLyJbdXNlcm5hbWVbIjoicGFzc3dvcmRdIkAiXWhvc3RuYW1lWyI6InBvcnRdIi8iP11bcGF0aF1bIj8icXVlcnlzdHJpbmddWyIjImZyYWdtZW50XQoKICAgIC8vIGV4dHJhY3QgZnJhZ21lbnQKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeQogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHByb3RvY29sCiAgICBpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykgewogICAgICAvLyByZWxhdGl2ZS1zY2hlbWUKICAgICAgcGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpOwogICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICB9IGVsc2UgewogICAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICBpZiAocG9zID4gLTEpIHsKICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICAvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGgKICAgICAgICAgIHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTsKCiAgICAgICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICAgICAgcGFydHMudXJuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoCiAgICBwYXJ0cy5wYXRoID0gc3RyaW5nOwoKICAgIC8vIGFuZCB3ZSdyZSBkb25lCiAgICByZXR1cm4gcGFydHM7CiAgfTsKICBVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICBzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTsKICAgIHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpOwogIH07CiAgVVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkCiAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTsKICAgIHZhciB0OwoKICAgIC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aAogICAgaWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkgewogICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsOwogICAgICB0LnNoaWZ0KCk7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gbnVsbDsKICAgICAgcGFydHMucGFzc3dvcmQgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKICBVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHBhcnRzLnByb3RvY29sICsgJzonOwogICAgfQoKICAgIGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICcvLyc7CiAgICB9CgogICAgdCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykgewogICAgICBpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdCArPSAnLyc7CiAgICAgIH0KCiAgICAgIHQgKz0gcGFydHMucGF0aDsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkgewogICAgICB0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5OwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7CiAgICAgIHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7CiAgICB9CiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICByZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7CiAgfTsKICBVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy51c2VybmFtZSkgewogICAgICB0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpOwogICAgfQoKICAgIGlmIChwYXJ0cy5wYXNzd29yZCkgewogICAgICB0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpOwogICAgfQoKICAgIGlmICh0KSB7CiAgICAgIHQgKz0gJ0AnOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIGRvbid0IGFwcGVuZCAiPSIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb24KICAgIHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpOwogIH07CgogIFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dOwogICAgICB9CgogICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSBbdmFsdWVdOwogICAgICB9CgogICAgICBkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICBzd2l0Y2ggKGdldFR5cGUobmFtZSkpIHsKICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpKSB7CiAgICAgICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSAmJiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCB2YWx1ZSkpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGNhc2UgJ09iamVjdCc6CiAgICAgICAgZm9yICh2YXIgX2tleSBpbiBuYW1lKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwgX2tleSkpIHsKICAgICAgICAgICAgaWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwgX2tleSwgbmFtZVtfa2V5XSkpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHsKICAgICAgY2FzZSAnVW5kZWZpbmVkJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSkKICAgICAgICByZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7CgogICAgICBjYXNlICdCb29sZWFuJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5CiAgICAgICAgdmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBfYm9vbHk7CgogICAgICBjYXNlICdGdW5jdGlvbic6CiAgICAgICAgLy8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uCiAgICAgICAgcmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7CgogICAgICBjYXNlICdBcnJheSc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDsKICAgICAgICByZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnTnVtYmVyJzoKICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7CiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpOwogICAgfQogIH07CgoKICBVUkkuam9pblBhdGhzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQgPSBbXTsKICAgIHZhciBzZWdtZW50cyA9IFtdOwogICAgdmFyIG5vbkVtcHR5U2VnbWVudHMgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJJKGFyZ3VtZW50c1tpXSk7CiAgICAgIGlucHV0LnB1c2godXJsKTsKICAgICAgdmFyIF9zZWdtZW50cyA9IHVybC5zZWdtZW50KCk7CiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgX3NlZ21lbnRzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBfc2VnbWVudHNbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKF9zZWdtZW50c1tzXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3NlZ21lbnRzW3NdKSB7CiAgICAgICAgICBub25FbXB0eVNlZ21lbnRzKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFzZWdtZW50cy5sZW5ndGggfHwgIW5vbkVtcHR5U2VnbWVudHMpIHsKICAgICAgcmV0dXJuIG5ldyBVUkkoJycpOwogICAgfQoKICAgIHZhciB1cmkgPSBuZXcgVVJJKCcnKS5zZWdtZW50KHNlZ21lbnRzKTsKCiAgICBpZiAoaW5wdXRbMF0ucGF0aCgpID09PSAnJyB8fCBpbnB1dFswXS5wYXRoKCkuc2xpY2UoMCwgMSkgPT09ICcvJykgewogICAgICB1cmkucGF0aCgnLycgKyB1cmkucGF0aCgpKTsKICAgIH0KCiAgICByZXR1cm4gdXJpLm5vcm1hbGl6ZSgpOwogIH07CgogIFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7CiAgICB2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDsKICAgIHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kOwogICAgdmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07CiAgICB2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVsiJ10/JC9pOwoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTsKICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlSHRtbCkgewogICAgICAgIC8vIGF0dHJpYnV0KGU9WyInXT8kKQogICAgICAgIHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTsKICAgICAgICBpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpOwogICAgICB2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpOwogICAgICBpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7CiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTsKICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpOwogICAgICBfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoOwogICAgfQoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgcmV0dXJuIHN0cmluZzsKICB9OwoKICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHsKICAgIC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KQogICAgLy8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanMKCiAgICBpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAvLyB0ZXN0IHB1bnljb2RlCiAgICAgIGlmICghcHVueWNvZGUpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpOwogICAgICB9CgogICAgICBpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub0NvbmZsaWN0CiAgVVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHsKICAgIGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7CiAgICAgIHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5jbG9uZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBVUkkodGhpcyk7CiAgfTsKCiAgcC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCgogIGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDsKICB9OwogIHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7CiAgfTsKCiAgcC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwogICAgICByZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nOwogICAgICB9CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnBhdGggPSBwLnBhdGhuYW1lOwogIHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7CiAgICB2YXIgaXAgPSBmYWxzZTsKICAgIHZhciBpcDQgPSBmYWxzZTsKICAgIHZhciBpcDYgPSBmYWxzZTsKICAgIHZhciBuYW1lID0gZmFsc2U7CiAgICB2YXIgc2xkID0gZmFsc2U7CiAgICB2YXIgaWRuID0gZmFsc2U7CiAgICB2YXIgcHVueWNvZGUgPSBmYWxzZTsKICAgIHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJlbGF0aXZlID0gZmFsc2U7CiAgICAgIGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcCA9IGlwNCB8fCBpcDY7CiAgICAgIG5hbWUgPSAhaXA7CiAgICAgIHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgcHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgfQoKICAgIHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3JlbGF0aXZlJzoKICAgICAgICByZXR1cm4gcmVsYXRpdmU7CgogICAgICBjYXNlICdhYnNvbHV0ZSc6CiAgICAgICAgcmV0dXJuICFyZWxhdGl2ZTsKCiAgICAgIC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uCiAgICAgIGNhc2UgJ2RvbWFpbic6CiAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgIHJldHVybiBuYW1lOwoKICAgICAgY2FzZSAnc2xkJzoKICAgICAgICByZXR1cm4gc2xkOwoKICAgICAgY2FzZSAnaXAnOgogICAgICAgIHJldHVybiBpcDsKCiAgICAgIGNhc2UgJ2lwNCc6CiAgICAgIGNhc2UgJ2lwdjQnOgogICAgICBjYXNlICdpbmV0NCc6CiAgICAgICAgcmV0dXJuIGlwNDsKCiAgICAgIGNhc2UgJ2lwNic6CiAgICAgIGNhc2UgJ2lwdjYnOgogICAgICBjYXNlICdpbmV0Nic6CiAgICAgICAgcmV0dXJuIGlwNjsKCiAgICAgIGNhc2UgJ2lkbic6CiAgICAgICAgcmV0dXJuIGlkbjsKCiAgICAgIGNhc2UgJ3VybCc6CiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICd1cm4nOgogICAgICAgIHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3B1bnljb2RlJzoKICAgICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLy8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb24KICB2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDsKICB2YXIgX3BvcnQgPSBwLnBvcnQ7CiAgdmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7CgogIHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodikgewogICAgICAgIC8vIGFjY2VwdCB0cmFpbGluZyA6Ly8KICAgICAgICB2ID0gdi5yZXBsYWNlKC86KFwvXC8pPyQvLCAnJyk7CgogICAgICAgIGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblwndCBzdGFydCB3aXRoIFtBLVpdJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5zY2hlbWUgPSBwLnByb3RvY29sOwogIHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHggPSB7fTsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHYgPSB4Lmhvc3RuYW1lOwogICAgfQogICAgcmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBjb21wb3VuZCBhY2Nlc3NvcnMKICBwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7CiAgICAgIHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpOwogICAgICBpZiAoIWF1dGhvcml0eSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9yaWdpbiA9IFVSSSh2KTsKICAgICAgdGhpcwogICAgICAgIC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSkKICAgICAgICAuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSkKICAgICAgICAuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTsKICAgICAgcmV0dXJuIHQgPyB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykgewogICAgICAgIHYgKz0gJ0AnOwogICAgICB9CgogICAgICBVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAid3d3IiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDsKICAgICAgdmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpOwoKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7CiAgICAgICAgdiArPSAnLic7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAiZXhhbXBsZS5vcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpbgogICAgICB2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cLi9nKTsKICAgICAgaWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lOwogICAgICB9CgogICAgICAvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7CiAgICAgIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyByZXR1cm4gIm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwoKICAgICAgaWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICByZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkOwogICAgICB9CgogICAgICByZXR1cm4gdGxkOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpOwogICAgICB9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkgewogICAgICAgIGlmIChTTEQgJiYgU0xELmlzKHYpKSB7CiAgICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJy8nOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzOwoKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoOwogICAgICB2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTsKCiAgICAgIC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2gKICAgICAgaWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB2ID0gJy8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgICAgIHYgPSAnLycgKyB2OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2gKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7CiAgICAgICAgdiArPSAnLyc7CiAgICAgIH0KCiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7CgogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcvJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgaWYgKHYubWF0Y2goL1wuP1wvLykpIHsKICAgICAgICBtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpOwogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CgogICAgICBpZiAobXV0YXRlZERpcmVjdG9yeSkgewogICAgICAgIHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpOwogICAgICB2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHMsIHJlczsKCiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLikKICAgICAgcyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7CiAgICAgIHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7CiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcuJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgfSBlbHNlIGlmICghdikgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpOwogICAgICB9CgogICAgICBpZiAocmVwbGFjZSkgewogICAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZAogICAgICAgID8gc2VnbWVudHMKICAgICAgICA6IHNlZ21lbnRzW3NlZ21lbnRdOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgIH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChpc0FycmF5KHYpKSB7CiAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXkKICAgICAgICBmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkgewogICAgICAgICAgICBzZWdtZW50cy5wb3AoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgaWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7CiAgICAgICAgICAvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuCiAgICAgICAgICAvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXIKICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHYpIHsKICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTsKICAgICAgfQogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy51bnNoaWZ0KCcnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpOwogIH07CiAgcC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2W2ldID0gVVJJLmVuY29kZSh2W2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogIH07CgogIC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZwogIHZhciBxID0gcC5xdWVyeTsKICBwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB0cnVlKSB7CiAgICAgIHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpOwogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpOwogICAgfQogIH07CiAgcC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdGhpcwogICAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAgIC5idWlsZCgpOwogICAgfQoKICAgIHJldHVybiB0aGlzCiAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKQogICAgICAubm9ybWFsaXplUG9ydChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkgewogICAgdmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDsKICAgIGlmICghX3BhdGgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTsKCiAgICB2YXIgX3dhc19yZWxhdGl2ZTsKICAgIHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJzsKICAgIHZhciBfcGFyZW50LCBfcG9zOwoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocwogICAgaWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIF93YXNfcmVsYXRpdmUgPSB0cnVlOwogICAgICBfcGF0aCA9ICcvJyArIF9wYXRoOwogICAgfQoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcykKICAgIGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykgewogICAgICBfcGF0aCArPSAnLyc7CiAgICB9CgogICAgLy8gcmVzb2x2ZSBzaW1wbGVzCiAgICBfcGF0aCA9IF9wYXRoCiAgICAgIC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykKICAgICAgLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwoKICAgIC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50cwogICAgaWYgKF93YXNfcmVsYXRpdmUpIHsKICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFwuXC5cLykrLykgfHwgJyc7CiAgICAgIGlmIChfbGVhZGluZ1BhcmVudHMpIHsKICAgICAgICBfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXNvbHZlIHBhcmVudHMKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIF9wYXJlbnQgPSBfcGF0aC5zZWFyY2goL1wvXC5cLihcL3wkKS8pOwogICAgICBpZiAoX3BhcmVudCA9PT0gLTEpIHsKICAgICAgICAvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlCiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkgewogICAgICAgIC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXQKICAgICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgX3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpOwogICAgICBpZiAoX3BvcyA9PT0gLTEpIHsKICAgICAgICBfcG9zID0gX3BhcmVudDsKICAgICAgfQogICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIHJlbGF0aXZlCiAgICBpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgIF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDsKICBwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7CiAgICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5OwogIHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7CgogIHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmkgPSB0aGlzLmNsb25lKCk7CiAgICAvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NgogICAgdXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7CiAgICB2YXIgdCA9ICcnOwogICAgaWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkgewogICAgICAgIHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpOwogICAgICAgIGlmICh1cmkuX3BhcnRzLnBvcnQpIHsKICAgICAgICAgIHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0ICs9IHVyaS5ob3N0KCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHQgKz0gJy8nOwogICAgfQoKICAgIHQgKz0gdXJpLnBhdGgodHJ1ZSk7CiAgICBpZiAodXJpLl9wYXJ0cy5xdWVyeSkgewogICAgICB2YXIgcSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7CiAgICAgICAgcSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CgogICAgICAgIGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwogICAgICAgIH0KICAgICAgfQogICAgICB0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpOwogICAgcmV0dXJuIHQ7CiAgfTsKCiAgLy8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzCiAgcC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTsKICAgIHZhciBiYXNlZGlyLCBpLCBwOwoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgICB9CgogICAgZm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7CiAgICAgIHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTsKICAgIH0KCiAgICByZXNvbHZlZC5idWlsZCgpOwogICAgcmV0dXJuIHJlc29sdmVkOwogIH07CiAgcC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoOwoKICAgIGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTsKICAgIHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7CiAgICBiYXNlUGFydHMgPSBiYXNlLl9wYXJ0czsKICAgIHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTsKICAgIGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7CgogICAgaWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7CiAgICB9CgogICAgaWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkgewogICAgICByZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDsKICAgICAgcmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucGF0aCA9ICcnOwogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoCiAgICBjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTsKCiAgICAvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguCiAgICBpZiAoIWNvbW1vbikgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICB2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoCiAgICAgIC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkKICAgICAgLnJlcGxhY2UoL1teXC9dKiQvLCAnJykKICAgICAgLnJlcGxhY2UoLy4qP1wvL2csICcuLi8nKTsKCiAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIG9uZSA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciB0d28gPSBuZXcgVVJJKHVyaSk7CiAgICB2YXIgb25lX21hcCA9IHt9OwogICAgdmFyIHR3b19tYXAgPSB7fTsKICAgIHZhciBjaGVja2VkID0ge307CiAgICB2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTsKCiAgICBvbmUubm9ybWFsaXplKCk7CiAgICB0d28ubm9ybWFsaXplKCk7CgogICAgLy8gZXhhY3QgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeSBzdHJpbmcKICAgIG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpOwogICAgdHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7CiAgICBvbmUucXVlcnkoJycpOwogICAgdHdvLnF1ZXJ5KCcnKTsKCiAgICAvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZAogICAgaWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgdHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgZm9yIChrZXkgaW4gb25lX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkgewogICAgICAgIGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7CiAgICAgICAgICBpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tlZFtrZXldID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIGZvciAoa2V5IGluIHR3b19tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRba2V5XSkgewogICAgICAgICAgLy8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIHN0YXRlCiAgcC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSkpOwoKfSx7Ii4vSVB2NiI6MiwiLi9TZWNvbmRMZXZlbERvbWFpbnMiOjMsIi4vcHVueWNvZGUiOjV9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMCBieSBAbWF0aGlhcyAqLwo7KGZ1bmN0aW9uKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmCgkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCXZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYKCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCXZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoCgkJZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCgkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkgKiBAbmFtZSBwdW55Y29kZQoJICogQHR5cGUgT2JqZWN0CgkgKi8KCXZhciBwdW55Y29kZSwKCgkvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovCgltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJdE1pbiA9IDEsCgl0TWF4ID0gMjYsCglza2V3ID0gMzgsCglkYW1wID0gNzAwLAoJaW5pdGlhbEJpYXMgPSA3MiwKCWluaXRpYWxOID0gMTI4LCAvLyAweDgwCglkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCglyZWdleFB1bnljb2RlID0gL154bi0tLywKCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgkvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCgliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCglmbG9vciA9IE1hdGguZmxvb3IsCglzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCWtleTsKCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKioKCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJICovCglmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCX0KCgkvKioKCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCSAqIGl0ZW0uCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCXZhciByZXN1bHQgPSBbXTsKCQl3aGlsZSAobGVuZ3RoLS0pIHsKCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX0KCgkvKioKCSAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbAoJICogYWRkcmVzc2VzLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCSAqIGNoYXJhY3Rlci4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrCgkgKiBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHsKCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsKCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQlyZXN1bHQgPSBwYXJ0c1swXSArICdAJzsKCQkJc3RyaW5nID0gcGFydHNbMV07CgkJfQoJCS8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCXZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCSAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoCgkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCSAqIG1hdGNoaW5nIFVURi0xNi4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYAoJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZGVjb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJICovCglmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgY291bnRlciA9IDAsCgkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJICAgIHZhbHVlLAoJCSAgICBleHRyYTsKCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCWlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGVuY29kZQoJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCSAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCXZhciBvdXRwdXQgPSAnJzsKCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCX0KCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CgkJCXJldHVybiBvdXRwdXQ7CgkJfSkuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW4KCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJICovCglmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDIyOwoJCX0KCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gNjU7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA5NzsKCQl9CgkJcmV0dXJuIGJhc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3IKCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCSAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkCgkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJICovCglmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCXJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7Cgl9CgoJLyoqCgkgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLgoJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCSAqIEBwcml2YXRlCgkgKi8KCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCXZhciBrID0gMDsKCQlkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwoJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQlkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7CgkJfQoJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCSAqIHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJLy8gRG9uJ3QgdXNlIFVDUy0yCgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkgICAgb3V0LAoJCSAgICBpID0gMCwKCQkgICAgbiA9IGluaXRpYWxOLAoJCSAgICBiaWFzID0gaW5pdGlhbEJpYXMsCgkJICAgIGJhc2ljLAoJCSAgICBqLAoJCSAgICBpbmRleCwKCQkgICAgb2xkaSwKCQkgICAgdywKCQkgICAgaywKCQkgICAgZGlnaXQsCgkJICAgIHQsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBiYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7CgoJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJLy8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXIKCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJZm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoKCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQl9CgoJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgoJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQl9CgoJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAoJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJaSAlPSBvdXQ7CgoJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJICAgIGlucHV0TGVuZ3RoLAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCSAgICBiYXNlTWludXNULAoJCSAgICBxTWludXNUOwoKCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTsKCgkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkvLyBJbml0aWFsaXplIHRoZSBzdGF0ZQoJCW4gPSBpbml0aWFsTjsKCQlkZWx0YSA9IDA7CgkJYmlhcyA9IGluaXRpYWxCaWFzOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCX0KCQl9CgoJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDsKCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCWlmIChiYXNpY0xlbmd0aCkgewoJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCX0KCgkJLy8gTWFpbiBlbmNvZGluZyBsb29wOgoJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCS8vIGxhcmdlciBvbmU6CgkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CgkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCX0KCQkJfQoKCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQloYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CgkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJbiA9IG07CgoJCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCS8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCgkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJaWYgKHEgPCB0KSB7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQlxTWludXNUID0gcSAtIHQ7CgkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQlzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpCgkJCQkJCSk7CgkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJfQoKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQlkZWx0YSA9IDA7CgkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCX0KCQkJfQoKCQkJKytkZWx0YTsKCQkJKytuOwoKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCSAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgoJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJICogc3RyaW5nLgoJICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCSAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpbgoJICogQVNDSUkuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhCgkgKiBVbmljb2RlIHN0cmluZy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCSAqIGVtYWlsIGFkZHJlc3MuCgkgKi8KCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCglwdW55Y29kZSA9IHsKCQkvKioKCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgU3RyaW5nCgkJICovCgkJJ3ZlcnNpb24nOiAnMS4zLjInLAoJCS8qKgoJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQkndWNzMic6IHsKCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCSdlbmNvZGUnOiB1Y3MyZW5jb2RlCgkJfSwKCQknZGVjb2RlJzogZGVjb2RlLAoJCSdlbmNvZGUnOiBlbmNvZGUsCgkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCX07CgoJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCS8vIGxpa2UgdGhlIGZvbGxvd2luZzoKCWlmICgKCQl0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYKCQl0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJgoJCWRlZmluZS5hbWQKCSkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHB1bnljb2RlOwoJCX0pOwoJfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCS8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCsKCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJfSBlbHNlIHsKCQkJLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJfQoJCX0KCX0gZWxzZSB7CgkJLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgoJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCX0KCn0odGhpcykpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gYWN0aXZhdGU7Cgp2YXIgX1N5bmNoZXIgPSByZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTsKCnZhciBfdXJpanMgPSByZXF1aXJlKCd1cmlqcycpOwoKdmFyIF91cmlqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmlqcyk7Cgp2YXIgX3Bvc2l0aW9uID0gcmVxdWlyZSgnLi9wb3NpdGlvbicpOwoKdmFyIF9wb3NpdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NpdGlvbik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKdmFyIExvY2F0aW9uSHlwZXJ0eSA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogZnVuY3Rpb24gZ2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChwb3NpdGlvbikgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocG9zaXRpb24pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzdGFydFBvc2l0aW9uQnJvYWRjYXN0OiBmdW5jdGlvbiBzdGFydFBvc2l0aW9uQnJvYWRjYXN0KHN1YnNjcmliZXJzKSB7CiAgICAgICAgdGhpcy5fc3luY2hlci5jcmVhdGUodGhpcy5fb2JqZWN0RGVzY1VSTCwgc3Vic2NyaWJlcnMsICgwLCBfcG9zaXRpb24yLmRlZmF1bHQpKCkpLnRoZW4oZnVuY3Rpb24gKHJlcG9ydGVyKSB7CiAgICAgICAgICAgIHJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmFjY2VwdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgICAgICAgICByZXBvcnRlci5kYXRhLnZhbHVlcyA9IFt7IG5hbWU6ICdsYXRpdHVkZScsIHVuaXQ6ICdsYXQnLCB2YWx1ZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlIH0sIHsgbmFtZTogJ2xvbmdpdHVkZScsIHVuaXQ6ICdsb24nLCB2YWx1ZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9XTsKICAgICAgICAgICAgICAgIHJlcG9ydGVyLmRhdGEudGltZSA9IHBvc2l0aW9uLnRpbWVzdGFtcDsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9Cn07Cgp2YXIgTG9jYXRpb25IeXBlcnR5RmFjdG9yeSA9IGZ1bmN0aW9uIExvY2F0aW9uSHlwZXJ0eUZhY3RvcnkoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpIHsKICAgIHZhciB1cmkgPSBuZXcgX3VyaWpzMi5kZWZhdWx0KGh5cGVydHlVUkwpOwogICAgTG9jYXRpb25IeXBlcnR5Ll9vYmplY3REZXNjVVJMID0gJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyB1cmkuaG9zdG5hbWUoKSArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db250ZXh0JzsKICAgIExvY2F0aW9uSHlwZXJ0eS5fc3luY2hlciA9IG5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKTsKCiAgICByZXR1cm4gTG9jYXRpb25IeXBlcnR5Owp9OwoKZnVuY3Rpb24gYWN0aXZhdGUoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpIHsKICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogJ0xvY2F0aW9uJywKICAgICAgICBpbnN0YW5jZTogTG9jYXRpb25IeXBlcnR5RmFjdG9yeShoeXBlcnR5VVJMLCBidXMsIGNvbmZpZykKICAgIH07Cn0KbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi9wb3NpdGlvbiI6Nywic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoxLCJ1cmlqcyI6NH1dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gUG9zaXRpb25GYWN0b3J5Owp2YXIgTG9jYXRpb25PYmplY3QgPSB7fTsKCmZ1bmN0aW9uIGdldElkKCkgewogICAgcmV0dXJuICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTsKfQoKZnVuY3Rpb24gUG9zaXRpb25GYWN0b3J5KCkgewogICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsKICAgICAgICBzY2hlbWE6ICJjb250ZXh0IiwKICAgICAgICBpZDogZ2V0SWQoKSwKICAgICAgICB0eXBlOiAibG9jYXRpb24iLAogICAgICAgIHRpbWU6ICIwIiwKICAgICAgICB2YWx1ZXM6IFt7CiAgICAgICAgICAgIG5hbWU6ICJsYXRpdHVkZSIsCiAgICAgICAgICAgIHVuaXQ6ICJsYXQiLAogICAgICAgICAgICB2YWx1ZTogMAogICAgICAgIH0sIHsKICAgICAgICAgICAgbmFtZTogImxvbmdpdHVkZSIsCiAgICAgICAgICAgIHVuaXQ6ICJsYXQiLAogICAgICAgICAgICB2YWx1ZTogMAogICAgICAgIH1dCiAgICB9KTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCn0se31dfSx7fSxbNl0pKDYpCn0pOw==",
      "sourceCodeClassname": "Location",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10009,
    "version": "0.1",
    "description": "Description of Location",
    "language": "Javascript",
    "objectName": "Location",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "NotificationsObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgQXVnIDEwIDIwMTYgMTU6MjU6NDkgR01UKzAxMDAgKFdFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixvKXtmdW5jdGlvbiBuKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmYSlyZXR1cm4gYShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBuKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbyl9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8by5sZW5ndGg7cysrKW4ob1tzXSk7cmV0dXJuIG59KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG89InBlcmZvcm1DaGFuZ2UiLG49Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGEoZSl7dmFyIHQ9YXJndW1lbnRzLHM9YVtuXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbbl0uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW25dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtvXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbbl0uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxjPWRbbl0uYXBwbHkodGhpcyxzKTtyZXR1cm4oYy5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW29dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDpjfX0sdGhpcyksY319O2Zvcih2YXIgYyBpbiBzKXNbY11bbl09dC5wcm90b3R5cGVbY10sdC5wcm90b3R5cGVbY109c1tjXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjIwfV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIxfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjJ9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyM31dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjI0fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI1fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIjoyN31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG8pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG8mJmUodCxvKSx0fX0oKX0seyIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjR9XSwxNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbj1lKCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYz1vKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBhKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbz0oMCxjWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09byl7dmFyIG49KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW4/dm9pZCAwOmEobix0LHIpfWlmKCJ2YWx1ZSJpbiBvKXJldHVybiBvLnZhbHVlO3ZhciBzPW8uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiLi4vY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjo1LCIuLi9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9byhuKSxzPWUoIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSIpLGM9byhzKSxhPWUoIi4uL2hlbHBlcnMvdHlwZW9mIiksdT1vKGEpO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCx1WyJkZWZhdWx0Il0pKHQpKSk7ZS5wcm90b3R5cGU9KDAsY1siZGVmYXVsdCJdKSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGlbImRlZmF1bHQiXT8oMCxpWyJkZWZhdWx0Il0pKGUsdCk6ZS5fX3Byb3RvX189dCl9fSx7Ii4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6OCwiLi4vaGVscGVycy90eXBlb2YiOjE3fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG49ZSgiLi4vaGVscGVycy90eXBlb2YiKSxpPW8obik7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7Ii4uL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBuPWUoIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksaT1vKG4pLHM9ZSgiLi4vY29yZS1qcy9zeW1ib2wiKSxjPW8ocyksYT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09dHlwZW9mIGlbImRlZmF1bHQiXT9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOnR5cGVvZiBlfTtyWyJkZWZhdWx0Il09ImZ1bmN0aW9uIj09dHlwZW9mIGNbImRlZmF1bHQiXSYmInN5bWJvbCI9PT1hKGlbImRlZmF1bHQiXSk/ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjphKGUpfX0seyIuLi9jb3JlLWpzL3N5bWJvbCI6MTAsIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG49by5KU09OfHwoby5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3RyaW5naWZ5LmFwcGx5KG4sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzV9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiKTt2YXIgbz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSI6MTAwfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Iik7dmFyIG89ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBvLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOjEwMX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpO3ZhciBvPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoxMDJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjoxMDN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjEwNH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjEwNX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6MTA3LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6MTA5LCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOjExMCwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiOjExMX1dLDI3OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX3drcy1leHQiKS5mKCJpdGVyYXRvciIpfSx7Ii4uLy4uL21vZHVsZXMvX3drcy1leHQiOjk2LCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDMwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1vJiZvIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW8oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjU0fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1vKHQpLHU9bihhLmxlbmd0aCksbD1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1Pmw7KWlmKGM9YVtsKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKGV8fGwgaW4gYSkmJmFbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo4OCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLWxlbmd0aCI6OTF9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2NvZiIpLG49ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09byhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbikpP3I6aT9vKHQpOiJPYmplY3QiPT0oYz1vKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MzQsIi4vX3drcyI6OTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gby5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW8pfSx7fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihvKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbyl7cmV0dXJuIGUuY2FsbCh0LHIsbyl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixvLG4pe3JldHVybiBlLmNhbGwodCxyLG8sbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjI4fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0M31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW8obikmJm8obi5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/bi5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMiKSxuPWUoIi4vX29iamVjdC1nb3BzIiksaT1lKCIuL19vYmplY3QtcGllIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSkscj1uLmY7aWYocilmb3IodmFyIHMsYz1yKGUpLGE9aS5mLHU9MDtjLmxlbmd0aD51OylhLmNhbGwoZSxzPWNbdSsrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LHsiLi9fb2JqZWN0LWdvcHMiOjcxLCIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1waWUiOjc1fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2N0eCIpLHM9ZSgiLi9faGlkZSIpLGM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIHUsbCxmLGQ9ZSZhLkYsXz1lJmEuRyxwPWUmYS5TLGI9ZSZhLlAsaD1lJmEuQix5PWUmYS5XLHY9Xz9uOm5bdF18fChuW3RdPXt9KSxqPXZbY10sbT1fP286cD9vW3RdOihvW3RdfHx7fSlbY107XyYmKHI9dCk7Zm9yKHUgaW4gcilsPSFkJiZtJiZ2b2lkIDAhPT1tW3VdLGwmJnUgaW4gdnx8KGY9bD9tW3VdOnJbdV0sdlt1XT1fJiYiZnVuY3Rpb24iIT10eXBlb2YgbVt1XT9yW3VdOmgmJmw/aShmLG8pOnkmJm1bdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG8pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG8pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRbY109ZVtjXSx0fShmKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixiJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW3VdPWYsZSZhLlImJmomJiFqW3VdJiZzKGosdSxmKSkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLGEuVT02NCxhLlI9MTI4LHQuZXhwb3J0cz1hfSx7Ii4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19nbG9iYWwiOjQ1LCIuL19oaWRlIjo0N31dLDQzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jdHgiKSxuPWUoIi4vX2l0ZXItY2FsbCIpLGk9ZSgiLi9faXMtYXJyYXktaXRlciIpLHM9ZSgiLi9fYW4tb2JqZWN0IiksYz1lKCIuL190by1sZW5ndGgiKSxhPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksdT17fSxsPXt9LHI9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYsZCl7dmFyIF8scCxiLGgseT1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmEoZSksdj1vKHIsZix0PzI6MSksaj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB5KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoeSkpe2ZvcihfPWMoZS5sZW5ndGgpO18+ajtqKyspaWYoaD10P3YocyhwPWVbal0pWzBdLHBbMV0pOnYoZVtqXSksaD09PXV8fGg9PT1sKXJldHVybiBofWVsc2UgZm9yKGI9eS5jYWxsKGUpOyEocD1iLm5leHQoKSkuZG9uZTspaWYoaD1uKGIsdixwLnZhbHVlLHQpLGg9PT11fHxoPT09bClyZXR1cm4gaH07ci5CUkVBSz11LHIuUkVUVVJOPWx9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtYXJyYXktaXRlciI6NTIsIi4vX2l0ZXItY2FsbCI6NTUsIi4vX3RvLWxlbmd0aCI6OTEsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo5OH1dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG89dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW8pfSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5jYWxsKGUsdCl9fSx7fV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19vYmplY3QtZHAiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uZihlLHQsbigxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19wcm9wZXJ0eS1kZXNjIjo3N31dLDQ4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjo0NX1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19kZXNjcmlwdG9ycyIpJiYhZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19mYWlscyI6NDN9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG89dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbz9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbz9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbz9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG8/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbz9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1vKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi9fY29mIjozNH1dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXRlcmF0b3JzIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihvLkFycmF5PT09ZXx8aVtuXT09PWUpfX0seyIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09byhlKX19LHsiLi9fY29mIjozNH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXt0cnl7cmV0dXJuIG4/dChvKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbyhzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjMxfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG49ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW8ocyx7bmV4dDpuKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjQ3LCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2xpYnJhcnkiKSxuPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGw9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vX29iamVjdC1ncG8iKSxkPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLF89IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsYj0ia2V5cyIsaD0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix2LGosbSxnKXt1KHIsdCx2KTt2YXIgdyxPLGsseD1mdW5jdGlvbihlKXtpZighXyYmZSBpbiBSKXJldHVybiBSW2VdO3N3aXRjaChlKXtjYXNlIGI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxDPXQrIiBJdGVyYXRvciIsRT1qPT1oLFM9ITEsUj1lLnByb3RvdHlwZSxUPVJbZF18fFJbcF18fGomJlJbal0sTT1UfHx4KGopLFA9aj9FP3goImVudHJpZXMiKTpNOnZvaWQgMCxBPSJBcnJheSI9PXQ/Ui5lbnRyaWVzfHxUOlQ7aWYoQSYmKGs9ZihBLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGwoayxDLCEwKSxvfHxjKGssZCl8fHMoayxkLHkpKSksRSYmVCYmVC5uYW1lIT09aCYmKFM9ITAsTT1mdW5jdGlvbigpe3JldHVybiBULmNhbGwodGhpcyl9KSxvJiYhZ3x8IV8mJiFTJiZSW2RdfHxzKFIsZCxNKSxhW3RdPU0sYVtDXT15LGopaWYodz17dmFsdWVzOkU/TTp4KGgpLGtleXM6bT9NOngoYiksZW50cmllczpQfSxnKWZvcihPIGluIHcpTyBpbiBSfHxpKFIsTyx3W09dKTtlbHNlIG4obi5QK24uRiooX3x8UyksdCx3KTtyZXR1cm4gd319LHsiLi9fZXhwb3J0Ijo0MiwiLi9faGFzIjo0NiwiLi9faGlkZSI6NDcsIi4vX2l0ZXItY3JlYXRlIjo1NiwiLi9faXRlcmF0b3JzIjo2MCwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1ncG8iOjcyLCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbj0hMTt0cnl7dmFyIGk9WzddW29dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtuPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbilyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtvXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjk3fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1rZXlzIiksbj1lKCIuL190by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9bihlKSxzPW8oaSksYz1zLmxlbmd0aCxhPTA7Yz5hOylpZihpW3I9c1thKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fdG8taW9iamVjdCI6OTB9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdWlkIikoIm1ldGEiKSxuPWUoIi4vX2lzLW9iamVjdCIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19vYmplY3QtZHAiKS5mLGM9MCxhPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHU9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gYShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7cyhlLG8se3ZhbHVlOntpOiJPIisgKytjLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxvKSl7aWYoIWEoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW29dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG8pKXtpZighYShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW29dLnd9LF89ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJnAuTkVFRCYmYShlKSYmIWkoZSxvKSYmbChlKSxlfSxwPXQuZXhwb3J0cz17S0VZOm8sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpkLG9uRnJlZXplOl99fSx7Ii4vX2ZhaWxzIjo0MywiLi9faGFzIjo0NiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fdWlkIjo5NH1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL190YXNrIikuc2V0LGk9by5NdXRhdGlvbk9ic2VydmVyfHxvLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1vLnByb2Nlc3MsYz1vLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG8sbjtmb3IoYSYmKG89cy5kb21haW4pJiZvLmV4aXQoKTtlOyl7bj1lLmZuLGU9ZS5uZXh0O3RyeXtuKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbyYmby5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBsPSEwLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtmLmRhdGE9bD0hbH19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBkPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtkLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe24uY2FsbChvLHUpfTtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIG49e2ZuOm8sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9biksZXx8KGU9bixyKCkpLHQ9bn19fSx7Ii4vX2NvZiI6MzQsIi4vX2dsb2JhbCI6NDUsIi4vX3Rhc2siOjg3fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbz1pLmxlbmd0aCxuPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK24pLHQuY2xvc2UoKSx1PXQuRjtvLS07KWRlbGV0ZSB1W2FdW2lbb11dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1vKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm4ocix0KX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19odG1sIjo0OCwiLi9fb2JqZWN0LWRwcyI6NjcsIi4vX3NoYXJlZC1rZXkiOjgzfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG8oZSksdD1pKHQsITApLG8ociksbil0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtuKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOylvLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19vYmplY3Qta2V5cyI6NzR9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX29iamVjdC1waWUiKSxuPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31pZihjKGUsdCkpcmV0dXJuIG4oIW8uZi5jYWxsKGUsdCksZVt0XSl9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9faGFzIjo0NiwiLi9faWU4LWRvbS1kZWZpbmUiOjQ5LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3RvLWlvYmplY3QiOjkwLCIuL190by1wcmltaXRpdmUiOjkzfV0sNjk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pb2JqZWN0Iiksbj1lKCIuL19vYmplY3QtZ29wbiIpLmYsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG4oZSl9Y2F0Y2godCl7cmV0dXJuIHMuc2xpY2UoKX19O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2MoZSk6bihvKGUpKX19LHsiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL190by1pb2JqZWN0Ijo5MH1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3IuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDcxOltmdW5jdGlvbihlLHQscil7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LHt9XSw3MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hhcyIpLG49ZSgiLi9fdG8tb2JqZWN0IiksaT1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW4oZSksbyhlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0seyIuL19oYXMiOjQ2LCIuL19zaGFyZWQta2V5Ijo4MywiLi9fdG8tb2JqZWN0Ijo5Mn1dLDczOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faGFzIiksbj1lKCIuL190by1pb2JqZWN0IiksaT1lKCIuL19hcnJheS1pbmNsdWRlcyIpKCExKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSksYT0wLHU9W107Zm9yKHIgaW4gYylyIT1zJiZvKGMscikmJnUucHVzaChyKTtmb3IoO3QubGVuZ3RoPmE7KW8oYyxyPXRbYSsrXSkmJih+aSh1LHIpfHx1LnB1c2gocikpO3JldHVybiB1fX0seyIuL19hcnJheS1pbmNsdWRlcyI6MzIsIi4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1pb2JqZWN0Ijo5MH1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxuPWUoIi4vX2VudW0tYnVnLWtleXMiKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsbil9fSx7Ii4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCI6NzN9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3IuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0se31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShuLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbyhvLlMrby5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSx7Ii4vX2NvcmUiOjM1LCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDN9XSw3NzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2hpZGUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0KXImJmVbbl0/ZVtuXT10W25dOm8oZSxuLHRbbl0pO3JldHVybiBlfX0seyIuL19oaWRlIjo0N31dLDc5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2hpZGUiKX0seyIuL19oaWRlIjo0N31dLDgwOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9faXMtb2JqZWN0Iiksbj1lKCIuL19hbi1vYmplY3QiKSxpPWZ1bmN0aW9uKGUsdCl7aWYobihlKSwhbyh0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixvKXt0cnl7bz1lKCIuL19jdHgiKShGdW5jdGlvbi5jYWxsLGUoIi4vX29iamVjdC1nb3BkIikuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbyh0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChuKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsdCkscj9lLl9fcHJvdG9fXz10Om8oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWdvcGQiOjY4fV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi9fZ2xvYmFsIiksbj1lKCIuL19jb3JlIiksaT1lKCIuL19vYmplY3QtZHAiKSxzPWUoIi4vX2Rlc2NyaXB0b3JzIiksYz1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgbltlXT9uW2VdOm9bZV07cyYmdCYmIXRbY10mJmkuZih0LGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi9fY29yZSI6MzUsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZ2xvYmFsIjo0NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fb2JqZWN0LWRwIikuZixuPWUoIi4vX2hhcyIpLGk9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbihlPXI/ZTplLnByb3RvdHlwZSxpKSYmbyhlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vX2hhcyI6NDYsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcyI6OTd9XSw4MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3NoYXJlZCIpKCJrZXlzIiksbj1lKCIuL191aWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPW4oZSkpfX0seyIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19nbG9iYWwiKSxuPSJfX2NvcmUtanNfc2hhcmVkX18iLGk9b1tuXXx8KG9bbl09e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0seyIuL19nbG9iYWwiOjQ1fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19hbi1vYmplY3QiKSxuPWUoIi4vX2EtZnVuY3Rpb24iKSxpPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1vKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW8ocylbaV0pP3Q6bihyKX19LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLW9iamVjdCI6MzEsIi4vX3drcyI6OTd9XSw4NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX3RvLWludGVnZXIiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGkscyxjPVN0cmluZyhuKHQpKSxhPW8ociksdT1jLmxlbmd0aDtyZXR1cm4gYTwwfHxhPj11P2U/IiI6dm9pZCAwOihpPWMuY2hhckNvZGVBdChhKSxpPDU1Mjk2fHxpPjU2MzE5fHxhKzE9PT11fHwocz1jLmNoYXJDb2RlQXQoYSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9jLmNoYXJBdChhKTppOmU/Yy5zbGljZShhLGErMik6KGktNTUyOTY8PDEwKSsocy01NjMyMCkrNjU1MzYpfX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX3RvLWludGVnZXIiOjg5fV0sODc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbyxuLGkscz1lKCIuL19jdHgiKSxjPWUoIi4vX2ludm9rZSIpLGE9ZSgiLi9faHRtbCIpLHU9ZSgiLi9fZG9tLWNyZWF0ZSIpLGw9ZSgiLi9fZ2xvYmFsIiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxfPWwuY2xlYXJJbW1lZGlhdGUscD1sLk1lc3NhZ2VDaGFubmVsLGI9MCxoPXt9LHk9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsdj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGguaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWhbZV07ZGVsZXRlIGhbZV0sdCgpfX0saj1mdW5jdGlvbihlKXt2LmNhbGwoZS5kYXRhKX07ZCYmX3x8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGhbKytiXT1mdW5jdGlvbigpe2MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbyhiKSxifSxfPWZ1bmN0aW9uKGUpe2RlbGV0ZSBoW2VdfSwicHJvY2VzcyI9PWUoIi4vX2NvZiIpKGYpP289ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhzKHYsZSwxKSl9OnA/KG49bmV3IHAsaT1uLnBvcnQyLG4ucG9ydDEub25tZXNzYWdlPWosbz1zKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG89ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaiwhMSkpOm89eSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXthLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVt5XT1mdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyksdi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKHYsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OmQsY2xlYXI6X319LHsiLi9fY29mIjozNCwiLi9fY3R4IjozNiwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2dsb2JhbCI6NDUsIi4vX2h0bWwiOjQ4LCIuL19pbnZva2UiOjUwfV0sODg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1pbnRlZ2VyIiksbj1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW8oZSksZTwwP24oZSt0LDApOmkoZSx0KX19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bjpvKShlKX19LHt9XSw5MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2lvYmplY3QiKSxuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSx7Ii4vX2RlZmluZWQiOjM3LCIuL19pb2JqZWN0Ijo1MX1dLDkxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW50ZWdlciIpLG49TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/bihvKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vX3RvLWludGVnZXIiOjg5fV0sOTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobyhlKSl9fSx7Ii4vX2RlZmluZWQiOjM3fV0sOTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4gZTt2YXIgcixuO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbyhuPXIuY2FsbChlKSkpcmV0dXJuIG47aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW8obj1yLmNhbGwoZSkpKXJldHVybiBuO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSx7Ii4vX2lzLW9iamVjdCI6NTR9XSw5NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPTAsbj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK28rbikudG9TdHJpbmcoMzYpKX19LHt9XSw5NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9fY29yZSIpLGk9ZSgiLi9fbGlicmFyeSIpLHM9ZSgiLi9fd2tzLWV4dCIpLGM9ZSgiLi9fb2JqZWN0LWRwIikuZjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5TeW1ib2x8fChuLlN5bWJvbD1pP3t9Om8uU3ltYm9sfHx7fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxjKHQsZSx7dmFsdWU6cy5mKGUpfSl9fSx7Ii4vX2NvcmUiOjM1LCIuL19nbG9iYWwiOjQ1LCIuL19saWJyYXJ5Ijo2MiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzLWV4dCI6OTZ9XSw5NjpbZnVuY3Rpb24oZSx0LHIpe3IuZj1lKCIuL193a3MiKX0seyIuL193a3MiOjk3fV0sOTc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19zaGFyZWQiKSgid2tzIiksbj1lKCIuL191aWQiKSxpPWUoIi4vX2dsb2JhbCIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBpLGM9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfHwob1tlXT1zJiZpW2VdfHwocz9pOm4pKCJTeW1ib2wuIitlKSl9O2Muc3RvcmU9b30seyIuL19nbG9iYWwiOjQ1LCIuL19zaGFyZWQiOjg0LCIuL191aWQiOjk0fV0sOTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19jbGFzc29mIiksbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW25dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbyhlKV19fSx7Ii4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG49ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxuKDEpKToia2V5cyI9PXQ/bigwLHIpOiJ2YWx1ZXMiPT10P24oMCxlW3JdKTpuKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxvKCJrZXlzIiksbygidmFsdWVzIiksbygiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjksIi4vX2l0ZXItZGVmaW5lIjo1NywiLi9faXRlci1zdGVwIjo1OSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL19leHBvcnQiKTtvKG8uUywiT2JqZWN0Iix7Y3JlYXRlOmUoIi4vX29iamVjdC1jcmVhdGUiKX0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1jcmVhdGUiOjY1fV0sMTAxOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMrby5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19leHBvcnQiOjQyLCIuL19vYmplY3QtZHAiOjY2fV0sMTAyOltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fdG8taW9iamVjdCIpLG49ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuKG8oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1ncG8iKTtlKCIuL19vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3QtZ3BvIjo3MiwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1lKCIuL190by1vYmplY3QiKSxuPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1vYmplY3QiOjkyfV0sMTA1OltmdW5jdGlvbihlLHQscil7dmFyIG89ZSgiLi9fZXhwb3J0Iik7byhvLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vX3NldC1wcm90byIpLnNldH0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX3NldC1wcm90byI6ODB9XSwxMDY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG8sbixpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxsPWUoIi4vX2V4cG9ydCIpLGY9ZSgiLi9faXMtb2JqZWN0IiksZD0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxfPWUoIi4vX2FuLWluc3RhbmNlIikscD1lKCIuL19mb3Itb2YiKSxiPShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSxoPWUoIi4vX3Rhc2siKS5zZXQseT1lKCIuL19taWNyb3Rhc2siKSgpLHY9IlByb21pc2UiLGo9Yy5UeXBlRXJyb3IsbT1jLnByb2Nlc3MsZz1jW3ZdLG09Yy5wcm9jZXNzLHc9InByb2Nlc3MiPT11KG0pLE89ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1nLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShPLE8pfTtyZXR1cm4od3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihPKWluc3RhbmNlb2Ygcn1jYXRjaChvKXt9fSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1nJiZ0PT09aX0sQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFmKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sRT1mdW5jdGlvbihlKXtyZXR1cm4geChnLGUpP25ldyBTKGUpOm5ldyBuKGUpfSxTPW49ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxvKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IGooIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9b30pLHRoaXMucmVzb2x2ZT1kKHQpLHRoaXMucmVqZWN0PWQocil9LFI9ZnVuY3Rpb24oZSl7dHJ5e2UoKX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6dH19fSxUPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYzt5KGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWUuX3Ysbj0xPT1lLl9zLGk9MCxzPWZ1bmN0aW9uKHQpe3ZhciByLGkscz1uP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGE9dC5yZWplY3QsdT10LmRvbWFpbjt0cnl7cz8obnx8KDI9PWUuX2gmJkEoZSksZS5faD0xKSxzPT09ITA/cj1vOih1JiZ1LmVudGVyKCkscj1zKG8pLHUmJnUuZXhpdCgpKSxyPT09dC5wcm9taXNlP2EoaigiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1DKHIpKT9pLmNhbGwocixjLGEpOmMocikpOmEobyl9Y2F0Y2gobCl7YShsKX19O3IubGVuZ3RoPmk7KXMocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJk0oZSl9KX19LE09ZnVuY3Rpb24oZSl7aC5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdCxyLG8sbj1lLl92O2lmKFAoZSkmJih0PVIoZnVuY3Rpb24oKXt3P20uZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLGUpOihyPWMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246bn0pOihvPWMuY29uc29sZSkmJm8uZXJyb3ImJm8uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbil9KSxlLl9oPXd8fFAoZSk/MjoxKSxlLl9hPXZvaWQgMCx0KXRocm93IHQuZXJyb3J9KX0sUD1mdW5jdGlvbihlKXtpZigxPT1lLl9oKXJldHVybiExO2Zvcih2YXIgdCxyPWUuX2F8fGUuX2Msbz0wO3IubGVuZ3RoPm87KWlmKHQ9cltvKytdLHQuZmFpbHx8IVAodC5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0O3c/bS5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD1jLm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLFQodCwhMCkpfSxOPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IGooIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9QyhlKSk/eShmdW5jdGlvbigpe3ZhciBvPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYShOLG8sMSksYShELG8sMSkpfWNhdGNoKG4pe0QuY2FsbChvLG4pfX0pOihyLl92PWUsci5fcz0xLFQociwhMSkpfWNhdGNoKG8pe0QuY2FsbCh7X3c6cixfZDohMX0sbyl9fX07a3x8KGc9ZnVuY3Rpb24oZSl7Xyh0aGlzLGcsdiwiX2giKSxkKGUpLG8uY2FsbCh0aGlzKTt0cnl7ZShhKE4sdGhpcywxKSxhKEQsdGhpcywxKSl9Y2F0Y2godCl7RC5jYWxsKHRoaXMsdCl9fSxvPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG8ucHJvdG90eXBlPWUoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9RShiKHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj13P20uZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlQodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbzt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShOLGUsMSksdGhpcy5yZWplY3Q9YShELGUsMSl9KSxsKGwuRytsLlcrbC5GKiFrLHtQcm9taXNlOmd9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGcsdiksZSgiLi9fc2V0LXNwZWNpZXMiKSh2KSxpPWUoIi4vX2NvcmUiKVt2XSxsKGwuUytsLkYqIWssdix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PUUodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSwKdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IWspLHYse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1FKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqIShrJiZlKCIuL19pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe2cuYWxsKGUpWyJjYXRjaCJdKE8pfSkpLHYse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxvPXIucmVzb2x2ZSxuPXIucmVqZWN0LGk9UihmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7cChlLCExLGZ1bmN0aW9uKGUpe3ZhciBjPWkrKyxhPSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXthfHwoYT0hMCxyW2NdPWUsLS1zfHxvKHIpKX0sbil9KSwtLXN8fG8ocil9KTtyZXR1cm4gaSYmbihpLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbz1yLnJlamVjdCxuPVIoZnVuY3Rpb24oKXtwKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG8pfSl9KTtyZXR1cm4gbiYmbyhuLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLWluc3RhbmNlIjozMCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19leHBvcnQiOjQyLCIuL19mb3Itb2YiOjQ0LCIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0LCIuL19pdGVyLWRldGVjdCI6NTgsIi4vX2xpYnJhcnkiOjYyLCIuL19taWNyb3Rhc2siOjY0LCIuL19yZWRlZmluZS1hbGwiOjc4LCIuL19zZXQtcHJvdG8iOjgwLCIuL19zZXQtc3BlY2llcyI6ODEsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciI6ODUsIi4vX3Rhc2siOjg3LCIuL193a3MiOjk3fV0sMTA4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX3N0cmluZy1hdCIpKCEwKTtlKCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1vKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjU3LCIuL19zdHJpbmctYXQiOjg2fV0sMTA5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBvPWUoIi4vX2dsb2JhbCIpLG49ZSgiLi9faGFzIiksaT1lKCIuL19kZXNjcmlwdG9ycyIpLHM9ZSgiLi9fZXhwb3J0IiksYz1lKCIuL19yZWRlZmluZSIpLGE9ZSgiLi9fbWV0YSIpLktFWSx1PWUoIi4vX2ZhaWxzIiksbD1lKCIuL19zaGFyZWQiKSxmPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZD1lKCIuL191aWQiKSxfPWUoIi4vX3drcyIpLHA9ZSgiLi9fd2tzLWV4dCIpLGI9ZSgiLi9fd2tzLWRlZmluZSIpLGg9ZSgiLi9fa2V5b2YiKSx5PWUoIi4vX2VudW0ta2V5cyIpLHY9ZSgiLi9faXMtYXJyYXkiKSxqPWUoIi4vX2FuLW9iamVjdCIpLG09ZSgiLi9fdG8taW9iamVjdCIpLGc9ZSgiLi9fdG8tcHJpbWl0aXZlIiksdz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksTz1lKCIuL19vYmplY3QtY3JlYXRlIiksaz1lKCIuL19vYmplY3QtZ29wbi1leHQiKSx4PWUoIi4vX29iamVjdC1nb3BkIiksQz1lKCIuL19vYmplY3QtZHAiKSxFPWUoIi4vX29iamVjdC1rZXlzIiksUz14LmYsUj1DLmYsVD1rLmYsTT1vLlN5bWJvbCxQPW8uSlNPTixBPVAmJlAuc3RyaW5naWZ5LEQ9InByb3RvdHlwZSIsTj1fKCJfaGlkZGVuIiksTD1fKCJ0b1ByaW1pdGl2ZSIpLEY9e30ucHJvcGVydHlJc0VudW1lcmFibGUsST1sKCJzeW1ib2wtcmVnaXN0cnkiKSxVPWwoInN5bWJvbHMiKSx6PWwoIm9wLXN5bWJvbHMiKSxIPU9iamVjdFtEXSxWPSJmdW5jdGlvbiI9PXR5cGVvZiBNLEI9by5RT2JqZWN0LEo9IUJ8fCFCW0RdfHwhQltEXS5maW5kQ2hpbGQsVz1pJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oUih7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBSKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbz1TKEgsdCk7byYmZGVsZXRlIEhbdF0sUihlLHQsciksbyYmZSE9PUgmJlIoSCx0LG8pfTpSLFk9ZnVuY3Rpb24oZSl7dmFyIHQ9VVtlXT1PKE1bRF0pO3JldHVybiB0Ll9rPWUsdH0scT1WJiYic3ltYm9sIj09dHlwZW9mIE0uaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE19LEs9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09SCYmSyh6LHQsciksaihlKSx0PWcodCwhMCksaihyKSxuKFUsdCk/KHIuZW51bWVyYWJsZT8obihlLE4pJiZlW05dW3RdJiYoZVtOXVt0XT0hMSkscj1PKHIse2VudW1lcmFibGU6dygwLCExKX0pKToobihlLE4pfHxSKGUsTix3KDEse30pKSxlW05dW3RdPSEwKSxXKGUsdCxyKSk6UihlLHQscil9LEc9ZnVuY3Rpb24oZSx0KXtqKGUpO2Zvcih2YXIgcixvPXkodD1tKHQpKSxuPTAsaT1vLmxlbmd0aDtpPm47KUsoZSxyPW9bbisrXSx0W3JdKTtyZXR1cm4gZX0sWj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P08oZSk6RyhPKGUpLHQpfSxYPWZ1bmN0aW9uKGUpe3ZhciB0PUYuY2FsbCh0aGlzLGU9ZyhlLCEwKSk7cmV0dXJuISh0aGlzPT09SCYmbihVLGUpJiYhbih6LGUpKSYmKCEodHx8IW4odGhpcyxlKXx8IW4oVSxlKXx8bih0aGlzLE4pJiZ0aGlzW05dW2VdKXx8dCl9LCQ9ZnVuY3Rpb24oZSx0KXtpZihlPW0oZSksdD1nKHQsITApLGUhPT1IfHwhbihVLHQpfHxuKHosdCkpe3ZhciByPVMoZSx0KTtyZXR1cm4hcnx8IW4oVSx0KXx8bihlLE4pJiZlW05dW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sUT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1UKG0oZSkpLG89W10saT0wO3IubGVuZ3RoPmk7KW4oVSx0PXJbaSsrXSl8fHQ9PU58fHQ9PWF8fG8ucHVzaCh0KTtyZXR1cm4gb30sZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PUgsbz1UKHI/ejptKGUpKSxpPVtdLHM9MDtvLmxlbmd0aD5zOykhbihVLHQ9b1tzKytdKXx8ciYmIW4oSCx0KXx8aS5wdXNoKFVbdF0pO3JldHVybiBpfTtWfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PUgmJnQuY2FsbCh6LHIpLG4odGhpcyxOKSYmbih0aGlzW05dLGUpJiYodGhpc1tOXVtlXT0hMSksVyh0aGlzLGUsdygxLHIpKX07cmV0dXJuIGkmJkomJlcoSCxlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxZKGUpfSxjKE1bRF0sInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPSQsQy5mPUssZSgiLi9fb2JqZWN0LWdvcG4iKS5mPWsuZj1RLGUoIi4vX29iamVjdC1waWUiKS5mPVgsZSgiLi9fb2JqZWN0LWdvcHMiKS5mPWVlLGkmJiFlKCIuL19saWJyYXJ5IikmJmMoSCwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLHAuZj1mdW5jdGlvbihlKXtyZXR1cm4gWShfKGUpKX0pLHMocy5HK3MuVytzLkYqIVYse1N5bWJvbDpNfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KV8odGVbcmUrK10pO2Zvcih2YXIgdGU9RShfLnN0b3JlKSxyZT0wO3RlLmxlbmd0aD5yZTspYih0ZVtyZSsrXSk7cyhzLlMrcy5GKiFWLCJTeW1ib2wiLHsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gbihJLGUrPSIiKT9JW2VdOklbZV09TShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJuIGgoSSxlKTt0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Sj0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Sj0hMX19KSxzKHMuUytzLkYqIVYsIk9iamVjdCIse2NyZWF0ZTpaLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpHLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZWV9KSxQJiZzKHMuUytzLkYqKCFWfHx1KGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1BKFtlXSl8fCJ7fSIhPUEoe2E6ZX0pfHwie30iIT1BKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIXEoZSkpe2Zvcih2YXIgdCxyLG89W2VdLG49MTthcmd1bWVudHMubGVuZ3RoPm47KW8ucHVzaChhcmd1bWVudHNbbisrXSk7cmV0dXJuIHQ9b1sxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnYodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYociYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIXEodCkpcmV0dXJuIHR9KSxvWzFdPXQsQS5hcHBseShQLG8pfX19KSxNW0RdW0xdfHxlKCIuL19oaWRlIikoTVtEXSxMLE1bRF0udmFsdWVPZiksZihNLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG8uSlNPTiwiSlNPTiIsITApfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZW51bS1rZXlzIjo0MSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzLCIuL19nbG9iYWwiOjQ1LCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXMtYXJyYXkiOjUzLCIuL19rZXlvZiI6NjEsIi4vX2xpYnJhcnkiOjYyLCIuL19tZXRhIjo2MywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1nb3BkIjo2OCwiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL19vYmplY3QtZ29wbi1leHQiOjY5LCIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc2hhcmVkIjo4NCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTMsIi4vX3VpZCI6OTQsIi4vX3drcyI6OTcsIi4vX3drcy1kZWZpbmUiOjk1LCIuL193a3MtZXh0Ijo5Nn1dLDExMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vX3drcy1kZWZpbmUiKSgiYXN5bmNJdGVyYXRvciIpfSx7Ii4vX3drcy1kZWZpbmUiOjk1fV0sMTExOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJvYnNlcnZhYmxlIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbz1lKCIuL19nbG9iYWwiKSxuPWUoIi4vX2hpZGUiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksYz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLGE9MDthPDU7YSsrKXt2YXIgdT1jW2FdLGw9b1t1XSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW3NdJiZuKGYscyx1KSxpW3VdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6OTl9XSwxMTM6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbyl7InVzZSBzdHJpY3QiO3ZhciBuLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxjPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYT10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG8pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG8pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBvPXJ8fDA7bzxlLmxlbmd0aDtvKyspaWYoZVtvXT09PXQpcmV0dXJuIG87cmV0dXJuLTF9LHU9ci5NYXAhPT1vJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFthKGUscildfSxzZXQ6ZnVuY3Rpb24ocixvKXt2YXIgbj1hKGUscik7bj09PS0xPyhlLnB1c2gociksdC5wdXNoKG8pLHRoaXMuc2l6ZSsrKTp0W25dPW99LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBvPWEoZSxyKTtvPi0xJiYoZS5zcGxpY2UobywxKSx0LnNwbGljZShvLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbb10sZVtvXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbz0odChhKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtvLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbixpPTA7aTxvLmxlbmd0aDspKG49YShyLG9baSsrXSkpPi0xJiZyLnNwbGljZShuLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbyxuPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmbi5wdXNoKHIpO2Vsc2V7bz1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpby5jYWxsKHQscikmJm4ucHVzaChyKX1yZXR1cm4gYyh0KSYmbi5wdXNoKCJsZW5ndGgiKSxufSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLF89ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLHA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPW4uZ2V0KGUpO28/KGgobyxlKSxtKGUsbyx0LHIpKToobz1iKGUpLG0oZSxvLHQsciksMT09PW4uc2l6ZSYmXyh5KSl9LGI9ZnVuY3Rpb24odCxyKXt2YXIgbyxpPWwodCkscz1bXSxjPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjohIWUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCksZXh0ZW5zaWJsZTohZS5pc0V4dGVuc2libGV8fGUuaXNFeHRlbnNpYmxlKHQpLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOmoodCxyKX07aWYoZClmb3Iobz1yLmRlc2NyaXB0b3JzPVtdO2M8aS5sZW5ndGg7KW9bY109ZCh0LGlbY10pLHNbY109dFtpW2MrK11dO2Vsc2UgZm9yKDtjPGkubGVuZ3RoOylzW2NdPXRbaVtjKytdXTtyZXR1cm4gbi5zZXQodCxyKSxyfSxoPWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixvLG4pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYz10LnZhbHVlc1tyXSxhPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG4mJihjPT09cz8wPT09YyYmMS9jIT09MS9zOmM9PT1jfHxzPT09cykmJihnKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbyksdC52YWx1ZXNbcl09cyksIWEuY29uZmlndXJhYmxlfHxuLmNvbmZpZ3VyYWJsZSYmbi53cml0YWJsZT09PWEud3JpdGFibGUmJm4uZW51bWVyYWJsZT09PWEuZW51bWVyYWJsZSYmbi5nZXQ9PT1hLmdldCYmbi5zZXQ9PT1hLnNldHx8KGcoZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG8pLHQuZGVzY3JpcHRvcnNbcl09bil9OmZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBuPXQucHJvcGVydGllc1tyXSxpPWVbbl0scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoZyhlLHQse25hbWU6bix0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG8pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG8sbixpKXtmb3IodmFyIHMsYz1yLmxlbmd0aDtvJiZjLS07KW51bGwhPT1yW2NdJiYocz1kKGUscltjXSksby0tLHM/dChlLG4sYyxpLHMpOihnKGUsbix7bmFtZTpyW2NdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbY119LGkpLG4ucHJvcGVydGllcy5zcGxpY2UoYywxKSxuLnZhbHVlcy5zcGxpY2UoYywxKSxuLmRlc2NyaXB0b3JzLnNwbGljZShjLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG8sbil7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihnKGUsbyx7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbaV19LG4pLG8ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxvLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obyxuLGkpe2lmKG8uaGFuZGxlcnMuc2l6ZSYmIW8uZnJvemVuKXt2YXIgcyxjLHUsXyxwLGIsaCx5LHY9by52YWx1ZXMsaj1vLmRlc2NyaXB0b3JzLG09MDtpZihvLmV4dGVuc2libGUpaWYocz1vLnByb3BlcnRpZXMuc2xpY2UoKSxjPXMubGVuZ3RoLHU9bChuKSxqKXtmb3IoO208dS5sZW5ndGg7KXA9dVttKytdLF89YShzLHApLHk9ZChuLHApLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2gobltwXSksai5wdXNoKHkpKTooc1tfXT1udWxsLGMtLSx0KG4sbyxfLGkseSkpO3IobixzLGMsbyxpKSxlLmlzRXh0ZW5zaWJsZShuKXx8KG8uZXh0ZW5zaWJsZT0hMSxnKG4sbyx7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpufSxpKSxvLmZyb3plbj1lLmlzRnJvemVuKG4pKX1lbHNle2Zvcig7bTx1Lmxlbmd0aDspcD11W20rK10sXz1hKHMscCksYj1uW3BdLF89PT0tMT8oZyhuLG8se25hbWU6cCx0eXBlOiJhZGQiLG9iamVjdDpufSxpKSxvLnByb3BlcnRpZXMucHVzaChwKSx2LnB1c2goYikpOihzW19dPW51bGwsYy0tLHQobixvLF8saSkpO3IobixzLGMsbyxpKX1lbHNlIGlmKCFvLmZyb3plbil7Zm9yKDttPHMubGVuZ3RoO20rKylwPXNbbV0sdChuLG8sbSxpLGQobixwKSk7ZS5pc0Zyb3plbihuKSYmKG8uZnJvemVuPSEwKX1mJiYoaD1mKG4pLGghPT1vLnByb3RvJiYoZyhuLG8se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6bixvbGRWYWx1ZTpvLnByb3RvfSksby5wcm90bz1oKSl9fX0oKSx5PWZ1bmN0aW9uKCl7bi5zaXplJiYobi5mb3JFYWNoKGgpLGkuZm9yRWFjaCh2KSxfKHkpKX0sdj1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0saj1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW4uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1uLmdldChlKTtpZihyKXt2YXIgbyxpPXtvYmplY3Q6ZX07Zm9yKG8gaW4gdCkib2JqZWN0IiE9PW8mJihpW29dPXRbb10pO2coZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYz1uLmdldChlKSxhPWFyZ3VtZW50c1syXSx1PWE9PT1vP3IoKTpyLmNhbGwoYSk7aWYoYyYmaChjLGUsdCksYyYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtnKGUsYyxzKX19fX0sbT1mdW5jdGlvbihlLHQscixvKXt2YXIgbj1pLmdldChyKTtufHxpLnNldChyLG49e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksbi5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpvLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixuKX0sZz1mdW5jdGlvbihlLHQscixvKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBvfHxhKG4sbyk9PT0tMSkmJmEobixyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtuPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG4pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG49PT1vKW49cztlbHNlIGlmKCFufHwib2JqZWN0IiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBwKHQscixuKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixvPWkuZ2V0KHQpO3JldHVybiBvJiYocj1vLm9ic2VydmVkLmdldChlKSkmJihvLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLF8oZnVuY3Rpb24oKXt2KG8sdCl9KSwxPT09by5vYnNlcnZlZC5zaXplJiZvLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpvLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/blsiZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOmoodCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHYodCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSwxMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbj1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9byhuKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxjPW8ocyksYT1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1vKGEpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9Y1siZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjoxMTcsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOCwiLi9zeW5jaGVyL1N5bmNoZXIiOjEyMSwiYXJyYXkub2JzZXJ2ZSI6MSwib2JqZWN0Lm9ic2VydmUiOjExM31dLDExNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9byhhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9byhsKSxkPWUoIi4vU3luY09iamVjdCIpLF89byhkKSxwPWUoIi4vRGF0YU9iamVjdENoaWxkIiksYj1vKHApLGg9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fc3luY2hlcj10LGMuX3VybD1yLGMuX3NjaGVtYT1vLGMuX3N0YXR1cz1uLGMuX3N5bmNPYmo9bmV3IF9bImRlZmF1bHQiXShpKSxjLl9jaGlsZHJlbnM9cyxjLl92ZXJzaW9uPTAsYy5fY2hpbGRJZD0wLGMuX2NoaWxkcmVuT2JqZWN0cz17fSxjLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxjLl9vd25lcj10Ll9vd25lcixjLl9idXM9dC5fYnVzfXJldHVybigwLGZbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBuPXIrbyxpPXQuX2J1cy5hZGRMaXN0ZW5lcihuLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZENyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLGNbImRlZmF1bHQiXSkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbz1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxuPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxzPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86bixib2R5OntyZXNvdXJjZTpvLHZhbHVlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlKXt2YXIgaT1yLl9idXMucG9zdE1lc3NhZ2Uocyk7Y29uc29sZS5sb2coImNyZWF0ZS1yZXBvcnRlci1jaGlsZCggIityLl9vd25lcisiICk6ICIscyk7dmFyIGM9bmV3IGJbImRlZmF1bHQiXShyLG8sdCxyLl9vd25lcixpKTtjLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3IuX29uQ2hhbmdlKGUse3BhdGg6bixjaGlsZElkOm99KX0pLHIuX2NoaWxkcmVuT2JqZWN0c1tvXT1jLGUoYyl9KX19LHtrZXk6Im9uQWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQWRkQ2hpbGRyZW5IYW5kbGVyPWV9fSx7a2V5OiJfb25DaGlsZENyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZTtjb25zb2xlLmxvZygiY3JlYXRlLW9ic2VydmVyLWNoaWxkKCAiK3QuX293bmVyKyIgKTogIixlKTt2YXIgbz1uZXcgYlsiZGVmYXVsdCJdKHQscixlLmJvZHkudmFsdWUpO3QuX2NoaWxkcmVuT2JqZWN0c1tyXT1vLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc291cmNlOnQuX293bmVyfX0pfSk7dmFyIG49e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOmUuYm9keS52YWx1ZSxjaGlsZElkOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbiksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobikpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBvPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09ZC5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSYmKG8uYm9keS52YWx1ZT1lLmRhdGEpOihvLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG8uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5VUERBVEUmJihvLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYoby50bz10LnBhdGgsby5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG8pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBvPXQuYm9keS5hdHRyaWJ1dGUsbj0oMCxoLmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShvKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PWQuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYz1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFtjLDBdLmNvbmNhdChuKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09ZC5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGE9aS5vYmosdT1pLmxhc3Q7YS5zcGxpY2UodSxuKX1lbHNlIGkub2JqW2kubGFzdF09bjtlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW46ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbz10Ll9jaGlsZHJlbk9iamVjdHNbcl07bz90Ll9jaGFuZ2VPYmplY3Qoby5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09eSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdENoaWxkIjoxMTYsIi4vU3luY09iamVjdCI6MTIwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9byhzKSxhPWUoIi4vU3luY09iamVjdCIpLHU9byhhKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbyxuLHMpeygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYz10aGlzO2MuX3BhcmVudD10LGMuX2NoaWxkSWQ9cixjLl9vd25lcj1uLGMuX21zZ0lkPXMsYy5fc3luY09iaj1uZXcgdVsiZGVmYXVsdCJdKG8pLGMuX2J1cz10Ll9idXMsYy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjEyMCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDExNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLGc9byhtKSx3PXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8sbixzLGEsbCl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBmPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLHMuZGF0YSxhKSksZD1mO3JldHVybiBkLl92ZXJzaW9uPWwsZC5fZmlsdGVycz17fSxkLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ZC5fb25GaWx0ZXIoZSl9KSwoMCxpWyJkZWZhdWx0Il0pKHMuY2hpbGRyZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXMuY2hpbGRyZW5zW2VdO2QuX2NoaWxkcmVuT2JqZWN0c1tlXT1uZXcgZ1siZGVmYXVsdCJdKGQsZSx0KX0pLGQuX2FsbG9jYXRlTGlzdGVuZXJzKCksZn1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYlsiZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGJbImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdfX0se2tleToidW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci1VTlNVQlNDUklCRTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLG89e3R5cGU6dy5FWEFDVCxjYWxsYmFjazp0fSxuPWUuaW5kZXhPZigiKiIpO249PT1lLmxlbmd0aC0xJiYoMD09PW4/by50eXBlPXcuQU5ZOihvLnR5cGU9dy5TVEFSVCxyPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpKSx0aGlzLl9maWx0ZXJzW3JdPW99fSx7a2V5OiJfb25GaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7KDAsaVsiZGVmYXVsdCJdKSh0Ll9maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX2ZpbHRlcnNbcl07by50eXBlPT09dy5BTlk/by5jYWxsYmFjayhlKTpvLnR5cGU9PT13LlNUQVJUPzA9PT1lLmZpZWxkLmluZGV4T2YocikmJm8uY2FsbGJhY2soZSk6by50eXBlPT09dy5FWEFDVCYmZS5maWVsZD09PXImJm8uY2FsbGJhY2soZSl9KX19XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Tyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdCI6MTE1LCIuL0RhdGFPYmplY3RDaGlsZCI6MTE2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxjPW8ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW8oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW8obCksZD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIpLF89byhkKSxwPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKSxiPW8ocCksaD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKSx5PW8oaCksdj1lKCIuL0RhdGFPYmplY3QiKSxqPW8odiksbT1lKCIuLi91dGlscy91dGlscy5qcyIpLGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxuLGkscyl7KDAsdVsiZGVmYXVsdCJdKSh0aGlzLHQpO3ZhciBhPSgwLF9bImRlZmF1bHQiXSkodGhpcywoMCxjWyJkZWZhdWx0Il0pKHQpLmNhbGwodGhpcyxlLHIsbyxuLGkscykpLGw9YTtyZXR1cm4gbC5fc3Vic2NyaXB0aW9ucz17fSxsLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGwuX29uQ2hhbmdlKGUpfSksbC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxhfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC0iK2UuX3VybCsiLVJDVjogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiaW52aXRlT2JzZXJ2ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImNyZWF0ZSIsZnJvbTp0Ll9zeW5jaGVyLl9vd25lcix0bzp0Ll9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6dC5fdXJsLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6dC5fc3luY09iai5kYXRhLGF1dGhvcmlzZTplfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG89e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW87dmFyIG49e307cmV0dXJuKDAsaVsiZGVmYXVsdCJdKSh0Ll9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5fY2hpbGRyZW5PYmplY3RzW2VdLmRhdGE7bltlXT0oMCxtLmRlZXBDbG9uZSkocil9KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2ZXJzaW9uOnQuX3ZlcnNpb24sdmFsdWU6e2RhdGE6KDAsbS5kZWVwQ2xvbmUpKHQuZGF0YSksY2hpbGRyZW5zOm59fX0pLG99LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDMsZGVzYzpyfX0pfX07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxvPXQuX3N1YnNjcmlwdGlvbnNbcl07ZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsb2JqZWN0Om99O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihjb25zb2xlLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGFjY2VwdDpmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTooMCxtLmRlZXBDbG9uZSkodC5kYXRhKX19KX0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMSxkZXNjOnJ9fSl9fTt0Ll9vblJlYWRIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFQUQtRVZFTlQ6ICIsciksdC5fb25SZWFkSGFuZGxlcihyKSl9fSx7a2V5OiJzdWJzY3JpcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uc319XSksdH0oalsiZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09Zyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMjIsIi4vRGF0YU9iamVjdCI6MTE1LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjoxNn1dLDExOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW8obikscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxjPW8ocyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG8sbil7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBzPXRoaXM7cy5fb3duZXI9dCxzLl91cmw9cixzLl9idXM9byxzLl9jaGlsZHJlbj1uLHMuX2NoYW5nZXM9W10scy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxjWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWEsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuT2JqZWN0VHlwZT1yLkNoYW5nZVR5cGU9dm9pZCAwO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9byhuKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGM9byhzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLHU9byhhKSxsPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciByPXRoaXM7ci5fb2JzZXJ2ZXJzPVtdLHIuX2ZpbHRlcnM9e30sdD9yLl9kYXRhPSgwLGwuZGVlcENsb25lKSh0KTpyLl9kYXRhPXt9LHIuX2ludGVybmFsT2JzZXJ2ZShuZXcgZCxyLl9kYXRhKX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6Im9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5wdXNoKGUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLiIpO3JldHVybiB0aGlzLl9maW5kV2l0aFNwbGl0KHQpfX0se2tleToiZmluZEJlZm9yZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1lLnNwbGl0KCIuIik7cmV0dXJuIHQubGFzdD1yLnBvcCgpLHQub2JqPXRoaXMuX2ZpbmRXaXRoU3BsaXQociksdH19LHtrZXk6Il9maW5kV2l0aFNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dD10W2VdfSksdH19LHtrZXk6Il9maXJlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QoZSl9KX19LHtrZXk6Il9pc09ic2VydmFibGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnN0cnVjdG9yPT09T2JqZWN0fHxlLmNvbnN0cnVjdG9yPT09QXJyYXl9fSx7a2V5OiJfaW50ZXJuYWxPYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbz1mdW5jdGlvbih0KXtyLl9vbkNoYW5nZXMoZSx0KX07aWYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7T2JqZWN0Lm9ic2VydmUodCxvKTtmb3IodmFyIG4gaW4gdClyLl9pc09ic2VydmFibGUodFtuXSkmJnIuX2ludGVybmFsT2JzZXJ2ZShlWyJuZXciXShuKSx0W25dKX1lbHNlIGlmKHQuY29uc3RydWN0b3I9PT1BcnJheSl7QXJyYXkub2JzZXJ2ZSh0LG8pO2Zvcih2YXIgaSBpbiB0KWlmKHIuX2lzT2JzZXJ2YWJsZSh0W2ldKSl7dmFyIHM9ZVsibmV3Il0obmV3IF8odFtpXSxpKSk7ci5faW50ZXJuYWxPYnNlcnZlKHMsdFtpXSl9fX19fSx7a2V5OiJfb25DaGFuZ2VzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Zm9yKHZhciBvIGluIHQpe3ZhciBuPXRbb10ub2JqZWN0LGk9dm9pZCAwO2lmKG4uY29uc3RydWN0b3I9PT1PYmplY3QmJihpPWIuT0JKRUNUKSxuLmNvbnN0cnVjdG9yPT09QXJyYXkmJihpPWIuQVJSQVkpLCJzcGxpY2UiPT09dFtvXS50eXBlKSFmdW5jdGlvbigpe3ZhciBzPXRbb10uaW5kZXgsYz1lWyJuZXciXSgiIitzKSxhPWMudG9TdHJpbmcoKSx1PXRbb10ucmVtb3ZlZC5sZW5ndGg7aWYoMCE9PXUpe3ZhciBmPXRbb10ucmVtb3ZlZDtmLmZvckVhY2goZnVuY3Rpb24odCxvKXtyLl9pc09ic2VydmFibGUodCkmJmUucmVtb3ZlSW5kZXgocytvKX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5SRU1PVkUsb1R5cGU6aSxmaWVsZDphLGRhdGE6dX0pfXZhciBkPXRbb10uYWRkZWRDb3VudDtpZigwIT09ZCl7dmFyIGI9bi5zbGljZShzLHMrZCk7Yi5mb3JFYWNoKGZ1bmN0aW9uKHQsbyl7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbj1lWyJuZXciXShuZXcgXyh0LHMrbykpO3IuX2ludGVybmFsT2JzZXJ2ZShuLHQpfX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6cC5BREQsb1R5cGU6aSxmaWVsZDphLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGIpfSl9cyE9PW4ubGVuZ3RoLTEmJmUucmVJbmRleEZyb20obil9KCk7ZWxzZXt2YXIgcz1lWyJuZXciXSh0W29dLm5hbWUpLGM9cy50b1N0cmluZygpO2lmKGMuaW5kZXhPZigiU3ltYm9sIikhPT0tMSljb250aW51ZTt2YXIgYT1uW3Rbb10ubmFtZV07InVwZGF0ZSI9PT10W29dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6cC5VUERBVEUsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSksImFkZCI9PT10W29dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUocyxhKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOnAuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShhKX0pKSwiZGVsZXRlIj09PXRbb10udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpwLlJFTU9WRSxvVHlwZTppLGZpZWxkOmN9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InJlbW92ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fb2JzZXJ2YWJsZXNbZV19fSx7a2V5OiJyZUluZGV4RnJvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPXQuX29ic2VydmFibGVzW3JdLG49ZS5pbmRleE9mKG8ub2JqKTtvLmlkeCE9biYmKG8uaWR4PW4sZGVsZXRlIHQuX29ic2VydmFibGVzW3JdLHQuX29ic2VydmFibGVzW25dPW8pfSl9fSx7a2V5OiJuZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PV8mJih0aGlzLl9vYnNlcnZhYmxlc1tlLmlkeF09ZSk7dmFyIHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0Ll9wYXRoLnB1c2goZSksdH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fcGF0aC5wdXNoKGUpfSksdH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24odCxyKXswPT09cj9lPXQudG9TdHJpbmcoKTplKz0iLiIrdC50b1N0cmluZygpfSksZX19XSksZX0oKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLm9iaj10LHRoaXMuaWR4PXJ9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKX19XSksZX0oKSxwPXIuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LGI9ci5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07clsiZGVmYXVsdCJdPWZ9LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1vKG4pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1vKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1vKGEpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW8obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLF89byhkKSxwPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksYj1vKHApLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixvKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG49dGhpcztuLl9vd25lcj10LG4uX2J1cz1yLG4uX3N1YlVSTD1vLnJ1bnRpbWVVUkwrIi9zbSIsbi5fcmVwb3J0ZXJzPXt9LG4uX29ic2VydmVycz17fSxuLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6bi5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpuLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6bi5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzO3IucmVwb3J0ZXI9by5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbj17dHlwZToiY3JlYXRlIixmcm9tOm8uX293bmVyLHRvOm8uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtvLl9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG4pLDIwMD09PW4uYm9keS5jb2RlKXt2YXIgcz1uLmJvZHkucmVzb3VyY2UsYz1uZXcgZlsiZGVmYXVsdCJdKG8scyxlLCJvbiIscixuLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO28uX3JlcG9ydGVyc1tzXT1jLHQoYyl9ZWxzZSBpKG4uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxvPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihuLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKG8pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbyk7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG8uYm9keS5jb2RlPDIwMClzPW5ldyBiWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW8uYm9keS5jb2RlKXt2YXIgYz1uZXcgX1siZGVmYXVsdCJdKHIsdCxlLCJvbiIsby5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sby5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1jLG4oYykscy5hcHBseShjKX1lbHNlIGkoby5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG8pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpewpjb25zb2xlLmxvZygicmVhZC1yZXNwb25zZTogIix0KSwyMDA9PT10LmJvZHkuY29kZT9lKHQuYm9keS52YWx1ZSk6byh0LmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbz17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBvPTIwMDtyJiYobz1yKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixvKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG89dC5fb2JzZXJ2ZXJzW3JdO2lmKG8pe3ZhciBuPXt0eXBlOmUudHlwZSx1cmw6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksYWNrOmZ1bmN0aW9uKHIpe3ZhciBuPTIwMDtyJiYobj1yKSwyMDA9PT1uJiZvWyJkZWxldGUiXSgpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm4sc291cmNlOnQuX293bmVyfX0pfX07dC5fb25Ob3RpZmljYXRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIk5PVElGSUNBVElPTi1FVkVOVDogIixuKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIobikpfWVsc2UgdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LHNvdXJjZTp0Ll9vd25lcn19KX19LHtrZXk6Im93bmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXJ9fSx7a2V5OiJyZXBvcnRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXBvcnRlcnN9fSx7a2V5OiJvYnNlcnZlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYnNlcnZlcnN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPWgsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3RPYnNlcnZlciI6MTE3LCIuL0RhdGFPYmplY3RSZXBvcnRlciI6MTE4LCIuL0RhdGFQcm92aXNpb25hbCI6MTE5LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDEyMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIG4oZSl7aWYoIWUpdGhyb3cgRXJyb3IoIlVSTCBpcyBuZWVkZWQgdG8gc3BsaXQiKTt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbz1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO29bMF09PT1lJiYob1swXT0iaHR0cHMiLG9bMV09ZSk7dmFyIG49e3R5cGU6b1swXSxkb21haW46b1sxXSxpZGVudGl0eTpvWzJdfTtyZXR1cm4gbn1mdW5jdGlvbiBpKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpLHI9e3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9O3JldHVybiByfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISgoMCxwWyJkZWZhdWx0Il0pKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBjKGUpe2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsZFsiZGVmYXVsdCJdKShlKSl9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW4oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW4oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9byhmKSxfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9byhfKTtyLmRpdmlkZVVSTD1uLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbMTE0XSkoMTE0KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuSVB2NiA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKgogIHZhciBfaW4gPSAiZmU4MDowMDAwOjAwMDA6MDAwMDowMjA0OjYxZmY6ZmU5ZDpmMTU2IjsKICB2YXIgX291dCA9IElQdjYuYmVzdChfaW4pOwogIHZhciBfZXhwZWN0ZWQgPSAiZmU4MDo6MjA0OjYxZmY6ZmU5ZDpmMTU2IjsKCiAgY29uc29sZS5sb2coX2luLCBfb3V0LCBfZXhwZWN0ZWQsIF9vdXQgPT09IF9leHBlY3RlZCk7CiAgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IElQdjYgdmFyaWFibGUsIGlmIGFueQogIHZhciBfSVB2NiA9IHJvb3QgJiYgcm9vdC5JUHY2OwoKICBmdW5jdGlvbiBiZXN0UHJlc2VudGF0aW9uKGFkZHJlc3MpIHsKICAgIC8vIGJhc2VkIG9uOgogICAgLy8gSmF2YXNjcmlwdCB0byB0ZXN0IGFuIElQdjYgYWRkcmVzcyBmb3IgcHJvcGVyIGZvcm1hdCwgYW5kIHRvCiAgICAvLyBwcmVzZW50IHRoZSAiYmVzdCB0ZXh0IHJlcHJlc2VudGF0aW9uIiBhY2NvcmRpbmcgdG8gSUVURiBEcmFmdCBSRkMgYXQKICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQKICAgIC8vIDggRmViIDIwMTAgUmljaCBCcm93biwgRGFydHdhcmUsIExMQwogICAgLy8gUGxlYXNlIGZlZWwgZnJlZSB0byB1c2UgdGhpcyBjb2RlIGFzIGxvbmcgYXMgeW91IHByb3ZpZGUgYSBsaW5rIHRvCiAgICAvLyBodHRwOi8vd3d3LmludGVybWFwcGVyLmNvbQogICAgLy8gaHR0cDovL2ludGVybWFwcGVyLmNvbS9zdXBwb3J0L3Rvb2xzL0lQVjYtVmFsaWRhdG9yLmFzcHgKICAgIC8vIGh0dHA6Ly9kb3dubG9hZC5kYXJ0d2FyZS5jb20vdGhpcmRwYXJ0eS9pcHY2dmFsaWRhdG9yLmpzCgogICAgdmFyIF9hZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpOwogICAgdmFyIHNlZ21lbnRzID0gX2FkZHJlc3Muc3BsaXQoJzonKTsKICAgIHZhciBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CiAgICB2YXIgdG90YWwgPSA4OwoKICAgIC8vIHRyaW0gY29sb25zICg6OiBvciA6OmE6Yjpj4oCmIG9yIOKApmE6YjpjOjopCiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJyAmJiBzZWdtZW50c1syXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjoKICAgICAgLy8gcmVtb3ZlIGZpcnN0IHR3byBpdGVtcwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6eHh4eAogICAgICAvLyByZW1vdmUgdGhlIGZpcnN0IGl0ZW0KICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnICYmIHNlZ21lbnRzW2xlbmd0aCAtIDJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiB4eHh4OjoKICAgICAgc2VnbWVudHMucG9wKCk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFkanVzdCB0b3RhbCBzZWdtZW50cyBmb3IgSVB2NCB0cmFpbGVyCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0uaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAvLyBmb3VuZCBhICIuIiB3aGljaCBtZWFucyBJUHY0CiAgICAgIHRvdGFsID0gNzsKICAgIH0KCiAgICAvLyBmaWxsIGVtcHR5IHNlZ21lbnRzIHRoZW0gd2l0aCAiMDAwMCIKICAgIHZhciBwb3M7CiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKHNlZ21lbnRzW3Bvc10gPT09ICcnKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgdG90YWwpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMSwgJzAwMDAnKTsKICAgICAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA8IHRvdGFsKSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMCwgJzAwMDAnKTsKICAgICAgfQogICAgfQoKICAgIC8vIHN0cmlwIGxlYWRpbmcgemVyb3MKICAgIHZhciBfc2VnbWVudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgX3NlZ21lbnRzID0gc2VnbWVudHNbaV0uc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMgOyBqKyspIHsKICAgICAgICBpZiAoX3NlZ21lbnRzWzBdID09PSAnMCcgJiYgX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIF9zZWdtZW50cy5zcGxpY2UoMCwxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWdtZW50c1tpXSA9IF9zZWdtZW50cy5qb2luKCcnKTsKICAgIH0KCiAgICAvLyBmaW5kIGxvbmdlc3Qgc2VxdWVuY2Ugb2YgemVyb2VzIGFuZCBjb2FsZXNjZSB0aGVtIGludG8gb25lIHNlZ21lbnQKICAgIHZhciBiZXN0ID0gLTE7CiAgICB2YXIgX2Jlc3QgPSAwOwogICAgdmFyIF9jdXJyZW50ID0gMDsKICAgIHZhciBjdXJyZW50ID0gLTE7CiAgICB2YXIgaW56ZXJvZXMgPSBmYWxzZTsKICAgIC8vIGk7IGFscmVhZHkgZGVjbGFyZWQKCiAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBpZiAoaW56ZXJvZXMpIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgX2N1cnJlbnQgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW56ZXJvZXMgPSBmYWxzZTsKICAgICAgICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgICAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICAgICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgaW56ZXJvZXMgPSB0cnVlOwogICAgICAgICAgY3VycmVudCA9IGk7CiAgICAgICAgICBfY3VycmVudCA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICB9CgogICAgaWYgKF9iZXN0ID4gMSkgewogICAgICBzZWdtZW50cy5zcGxpY2UoYmVzdCwgX2Jlc3QsICcnKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYXNzZW1ibGUgcmVtYWluaW5nIHNlZ21lbnRzCiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnKSAgewogICAgICByZXN1bHQgPSAnOic7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdCArPSBzZWdtZW50c1tpXTsKICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi8KICAgIGlmIChyb290LklQdjYgPT09IHRoaXMpIHsKICAgICAgcm9vdC5JUHY2ID0gX0lQdjY7CiAgICB9CiAgCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBiZXN0OiBiZXN0UHJlc2VudGF0aW9uLAogICAgbm9Db25mbGljdDogbm9Db25mbGljdAogIH07Cn0pKTsKCn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBTZWNvbmQgTGV2ZWwgRG9tYWluIChTTEQpIFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gc2F2ZSBjdXJyZW50IFNlY29uZExldmVsRG9tYWlucyB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6JyBjb20gZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhZSc6JyBhYyBjbyBnb3YgbWlsIG5hbWUgbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdhZic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYW8nOicgY28gZWQgZ3YgaXQgb2cgcGIgJywKICAgICAgJ2FyJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6JyBhYyBjbyBndiBvciAnLAogICAgICAnYXUnOicgYXNuIGNvbSBjc2lybyBlZHUgZ292IGlkIG5ldCBvcmcgJywKICAgICAgJ2JhJzonIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOicgYml6IGNvIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyBzdG9yZSB0diAnLAogICAgICAnYmgnOicgYml6IGNjIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnYm4nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0diAnLAogICAgICAnYnInOicgYWRtIGFkdiBhZ3IgYW0gYXJxIGFydCBhdG8gYiBiaW8gYmxvZyBibWQgY2ltIGNuZyBjbnQgY29tIGNvb3AgZWNuIGVkdSBlbmcgZXNwIGV0YyBldGkgZmFyIGZsb2cgZm0gZm5kIGZvdCBmc3QgZzEyIGdnZiBnb3YgaW1iIGluZCBpbmYgam9yIGp1cyBsZWwgbWF0IG1lZCBtaWwgbXVzIG5ldCBub20gbm90IG50ciBvZG8gb3JnIHBwZyBwcm8gcHNjIHBzaSBxc2wgcmVjIHNsZyBzcnYgdG1wIHRyZCB0dXIgdHYgdmV0IHZsb2cgd2lraSB6bGcgJywKICAgICAgJ2JzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzonIGR1IGV0IG9tIG92IHJnICcsCiAgICAgICdjYSc6JyBhYiBiYyBtYiBuYiBuZiBubCBucyBudCBudSBvbiBwZSBxYyBzayB5ayAnLAogICAgICAnY2snOicgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOicgYWMgYWggYmogY29tIGNxIGVkdSBmaiBnZCBnb3YgZ3MgZ3ggZ3ogaGEgaGIgaGUgaGkgaGwgaG4gamwganMganggbG4gbWlsIG5ldCBubSBueCBvcmcgcWggc2Mgc2Qgc2ggc24gc3ggdGogdHcgeGogeHogeW4gemogJywKICAgICAgJ2NvJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnY3InOicgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOicgYWMgYml6IGNvbSBla2xvZ2VzIGdvdiBsdGQgbmFtZSBuZXQgb3JnIHBhcmxpYW1lbnQgcHJlc3MgcHJvIHRtICcsCiAgICAgICdkbyc6JyBhcnQgY29tIGVkdSBnb2IgZ292IG1pbCBuZXQgb3JnIHNsZCB3ZWIgJywKICAgICAgJ2R6JzonIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6JyBjb20gZWR1IGZpbiBnb3YgaW5mbyBtZWQgbWlsIG5ldCBvcmcgcHJvICcsCiAgICAgICdlZyc6JyBjb20gZWR1IGV1biBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2kgJywKICAgICAgJ2VyJzonIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzonIGNvbSBlZHUgZ29iIG5vbSBvcmcgJywKICAgICAgJ2V0JzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5hbWUgbmV0IG9yZyAnLAogICAgICAnZmonOicgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6JyBhYyBjbyBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ2ZyJzonIGFzc28gY29tIGYgZ291diBub20gcHJkIHByZXNzZSB0bSAnLAogICAgICAnZ2cnOicgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOicgY29tIGVkdSBnb3YgbWlsIG9yZyAnLAogICAgICAnZ24nOicgYWMgY29tIGdvdiBuZXQgb3JnICcsCiAgICAgICdncic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOicgY29tIGVkdSBnb2IgaW5kIG1pbCBuZXQgb3JnICcsCiAgICAgICdndSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdoayc6JyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOicgMjAwMCBhZ3JhciBib2x0IGNhc2lubyBjaXR5IGNvIGVyb3RpY2EgZXJvdGlrYSBmaWxtIGZvcnVtIGdhbWVzIGhvdGVsIGluZm8gaW5nYXRsYW4gam9nYXN6IGtvbnl2ZWxvIGxha2FzIG1lZGlhIG5ld3Mgb3JnIHByaXYgcmVrbGFtIHNleCBzaG9wIHNwb3J0IHN1bGkgc3pleCB0bSB0b3pzZGUgdXRhemFzIHZpZGVvICcsCiAgICAgICdpZCc6JyBhYyBjbyBnbyBtaWwgbmV0IG9yIHNjaCB3ZWIgJywKICAgICAgJ2lsJzonIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOicgYWMgY28gZWR1IGVybmV0IGZpcm0gZ2VuIGdvdiBpIGluZCBtaWwgbmV0IG5pYyBvcmcgcmVzICcsCiAgICAgICdpcSc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgb3JnICcsCiAgICAgICdpcic6JyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzonIGVkdSBnb3YgJywKICAgICAgJ2plJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2pvJzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6JyBhYyBhZCBjbyBlZCBnbyBnciBsZyBuZSBvciAnLAogICAgICAna2UnOicgYWMgY28gZ28gaW5mbyBtZSBtb2JpIG5lIG9yIHNjICcsCiAgICAgICdraCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzonIGJpeiBjb20gZGUgZWR1IGdvdiBpbmZvIG1vYiBuZXQgb3JnIHRlbCAnLAogICAgICAna20nOicgYXNzbyBjb20gY29vcCBlZHUgZ291diBrIG1lZGVjaW4gbWlsIG5vbSBub3RhaXJlcyBwaGFybWFjaWVucyBwcmVzc2UgdG0gdmV0ZXJpbmFpcmUgJywKICAgICAgJ2tuJzonIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOicgYWMgYnVzYW4gY2h1bmdidWsgY2h1bmduYW0gY28gZGFlZ3UgZGFlamVvbiBlcyBnYW5nd29uIGdvIGd3YW5nanUgZ3llb25nYnVrIGd5ZW9uZ2dpIGd5ZW9uZ25hbSBocyBpbmNoZW9uIGplanUgamVvbmJ1ayBqZW9ubmFtIGsga2cgbWlsIG1zIG5lIG9yIHBlIHJlIHNjIHNlb3VsIHVsc2FuICcsCiAgICAgICdrdyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbGInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbGsnOicgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbHYnOicgYXNuIGNvbSBjb25mIGVkdSBnb3YgaWQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2x5JzonIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzonIGFjIGNvIGdvdiBtIG5ldCBvcmcgcHJlc3MgJywKICAgICAgJ21jJzonIGFzc28gdG0gJywKICAgICAgJ21lJzonIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOicgY29tIGVkdSBnb3YgbWlsIG5vbSBvcmcgcHJkIHRtICcsCiAgICAgICdtayc6JyBjb20gZWR1IGdvdiBpbmYgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbWwnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzonIGVkdSBnb3Ygb3JnICcsCiAgICAgICdtbyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6JyBhZXJvIGJpeiBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IG1pbCBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbXcnOicgYWMgY28gY29tIGNvb3AgZWR1IGdvdiBpbnQgbXVzZXVtIG5ldCBvcmcgJywKICAgICAgJ214JzonIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduZic6JyBhcnRzIGNvbSBmaXJtIGluZm8gbmV0IG90aGVyIHBlciByZWMgc3RvcmUgd2ViICcsCiAgICAgICduZyc6JyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOicgYWMgY28gY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICducCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbnInOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOicgYWMgYml6IGNvIGNvbSBlZHUgZ292IG1lZCBtaWwgbXVzZXVtIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAncGUnOicgY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncGgnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzonIGJpeiBjb20gZWR1IGZhbSBnb2IgZ29rIGdvbiBnb3AgZ29zIGdvdiBuZXQgb3JnIHdlYiAnLAogICAgICAncGwnOicgYXJ0IGJpYWx5c3RvayBiaXogY29tIGVkdSBnZGEgZ2RhbnNrIGdvcnpvdyBnb3YgaW5mbyBrYXRvd2ljZSBrcmFrb3cgbG9keiBsdWJsaW4gbWlsIG5ldCBuZ28gb2xzenR5biBvcmcgcG96bmFuIHB3ciByYWRvbSBzbHVwc2sgc3pjemVjaW4gdG9ydW4gd2Fyc3phd2Egd2F3IHdyb2Mgd3JvY2xhdyB6Z29yYSAnLAogICAgICAncHInOicgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHBsbyBzZWMgJywKICAgICAgJ3B3JzonIGJlbGF1IGNvIGVkIGdvIG5lIG9yICcsCiAgICAgICdybyc6JyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6JyBhYyBjbyBlZHUgZ292IGluIG9yZyAnLAogICAgICAnc2InOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2MnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOicgY28gY29tIGVkdSBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ3NsJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3N0JzonIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOicgY29tIGVkdSBnb2Igb3JnIHJlZCAnLAogICAgICAnc3onOicgYWMgY28gb3JnICcsCiAgICAgICd0cic6JyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOicgYWVybyBiaXogY2F0IGNvIGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgam9icyBtaWwgbW9iaSBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyB0ZWwgdHJhdmVsICcsCiAgICAgICd0dyc6JyBjbHViIGNvbSBlYml6IGVkdSBnYW1lIGdvdiBpZHYgbWlsIG5ldCBvcmcgJywKICAgICAgJ211JzonIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ25hJzonIGNvIGNvbSAnLAogICAgICAnbnonOicgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOicgYWJvIGFjIGNvbSBlZHUgZ29iIGluZyBtZWQgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwdCc6JyBjb20gZWR1IGdvdiBpbnQgbmV0IG5vbWUgb3JnIHB1YmwgJywKICAgICAgJ3B5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncmUnOicgYXNzbyBjb20gbm9tICcsCiAgICAgICdydSc6JyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6JyBhYyBjbyBjb20gZWR1IGdvdXYgZ292IGludCBtaWwgbmV0ICcsCiAgICAgICdzYSc6JyBjb20gZWR1IGdvdiBtZWQgbmV0IG9yZyBwdWIgc2NoICcsCiAgICAgICdzZCc6JyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6JyBhIGFjIGIgYmQgYyBkIGUgZiBnIGggaSBrIGwgbSBuIG8gb3JnIHAgcGFydGkgcHAgcHJlc3MgciBzIHQgdG0gdSB3IHggeSB6ICcsCiAgICAgICdzZyc6JyBjb20gZWR1IGdvdiBpZG4gbmV0IG9yZyBwZXIgJywKICAgICAgJ3NuJzonIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbmV3cyBvcmcgJywKICAgICAgJ3RoJzonIGFjIGNvIGdvIGluIG1pIG5ldCBvciAnLAogICAgICAndGonOicgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6JyBhZ3JpbmV0IGNvbSBkZWZlbnNlIGVkdW5ldCBlbnMgZmluIGdvdiBpbmQgaW5mbyBpbnRsIG1pbmNvbSBuYXQgbmV0IG9yZyBwZXJzbyBybnJ0IHJucyBybnUgdG91cmlzbSAnLAogICAgICAndHonOicgYWMgY28gZ28gbmUgb3IgJywKICAgICAgJ3VhJzonIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6JyBhYyBjbyBnbyBuZSBvciBvcmcgc2MgJywKICAgICAgJ3VrJzonIGFjIGJsIGJyaXRpc2gtbGlicmFyeSBjbyBjeW0gZ292IGdvdnQgaWNuZXQgamV0IGxlYSBsdGQgbWUgbWlsIG1vZCBuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kIG5lbCBuZXQgbmhzIG5pYyBubHMgb3JnIG9yZ24gcGFybGlhbWVudCBwbGMgcG9saWNlIHNjaCBzY290IHNvYyAnLAogICAgICAndXMnOicgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzonIGNvbSBlZHUgZ3ViIG1pbCBuZXQgb3JnICcsCiAgICAgICd2ZSc6JyBjbyBjb20gZWR1IGdvYiBpbmZvIG1pbCBuZXQgb3JnIHdlYiAnLAogICAgICAndmknOicgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6JyBhYyBiaXogY29tIGVkdSBnb3YgaGVhbHRoIGluZm8gaW50IG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ3llJzonIGNvIGNvbSBnb3YgbHRkIG1lIG5ldCBvcmcgcGxjICcsCiAgICAgICd5dSc6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOicgYWMgYWdyaWMgYWx0IGJvdXJzZSBjaXR5IGNvIGN5YmVybmV0IGRiIGVkdSBnb3YgZ3JvbmRhciBpYWNjZXNzIGltdCBpbmNhIGxhbmRlc2lnbiBsYXcgbWlsIG5ldCBuZ28gbmlzIG5vbSBvbGl2ZXR0aSBvcmcgcGl4IHNjaG9vbCB0bSB3ZWIgJywKICAgICAgJ3ptJzonIGFjIGNvIGNvbSBlZHUgZ292IG5ldCBvcmcgc2NoICcKICAgIH0sCiAgICAvLyBnb3JoaWxsIDIwMTMtMTAtMjU6IFVzaW5nIGluZGV4T2YoKSBpbnN0ZWFkIFJlZ2V4cCgpLiBTaWduaWZpY2FudCBib29zdAogICAgLy8gaW4gYm90aCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IGZvb3RwcmludC4gTm8gaW5pdGlhbGl6YXRpb24gcmVxdWlyZWQuCiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS91cmktanMtc2xkLXJlZ2V4LXZzLWJpbmFyeS1zZWFyY2gvNAogICAgLy8gRm9sbG93aW5nIG1ldGhvZHMgdXNlIGxhc3RJbmRleE9mKCkgcmF0aGVyIHRoYW4gYXJyYXkuc3BsaXQoKSBpbiBvcmRlcgogICAgLy8gdG8gYXZvaWQgYW55IG1lbW9yeSBhbGxvY2F0aW9ucy4KICAgIGhhczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPj0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2UoMCwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSk7CiAgICB9LAogICAgbm9Db25mbGljdDogZnVuY3Rpb24oKXsKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID09PSB0aGlzKSB7CiAgICAgICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBfU2Vjb25kTGV2ZWxEb21haW5zOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CgogIHJldHVybiBTTEQ7Cn0pKTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHsKICAndXNlIHN0cmljdCc7CiAgLypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi8KICAvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZQogIC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJOwoKICBmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7CiAgICB2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxOwogICAgdmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7CgogICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgaWYgKF9iYXNlU3VwcGxpZWQpIHsKICAgICAgICAgIHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSSSgpOwogICAgfQoKICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhyZWYodXJsKTsKCiAgICAvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3IKICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIFVSSS52ZXJzaW9uID0gJzEuMTguMSc7CgogIHZhciBwID0gVVJJLnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCiAgZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2MwogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7CiAgfQoKICBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7CiAgICAvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZQogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuICdVbmRlZmluZWQnOwogICAgfQoKICAgIHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHsKICAgIHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7CiAgfQoKICBmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkgewogICAgdmFyIGxvb2t1cCA9IHt9OwogICAgdmFyIGksIGxlbmd0aDsKCiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGxvb2t1cCA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgbG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxvb2t1cFt2YWx1ZV0gPSB0cnVlOwogICAgfQoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgdmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZAogICAgICAgIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBob3N0bmFtZTogbnVsbCwKICAgICAgdXJuOiBudWxsLAogICAgICBwb3J0OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICBxdWVyeTogbnVsbCwKICAgICAgZnJhZ21lbnQ6IG51bGwsCiAgICAgIC8vIHN0YXRlCiAgICAgIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywKICAgICAgZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2UKICAgIH07CiAgfTsKICAvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpCiAgVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlOwogIC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKQogIFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTsKICAvLyBzdGF0aWMgcHJvcGVydGllcwogIFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTsKICBVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcLi1dL2k7CiAgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7CiAgLy8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlPwogIFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSQvOwogIC8vIGNyZWRpdHMgdG8gUmljaCBCcm93bgogIC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NgogIC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0CiAgVVJJLmlwNl9leHByZXNzaW9uID0gL15ccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKSkoJS4rKT9ccyokLzsKICAvLyBleHByZXNzaW9uIHVzZWQgaXMgImdydWJlciByZXZpc2VkIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGUKICAvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXQKICAvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4CiAgLy8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sCiAgVVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXGIoKD86W2Etel1bXHctXSs6KD86XC97MSwzfXxbYS16MC05JV0pfHd3d1xkezAsM31bLl18W2EtejAtOS5cLV0rWy5dW2Etel17Miw0fVwvKSg/OlteXHMoKTw+XSt8XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKSkrKD86XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKXxbXlxzYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7CiAgVVJJLmZpbmRVcmkgPSB7CiAgICAvLyB2YWxpZCAic2NoZW1lOi8vIiBvciAid3d3LiIKICAgIHN0YXJ0OiAvXGIoPzooW2Etel1bYS16MC05ListXSo6XC9cLyl8d3d3XC4pL2dpLAogICAgLy8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlCiAgICBlbmQ6IC9bXHNcclxuXXwkLywKICAgIC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cAogICAgdHJpbTogL1tgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8KICB9OwogIC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0cwogIFVSSS5kZWZhdWx0UG9ydHMgPSB7CiAgICBodHRwOiAnODAnLAogICAgaHR0cHM6ICc0NDMnLAogICAgZnRwOiAnMjEnLAogICAgZ29waGVyOiAnNzAnLAogICAgd3M6ICc4MCcsCiAgICB3c3M6ICc0NDMnCiAgfTsKICAvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgLy8gQUxQSEEgRElHSVQgIi0iICIuIiAiXyIgIn4iICIhIiAiJCIgIiYiICInIiAiKCIgIikiICIqIiAiKyIgIiwiICI7IiAiPSIgJWVuY29kZWQKICAvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtCiAgVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVwuLV0vOwogIC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZQogIFVSSS5kb21BdHRyaWJ1dGVzID0gewogICAgJ2EnOiAnaHJlZicsCiAgICAnYmxvY2txdW90ZSc6ICdjaXRlJywKICAgICdsaW5rJzogJ2hyZWYnLAogICAgJ2Jhc2UnOiAnaHJlZicsCiAgICAnc2NyaXB0JzogJ3NyYycsCiAgICAnZm9ybSc6ICdhY3Rpb24nLAogICAgJ2ltZyc6ICdzcmMnLAogICAgJ2FyZWEnOiAnaHJlZicsCiAgICAnaWZyYW1lJzogJ3NyYycsCiAgICAnZW1iZWQnOiAnc3JjJywKICAgICdzb3VyY2UnOiAnc3JjJywKICAgICd0cmFjayc6ICdzcmMnLAogICAgJ2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9ImltYWdlIgogICAgJ2F1ZGlvJzogJ3NyYycsCiAgICAndmlkZW8nOiAnc3JjJwogIH07CiAgVVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT0iaW1hZ2UiCiAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTsKICB9OwoKICBmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTEKICAgIHJldHVybiBlc2NhcGUodmFsdWUpOwogIH0KCiAgLy8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NgogIGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHsKICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpCiAgICAgIC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpCiAgICAgIC5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICB9OwogIFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICB9OwogIFVSSS5jaGFyYWN0ZXJzID0gewogICAgcGF0aG5hbWU6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyAtLl9+IScoKSoKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jXS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXJ2ZWQ6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyBnZW4tZGVsaW1zCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyUyRic6ICcvJywKICAgICAgICAgICclM0YnOiAnPycsCiAgICAgICAgICAnJTIzJzogJyMnLAogICAgICAgICAgJyU1Qic6ICdbJywKICAgICAgICAgICclNUQnOiAnXScsCiAgICAgICAgICAnJTQwJzogJ0AnLAogICAgICAgICAgLy8gc3ViLWRlbGltcwogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXJucGF0aDogewogICAgICAvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlCiAgICAgIC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCAiLSIsICIuIiwgYW5kICJfIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dAogICAgICAvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvCiAgICAgIC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzCiAgICAgIC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXQKICAgICAgLy8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuCiAgICAgIC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy4KICAgICAgZW5jb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgInJlc2VydmVkIiBjaGFyYWN0ZXJzIHRoYXQKICAgICAgLy8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyM6XS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnLAogICAgICAgICAgJzonOiAnJTNBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgc3RyaW5nICs9ICcnOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnJTIwJykgOiBzdHJpbmcpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgIHJldHVybiBzdHJpbmc7CiAgICB9CiAgfTsKICAvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zCiAgdmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICByZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CiAgICB9OwogIH07CgogIGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7CiAgICBVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7CiAgICBVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTsKICB9CgogIHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgLy8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGUKICAgICAgLy8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlCiAgICAgIC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZQogICAgICAvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlICJmcmVzaCIuCiAgICAgIHZhciBhY3R1YWxDb2RpbmdGdW5jOwogICAgICBpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTsKICAgIH07CiAgfTsKCiAgLy8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuCiAgVVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpOwogIFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTsKICBVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpOwogIFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CgogIFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpOwoKICBVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICB2YXIgcG9zOwogICAgaWYgKCFwYXJ0cykgewogICAgICBwYXJ0cyA9IHt9OwogICAgfQogICAgLy8gW3Byb3RvY29sIjovLyJbdXNlcm5hbWVbIjoicGFzc3dvcmRdIkAiXWhvc3RuYW1lWyI6InBvcnRdIi8iP11bcGF0aF1bIj8icXVlcnlzdHJpbmddWyIjImZyYWdtZW50XQoKICAgIC8vIGV4dHJhY3QgZnJhZ21lbnQKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeQogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHByb3RvY29sCiAgICBpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykgewogICAgICAvLyByZWxhdGl2ZS1zY2hlbWUKICAgICAgcGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpOwogICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICB9IGVsc2UgewogICAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICBpZiAocG9zID4gLTEpIHsKICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICAvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGgKICAgICAgICAgIHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTsKCiAgICAgICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICAgICAgcGFydHMudXJuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoCiAgICBwYXJ0cy5wYXRoID0gc3RyaW5nOwoKICAgIC8vIGFuZCB3ZSdyZSBkb25lCiAgICByZXR1cm4gcGFydHM7CiAgfTsKICBVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICBzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTsKICAgIHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpOwogIH07CiAgVVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkCiAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTsKICAgIHZhciB0OwoKICAgIC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aAogICAgaWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkgewogICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsOwogICAgICB0LnNoaWZ0KCk7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gbnVsbDsKICAgICAgcGFydHMucGFzc3dvcmQgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKICBVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHBhcnRzLnByb3RvY29sICsgJzonOwogICAgfQoKICAgIGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICcvLyc7CiAgICB9CgogICAgdCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykgewogICAgICBpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdCArPSAnLyc7CiAgICAgIH0KCiAgICAgIHQgKz0gcGFydHMucGF0aDsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkgewogICAgICB0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5OwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7CiAgICAgIHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7CiAgICB9CiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICByZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7CiAgfTsKICBVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy51c2VybmFtZSkgewogICAgICB0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpOwogICAgfQoKICAgIGlmIChwYXJ0cy5wYXNzd29yZCkgewogICAgICB0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpOwogICAgfQoKICAgIGlmICh0KSB7CiAgICAgIHQgKz0gJ0AnOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIGRvbid0IGFwcGVuZCAiPSIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb24KICAgIHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpOwogIH07CgogIFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dOwogICAgICB9CgogICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSBbdmFsdWVdOwogICAgICB9CgogICAgICBkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICBzd2l0Y2ggKGdldFR5cGUobmFtZSkpIHsKICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpKSB7CiAgICAgICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSAmJiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCB2YWx1ZSkpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGNhc2UgJ09iamVjdCc6CiAgICAgICAgZm9yICh2YXIgX2tleSBpbiBuYW1lKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwgX2tleSkpIHsKICAgICAgICAgICAgaWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwgX2tleSwgbmFtZVtfa2V5XSkpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHsKICAgICAgY2FzZSAnVW5kZWZpbmVkJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSkKICAgICAgICByZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7CgogICAgICBjYXNlICdCb29sZWFuJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5CiAgICAgICAgdmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBfYm9vbHk7CgogICAgICBjYXNlICdGdW5jdGlvbic6CiAgICAgICAgLy8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uCiAgICAgICAgcmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7CgogICAgICBjYXNlICdBcnJheSc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDsKICAgICAgICByZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnTnVtYmVyJzoKICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7CiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpOwogICAgfQogIH07CgoKICBVUkkuam9pblBhdGhzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQgPSBbXTsKICAgIHZhciBzZWdtZW50cyA9IFtdOwogICAgdmFyIG5vbkVtcHR5U2VnbWVudHMgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJJKGFyZ3VtZW50c1tpXSk7CiAgICAgIGlucHV0LnB1c2godXJsKTsKICAgICAgdmFyIF9zZWdtZW50cyA9IHVybC5zZWdtZW50KCk7CiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgX3NlZ21lbnRzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBfc2VnbWVudHNbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKF9zZWdtZW50c1tzXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3NlZ21lbnRzW3NdKSB7CiAgICAgICAgICBub25FbXB0eVNlZ21lbnRzKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFzZWdtZW50cy5sZW5ndGggfHwgIW5vbkVtcHR5U2VnbWVudHMpIHsKICAgICAgcmV0dXJuIG5ldyBVUkkoJycpOwogICAgfQoKICAgIHZhciB1cmkgPSBuZXcgVVJJKCcnKS5zZWdtZW50KHNlZ21lbnRzKTsKCiAgICBpZiAoaW5wdXRbMF0ucGF0aCgpID09PSAnJyB8fCBpbnB1dFswXS5wYXRoKCkuc2xpY2UoMCwgMSkgPT09ICcvJykgewogICAgICB1cmkucGF0aCgnLycgKyB1cmkucGF0aCgpKTsKICAgIH0KCiAgICByZXR1cm4gdXJpLm5vcm1hbGl6ZSgpOwogIH07CgogIFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7CiAgICB2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDsKICAgIHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kOwogICAgdmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07CiAgICB2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVsiJ10/JC9pOwoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTsKICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlSHRtbCkgewogICAgICAgIC8vIGF0dHJpYnV0KGU9WyInXT8kKQogICAgICAgIHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTsKICAgICAgICBpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpOwogICAgICB2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpOwogICAgICBpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7CiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTsKICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpOwogICAgICBfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoOwogICAgfQoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgcmV0dXJuIHN0cmluZzsKICB9OwoKICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHsKICAgIC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KQogICAgLy8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanMKCiAgICBpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAvLyB0ZXN0IHB1bnljb2RlCiAgICAgIGlmICghcHVueWNvZGUpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpOwogICAgICB9CgogICAgICBpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub0NvbmZsaWN0CiAgVVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHsKICAgIGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7CiAgICAgIHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5jbG9uZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBVUkkodGhpcyk7CiAgfTsKCiAgcC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCgogIGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDsKICB9OwogIHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7CiAgfTsKCiAgcC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwogICAgICByZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nOwogICAgICB9CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnBhdGggPSBwLnBhdGhuYW1lOwogIHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7CiAgICB2YXIgaXAgPSBmYWxzZTsKICAgIHZhciBpcDQgPSBmYWxzZTsKICAgIHZhciBpcDYgPSBmYWxzZTsKICAgIHZhciBuYW1lID0gZmFsc2U7CiAgICB2YXIgc2xkID0gZmFsc2U7CiAgICB2YXIgaWRuID0gZmFsc2U7CiAgICB2YXIgcHVueWNvZGUgPSBmYWxzZTsKICAgIHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJlbGF0aXZlID0gZmFsc2U7CiAgICAgIGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcCA9IGlwNCB8fCBpcDY7CiAgICAgIG5hbWUgPSAhaXA7CiAgICAgIHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgcHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgfQoKICAgIHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3JlbGF0aXZlJzoKICAgICAgICByZXR1cm4gcmVsYXRpdmU7CgogICAgICBjYXNlICdhYnNvbHV0ZSc6CiAgICAgICAgcmV0dXJuICFyZWxhdGl2ZTsKCiAgICAgIC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uCiAgICAgIGNhc2UgJ2RvbWFpbic6CiAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgIHJldHVybiBuYW1lOwoKICAgICAgY2FzZSAnc2xkJzoKICAgICAgICByZXR1cm4gc2xkOwoKICAgICAgY2FzZSAnaXAnOgogICAgICAgIHJldHVybiBpcDsKCiAgICAgIGNhc2UgJ2lwNCc6CiAgICAgIGNhc2UgJ2lwdjQnOgogICAgICBjYXNlICdpbmV0NCc6CiAgICAgICAgcmV0dXJuIGlwNDsKCiAgICAgIGNhc2UgJ2lwNic6CiAgICAgIGNhc2UgJ2lwdjYnOgogICAgICBjYXNlICdpbmV0Nic6CiAgICAgICAgcmV0dXJuIGlwNjsKCiAgICAgIGNhc2UgJ2lkbic6CiAgICAgICAgcmV0dXJuIGlkbjsKCiAgICAgIGNhc2UgJ3VybCc6CiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICd1cm4nOgogICAgICAgIHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3B1bnljb2RlJzoKICAgICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLy8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb24KICB2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDsKICB2YXIgX3BvcnQgPSBwLnBvcnQ7CiAgdmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7CgogIHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodikgewogICAgICAgIC8vIGFjY2VwdCB0cmFpbGluZyA6Ly8KICAgICAgICB2ID0gdi5yZXBsYWNlKC86KFwvXC8pPyQvLCAnJyk7CgogICAgICAgIGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblwndCBzdGFydCB3aXRoIFtBLVpdJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5zY2hlbWUgPSBwLnByb3RvY29sOwogIHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHggPSB7fTsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHYgPSB4Lmhvc3RuYW1lOwogICAgfQogICAgcmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBjb21wb3VuZCBhY2Nlc3NvcnMKICBwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7CiAgICAgIHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpOwogICAgICBpZiAoIWF1dGhvcml0eSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9yaWdpbiA9IFVSSSh2KTsKICAgICAgdGhpcwogICAgICAgIC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSkKICAgICAgICAuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSkKICAgICAgICAuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTsKICAgICAgcmV0dXJuIHQgPyB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykgewogICAgICAgIHYgKz0gJ0AnOwogICAgICB9CgogICAgICBVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAid3d3IiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDsKICAgICAgdmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpOwoKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7CiAgICAgICAgdiArPSAnLic7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAiZXhhbXBsZS5vcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpbgogICAgICB2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cLi9nKTsKICAgICAgaWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lOwogICAgICB9CgogICAgICAvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7CiAgICAgIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyByZXR1cm4gIm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwoKICAgICAgaWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICByZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkOwogICAgICB9CgogICAgICByZXR1cm4gdGxkOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpOwogICAgICB9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkgewogICAgICAgIGlmIChTTEQgJiYgU0xELmlzKHYpKSB7CiAgICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJy8nOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzOwoKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoOwogICAgICB2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTsKCiAgICAgIC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2gKICAgICAgaWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB2ID0gJy8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgICAgIHYgPSAnLycgKyB2OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2gKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7CiAgICAgICAgdiArPSAnLyc7CiAgICAgIH0KCiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7CgogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcvJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgaWYgKHYubWF0Y2goL1wuP1wvLykpIHsKICAgICAgICBtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpOwogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CgogICAgICBpZiAobXV0YXRlZERpcmVjdG9yeSkgewogICAgICAgIHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpOwogICAgICB2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHMsIHJlczsKCiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLikKICAgICAgcyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7CiAgICAgIHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7CiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcuJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgfSBlbHNlIGlmICghdikgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpOwogICAgICB9CgogICAgICBpZiAocmVwbGFjZSkgewogICAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZAogICAgICAgID8gc2VnbWVudHMKICAgICAgICA6IHNlZ21lbnRzW3NlZ21lbnRdOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgIH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChpc0FycmF5KHYpKSB7CiAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXkKICAgICAgICBmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkgewogICAgICAgICAgICBzZWdtZW50cy5wb3AoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgaWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7CiAgICAgICAgICAvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuCiAgICAgICAgICAvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXIKICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHYpIHsKICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTsKICAgICAgfQogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy51bnNoaWZ0KCcnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpOwogIH07CiAgcC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2W2ldID0gVVJJLmVuY29kZSh2W2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogIH07CgogIC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZwogIHZhciBxID0gcC5xdWVyeTsKICBwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB0cnVlKSB7CiAgICAgIHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpOwogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpOwogICAgfQogIH07CiAgcC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdGhpcwogICAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAgIC5idWlsZCgpOwogICAgfQoKICAgIHJldHVybiB0aGlzCiAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKQogICAgICAubm9ybWFsaXplUG9ydChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkgewogICAgdmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDsKICAgIGlmICghX3BhdGgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTsKCiAgICB2YXIgX3dhc19yZWxhdGl2ZTsKICAgIHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJzsKICAgIHZhciBfcGFyZW50LCBfcG9zOwoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocwogICAgaWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIF93YXNfcmVsYXRpdmUgPSB0cnVlOwogICAgICBfcGF0aCA9ICcvJyArIF9wYXRoOwogICAgfQoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcykKICAgIGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykgewogICAgICBfcGF0aCArPSAnLyc7CiAgICB9CgogICAgLy8gcmVzb2x2ZSBzaW1wbGVzCiAgICBfcGF0aCA9IF9wYXRoCiAgICAgIC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykKICAgICAgLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwoKICAgIC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50cwogICAgaWYgKF93YXNfcmVsYXRpdmUpIHsKICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFwuXC5cLykrLykgfHwgJyc7CiAgICAgIGlmIChfbGVhZGluZ1BhcmVudHMpIHsKICAgICAgICBfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXNvbHZlIHBhcmVudHMKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIF9wYXJlbnQgPSBfcGF0aC5zZWFyY2goL1wvXC5cLihcL3wkKS8pOwogICAgICBpZiAoX3BhcmVudCA9PT0gLTEpIHsKICAgICAgICAvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlCiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkgewogICAgICAgIC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXQKICAgICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgX3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpOwogICAgICBpZiAoX3BvcyA9PT0gLTEpIHsKICAgICAgICBfcG9zID0gX3BhcmVudDsKICAgICAgfQogICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIHJlbGF0aXZlCiAgICBpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgIF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDsKICBwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7CiAgICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5OwogIHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7CgogIHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmkgPSB0aGlzLmNsb25lKCk7CiAgICAvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NgogICAgdXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7CiAgICB2YXIgdCA9ICcnOwogICAgaWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkgewogICAgICAgIHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpOwogICAgICAgIGlmICh1cmkuX3BhcnRzLnBvcnQpIHsKICAgICAgICAgIHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0ICs9IHVyaS5ob3N0KCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHQgKz0gJy8nOwogICAgfQoKICAgIHQgKz0gdXJpLnBhdGgodHJ1ZSk7CiAgICBpZiAodXJpLl9wYXJ0cy5xdWVyeSkgewogICAgICB2YXIgcSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7CiAgICAgICAgcSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CgogICAgICAgIGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwogICAgICAgIH0KICAgICAgfQogICAgICB0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpOwogICAgcmV0dXJuIHQ7CiAgfTsKCiAgLy8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzCiAgcC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTsKICAgIHZhciBiYXNlZGlyLCBpLCBwOwoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgICB9CgogICAgZm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7CiAgICAgIHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTsKICAgIH0KCiAgICByZXNvbHZlZC5idWlsZCgpOwogICAgcmV0dXJuIHJlc29sdmVkOwogIH07CiAgcC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoOwoKICAgIGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTsKICAgIHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7CiAgICBiYXNlUGFydHMgPSBiYXNlLl9wYXJ0czsKICAgIHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTsKICAgIGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7CgogICAgaWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7CiAgICB9CgogICAgaWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkgewogICAgICByZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDsKICAgICAgcmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucGF0aCA9ICcnOwogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoCiAgICBjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTsKCiAgICAvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguCiAgICBpZiAoIWNvbW1vbikgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICB2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoCiAgICAgIC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkKICAgICAgLnJlcGxhY2UoL1teXC9dKiQvLCAnJykKICAgICAgLnJlcGxhY2UoLy4qP1wvL2csICcuLi8nKTsKCiAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIG9uZSA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciB0d28gPSBuZXcgVVJJKHVyaSk7CiAgICB2YXIgb25lX21hcCA9IHt9OwogICAgdmFyIHR3b19tYXAgPSB7fTsKICAgIHZhciBjaGVja2VkID0ge307CiAgICB2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTsKCiAgICBvbmUubm9ybWFsaXplKCk7CiAgICB0d28ubm9ybWFsaXplKCk7CgogICAgLy8gZXhhY3QgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeSBzdHJpbmcKICAgIG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpOwogICAgdHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7CiAgICBvbmUucXVlcnkoJycpOwogICAgdHdvLnF1ZXJ5KCcnKTsKCiAgICAvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZAogICAgaWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgdHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgZm9yIChrZXkgaW4gb25lX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkgewogICAgICAgIGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7CiAgICAgICAgICBpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tlZFtrZXldID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIGZvciAoa2V5IGluIHR3b19tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRba2V5XSkgewogICAgICAgICAgLy8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIHN0YXRlCiAgcC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSkpOwoKfSx7Ii4vSVB2NiI6MiwiLi9TZWNvbmRMZXZlbERvbWFpbnMiOjMsIi4vcHVueWNvZGUiOjV9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMCBieSBAbWF0aGlhcyAqLwo7KGZ1bmN0aW9uKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmCgkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCXZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYKCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCXZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoCgkJZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCgkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkgKiBAbmFtZSBwdW55Y29kZQoJICogQHR5cGUgT2JqZWN0CgkgKi8KCXZhciBwdW55Y29kZSwKCgkvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovCgltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJdE1pbiA9IDEsCgl0TWF4ID0gMjYsCglza2V3ID0gMzgsCglkYW1wID0gNzAwLAoJaW5pdGlhbEJpYXMgPSA3MiwKCWluaXRpYWxOID0gMTI4LCAvLyAweDgwCglkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCglyZWdleFB1bnljb2RlID0gL154bi0tLywKCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgkvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCgliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCglmbG9vciA9IE1hdGguZmxvb3IsCglzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCWtleTsKCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKioKCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJICovCglmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCX0KCgkvKioKCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCSAqIGl0ZW0uCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCXZhciByZXN1bHQgPSBbXTsKCQl3aGlsZSAobGVuZ3RoLS0pIHsKCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX0KCgkvKioKCSAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbAoJICogYWRkcmVzc2VzLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCSAqIGNoYXJhY3Rlci4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrCgkgKiBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHsKCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsKCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQlyZXN1bHQgPSBwYXJ0c1swXSArICdAJzsKCQkJc3RyaW5nID0gcGFydHNbMV07CgkJfQoJCS8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCXZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCSAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoCgkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCSAqIG1hdGNoaW5nIFVURi0xNi4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYAoJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZGVjb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJICovCglmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgY291bnRlciA9IDAsCgkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJICAgIHZhbHVlLAoJCSAgICBleHRyYTsKCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCWlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGVuY29kZQoJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCSAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCXZhciBvdXRwdXQgPSAnJzsKCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCX0KCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CgkJCXJldHVybiBvdXRwdXQ7CgkJfSkuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW4KCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJICovCglmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDIyOwoJCX0KCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gNjU7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA5NzsKCQl9CgkJcmV0dXJuIGJhc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3IKCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCSAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkCgkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJICovCglmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCXJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7Cgl9CgoJLyoqCgkgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLgoJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCSAqIEBwcml2YXRlCgkgKi8KCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCXZhciBrID0gMDsKCQlkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwoJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQlkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7CgkJfQoJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCSAqIHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJLy8gRG9uJ3QgdXNlIFVDUy0yCgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkgICAgb3V0LAoJCSAgICBpID0gMCwKCQkgICAgbiA9IGluaXRpYWxOLAoJCSAgICBiaWFzID0gaW5pdGlhbEJpYXMsCgkJICAgIGJhc2ljLAoJCSAgICBqLAoJCSAgICBpbmRleCwKCQkgICAgb2xkaSwKCQkgICAgdywKCQkgICAgaywKCQkgICAgZGlnaXQsCgkJICAgIHQsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBiYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7CgoJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJLy8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXIKCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJZm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoKCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQl9CgoJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgoJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQl9CgoJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAoJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJaSAlPSBvdXQ7CgoJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJICAgIGlucHV0TGVuZ3RoLAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCSAgICBiYXNlTWludXNULAoJCSAgICBxTWludXNUOwoKCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTsKCgkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkvLyBJbml0aWFsaXplIHRoZSBzdGF0ZQoJCW4gPSBpbml0aWFsTjsKCQlkZWx0YSA9IDA7CgkJYmlhcyA9IGluaXRpYWxCaWFzOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCX0KCQl9CgoJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDsKCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCWlmIChiYXNpY0xlbmd0aCkgewoJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCX0KCgkJLy8gTWFpbiBlbmNvZGluZyBsb29wOgoJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCS8vIGxhcmdlciBvbmU6CgkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CgkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCX0KCQkJfQoKCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQloYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CgkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJbiA9IG07CgoJCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCS8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCgkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJaWYgKHEgPCB0KSB7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQlxTWludXNUID0gcSAtIHQ7CgkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQlzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpCgkJCQkJCSk7CgkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJfQoKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQlkZWx0YSA9IDA7CgkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCX0KCQkJfQoKCQkJKytkZWx0YTsKCQkJKytuOwoKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCSAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgoJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJICogc3RyaW5nLgoJICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCSAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpbgoJICogQVNDSUkuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhCgkgKiBVbmljb2RlIHN0cmluZy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCSAqIGVtYWlsIGFkZHJlc3MuCgkgKi8KCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCglwdW55Y29kZSA9IHsKCQkvKioKCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgU3RyaW5nCgkJICovCgkJJ3ZlcnNpb24nOiAnMS4zLjInLAoJCS8qKgoJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQkndWNzMic6IHsKCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCSdlbmNvZGUnOiB1Y3MyZW5jb2RlCgkJfSwKCQknZGVjb2RlJzogZGVjb2RlLAoJCSdlbmNvZGUnOiBlbmNvZGUsCgkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCX07CgoJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCS8vIGxpa2UgdGhlIGZvbGxvd2luZzoKCWlmICgKCQl0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYKCQl0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJgoJCWRlZmluZS5hbWQKCSkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHB1bnljb2RlOwoJCX0pOwoJfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCS8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCsKCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJfSBlbHNlIHsKCQkJLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJfQoJCX0KCX0gZWxzZSB7CgkJLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgoJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCX0KCn0odGhpcykpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gYWN0aXZhdGU7Cgp2YXIgX3VyaWpzID0gcmVxdWlyZSgndXJpanMnKTsKCnZhciBfdXJpanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJpanMpOwoKdmFyIF9TeW5jaGVyID0gcmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKdmFyIE5vdGlmaWNhdGlvbnNPYnNlcnZlciA9IHsKICAgIG9uTm90aWZpY2F0aW9uOiBmdW5jdGlvbiBvbk5vdGlmaWNhdGlvbihjYWxsYmFjaykgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuc3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgaWYgKGV2ZW50LnNjaGVtYSA9PT0gX3RoaXMub2JqZWN0RGVzY1VSTCkgewogICAgICAgICAgICAgICAgX3RoaXMuc3luY2hlci5zdWJzY3JpYmUoX3RoaXMub2JqZWN0RGVzY1VSTCwgZXZlbnQudXJsKS50aGVuKGZ1bmN0aW9uIChkYXRhT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vdGlmaWNhdGlvbiByZWNlaXZlZCcsIGRhdGFPYmplY3QpOwogICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3Qub25BZGRDaGlsZChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ21lc3NhZ2UgcmVjZWl2ZWQnLCBjaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZERhdGEgPSBjaGlsZC5kYXRhID8gY2hpbGQuZGF0YSA6IGNoaWxkLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubm90aWZpY2F0aW9ucy5wdXNoKGNoaWxkRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKF90aGlzLm5vdGlmaWNhdGlvbnNbX3RoaXMubm90aWZpY2F0aW9ucy5sZW5ndGggLSAxXSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9OwoKdmFyIE5vdGlmaWNhdGlvbnNPYnNlcnZlckZhY3RvcnkgPSBmdW5jdGlvbiBOb3RpZmljYXRpb25zT2JzZXJ2ZXJGYWN0b3J5KGh5cGVydHlVUkwsIGJ1cywgY29uZmlnKSB7CiAgICB2YXIgdXJpID0gbmV3IF91cmlqczIuZGVmYXVsdChoeXBlcnR5VVJMKTsKICAgIHZhciBzeW5jaGVyID0gbmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpOwogICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShOb3RpZmljYXRpb25zT2JzZXJ2ZXIpLCB7CiAgICAgICAgJ3N5bmNoZXInOiBzeW5jaGVyLAogICAgICAgICdvYmplY3REZXNjVVJMJzogJ2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicgKyB1cmkuaG9zdG5hbWUoKSArICcvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uJywKICAgICAgICAnaHlwZXJ0eVVSTCc6IGh5cGVydHlVUkwsCiAgICAgICAgbm90aWZpY2F0aW9uczogW10KICAgIH0pOwp9OwoKZnVuY3Rpb24gYWN0aXZhdGUoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpIHsKICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogJ05vdGlmaWNhdGlvbnNPYnNlcnZlcicsCiAgICAgICAgaW5zdGFuY2U6IE5vdGlmaWNhdGlvbnNPYnNlcnZlckZhY3RvcnkoaHlwZXJ0eVVSTCwgYnVzLCBjb25maWcpCiAgICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7InNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlciI6MSwidXJpanMiOjR9XX0se30sWzZdKSg2KQp9KTs=",
      "sourceCodeClassname": "NotificationsObserver",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10010,
    "version": "0.1",
    "description": "Description of NotificationsObserver",
    "language": "Javascript",
    "objectName": "NotificationsObserver",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "NotificationsReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NDEgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKGMscyl7aWYoIXJbY10pe2lmKCF0W2NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighcyYmdSlyZXR1cm4gdShjLCEwKTtpZihpKXJldHVybiBpKGMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltjXT17ZXhwb3J0czp7fX07dFtjXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W2NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbY10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYz0wO2M8bi5sZW5ndGg7YysrKW8obltjXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsYyl7dmFyIHMsdT1uKHQpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYoZSYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKGV8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxjPWUoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLGYsXyxsPWUmdS5GLGQ9ZSZ1LkcscD1lJnUuUyx2PWUmdS5QLHk9ZSZ1LkIsaD1lJnUuVyxiPWQ/bzpvW3RdfHwob1t0XT17fSksbT1iW3NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihhIGluIHIpZj0hbCYmZyYmdm9pZCAwIT09Z1thXSxmJiZhIGluIGJ8fChfPWY/Z1thXTpyW2FdLGJbYV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbYV0/clthXTp5JiZmP2koXyxuKTpoJiZnW2FdPT1fP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W3NdPWVbc10sdH0oXyk6diYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8sdiYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVthXT1fLGUmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCx0LmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPWUoIi4vX2FuLW9iamVjdCIpLHM9ZSgiLi9fdG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGwpe3ZhciBkLHAsdix5LGg9bD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLF8sdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgaCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGgpKXtmb3IoZD1zKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9iKGMocD1lW21dKVswXSxwWzFdKTpiKGVbbV0pLHk9PT1hfHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWguY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGIscC52YWx1ZSx0KSx5PT09YXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIGM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O2UoIi4vX2hpZGUiKShjLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxjPWUoIi4vX2hpZGUiKSxzPWUoIi4vX2hhcyIpLHU9ZSgiLi9faXRlcmF0b3JzIiksYT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPWUoIi4vX29iamVjdC1ncG8iKSxsPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyxqKXthKHIsdCxiKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFM9ITEsRT1lLnByb3RvdHlwZSxVPUVbbF18fEVbcF18fG0mJkVbbV0sVD1VfHxPKG0pLFI9bT9QP08oImVudHJpZXMiKTpUOnZvaWQgMCxMPSJBcnJheSI9PXQ/RS5lbnRyaWVzfHxVOlU7aWYoTCYmKGs9XyhMLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGgpKSksUCYmVSYmVS5uYW1lIT09eSYmKFM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBVLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFTJiZFW2xdfHxjKEUsbCxUKSx1W3RdPVQsdVtNXT1oLG0paWYoeD17dmFsdWVzOlA/VDpPKHkpLGtleXM6Zz9UOk8odiksZW50cmllczpSfSxqKWZvcih3IGluIHgpdyBpbiBFfHxpKEUsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8UyksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LGUoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKGMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxjPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSxhPXQuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oc1t1XT1uKGUpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109ZSk6cj1hKCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIGMoZSx0LHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixjPWkodCkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYoZSxyPWNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxjPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9ZSgiLi9faGFzIiksdT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9Yyh0LCEwKSx1KXRyeXtyZXR1cm4gYShlLHQpfWNhdGNoKHIpe31yZXR1cm4gcyhlLHQpP28oIW4uZi5jYWxsKGUsdCksZVt0XSk6dm9pZCAwfX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2hhcyI6MjgsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fb2JqZWN0LXBpZSI6NTEsIi4vX3Byb3BlcnR5LWRlc2MiOjUzLCIuL190by1pb2JqZWN0Ijo2NiwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSx7Ii4vX2hhcyI6MjgsIi4vX3NoYXJlZC1rZXkiOjU5LCIuL190by1vYmplY3QiOjY4fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLGM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9byhlKSx1PTAsYT1bXTtmb3IociBpbiBzKXIhPWMmJm4ocyxyKSYmYS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihzLHI9dFt1KytdKSYmKH5pKGEscil8fGEucHVzaChyKSk7cmV0dXJuIGF9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjoxNSwiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLWlvYmplY3QiOjY2fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6MjMsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo0OX1dLDUxOltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxjPXt9O2NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixjKX19LHsiLi9fY29yZSI6MTgsIi4vX2V4cG9ydCI6MjQsIi4vX2ZhaWxzIjoyNX1dLDUzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjI5fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19jdHgiOjE5LCIuL19pcy1vYmplY3QiOjM1LCIuL19vYmplY3QtZ29wZCI6NDd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLGM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtjJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjoxOCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19nbG9iYWwiOjI3LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjoyOCwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fd2tzIjo3MX1dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6NjAsIi4vX3VpZCI6NzB9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6Mjd9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWN8fHZvaWQgMD09KHI9bihjKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4tb2JqZWN0IjoxNCwiLi9fd2tzIjo3MX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxjLHM9U3RyaW5nKG8odCkpLHU9bihyKSxhPXMubGVuZ3RoO3JldHVybiAwPnV8fHU+PWE/ZT8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KHUpLDU1Mjk2Pml8fGk+NTYzMTl8fHUrMT09PWF8fChjPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8Yz41NzM0Mz9lP3MuY2hhckF0KHUpOmk6ZT9zLnNsaWNlKHUsdSsyKTooaS01NTI5Njw8MTApKyhjLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjoyMCwiLi9fdG8taW50ZWdlciI6NjV9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxjPWUoIi4vX2N0eCIpLHM9ZSgiLi9faW52b2tlIiksdT1lKCIuL19odG1sIiksYT1lKCIuL19kb20tY3JlYXRlIiksZj1lKCIuL19nbG9iYWwiKSxfPWYucHJvY2VzcyxsPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSxwPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtsJiZkfHwobD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7cygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoXyk/bj1mdW5jdGlvbihlKXtfLm5leHRUaWNrKGMoYixlLDEpKX06cD8obz1uZXcgcCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPWMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6bCxjbGVhcjpkfX0seyIuL19jb2YiOjE3LCIuL19jdHgiOjE5LCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZ2xvYmFsIjoyNywiLi9faHRtbCI6MzAsIi4vX2ludm9rZSI6MzJ9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MjAsIi4vX2lvYmplY3QiOjMzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6NjV9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6MjB9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0IjozNX1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoIndrcyIpLG89ZSgiLi9fdWlkIiksaT1lKCIuL19nbG9iYWwiKS5TeW1ib2wsYz0iZnVuY3Rpb24iPT10eXBlb2YgaSxzPXQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YyYmaVtlXXx8KGM/aTpvKSgiU3ltYm9sLiIrZSkpfTtzLnN0b3JlPW59LHsiLi9fZ2xvYmFsIjoyNywiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY2xhc3NvZiIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1lKCIuL19pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi9fY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi9fY2xhc3NvZiI6MTYsIi4vX2NvcmUiOjE4LCIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLGM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi9faXRlci1kZWZpbmUiOjM4LCIuL19pdGVyLXN0ZXAiOjQwLCIuL19pdGVyYXRvcnMiOjQxLCIuL190by1pb2JqZWN0Ijo2Nn1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19leHBvcnQiOjI0LCIuL19vYmplY3QtZHAiOjQ1fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NTAsIi4vX29iamVjdC1zYXAiOjUyLCIuL190by1vYmplY3QiOjY4fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw3NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGksYz1lKCIuL19saWJyYXJ5Iikscz1lKCIuL19nbG9iYWwiKSx1PWUoIi4vX2N0eCIpLGE9ZSgiLi9fY2xhc3NvZiIpLGY9ZSgiLi9fZXhwb3J0IiksXz1lKCIuL19pcy1vYmplY3QiKSxsPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLGQ9ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLHY9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLHk9ZSgiLi9fdGFzayIpLnNldCxoPWUoIi4vX21pY3JvdGFzayIpKCksYj0iUHJvbWlzZSIsbT1zLlR5cGVFcnJvcixnPXMucHJvY2VzcyxqPXNbYl0sZz1zLnByb2Nlc3MseD0icHJvY2VzcyI9PWEoZyksdz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWoucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKHcsdyl9O3JldHVybih4fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKHcpaW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWomJnQ9PT1pfSxNPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBfKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIE8oaixlKT9uZXcgUyhlKTpuZXcgbyhlKX0sUz1vPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBtKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bCh0KSx0aGlzLnJlamVjdD1sKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7aChmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLGM9bz90Lm9rOnQuZmFpbCxzPXQucmVzb2x2ZSx1PXQucmVqZWN0LGE9dC5kb21haW47dHJ5e2M/KG98fCgyPT1lLl9oJiZMKGUpLGUuX2g9MSksYz09PSEwP3I9bjooYSYmYS5lbnRlcigpLHI9YyhuKSxhJiZhLmV4aXQoKSkscj09PXQucHJvbWlzZT91KG0oIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9TShyKSk/aS5jYWxsKHIscyx1KTpzKHIpKTp1KG4pfWNhdGNoKGYpe3UoZil9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZUKGUpfSl9fSxUPWZ1bmN0aW9uKGUpe3kuY2FsbChzLGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdjtpZihSKGUpJiYodD1FKGZ1bmN0aW9uKCl7eD9nLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj1zLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD14fHxSKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LFI9ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFSKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEw9ZnVuY3Rpb24oZSl7eS5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgdDt4P2cuZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9cy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxVKHQsITApKX0sQz1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBtKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PU0oZSkpP2goZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLHUoQyxuLDEpLHUoQSxuLDEpKX1jYXRjaChvKXtBLmNhbGwobixvKX19KTooci5fdj1lLHIuX3M9MSxVKHIsITEpKX1jYXRjaChuKXtBLmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O2t8fChqPWZ1bmN0aW9uKGUpe2QodGhpcyxqLGIsIl9oIiksbChlKSxuLmNhbGwodGhpcyk7dHJ5e2UodShDLHRoaXMsMSksdShBLHRoaXMsMSkpfWNhdGNoKHQpe0EuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShqLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPVAodih0aGlzLGopKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9dShDLGUsMSksdGhpcy5yZWplY3Q9dShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosYiksZSgiLi9fc2V0LXNwZWNpZXMiKShiKSxpPWUoIi4vX2NvcmUiKVtiXSxmKGYuUytmLkYqIWssYix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhayksYix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksYix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1FKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLHJbc109ZSwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxjPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7NT51O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjgxfV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsc1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxjPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGM9dm9pZCAwLHM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIHMpaWYodm9pZCAwIT09c1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKHNbb10ubGFzdE1vZGlmaWVkKSxjPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShzW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUsYz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLGMsaSk7dmFyIGE9YztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpzW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLGM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPV8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxsWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGw9bihfKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PWMsci5kZWVwQ2xvbmU9cyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbODBdKSg4MCl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4zLjAKLy8gTGFzdCBidWlsZDogV2VkIEp1biAyOSAyMDE2IDE2OjQzOjUyIEdNVCswMjAwIChDRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBhKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWFbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYz1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGMubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6Y319LHRoaXMpLGN9fTtmb3IodmFyIGMgaW4gcylzW2NdW29dPXQucHJvdG90eXBlW2NdLHQucHJvdG90eXBlW2NdPXNbY107dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxOH1dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMX1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjN9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyNH1dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNX1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciI6Mjd9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYz1uKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBhKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbj0oMCxjWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09bil7dmFyIG89KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW8/dm9pZCAwOmEobyx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBzPW4uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6Nn1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLHU9bihhKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKygidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsdVsiZGVmYXVsdCJdKSh0KSkpO2UucHJvdG90eXBlPSgwLGNbImRlZmF1bHQiXSkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihpWyJkZWZhdWx0Il0/KDAsaVsiZGVmYXVsdCJdKShlLHQpOmUuX19wcm90b19fPXQpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvciIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiKSxjPW4ocyksYT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09dHlwZW9mIGlbImRlZmF1bHQiXT9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOnR5cGVvZiBlfTtyWyJkZWZhdWx0Il09ImZ1bmN0aW9uIj09dHlwZW9mIGNbImRlZmF1bHQiXSYmInN5bWJvbCI9PT1hKGlbImRlZmF1bHQiXSk/ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjphKGUpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIjoxMCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvciI6MTF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIik7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiOjEwMH1dLDIwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSIpO3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5kZWZpbmVQcm9wZXJ0eShlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjoxMDF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MTAyfV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6MTAzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjoxMDR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjoxMDV9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjEwNywiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjoxMDgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6MTEyfV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjEwOSwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yIjoxMTAsIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIjoxMTF9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL193a3MtZXh0IikuZigiaXRlcmF0b3IiKX0seyIuLi8uLi9tb2R1bGVzL193a3MtZXh0Ijo5NiwiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjoxMDgsIi4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6MTEyfV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09biYmbiBpbiBlKXRocm93IFR5cGVFcnJvcihyKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiBlfX0se31dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fdG8tbGVuZ3RoIiksaT1lKCIuL190by1pbmRleCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLHMpe3ZhciBjLGE9bih0KSx1PW8oYS5sZW5ndGgpLGw9aShzLHUpO2lmKGUmJnIhPXIpe2Zvcig7dT5sOylpZihjPWFbbCsrXSxjIT1jKXJldHVybiEwfWVsc2UgZm9yKDt1Pmw7bCsrKWlmKChlfHxsIGluIGEpJiZhW2xdPT09cilyZXR1cm4gZXx8bHx8MDtyZXR1cm4hZSYmLTF9fX0seyIuL190by1pbmRleCI6ODgsIi4vX3RvLWlvYmplY3QiOjkwLCIuL190by1sZW5ndGgiOjkxfV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jb2YiKSxvPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxzPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKHIpe319O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLGM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1zKHQ9T2JqZWN0KGUpLG8pKT9yOmk/bih0KToiT2JqZWN0Ij09KGM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpjfX0seyIuL19jb2YiOjM0LCIuL193a3MiOjk3fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMi40LjAifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuL19hLWZ1bmN0aW9uIjoyOH1dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19mYWlscyI6NDN9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faXMtb2JqZWN0Ijo1NH1dLDQwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LHt9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzIiksbz1lKCIuL19vYmplY3QtZ29wcyIpLGk9ZSgiLi9fb2JqZWN0LXBpZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9by5mO2lmKHIpZm9yKHZhciBzLGM9cihlKSxhPWkuZix1PTA7Yy5sZW5ndGg+dTspYS5jYWxsKGUscz1jW3UrK10pJiZ0LnB1c2gocyk7cmV0dXJuIHR9fSx7Ii4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NX1dLDQyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGwsZixkPWUmYS5GLHA9ZSZhLkcsYj1lJmEuUyxfPWUmYS5QLGg9ZSZhLkIseT1lJmEuVyx2PXA/bzpvW3RdfHwob1t0XT17fSksbT12W2NdLGo9cD9uOmI/blt0XTooblt0XXx8e30pW2NdO3AmJihyPXQpO2Zvcih1IGluIHIpbD0hZCYmaiYmdm9pZCAwIT09alt1XSxsJiZ1IGluIHZ8fChmPWw/alt1XTpyW3VdLHZbdV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbdV0/clt1XTpoJiZsP2koZixuKTp5JiZqW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0oZik6XyYmImZ1bmN0aW9uIj09dHlwZW9mIGY/aShGdW5jdGlvbi5jYWxsLGYpOmYsXyYmKCh2LnZpcnR1YWx8fCh2LnZpcnR1YWw9e30pKVt1XT1mLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsZikpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjozNSwiLi9fY3R4IjozNiwiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDd9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDQ0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sbD17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixmLGQpe3ZhciBwLGIsXyxoLHk9ZD9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLHY9bihyLGYsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgeSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHkpKXtmb3IocD1jKGUubGVuZ3RoKTtwPm07bSsrKWlmKGg9dD92KHMoYj1lW21dKVswXSxiWzFdKTp2KGVbbV0pLGg9PT11fHxoPT09bClyZXR1cm4gaH1lbHNlIGZvcihfPXkuY2FsbChlKTshKGI9Xy5uZXh0KCkpLmRvbmU7KWlmKGg9byhfLHYsYi52YWx1ZSx0KSxoPT09dXx8aD09PWwpcmV0dXJuIGh9O3IuQlJFQUs9dSxyLlJFVFVSTj1sfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2N0eCI6MzYsIi4vX2lzLWFycmF5LWl0ZXIiOjUyLCIuL19pdGVyLWNhbGwiOjU1LCIuL190by1sZW5ndGgiOjkxLCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6OTh9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fcHJvcGVydHktZGVzYyI6Nzd9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6NDV9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZmFpbHMiOjQzfV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDUxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MzR9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vX2NvZiI6MzR9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi9fYW4tb2JqZWN0IjozMX1dLDU2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX29iamVjdC1jcmVhdGUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3NldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuL19oaWRlIikocyxlKCIuL193a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuL19oaWRlIjo0NywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3drcyI6OTd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19saWJyYXJ5Iiksbz1lKCIuL19leHBvcnQiKSxpPWUoIi4vX3JlZGVmaW5lIikscz1lKCIuL19oaWRlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2l0ZXJhdG9ycyIpLHU9ZSgiLi9faXRlci1jcmVhdGUiKSxsPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZj1lKCIuL19vYmplY3QtZ3BvIiksZD1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGI9IkBAaXRlcmF0b3IiLF89ImtleXMiLGg9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdixtLGosZyl7dShyLHQsdik7dmFyIHcsTyxrLHg9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gVClyZXR1cm4gVFtlXTtzd2l0Y2goZSl7Y2FzZSBfOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sQz10KyIgSXRlcmF0b3IiLEU9bT09aCxTPSExLFQ9ZS5wcm90b3R5cGUsUj1UW2RdfHxUW2JdfHxtJiZUW21dLE09Unx8eChtKSxOPW0/RT94KCJlbnRyaWVzIik6TTp2b2lkIDAsUD0iQXJyYXkiPT10P1QuZW50cmllc3x8UjpSO2lmKFAmJihrPWYoUC5jYWxsKG5ldyBlKSksayE9PU9iamVjdC5wcm90b3R5cGUmJihsKGssQywhMCksbnx8YyhrLGQpfHxzKGssZCx5KSkpLEUmJlImJlIubmFtZSE9PWgmJihTPSEwLE09ZnVuY3Rpb24oKXtyZXR1cm4gUi5jYWxsKHRoaXMpfSksbiYmIWd8fCFwJiYhUyYmVFtkXXx8cyhULGQsTSksYVt0XT1NLGFbQ109eSxtKWlmKHc9e3ZhbHVlczpFP006eChoKSxrZXlzOmo/TTp4KF8pLGVudHJpZXM6Tn0sZylmb3IoTyBpbiB3KU8gaW4gVHx8aShULE8sd1tPXSk7ZWxzZSBvKG8uUCtvLkYqKHB8fFMpLHQsdyk7cmV0dXJuIHd9fSx7Ii4vX2V4cG9ydCI6NDIsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pdGVyLWNyZWF0ZSI6NTYsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZ3BvIjo3MiwiLi9fcmVkZWZpbmUiOjc5LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3drcyI6OTd9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGMpe31yZXR1cm4gcn19LHsiLi9fd2tzIjo5N31dLDU5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDYwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cyIpLG89ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSkscz1uKGkpLGM9cy5sZW5ndGgsYT0wO2M+YTspaWYoaVtyPXNbYSsrXV09PT10KXJldHVybiByfX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX3RvLWlvYmplY3QiOjkwfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3VpZCIpKCJtZXRhIiksbz1lKCIuL19pcy1vYmplY3QiKSxpPWUoIi4vX2hhcyIpLHM9ZSgiLi9fb2JqZWN0LWRwIikuZixjPTAsYT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSx1PSFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIGEoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxsPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYyx3Ont9fX0pfSxmPWZ1bmN0aW9uKGUsdCl7aWYoIW8oZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFpKGUsbikpe2lmKCFhKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7bChlKX1yZXR1cm4gZVtuXS5pfSxkPWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSxuKSl7aWYoIWEoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7bChlKX1yZXR1cm4gZVtuXS53fSxwPWZ1bmN0aW9uKGUpe3JldHVybiB1JiZiLk5FRUQmJmEoZSkmJiFpKGUsbikmJmwoZSksZX0sYj10LmV4cG9ydHM9e0tFWTpuLE5FRUQ6ITEsZmFzdEtleTpmLGdldFdlYWs6ZCxvbkZyZWV6ZTpwfX0seyIuL19mYWlscyI6NDMsIi4vX2hhcyI6NDYsIi4vX2lzLW9iamVjdCI6NTQsIi4vX29iamVjdC1kcCI6NjYsIi4vX3VpZCI6OTR9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fdGFzayIpLnNldCxpPW4uTXV0YXRpb25PYnNlcnZlcnx8bi5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHM9bi5wcm9jZXNzLGM9bi5Qcm9taXNlLGE9InByb2Nlc3MiPT1lKCIuL19jb2YiKShzKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsdT1mdW5jdGlvbigpe3ZhciBuLG87Zm9yKGEmJihuPXMuZG9tYWluKSYmbi5leGl0KCk7ZTspe289ZS5mbixlPWUubmV4dDt0cnl7bygpfWNhdGNoKGkpe3Rocm93IGU/cigpOnQ9dm9pZCAwLGl9fXQ9dm9pZCAwLG4mJm4uZW50ZXIoKX07aWYoYSlyPWZ1bmN0aW9uKCl7cy5uZXh0VGljayh1KX07ZWxzZSBpZihpKXt2YXIgbD0hMCxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgaSh1KS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxyPWZ1bmN0aW9uKCl7Zi5kYXRhPWw9IWx9fWVsc2UgaWYoYyYmYy5yZXNvbHZlKXt2YXIgZD1jLnJlc29sdmUoKTtyPWZ1bmN0aW9uKCl7ZC50aGVuKHUpfX1lbHNlIHI9ZnVuY3Rpb24oKXtvLmNhbGwobix1KX07cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8scigpKSx0PW99fX0seyIuL19jb2YiOjM0LCIuL19nbG9iYWwiOjQ1LCIuL190YXNrIjo4N31dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19vYmplY3QtZHBzIiksaT1lKCIuL19lbnVtLWJ1Zy1rZXlzIikscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIiksYz1mdW5jdGlvbigpe30sYT0icHJvdG90eXBlIix1PWZ1bmN0aW9uKCl7dmFyIHQscj1lKCIuL19kb20tY3JlYXRlIikoImlmcmFtZSIpLG49aS5sZW5ndGgsbz0iPiI7Zm9yKHIuc3R5bGUuZGlzcGxheT0ibm9uZSIsZSgiLi9faHRtbCIpLmFwcGVuZENoaWxkKHIpLHIuc3JjPSJqYXZhc2NyaXB0OiIsdD1yLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsdC5vcGVuKCksdC53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDwvc2NyaXB0IitvKSx0LmNsb3NlKCksdT10LkY7bi0tOylkZWxldGUgdVthXVtpW25dXTtyZXR1cm4gdSgpfTt0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KGNbYV09bihlKSxyPW5ldyBjLGNbYV09bnVsbCxyW3NdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjpvKHIsdCl9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9faHRtbCI6NDgsIi4vX29iamVjdC1kcHMiOjY3LCIuL19zaGFyZWQta2V5Ijo4M31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGk9ZSgiLi9fdG8tcHJpbWl0aXZlIikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9aSh0LCEwKSxuKHIpLG8pdHJ5e3JldHVybiBzKGUsdCxyKX1jYXRjaChjKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1lKCIuL19vYmplY3Qta2V5cyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIHIscz1pKHQpLGM9cy5sZW5ndGgsYT0wO2M+YTspbi5mKGUscj1zW2ErK10sdFtyXSk7cmV0dXJuIGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWtleXMiOjc0fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtcGllIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL190by1pb2JqZWN0Iikscz1lKCIuL190by1wcmltaXRpdmUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/dTpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PXModCwhMCksYSl0cnl7cmV0dXJuIHUoZSx0KX1jYXRjaChyKXt9cmV0dXJuIGMoZSx0KT9vKCFuLmYuY2FsbChlLHQpLGVbdF0pOnZvaWQgMH19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWlvYmplY3QiKSxvPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpvKG4oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9byhlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm4oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbihjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG8odCkpLGE9bihyKSx1PWMubGVuZ3RoO3JldHVybiAwPmF8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLDU1Mjk2Pml8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsXz0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK19dPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKF8pLF99LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06Yj8obz1uZXcgYixpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1vLlN5bWJvbHx8KG8uU3ltYm9sPWk/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPXMmJmlbZV18fChzP2k6bykoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1ufSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NsYXNzb2YiKSxvPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjksIi4vX2l0ZXItZGVmaW5lIjo1NywiLi9faXRlci1zdGVwIjo1OSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7Y3JlYXRlOmUoIi4vX29iamVjdC1jcmVhdGUiKX0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1jcmVhdGUiOjY1fV0sMTAxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19leHBvcnQiOjQyLCIuL19vYmplY3QtZHAiOjY2fV0sMTAyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBvKG4oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1ncG8iKTtlKCIuL19vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3QtZ3BvIjo3MiwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1vYmplY3QiOjkyfV0sMTA1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vX3NldC1wcm90byIpLnNldH0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX3NldC1wcm90byI6ODB9XSwxMDY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxsPWUoIi4vX2V4cG9ydCIpLGY9ZSgiLi9faXMtb2JqZWN0IiksZD0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxwPWUoIi4vX2FuLWluc3RhbmNlIiksYj1lKCIuL19mb3Itb2YiKSxfPShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSxoPWUoIi4vX3Rhc2siKS5zZXQseT1lKCIuL19taWNyb3Rhc2siKSgpLHY9IlByb21pc2UiLG09Yy5UeXBlRXJyb3Isaj1jLnByb2Nlc3MsZz1jW3ZdLGo9Yy5wcm9jZXNzLHc9InByb2Nlc3MiPT11KGopLE89ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1nLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShPLE8pfTtyZXR1cm4od3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihPKWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1nJiZ0PT09aX0sQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZihlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG8oZSl9LFM9bz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgbSgiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixvPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhvfHwoMj09ZS5faCYmUChlKSxlLl9oPTEpLHM9PT0hMD9yPW46KHUmJnUuZW50ZXIoKSxyPXMobiksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShtKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShuKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbixvPWUuX3Y7aWYoTihlKSYmKHQ9VChmdW5jdGlvbigpe3c/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpvfSk6KG49Yy5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pLGUuX2g9d3x8TihlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxOPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxuPTA7ci5sZW5ndGg+bjspaWYodD1yW24rK10sdC5mYWlsfHwhTih0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxQPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9qLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksUih0LCEwKSl9LEw9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgbSgiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKEwsbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIuX3Y9ZSxyLl9zPTEsUihyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtfdzpyLF9kOiExfSxuKX19fTtrfHwoZz1mdW5jdGlvbihlKXtwKHRoaXMsZyx2LCJfaCIpLGQoZSksbi5jYWxsKHRoaXMpO3RyeXtlKGEoTCx0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG49ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sbi5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKF8odGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49dz9qLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZSKHRoaXMsITEpLHIucHJvbWlzZX0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxTPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPWEoTCxlLDEpLAp0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqKHN8fCFrKSx2LHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBnJiZ4KGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9RSh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksbChsLlMrbC5GKiEoayYmZSgiLi9faXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXtnLmFsbChlKVsiY2F0Y2giXShPKX0pKSx2LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPVQoZnVuY3Rpb24oKXt2YXIgcj1bXSxpPTAscz0xO2IoZSwhMSxmdW5jdGlvbihlKXt2YXIgYz1pKyssYT0hMTtyLnB1c2godm9pZCAwKSxzKyssdC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7YXx8KGE9ITAscltjXT1lLC0tc3x8bihyKSl9LG8pfSksLS1zfHxuKHIpfSk7cmV0dXJuIGkmJm8oaS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG49ci5yZWplY3Qsbz1UKGZ1bmN0aW9uKCl7YihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vX2EtZnVuY3Rpb24iOjI4LCIuL19hbi1pbnN0YW5jZSI6MzAsIi4vX2FuLW9iamVjdCI6MzEsIi4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9fY3R4IjozNiwiLi9fZXhwb3J0Ijo0MiwiLi9fZm9yLW9mIjo0NCwiLi9fZ2xvYmFsIjo0NSwiLi9faXMtb2JqZWN0Ijo1NCwiLi9faXRlci1kZXRlY3QiOjU4LCIuL19saWJyYXJ5Ijo2MiwiLi9fbWljcm90YXNrIjo2NCwiLi9fcmVkZWZpbmUtYWxsIjo3OCwiLi9fc2V0LXByb3RvIjo4MCwiLi9fc2V0LXNwZWNpZXMiOjgxLCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiOjg1LCIuL190YXNrIjo4NywiLi9fd2tzIjo5N31dLDEwODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjo1NywiLi9fc3RyaW5nLWF0Ijo4Nn1dLDEwOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2hhcyIpLGk9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX2V4cG9ydCIpLGM9ZSgiLi9fcmVkZWZpbmUiKSxhPWUoIi4vX21ldGEiKS5LRVksdT1lKCIuL19mYWlscyIpLGw9ZSgiLi9fc2hhcmVkIiksZj1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGQ9ZSgiLi9fdWlkIikscD1lKCIuL193a3MiKSxiPWUoIi4vX3drcy1leHQiKSxfPWUoIi4vX3drcy1kZWZpbmUiKSxoPWUoIi4vX2tleW9mIikseT1lKCIuL19lbnVtLWtleXMiKSx2PWUoIi4vX2lzLWFycmF5IiksbT1lKCIuL19hbi1vYmplY3QiKSxqPWUoIi4vX3RvLWlvYmplY3QiKSxnPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHc9ZSgiLi9fcHJvcGVydHktZGVzYyIpLE89ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLGs9ZSgiLi9fb2JqZWN0LWdvcG4tZXh0IikseD1lKCIuL19vYmplY3QtZ29wZCIpLEM9ZSgiLi9fb2JqZWN0LWRwIiksRT1lKCIuL19vYmplY3Qta2V5cyIpLFM9eC5mLFQ9Qy5mLFI9ay5mLE09bi5TeW1ib2wsTj1uLkpTT04sUD1OJiZOLnN0cmluZ2lmeSxEPSJwcm90b3R5cGUiLEw9cCgiX2hpZGRlbiIpLEE9cCgidG9QcmltaXRpdmUiKSxGPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEk9bCgic3ltYm9sLXJlZ2lzdHJ5IiksVT1sKCJzeW1ib2xzIiksVj1sKCJvcC1zeW1ib2xzIiksej1PYmplY3RbRF0sSD0iZnVuY3Rpb24iPT10eXBlb2YgTSxCPW4uUU9iamVjdCxXPSFCfHwhQltEXXx8IUJbRF0uZmluZENoaWxkLEo9aSYmdShmdW5jdGlvbigpe3JldHVybiA3IT1PKFQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49Uyh6LHQpO24mJmRlbGV0ZSB6W3RdLFQoZSx0LHIpLG4mJmUhPT16JiZUKHosdCxuKX06VCxZPWZ1bmN0aW9uKGUpe3ZhciB0PVVbZV09TyhNW0RdKTtyZXR1cm4gdC5faz1lLHR9LHE9SCYmInN5bWJvbCI9PXR5cGVvZiBNLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNfSxLPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PXomJksoVix0LHIpLG0oZSksdD1nKHQsITApLG0ociksbyhVLHQpPyhyLmVudW1lcmFibGU/KG8oZSxMKSYmZVtMXVt0XSYmKGVbTF1bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOncoMCwhMSl9KSk6KG8oZSxMKXx8VChlLEwsdygxLHt9KSksZVtMXVt0XT0hMCksSihlLHQscikpOlQoZSx0LHIpfSxHPWZ1bmN0aW9uKGUsdCl7bShlKTtmb3IodmFyIHIsbj15KHQ9aih0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylLKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkcoTyhlKSx0KX0sWD1mdW5jdGlvbihlKXt2YXIgdD1GLmNhbGwodGhpcyxlPWcoZSwhMCkpO3JldHVybiB0aGlzPT09eiYmbyhVLGUpJiYhbyhWLGUpPyExOnR8fCFvKHRoaXMsZSl8fCFvKFUsZSl8fG8odGhpcyxMKSYmdGhpc1tMXVtlXT90OiEwfSwkPWZ1bmN0aW9uKGUsdCl7aWYoZT1qKGUpLHQ9Zyh0LCEwKSxlIT09enx8IW8oVSx0KXx8byhWLHQpKXt2YXIgcj1TKGUsdCk7cmV0dXJuIXJ8fCFvKFUsdCl8fG8oZSxMKSYmZVtMXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9UihqKGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKFUsdD1yW2krK10pfHx0PT1MfHx0PT1hfHxuLnB1c2godCk7cmV0dXJuIG59LGVlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWU9PT16LG49UihyP1Y6aihlKSksaT1bXSxzPTA7bi5sZW5ndGg+czspbyhVLHQ9bltzKytdKSYmKHI/byh6LHQpOiEwKSYmaS5wdXNoKFVbdF0pO3JldHVybiBpfTtIfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PXomJnQuY2FsbChWLHIpLG8odGhpcyxMKSYmbyh0aGlzW0xdLGUpJiYodGhpc1tMXVtlXT0hMSksSih0aGlzLGUsdygxLHIpKX07cmV0dXJuIGkmJlcmJkooeixlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxZKGUpfSxjKE1bRF0sInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPSQsQy5mPUssZSgiLi9fb2JqZWN0LWdvcG4iKS5mPWsuZj1RLGUoIi4vX29iamVjdC1waWUiKS5mPVgsZSgiLi9fb2JqZWN0LWdvcHMiKS5mPWVlLGkmJiFlKCIuL19saWJyYXJ5IikmJmMoeiwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLGIuZj1mdW5jdGlvbihlKXtyZXR1cm4gWShwKGUpKX0pLHMocy5HK3MuVytzLkYqIUgse1N5bWJvbDpNfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KXAodGVbcmUrK10pO2Zvcih2YXIgdGU9RShwLnN0b3JlKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7cyhzLlMrcy5GKiFILCJTeW1ib2wiLHsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gbyhJLGUrPSIiKT9JW2VdOklbZV09TShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJuIGgoSSxlKTt0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Vz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Vz0hMX19KSxzKHMuUytzLkYqIUgsIk9iamVjdCIse2NyZWF0ZTpaLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpHLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZWV9KSxOJiZzKHMuUytzLkYqKCFIfHx1KGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1QKFtlXSl8fCJ7fSIhPVAoe2E6ZX0pfHwie30iIT1QKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIXEoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KW4ucHVzaChhcmd1bWVudHNbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnYodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLHEodCk/dm9pZCAwOnR9KSxuWzFdPXQsUC5hcHBseShOLG4pfX19KSxNW0RdW0FdfHxlKCIuL19oaWRlIikoTVtEXSxBLE1bRF0udmFsdWVPZiksZihNLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG4uSlNPTiwiSlNPTiIsITApfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZW51bS1rZXlzIjo0MSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzLCIuL19nbG9iYWwiOjQ1LCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXMtYXJyYXkiOjUzLCIuL19rZXlvZiI6NjEsIi4vX2xpYnJhcnkiOjYyLCIuL19tZXRhIjo2MywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1nb3BkIjo2OCwiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL19vYmplY3QtZ29wbi1leHQiOjY5LCIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc2hhcmVkIjo4NCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTMsIi4vX3VpZCI6OTQsIi4vX3drcyI6OTcsIi4vX3drcy1kZWZpbmUiOjk1LCIuL193a3MtZXh0Ijo5Nn1dLDExMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vX3drcy1kZWZpbmUiKSgiYXN5bmNJdGVyYXRvciIpfSx7Ii4vX3drcy1kZWZpbmUiOjk1fV0sMTExOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJvYnNlcnZhYmxlIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2hpZGUiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksYz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLGE9MDs1PmE7YSsrKXt2YXIgdT1jW2FdLGw9blt1XSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW3NdJiZvKGYscyx1KSxpW3VdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6OTl9XSwxMTM6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWMoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYT1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YSkmJihyPWMoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGMsYT17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGM9cy5uYW1lLGkmJmlbY109PT1lfHwocy52YWx1ZSE9PW9bY10mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmMsb2xkVmFsdWU6b1tjXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksYVtjXT0hMCk7Zm9yKGMgaW4gbylhW2NdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTpjLG9sZFZhbHVlOm9bY119KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBjKGUscixvLGMsYSl7dmFyIGw9ZS5sZW5ndGgtMTthPS1+KChsLWEpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWNbcC5pXSxzLmImJmEmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxhLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLF8saCx5PXIuY2hpbGROb2Rlcyx2PW8uYixtPXkubGVuZ3RoLGo9dj92Lmxlbmd0aDowLGc9MCx3PTAsTz0wO20+d3x8aj5POylfPXlbd10saD0oYj12W09dKSYmYi5qLF89PT1oPyhzLmEmJmIuYSYmaSh0LF8sYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZfLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpffSkpLHAmJmMocCxyLHksdixnKSxzLmUmJihfLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KF8sYiksdysrLE8rKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksXyYmKGRbYj1hKF8pXXx8KGRbYl09ITAsLTE9PT0oYj1mKHYsXyxPLCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W19dLG5leHRTaWJsaW5nOl8ubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOl8ucHJldmlvdXNTaWJsaW5nfSkpLGcrKyk6cC5wdXNoKHtoOncsaTpifSkpLHcrKyksaCYmaCE9PXlbd10mJihkW2I9YShoKV18fChkW2JdPSEwLC0xPT09KGI9Zih5LGgsdykpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOltoXSxuZXh0U2libGluZzp2W08rMV0scHJldmlvdXNTaWJsaW5nOnZbTy0xXX0pKSxnLS0pOnAucHVzaCh7aDpiLGk6T30pKSxPKyspKTtwJiZjKHAscix5LHYsZyl9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBhKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09ITAsZX0pKSxpLnB1c2goe206ZSxsOm8oZSxuKX0pLHRoaXMuZnx8cih0aGlzKX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmcscj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ubChlKTtyZXR1cm4gZX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuZz1bXSxjbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbH19O3ZhciBkPTE7cmV0dXJuIHR9KHZvaWQgMCl9LHt9XSwxMTQ6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxjPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYT10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFthKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1hKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWEoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChhKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YShyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYyh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KGgobixlKSxqKGUsbix0LHIpKToobj1fKGUpLGooZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LF89ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxjPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjptKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTtjPGkubGVuZ3RoOyluW2NdPWQodCxpW2NdKSxzW2NdPXRbaVtjKytdXTtlbHNlIGZvcig7YzxpLmxlbmd0aDspc1tjXT10W2lbYysrXV07cmV0dXJuIG8uc2V0KHQscikscn0saD1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGM9dC52YWx1ZXNbcl0sYT10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYz09PXM/MD09PWMmJjEvYyE9PTEvczpjPT09Y3x8cz09PXMpJiYoZyhlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG4pLHQudmFsdWVzW3JdPXMpLCFhLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1hLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1hLmVudW1lcmFibGUmJm8uZ2V0PT09YS5nZXQmJm8uc2V0PT09YS5zZXR8fChnKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGcoZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGM9ci5sZW5ndGg7biYmYy0tOyludWxsIT09cltjXSYmKHM9ZChlLHJbY10pLG4tLSxzP3QoZSxvLGMsaSxzKTooZyhlLG8se25hbWU6cltjXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2NdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGMsMSksby52YWx1ZXMuc3BsaWNlKGMsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYywxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoZyhlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYyx1LHAsYixfLGgseSx2PW4udmFsdWVzLG09bi5kZXNjcmlwdG9ycyxqPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYz1zLmxlbmd0aCx1PWwobyksbSl7Zm9yKDtqPHUubGVuZ3RoOyliPXVbaisrXSxwPWEocyxiKSx5PWQobyxiKSwtMT09PXA/KGcobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksdi5wdXNoKG9bYl0pLG0ucHVzaCh5KSk6KHNbcF09bnVsbCxjLS0sdChvLG4scCxpLHkpKTtyKG8scyxjLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsZyhvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO2o8dS5sZW5ndGg7KWI9dVtqKytdLHA9YShzLGIpLF89b1tiXSwtMT09PXA/KGcobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksdi5wdXNoKF8pKTooc1twXT1udWxsLGMtLSx0KG8sbixwLGkpKTtyKG8scyxjLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7ajxzLmxlbmd0aDtqKyspYj1zW2pdLHQobyxuLGosaSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKGg9ZihvKSxoIT09bi5wcm90byYmKGcobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89aCkpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaChoKSxpLmZvckVhY2godikscCh5KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LG09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtnKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGM9by5nZXQoZSksYT1hcmd1bWVudHNbMl0sdT1hPT09bj9yKCk6ci5jYWxsKGEpO2lmKGMmJmgoYyxlLHQpLGMmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7ZyhlLGMscyl9fX19LGo9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGc9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1hKG8sbikpJiZhKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aChlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7dihuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDptKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aChlLmRhdGEsdCl9KSx2KHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYz1uKHMpLGE9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihhKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWNbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6MTE4LCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjoxMTksIi4vc3luY2hlci9TeW5jaGVyIjoxMjIsImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6MTEzLCJvYmplY3Qub2JzZXJ2ZSI6MTE0fV0sMTE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxfPW4oYiksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW4sYy5fc3RhdHVzPW8sYy5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgX1siZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBfWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNywiLi9TeW5jT2JqZWN0IjoxMjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1uKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW8sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIxLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9bihzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLF89bihiKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bihoKSx2PWUoIi4vRGF0YU9iamVjdCIpLG09bih2KSxqPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1uKGopLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxfWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsX1siZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9dy5BTlk6KG4udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT13LkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShtWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTYsIi4vRGF0YU9iamVjdENoaWxkIjoxMTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9bihzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLF89bihiKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bihoKSx2PWUoIi4vRGF0YU9iamVjdCIpLG09bih2KSxqPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLGouZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxqLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLGouZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShtWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiLi9EYXRhT2JqZWN0IjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTIwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9bihzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Xy5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Xy5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgXz1vLnNsaWNlKHMscytkKTtfLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoXyl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYz1zLnRvU3RyaW5nKCk7CmlmKC0xIT09Yy5pbmRleE9mKCJTeW1ib2wiKSljb250aW51ZTt2YXIgYT1vW3Rbbl0ubmFtZV07InVwZGF0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5VUERBVEUsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSksImFkZCI9PT10W25dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUocyxhKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShhKX0pKSwiZGVsZXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmN9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InJlbW92ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fb2JzZXJ2YWJsZXNbZV19fSx7a2V5OiJyZUluZGV4RnJvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX29ic2VydmFibGVzW3JdLG89ZS5pbmRleE9mKG4ub2JqKTtuLmlkeCE9byYmKG4uaWR4PW8sZGVsZXRlIHQuX29ic2VydmFibGVzW3JdLHQuX29ic2VydmFibGVzW29dPW4pfSl9fSx7a2V5OiJuZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PXAmJih0aGlzLl9vYnNlcnZhYmxlc1tlLmlkeF09ZSk7dmFyIHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0Ll9wYXRoLnB1c2goZSksdH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fcGF0aC5wdXNoKGUpfSksdH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24odCxyKXswPT09cj9lPXQudG9TdHJpbmcoKTplKz0iLiIrdC50b1N0cmluZygpfSksZX19XSksZX0oKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLm9iaj10LHRoaXMuaWR4PXJ9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKX19XSksZX0oKSxiPXIuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LF89ci5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07clsiZGVmYXVsdCJdPWZ9LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksXz1uKGIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYz1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1jLHQoYyl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBfWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYz1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1jLG8oYykscy5hcHBseShjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTgsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTksIi4vRGF0YVByb3Zpc2lvbmFsIjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbMTE1XSkoMTE1KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuSVB2NiA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKgogIHZhciBfaW4gPSAiZmU4MDowMDAwOjAwMDA6MDAwMDowMjA0OjYxZmY6ZmU5ZDpmMTU2IjsKICB2YXIgX291dCA9IElQdjYuYmVzdChfaW4pOwogIHZhciBfZXhwZWN0ZWQgPSAiZmU4MDo6MjA0OjYxZmY6ZmU5ZDpmMTU2IjsKCiAgY29uc29sZS5sb2coX2luLCBfb3V0LCBfZXhwZWN0ZWQsIF9vdXQgPT09IF9leHBlY3RlZCk7CiAgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IElQdjYgdmFyaWFibGUsIGlmIGFueQogIHZhciBfSVB2NiA9IHJvb3QgJiYgcm9vdC5JUHY2OwoKICBmdW5jdGlvbiBiZXN0UHJlc2VudGF0aW9uKGFkZHJlc3MpIHsKICAgIC8vIGJhc2VkIG9uOgogICAgLy8gSmF2YXNjcmlwdCB0byB0ZXN0IGFuIElQdjYgYWRkcmVzcyBmb3IgcHJvcGVyIGZvcm1hdCwgYW5kIHRvCiAgICAvLyBwcmVzZW50IHRoZSAiYmVzdCB0ZXh0IHJlcHJlc2VudGF0aW9uIiBhY2NvcmRpbmcgdG8gSUVURiBEcmFmdCBSRkMgYXQKICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQKICAgIC8vIDggRmViIDIwMTAgUmljaCBCcm93biwgRGFydHdhcmUsIExMQwogICAgLy8gUGxlYXNlIGZlZWwgZnJlZSB0byB1c2UgdGhpcyBjb2RlIGFzIGxvbmcgYXMgeW91IHByb3ZpZGUgYSBsaW5rIHRvCiAgICAvLyBodHRwOi8vd3d3LmludGVybWFwcGVyLmNvbQogICAgLy8gaHR0cDovL2ludGVybWFwcGVyLmNvbS9zdXBwb3J0L3Rvb2xzL0lQVjYtVmFsaWRhdG9yLmFzcHgKICAgIC8vIGh0dHA6Ly9kb3dubG9hZC5kYXJ0d2FyZS5jb20vdGhpcmRwYXJ0eS9pcHY2dmFsaWRhdG9yLmpzCgogICAgdmFyIF9hZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpOwogICAgdmFyIHNlZ21lbnRzID0gX2FkZHJlc3Muc3BsaXQoJzonKTsKICAgIHZhciBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CiAgICB2YXIgdG90YWwgPSA4OwoKICAgIC8vIHRyaW0gY29sb25zICg6OiBvciA6OmE6Yjpj4oCmIG9yIOKApmE6YjpjOjopCiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJyAmJiBzZWdtZW50c1syXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjoKICAgICAgLy8gcmVtb3ZlIGZpcnN0IHR3byBpdGVtcwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6eHh4eAogICAgICAvLyByZW1vdmUgdGhlIGZpcnN0IGl0ZW0KICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnICYmIHNlZ21lbnRzW2xlbmd0aCAtIDJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiB4eHh4OjoKICAgICAgc2VnbWVudHMucG9wKCk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFkanVzdCB0b3RhbCBzZWdtZW50cyBmb3IgSVB2NCB0cmFpbGVyCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0uaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAvLyBmb3VuZCBhICIuIiB3aGljaCBtZWFucyBJUHY0CiAgICAgIHRvdGFsID0gNzsKICAgIH0KCiAgICAvLyBmaWxsIGVtcHR5IHNlZ21lbnRzIHRoZW0gd2l0aCAiMDAwMCIKICAgIHZhciBwb3M7CiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKHNlZ21lbnRzW3Bvc10gPT09ICcnKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgdG90YWwpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMSwgJzAwMDAnKTsKICAgICAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA8IHRvdGFsKSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMCwgJzAwMDAnKTsKICAgICAgfQogICAgfQoKICAgIC8vIHN0cmlwIGxlYWRpbmcgemVyb3MKICAgIHZhciBfc2VnbWVudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgX3NlZ21lbnRzID0gc2VnbWVudHNbaV0uc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMgOyBqKyspIHsKICAgICAgICBpZiAoX3NlZ21lbnRzWzBdID09PSAnMCcgJiYgX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIF9zZWdtZW50cy5zcGxpY2UoMCwxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWdtZW50c1tpXSA9IF9zZWdtZW50cy5qb2luKCcnKTsKICAgIH0KCiAgICAvLyBmaW5kIGxvbmdlc3Qgc2VxdWVuY2Ugb2YgemVyb2VzIGFuZCBjb2FsZXNjZSB0aGVtIGludG8gb25lIHNlZ21lbnQKICAgIHZhciBiZXN0ID0gLTE7CiAgICB2YXIgX2Jlc3QgPSAwOwogICAgdmFyIF9jdXJyZW50ID0gMDsKICAgIHZhciBjdXJyZW50ID0gLTE7CiAgICB2YXIgaW56ZXJvZXMgPSBmYWxzZTsKICAgIC8vIGk7IGFscmVhZHkgZGVjbGFyZWQKCiAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBpZiAoaW56ZXJvZXMpIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgX2N1cnJlbnQgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW56ZXJvZXMgPSBmYWxzZTsKICAgICAgICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgICAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICAgICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgaW56ZXJvZXMgPSB0cnVlOwogICAgICAgICAgY3VycmVudCA9IGk7CiAgICAgICAgICBfY3VycmVudCA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICB9CgogICAgaWYgKF9iZXN0ID4gMSkgewogICAgICBzZWdtZW50cy5zcGxpY2UoYmVzdCwgX2Jlc3QsICcnKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYXNzZW1ibGUgcmVtYWluaW5nIHNlZ21lbnRzCiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnKSAgewogICAgICByZXN1bHQgPSAnOic7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdCArPSBzZWdtZW50c1tpXTsKICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi8KICAgIGlmIChyb290LklQdjYgPT09IHRoaXMpIHsKICAgICAgcm9vdC5JUHY2ID0gX0lQdjY7CiAgICB9CiAgCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBiZXN0OiBiZXN0UHJlc2VudGF0aW9uLAogICAgbm9Db25mbGljdDogbm9Db25mbGljdAogIH07Cn0pKTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBTZWNvbmQgTGV2ZWwgRG9tYWluIChTTEQpIFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gc2F2ZSBjdXJyZW50IFNlY29uZExldmVsRG9tYWlucyB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6JyBjb20gZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhZSc6JyBhYyBjbyBnb3YgbWlsIG5hbWUgbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdhZic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYW8nOicgY28gZWQgZ3YgaXQgb2cgcGIgJywKICAgICAgJ2FyJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6JyBhYyBjbyBndiBvciAnLAogICAgICAnYXUnOicgYXNuIGNvbSBjc2lybyBlZHUgZ292IGlkIG5ldCBvcmcgJywKICAgICAgJ2JhJzonIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOicgYml6IGNvIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyBzdG9yZSB0diAnLAogICAgICAnYmgnOicgYml6IGNjIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnYm4nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0diAnLAogICAgICAnYnInOicgYWRtIGFkdiBhZ3IgYW0gYXJxIGFydCBhdG8gYiBiaW8gYmxvZyBibWQgY2ltIGNuZyBjbnQgY29tIGNvb3AgZWNuIGVkdSBlbmcgZXNwIGV0YyBldGkgZmFyIGZsb2cgZm0gZm5kIGZvdCBmc3QgZzEyIGdnZiBnb3YgaW1iIGluZCBpbmYgam9yIGp1cyBsZWwgbWF0IG1lZCBtaWwgbXVzIG5ldCBub20gbm90IG50ciBvZG8gb3JnIHBwZyBwcm8gcHNjIHBzaSBxc2wgcmVjIHNsZyBzcnYgdG1wIHRyZCB0dXIgdHYgdmV0IHZsb2cgd2lraSB6bGcgJywKICAgICAgJ2JzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzonIGR1IGV0IG9tIG92IHJnICcsCiAgICAgICdjYSc6JyBhYiBiYyBtYiBuYiBuZiBubCBucyBudCBudSBvbiBwZSBxYyBzayB5ayAnLAogICAgICAnY2snOicgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOicgYWMgYWggYmogY29tIGNxIGVkdSBmaiBnZCBnb3YgZ3MgZ3ggZ3ogaGEgaGIgaGUgaGkgaGwgaG4gamwganMganggbG4gbWlsIG5ldCBubSBueCBvcmcgcWggc2Mgc2Qgc2ggc24gc3ggdGogdHcgeGogeHogeW4gemogJywKICAgICAgJ2NvJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnY3InOicgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOicgYWMgYml6IGNvbSBla2xvZ2VzIGdvdiBsdGQgbmFtZSBuZXQgb3JnIHBhcmxpYW1lbnQgcHJlc3MgcHJvIHRtICcsCiAgICAgICdkbyc6JyBhcnQgY29tIGVkdSBnb2IgZ292IG1pbCBuZXQgb3JnIHNsZCB3ZWIgJywKICAgICAgJ2R6JzonIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6JyBjb20gZWR1IGZpbiBnb3YgaW5mbyBtZWQgbWlsIG5ldCBvcmcgcHJvICcsCiAgICAgICdlZyc6JyBjb20gZWR1IGV1biBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2kgJywKICAgICAgJ2VyJzonIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzonIGNvbSBlZHUgZ29iIG5vbSBvcmcgJywKICAgICAgJ2V0JzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5hbWUgbmV0IG9yZyAnLAogICAgICAnZmonOicgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6JyBhYyBjbyBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ2ZyJzonIGFzc28gY29tIGYgZ291diBub20gcHJkIHByZXNzZSB0bSAnLAogICAgICAnZ2cnOicgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOicgY29tIGVkdSBnb3YgbWlsIG9yZyAnLAogICAgICAnZ24nOicgYWMgY29tIGdvdiBuZXQgb3JnICcsCiAgICAgICdncic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOicgY29tIGVkdSBnb2IgaW5kIG1pbCBuZXQgb3JnICcsCiAgICAgICdndSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdoayc6JyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOicgMjAwMCBhZ3JhciBib2x0IGNhc2lubyBjaXR5IGNvIGVyb3RpY2EgZXJvdGlrYSBmaWxtIGZvcnVtIGdhbWVzIGhvdGVsIGluZm8gaW5nYXRsYW4gam9nYXN6IGtvbnl2ZWxvIGxha2FzIG1lZGlhIG5ld3Mgb3JnIHByaXYgcmVrbGFtIHNleCBzaG9wIHNwb3J0IHN1bGkgc3pleCB0bSB0b3pzZGUgdXRhemFzIHZpZGVvICcsCiAgICAgICdpZCc6JyBhYyBjbyBnbyBtaWwgbmV0IG9yIHNjaCB3ZWIgJywKICAgICAgJ2lsJzonIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOicgYWMgY28gZWR1IGVybmV0IGZpcm0gZ2VuIGdvdiBpIGluZCBtaWwgbmV0IG5pYyBvcmcgcmVzICcsCiAgICAgICdpcSc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgb3JnICcsCiAgICAgICdpcic6JyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzonIGVkdSBnb3YgJywKICAgICAgJ2plJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2pvJzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6JyBhYyBhZCBjbyBlZCBnbyBnciBsZyBuZSBvciAnLAogICAgICAna2UnOicgYWMgY28gZ28gaW5mbyBtZSBtb2JpIG5lIG9yIHNjICcsCiAgICAgICdraCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzonIGJpeiBjb20gZGUgZWR1IGdvdiBpbmZvIG1vYiBuZXQgb3JnIHRlbCAnLAogICAgICAna20nOicgYXNzbyBjb20gY29vcCBlZHUgZ291diBrIG1lZGVjaW4gbWlsIG5vbSBub3RhaXJlcyBwaGFybWFjaWVucyBwcmVzc2UgdG0gdmV0ZXJpbmFpcmUgJywKICAgICAgJ2tuJzonIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOicgYWMgYnVzYW4gY2h1bmdidWsgY2h1bmduYW0gY28gZGFlZ3UgZGFlamVvbiBlcyBnYW5nd29uIGdvIGd3YW5nanUgZ3llb25nYnVrIGd5ZW9uZ2dpIGd5ZW9uZ25hbSBocyBpbmNoZW9uIGplanUgamVvbmJ1ayBqZW9ubmFtIGsga2cgbWlsIG1zIG5lIG9yIHBlIHJlIHNjIHNlb3VsIHVsc2FuICcsCiAgICAgICdrdyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbGInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbGsnOicgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbHYnOicgYXNuIGNvbSBjb25mIGVkdSBnb3YgaWQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2x5JzonIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzonIGFjIGNvIGdvdiBtIG5ldCBvcmcgcHJlc3MgJywKICAgICAgJ21jJzonIGFzc28gdG0gJywKICAgICAgJ21lJzonIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOicgY29tIGVkdSBnb3YgbWlsIG5vbSBvcmcgcHJkIHRtICcsCiAgICAgICdtayc6JyBjb20gZWR1IGdvdiBpbmYgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbWwnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzonIGVkdSBnb3Ygb3JnICcsCiAgICAgICdtbyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6JyBhZXJvIGJpeiBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IG1pbCBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbXcnOicgYWMgY28gY29tIGNvb3AgZWR1IGdvdiBpbnQgbXVzZXVtIG5ldCBvcmcgJywKICAgICAgJ214JzonIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduZic6JyBhcnRzIGNvbSBmaXJtIGluZm8gbmV0IG90aGVyIHBlciByZWMgc3RvcmUgd2ViICcsCiAgICAgICduZyc6JyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOicgYWMgY28gY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICducCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbnInOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOicgYWMgYml6IGNvIGNvbSBlZHUgZ292IG1lZCBtaWwgbXVzZXVtIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAncGUnOicgY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncGgnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzonIGJpeiBjb20gZWR1IGZhbSBnb2IgZ29rIGdvbiBnb3AgZ29zIGdvdiBuZXQgb3JnIHdlYiAnLAogICAgICAncGwnOicgYXJ0IGJpYWx5c3RvayBiaXogY29tIGVkdSBnZGEgZ2RhbnNrIGdvcnpvdyBnb3YgaW5mbyBrYXRvd2ljZSBrcmFrb3cgbG9keiBsdWJsaW4gbWlsIG5ldCBuZ28gb2xzenR5biBvcmcgcG96bmFuIHB3ciByYWRvbSBzbHVwc2sgc3pjemVjaW4gdG9ydW4gd2Fyc3phd2Egd2F3IHdyb2Mgd3JvY2xhdyB6Z29yYSAnLAogICAgICAncHInOicgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHBsbyBzZWMgJywKICAgICAgJ3B3JzonIGJlbGF1IGNvIGVkIGdvIG5lIG9yICcsCiAgICAgICdybyc6JyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6JyBhYyBjbyBlZHUgZ292IGluIG9yZyAnLAogICAgICAnc2InOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2MnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOicgY28gY29tIGVkdSBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ3NsJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3N0JzonIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOicgY29tIGVkdSBnb2Igb3JnIHJlZCAnLAogICAgICAnc3onOicgYWMgY28gb3JnICcsCiAgICAgICd0cic6JyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOicgYWVybyBiaXogY2F0IGNvIGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgam9icyBtaWwgbW9iaSBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyB0ZWwgdHJhdmVsICcsCiAgICAgICd0dyc6JyBjbHViIGNvbSBlYml6IGVkdSBnYW1lIGdvdiBpZHYgbWlsIG5ldCBvcmcgJywKICAgICAgJ211JzonIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ25hJzonIGNvIGNvbSAnLAogICAgICAnbnonOicgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOicgYWJvIGFjIGNvbSBlZHUgZ29iIGluZyBtZWQgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwdCc6JyBjb20gZWR1IGdvdiBpbnQgbmV0IG5vbWUgb3JnIHB1YmwgJywKICAgICAgJ3B5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncmUnOicgYXNzbyBjb20gbm9tICcsCiAgICAgICdydSc6JyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6JyBhYyBjbyBjb20gZWR1IGdvdXYgZ292IGludCBtaWwgbmV0ICcsCiAgICAgICdzYSc6JyBjb20gZWR1IGdvdiBtZWQgbmV0IG9yZyBwdWIgc2NoICcsCiAgICAgICdzZCc6JyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6JyBhIGFjIGIgYmQgYyBkIGUgZiBnIGggaSBrIGwgbSBuIG8gb3JnIHAgcGFydGkgcHAgcHJlc3MgciBzIHQgdG0gdSB3IHggeSB6ICcsCiAgICAgICdzZyc6JyBjb20gZWR1IGdvdiBpZG4gbmV0IG9yZyBwZXIgJywKICAgICAgJ3NuJzonIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbmV3cyBvcmcgJywKICAgICAgJ3RoJzonIGFjIGNvIGdvIGluIG1pIG5ldCBvciAnLAogICAgICAndGonOicgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6JyBhZ3JpbmV0IGNvbSBkZWZlbnNlIGVkdW5ldCBlbnMgZmluIGdvdiBpbmQgaW5mbyBpbnRsIG1pbmNvbSBuYXQgbmV0IG9yZyBwZXJzbyBybnJ0IHJucyBybnUgdG91cmlzbSAnLAogICAgICAndHonOicgYWMgY28gZ28gbmUgb3IgJywKICAgICAgJ3VhJzonIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6JyBhYyBjbyBnbyBuZSBvciBvcmcgc2MgJywKICAgICAgJ3VrJzonIGFjIGJsIGJyaXRpc2gtbGlicmFyeSBjbyBjeW0gZ292IGdvdnQgaWNuZXQgamV0IGxlYSBsdGQgbWUgbWlsIG1vZCBuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kIG5lbCBuZXQgbmhzIG5pYyBubHMgb3JnIG9yZ24gcGFybGlhbWVudCBwbGMgcG9saWNlIHNjaCBzY290IHNvYyAnLAogICAgICAndXMnOicgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzonIGNvbSBlZHUgZ3ViIG1pbCBuZXQgb3JnICcsCiAgICAgICd2ZSc6JyBjbyBjb20gZWR1IGdvYiBpbmZvIG1pbCBuZXQgb3JnIHdlYiAnLAogICAgICAndmknOicgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6JyBhYyBiaXogY29tIGVkdSBnb3YgaGVhbHRoIGluZm8gaW50IG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ3llJzonIGNvIGNvbSBnb3YgbHRkIG1lIG5ldCBvcmcgcGxjICcsCiAgICAgICd5dSc6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOicgYWMgYWdyaWMgYWx0IGJvdXJzZSBjaXR5IGNvIGN5YmVybmV0IGRiIGVkdSBnb3YgZ3JvbmRhciBpYWNjZXNzIGltdCBpbmNhIGxhbmRlc2lnbiBsYXcgbWlsIG5ldCBuZ28gbmlzIG5vbSBvbGl2ZXR0aSBvcmcgcGl4IHNjaG9vbCB0bSB3ZWIgJywKICAgICAgJ3ptJzonIGFjIGNvIGNvbSBlZHUgZ292IG5ldCBvcmcgc2NoICcKICAgIH0sCiAgICAvLyBnb3JoaWxsIDIwMTMtMTAtMjU6IFVzaW5nIGluZGV4T2YoKSBpbnN0ZWFkIFJlZ2V4cCgpLiBTaWduaWZpY2FudCBib29zdAogICAgLy8gaW4gYm90aCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IGZvb3RwcmludC4gTm8gaW5pdGlhbGl6YXRpb24gcmVxdWlyZWQuCiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS91cmktanMtc2xkLXJlZ2V4LXZzLWJpbmFyeS1zZWFyY2gvNAogICAgLy8gRm9sbG93aW5nIG1ldGhvZHMgdXNlIGxhc3RJbmRleE9mKCkgcmF0aGVyIHRoYW4gYXJyYXkuc3BsaXQoKSBpbiBvcmRlcgogICAgLy8gdG8gYXZvaWQgYW55IG1lbW9yeSBhbGxvY2F0aW9ucy4KICAgIGhhczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPj0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2UoMCwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSk7CiAgICB9LAogICAgbm9Db25mbGljdDogZnVuY3Rpb24oKXsKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID09PSB0aGlzKSB7CiAgICAgICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBfU2Vjb25kTGV2ZWxEb21haW5zOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CgogIHJldHVybiBTTEQ7Cn0pKTsKCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHsKICAndXNlIHN0cmljdCc7CiAgLypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi8KICAvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZQogIC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJOwoKICBmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7CiAgICB2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxOwogICAgdmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7CgogICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgaWYgKF9iYXNlU3VwcGxpZWQpIHsKICAgICAgICAgIHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSSSgpOwogICAgfQoKICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhyZWYodXJsKTsKCiAgICAvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3IKICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIFVSSS52ZXJzaW9uID0gJzEuMTguMSc7CgogIHZhciBwID0gVVJJLnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCiAgZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2MwogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7CiAgfQoKICBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7CiAgICAvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZQogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuICdVbmRlZmluZWQnOwogICAgfQoKICAgIHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHsKICAgIHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7CiAgfQoKICBmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkgewogICAgdmFyIGxvb2t1cCA9IHt9OwogICAgdmFyIGksIGxlbmd0aDsKCiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGxvb2t1cCA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgbG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxvb2t1cFt2YWx1ZV0gPSB0cnVlOwogICAgfQoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgdmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZAogICAgICAgIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBob3N0bmFtZTogbnVsbCwKICAgICAgdXJuOiBudWxsLAogICAgICBwb3J0OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICBxdWVyeTogbnVsbCwKICAgICAgZnJhZ21lbnQ6IG51bGwsCiAgICAgIC8vIHN0YXRlCiAgICAgIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywKICAgICAgZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2UKICAgIH07CiAgfTsKICAvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpCiAgVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlOwogIC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKQogIFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTsKICAvLyBzdGF0aWMgcHJvcGVydGllcwogIFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTsKICBVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcLi1dL2k7CiAgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7CiAgLy8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlPwogIFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSQvOwogIC8vIGNyZWRpdHMgdG8gUmljaCBCcm93bgogIC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NgogIC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0CiAgVVJJLmlwNl9leHByZXNzaW9uID0gL15ccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKSkoJS4rKT9ccyokLzsKICAvLyBleHByZXNzaW9uIHVzZWQgaXMgImdydWJlciByZXZpc2VkIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGUKICAvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXQKICAvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4CiAgLy8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sCiAgVVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXGIoKD86W2Etel1bXHctXSs6KD86XC97MSwzfXxbYS16MC05JV0pfHd3d1xkezAsM31bLl18W2EtejAtOS5cLV0rWy5dW2Etel17Miw0fVwvKSg/OlteXHMoKTw+XSt8XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKSkrKD86XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKXxbXlxzYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7CiAgVVJJLmZpbmRVcmkgPSB7CiAgICAvLyB2YWxpZCAic2NoZW1lOi8vIiBvciAid3d3LiIKICAgIHN0YXJ0OiAvXGIoPzooW2Etel1bYS16MC05ListXSo6XC9cLyl8d3d3XC4pL2dpLAogICAgLy8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlCiAgICBlbmQ6IC9bXHNcclxuXXwkLywKICAgIC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cAogICAgdHJpbTogL1tgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8KICB9OwogIC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0cwogIFVSSS5kZWZhdWx0UG9ydHMgPSB7CiAgICBodHRwOiAnODAnLAogICAgaHR0cHM6ICc0NDMnLAogICAgZnRwOiAnMjEnLAogICAgZ29waGVyOiAnNzAnLAogICAgd3M6ICc4MCcsCiAgICB3c3M6ICc0NDMnCiAgfTsKICAvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgLy8gQUxQSEEgRElHSVQgIi0iICIuIiAiXyIgIn4iICIhIiAiJCIgIiYiICInIiAiKCIgIikiICIqIiAiKyIgIiwiICI7IiAiPSIgJWVuY29kZWQKICAvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtCiAgVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVwuLV0vOwogIC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZQogIFVSSS5kb21BdHRyaWJ1dGVzID0gewogICAgJ2EnOiAnaHJlZicsCiAgICAnYmxvY2txdW90ZSc6ICdjaXRlJywKICAgICdsaW5rJzogJ2hyZWYnLAogICAgJ2Jhc2UnOiAnaHJlZicsCiAgICAnc2NyaXB0JzogJ3NyYycsCiAgICAnZm9ybSc6ICdhY3Rpb24nLAogICAgJ2ltZyc6ICdzcmMnLAogICAgJ2FyZWEnOiAnaHJlZicsCiAgICAnaWZyYW1lJzogJ3NyYycsCiAgICAnZW1iZWQnOiAnc3JjJywKICAgICdzb3VyY2UnOiAnc3JjJywKICAgICd0cmFjayc6ICdzcmMnLAogICAgJ2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9ImltYWdlIgogICAgJ2F1ZGlvJzogJ3NyYycsCiAgICAndmlkZW8nOiAnc3JjJwogIH07CiAgVVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT0iaW1hZ2UiCiAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTsKICB9OwoKICBmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTEKICAgIHJldHVybiBlc2NhcGUodmFsdWUpOwogIH0KCiAgLy8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NgogIGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHsKICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpCiAgICAgIC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpCiAgICAgIC5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICB9OwogIFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICB9OwogIFVSSS5jaGFyYWN0ZXJzID0gewogICAgcGF0aG5hbWU6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyAtLl9+IScoKSoKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jXS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXJ2ZWQ6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyBnZW4tZGVsaW1zCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyUyRic6ICcvJywKICAgICAgICAgICclM0YnOiAnPycsCiAgICAgICAgICAnJTIzJzogJyMnLAogICAgICAgICAgJyU1Qic6ICdbJywKICAgICAgICAgICclNUQnOiAnXScsCiAgICAgICAgICAnJTQwJzogJ0AnLAogICAgICAgICAgLy8gc3ViLWRlbGltcwogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXJucGF0aDogewogICAgICAvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlCiAgICAgIC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCAiLSIsICIuIiwgYW5kICJfIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dAogICAgICAvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvCiAgICAgIC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzCiAgICAgIC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXQKICAgICAgLy8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuCiAgICAgIC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy4KICAgICAgZW5jb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgInJlc2VydmVkIiBjaGFyYWN0ZXJzIHRoYXQKICAgICAgLy8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyM6XS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnLAogICAgICAgICAgJzonOiAnJTNBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgc3RyaW5nICs9ICcnOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnJTIwJykgOiBzdHJpbmcpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgIHJldHVybiBzdHJpbmc7CiAgICB9CiAgfTsKICAvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zCiAgdmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICByZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CiAgICB9OwogIH07CgogIGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7CiAgICBVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7CiAgICBVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTsKICB9CgogIHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgLy8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGUKICAgICAgLy8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlCiAgICAgIC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZQogICAgICAvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlICJmcmVzaCIuCiAgICAgIHZhciBhY3R1YWxDb2RpbmdGdW5jOwogICAgICBpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTsKICAgIH07CiAgfTsKCiAgLy8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuCiAgVVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpOwogIFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTsKICBVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpOwogIFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CgogIFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpOwoKICBVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICB2YXIgcG9zOwogICAgaWYgKCFwYXJ0cykgewogICAgICBwYXJ0cyA9IHt9OwogICAgfQogICAgLy8gW3Byb3RvY29sIjovLyJbdXNlcm5hbWVbIjoicGFzc3dvcmRdIkAiXWhvc3RuYW1lWyI6InBvcnRdIi8iP11bcGF0aF1bIj8icXVlcnlzdHJpbmddWyIjImZyYWdtZW50XQoKICAgIC8vIGV4dHJhY3QgZnJhZ21lbnQKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeQogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHByb3RvY29sCiAgICBpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykgewogICAgICAvLyByZWxhdGl2ZS1zY2hlbWUKICAgICAgcGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpOwogICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICB9IGVsc2UgewogICAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICBpZiAocG9zID4gLTEpIHsKICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICAvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGgKICAgICAgICAgIHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTsKCiAgICAgICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICAgICAgcGFydHMudXJuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoCiAgICBwYXJ0cy5wYXRoID0gc3RyaW5nOwoKICAgIC8vIGFuZCB3ZSdyZSBkb25lCiAgICByZXR1cm4gcGFydHM7CiAgfTsKICBVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICBzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTsKICAgIHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpOwogIH07CiAgVVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkCiAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTsKICAgIHZhciB0OwoKICAgIC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aAogICAgaWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkgewogICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsOwogICAgICB0LnNoaWZ0KCk7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gbnVsbDsKICAgICAgcGFydHMucGFzc3dvcmQgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKICBVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHBhcnRzLnByb3RvY29sICsgJzonOwogICAgfQoKICAgIGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICcvLyc7CiAgICB9CgogICAgdCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykgewogICAgICBpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdCArPSAnLyc7CiAgICAgIH0KCiAgICAgIHQgKz0gcGFydHMucGF0aDsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkgewogICAgICB0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5OwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7CiAgICAgIHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7CiAgICB9CiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICByZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7CiAgfTsKICBVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy51c2VybmFtZSkgewogICAgICB0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpOwogICAgfQoKICAgIGlmIChwYXJ0cy5wYXNzd29yZCkgewogICAgICB0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpOwogICAgfQoKICAgIGlmICh0KSB7CiAgICAgIHQgKz0gJ0AnOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIGRvbid0IGFwcGVuZCAiPSIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb24KICAgIHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpOwogIH07CgogIFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dOwogICAgICB9CgogICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSBbdmFsdWVdOwogICAgICB9CgogICAgICBkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICBzd2l0Y2ggKGdldFR5cGUobmFtZSkpIHsKICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpKSB7CiAgICAgICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSAmJiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCB2YWx1ZSkpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGNhc2UgJ09iamVjdCc6CiAgICAgICAgZm9yICh2YXIgX2tleSBpbiBuYW1lKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwgX2tleSkpIHsKICAgICAgICAgICAgaWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwgX2tleSwgbmFtZVtfa2V5XSkpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHsKICAgICAgY2FzZSAnVW5kZWZpbmVkJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSkKICAgICAgICByZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7CgogICAgICBjYXNlICdCb29sZWFuJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5CiAgICAgICAgdmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBfYm9vbHk7CgogICAgICBjYXNlICdGdW5jdGlvbic6CiAgICAgICAgLy8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uCiAgICAgICAgcmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7CgogICAgICBjYXNlICdBcnJheSc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDsKICAgICAgICByZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnTnVtYmVyJzoKICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7CiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpOwogICAgfQogIH07CgoKICBVUkkuam9pblBhdGhzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQgPSBbXTsKICAgIHZhciBzZWdtZW50cyA9IFtdOwogICAgdmFyIG5vbkVtcHR5U2VnbWVudHMgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJJKGFyZ3VtZW50c1tpXSk7CiAgICAgIGlucHV0LnB1c2godXJsKTsKICAgICAgdmFyIF9zZWdtZW50cyA9IHVybC5zZWdtZW50KCk7CiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgX3NlZ21lbnRzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBfc2VnbWVudHNbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKF9zZWdtZW50c1tzXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3NlZ21lbnRzW3NdKSB7CiAgICAgICAgICBub25FbXB0eVNlZ21lbnRzKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFzZWdtZW50cy5sZW5ndGggfHwgIW5vbkVtcHR5U2VnbWVudHMpIHsKICAgICAgcmV0dXJuIG5ldyBVUkkoJycpOwogICAgfQoKICAgIHZhciB1cmkgPSBuZXcgVVJJKCcnKS5zZWdtZW50KHNlZ21lbnRzKTsKCiAgICBpZiAoaW5wdXRbMF0ucGF0aCgpID09PSAnJyB8fCBpbnB1dFswXS5wYXRoKCkuc2xpY2UoMCwgMSkgPT09ICcvJykgewogICAgICB1cmkucGF0aCgnLycgKyB1cmkucGF0aCgpKTsKICAgIH0KCiAgICByZXR1cm4gdXJpLm5vcm1hbGl6ZSgpOwogIH07CgogIFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7CiAgICB2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDsKICAgIHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kOwogICAgdmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07CiAgICB2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVsiJ10/JC9pOwoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTsKICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlSHRtbCkgewogICAgICAgIC8vIGF0dHJpYnV0KGU9WyInXT8kKQogICAgICAgIHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTsKICAgICAgICBpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpOwogICAgICB2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpOwogICAgICBpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7CiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTsKICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpOwogICAgICBfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoOwogICAgfQoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgcmV0dXJuIHN0cmluZzsKICB9OwoKICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHsKICAgIC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KQogICAgLy8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanMKCiAgICBpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAvLyB0ZXN0IHB1bnljb2RlCiAgICAgIGlmICghcHVueWNvZGUpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpOwogICAgICB9CgogICAgICBpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub0NvbmZsaWN0CiAgVVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHsKICAgIGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7CiAgICAgIHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5jbG9uZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBVUkkodGhpcyk7CiAgfTsKCiAgcC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCgogIGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDsKICB9OwogIHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7CiAgfTsKCiAgcC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwogICAgICByZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nOwogICAgICB9CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnBhdGggPSBwLnBhdGhuYW1lOwogIHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7CiAgICB2YXIgaXAgPSBmYWxzZTsKICAgIHZhciBpcDQgPSBmYWxzZTsKICAgIHZhciBpcDYgPSBmYWxzZTsKICAgIHZhciBuYW1lID0gZmFsc2U7CiAgICB2YXIgc2xkID0gZmFsc2U7CiAgICB2YXIgaWRuID0gZmFsc2U7CiAgICB2YXIgcHVueWNvZGUgPSBmYWxzZTsKICAgIHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJlbGF0aXZlID0gZmFsc2U7CiAgICAgIGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcCA9IGlwNCB8fCBpcDY7CiAgICAgIG5hbWUgPSAhaXA7CiAgICAgIHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgcHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgfQoKICAgIHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3JlbGF0aXZlJzoKICAgICAgICByZXR1cm4gcmVsYXRpdmU7CgogICAgICBjYXNlICdhYnNvbHV0ZSc6CiAgICAgICAgcmV0dXJuICFyZWxhdGl2ZTsKCiAgICAgIC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uCiAgICAgIGNhc2UgJ2RvbWFpbic6CiAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgIHJldHVybiBuYW1lOwoKICAgICAgY2FzZSAnc2xkJzoKICAgICAgICByZXR1cm4gc2xkOwoKICAgICAgY2FzZSAnaXAnOgogICAgICAgIHJldHVybiBpcDsKCiAgICAgIGNhc2UgJ2lwNCc6CiAgICAgIGNhc2UgJ2lwdjQnOgogICAgICBjYXNlICdpbmV0NCc6CiAgICAgICAgcmV0dXJuIGlwNDsKCiAgICAgIGNhc2UgJ2lwNic6CiAgICAgIGNhc2UgJ2lwdjYnOgogICAgICBjYXNlICdpbmV0Nic6CiAgICAgICAgcmV0dXJuIGlwNjsKCiAgICAgIGNhc2UgJ2lkbic6CiAgICAgICAgcmV0dXJuIGlkbjsKCiAgICAgIGNhc2UgJ3VybCc6CiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICd1cm4nOgogICAgICAgIHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3B1bnljb2RlJzoKICAgICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLy8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb24KICB2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDsKICB2YXIgX3BvcnQgPSBwLnBvcnQ7CiAgdmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7CgogIHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodikgewogICAgICAgIC8vIGFjY2VwdCB0cmFpbGluZyA6Ly8KICAgICAgICB2ID0gdi5yZXBsYWNlKC86KFwvXC8pPyQvLCAnJyk7CgogICAgICAgIGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblwndCBzdGFydCB3aXRoIFtBLVpdJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5zY2hlbWUgPSBwLnByb3RvY29sOwogIHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHggPSB7fTsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHYgPSB4Lmhvc3RuYW1lOwogICAgfQogICAgcmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBjb21wb3VuZCBhY2Nlc3NvcnMKICBwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7CiAgICAgIHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpOwogICAgICBpZiAoIWF1dGhvcml0eSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9yaWdpbiA9IFVSSSh2KTsKICAgICAgdGhpcwogICAgICAgIC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSkKICAgICAgICAuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSkKICAgICAgICAuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTsKICAgICAgcmV0dXJuIHQgPyB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykgewogICAgICAgIHYgKz0gJ0AnOwogICAgICB9CgogICAgICBVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAid3d3IiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDsKICAgICAgdmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpOwoKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7CiAgICAgICAgdiArPSAnLic7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAiZXhhbXBsZS5vcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpbgogICAgICB2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cLi9nKTsKICAgICAgaWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lOwogICAgICB9CgogICAgICAvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7CiAgICAgIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyByZXR1cm4gIm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwoKICAgICAgaWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICByZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkOwogICAgICB9CgogICAgICByZXR1cm4gdGxkOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpOwogICAgICB9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkgewogICAgICAgIGlmIChTTEQgJiYgU0xELmlzKHYpKSB7CiAgICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJy8nOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzOwoKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoOwogICAgICB2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTsKCiAgICAgIC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2gKICAgICAgaWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB2ID0gJy8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgICAgIHYgPSAnLycgKyB2OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2gKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7CiAgICAgICAgdiArPSAnLyc7CiAgICAgIH0KCiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7CgogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcvJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgaWYgKHYubWF0Y2goL1wuP1wvLykpIHsKICAgICAgICBtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpOwogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CgogICAgICBpZiAobXV0YXRlZERpcmVjdG9yeSkgewogICAgICAgIHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpOwogICAgICB2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHMsIHJlczsKCiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLikKICAgICAgcyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7CiAgICAgIHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7CiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcuJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgfSBlbHNlIGlmICghdikgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpOwogICAgICB9CgogICAgICBpZiAocmVwbGFjZSkgewogICAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZAogICAgICAgID8gc2VnbWVudHMKICAgICAgICA6IHNlZ21lbnRzW3NlZ21lbnRdOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgIH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChpc0FycmF5KHYpKSB7CiAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXkKICAgICAgICBmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkgewogICAgICAgICAgICBzZWdtZW50cy5wb3AoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgaWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7CiAgICAgICAgICAvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuCiAgICAgICAgICAvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXIKICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHYpIHsKICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTsKICAgICAgfQogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy51bnNoaWZ0KCcnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpOwogIH07CiAgcC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2W2ldID0gVVJJLmVuY29kZSh2W2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogIH07CgogIC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZwogIHZhciBxID0gcC5xdWVyeTsKICBwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB0cnVlKSB7CiAgICAgIHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpOwogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpOwogICAgfQogIH07CiAgcC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdGhpcwogICAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAgIC5idWlsZCgpOwogICAgfQoKICAgIHJldHVybiB0aGlzCiAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKQogICAgICAubm9ybWFsaXplUG9ydChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkgewogICAgdmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDsKICAgIGlmICghX3BhdGgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTsKCiAgICB2YXIgX3dhc19yZWxhdGl2ZTsKICAgIHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJzsKICAgIHZhciBfcGFyZW50LCBfcG9zOwoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocwogICAgaWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIF93YXNfcmVsYXRpdmUgPSB0cnVlOwogICAgICBfcGF0aCA9ICcvJyArIF9wYXRoOwogICAgfQoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcykKICAgIGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykgewogICAgICBfcGF0aCArPSAnLyc7CiAgICB9CgogICAgLy8gcmVzb2x2ZSBzaW1wbGVzCiAgICBfcGF0aCA9IF9wYXRoCiAgICAgIC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykKICAgICAgLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwoKICAgIC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50cwogICAgaWYgKF93YXNfcmVsYXRpdmUpIHsKICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFwuXC5cLykrLykgfHwgJyc7CiAgICAgIGlmIChfbGVhZGluZ1BhcmVudHMpIHsKICAgICAgICBfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXNvbHZlIHBhcmVudHMKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIF9wYXJlbnQgPSBfcGF0aC5zZWFyY2goL1wvXC5cLihcL3wkKS8pOwogICAgICBpZiAoX3BhcmVudCA9PT0gLTEpIHsKICAgICAgICAvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlCiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkgewogICAgICAgIC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXQKICAgICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgX3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpOwogICAgICBpZiAoX3BvcyA9PT0gLTEpIHsKICAgICAgICBfcG9zID0gX3BhcmVudDsKICAgICAgfQogICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIHJlbGF0aXZlCiAgICBpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgIF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDsKICBwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7CiAgICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5OwogIHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7CgogIHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmkgPSB0aGlzLmNsb25lKCk7CiAgICAvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NgogICAgdXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7CiAgICB2YXIgdCA9ICcnOwogICAgaWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkgewogICAgICAgIHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpOwogICAgICAgIGlmICh1cmkuX3BhcnRzLnBvcnQpIHsKICAgICAgICAgIHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0ICs9IHVyaS5ob3N0KCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHQgKz0gJy8nOwogICAgfQoKICAgIHQgKz0gdXJpLnBhdGgodHJ1ZSk7CiAgICBpZiAodXJpLl9wYXJ0cy5xdWVyeSkgewogICAgICB2YXIgcSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7CiAgICAgICAgcSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CgogICAgICAgIGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwogICAgICAgIH0KICAgICAgfQogICAgICB0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpOwogICAgcmV0dXJuIHQ7CiAgfTsKCiAgLy8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzCiAgcC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTsKICAgIHZhciBiYXNlZGlyLCBpLCBwOwoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgICB9CgogICAgZm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7CiAgICAgIHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTsKICAgIH0KCiAgICByZXNvbHZlZC5idWlsZCgpOwogICAgcmV0dXJuIHJlc29sdmVkOwogIH07CiAgcC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoOwoKICAgIGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTsKICAgIHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7CiAgICBiYXNlUGFydHMgPSBiYXNlLl9wYXJ0czsKICAgIHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTsKICAgIGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7CgogICAgaWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7CiAgICB9CgogICAgaWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkgewogICAgICByZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDsKICAgICAgcmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucGF0aCA9ICcnOwogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoCiAgICBjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTsKCiAgICAvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguCiAgICBpZiAoIWNvbW1vbikgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICB2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoCiAgICAgIC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkKICAgICAgLnJlcGxhY2UoL1teXC9dKiQvLCAnJykKICAgICAgLnJlcGxhY2UoLy4qP1wvL2csICcuLi8nKTsKCiAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIG9uZSA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciB0d28gPSBuZXcgVVJJKHVyaSk7CiAgICB2YXIgb25lX21hcCA9IHt9OwogICAgdmFyIHR3b19tYXAgPSB7fTsKICAgIHZhciBjaGVja2VkID0ge307CiAgICB2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTsKCiAgICBvbmUubm9ybWFsaXplKCk7CiAgICB0d28ubm9ybWFsaXplKCk7CgogICAgLy8gZXhhY3QgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeSBzdHJpbmcKICAgIG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpOwogICAgdHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7CiAgICBvbmUucXVlcnkoJycpOwogICAgdHdvLnF1ZXJ5KCcnKTsKCiAgICAvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZAogICAgaWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgdHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgZm9yIChrZXkgaW4gb25lX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkgewogICAgICAgIGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7CiAgICAgICAgICBpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tlZFtrZXldID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIGZvciAoa2V5IGluIHR3b19tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRba2V5XSkgewogICAgICAgICAgLy8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIHN0YXRlCiAgcC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSkpOwoKfSx7Ii4vSVB2NiI6MywiLi9TZWNvbmRMZXZlbERvbWFpbnMiOjQsIi4vcHVueWNvZGUiOjZ9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMCBieSBAbWF0aGlhcyAqLwo7KGZ1bmN0aW9uKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmCgkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCXZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYKCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCXZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoCgkJZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCgkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkgKiBAbmFtZSBwdW55Y29kZQoJICogQHR5cGUgT2JqZWN0CgkgKi8KCXZhciBwdW55Y29kZSwKCgkvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovCgltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJdE1pbiA9IDEsCgl0TWF4ID0gMjYsCglza2V3ID0gMzgsCglkYW1wID0gNzAwLAoJaW5pdGlhbEJpYXMgPSA3MiwKCWluaXRpYWxOID0gMTI4LCAvLyAweDgwCglkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCglyZWdleFB1bnljb2RlID0gL154bi0tLywKCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgkvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCgliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCglmbG9vciA9IE1hdGguZmxvb3IsCglzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCWtleTsKCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKioKCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJICovCglmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCX0KCgkvKioKCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCSAqIGl0ZW0uCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCXZhciByZXN1bHQgPSBbXTsKCQl3aGlsZSAobGVuZ3RoLS0pIHsKCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX0KCgkvKioKCSAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbAoJICogYWRkcmVzc2VzLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCSAqIGNoYXJhY3Rlci4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrCgkgKiBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHsKCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsKCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQlyZXN1bHQgPSBwYXJ0c1swXSArICdAJzsKCQkJc3RyaW5nID0gcGFydHNbMV07CgkJfQoJCS8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCXZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCSAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoCgkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCSAqIG1hdGNoaW5nIFVURi0xNi4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYAoJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZGVjb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJICovCglmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgY291bnRlciA9IDAsCgkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJICAgIHZhbHVlLAoJCSAgICBleHRyYTsKCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCWlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGVuY29kZQoJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCSAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCXZhciBvdXRwdXQgPSAnJzsKCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCX0KCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CgkJCXJldHVybiBvdXRwdXQ7CgkJfSkuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW4KCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJICovCglmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDIyOwoJCX0KCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gNjU7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA5NzsKCQl9CgkJcmV0dXJuIGJhc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3IKCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCSAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkCgkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJICovCglmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCXJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7Cgl9CgoJLyoqCgkgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLgoJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCSAqIEBwcml2YXRlCgkgKi8KCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCXZhciBrID0gMDsKCQlkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwoJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQlkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7CgkJfQoJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCSAqIHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJLy8gRG9uJ3QgdXNlIFVDUy0yCgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkgICAgb3V0LAoJCSAgICBpID0gMCwKCQkgICAgbiA9IGluaXRpYWxOLAoJCSAgICBiaWFzID0gaW5pdGlhbEJpYXMsCgkJICAgIGJhc2ljLAoJCSAgICBqLAoJCSAgICBpbmRleCwKCQkgICAgb2xkaSwKCQkgICAgdywKCQkgICAgaywKCQkgICAgZGlnaXQsCgkJICAgIHQsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBiYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7CgoJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJLy8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXIKCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJZm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoKCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQl9CgoJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgoJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQl9CgoJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAoJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJaSAlPSBvdXQ7CgoJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJICAgIGlucHV0TGVuZ3RoLAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCSAgICBiYXNlTWludXNULAoJCSAgICBxTWludXNUOwoKCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTsKCgkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkvLyBJbml0aWFsaXplIHRoZSBzdGF0ZQoJCW4gPSBpbml0aWFsTjsKCQlkZWx0YSA9IDA7CgkJYmlhcyA9IGluaXRpYWxCaWFzOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCX0KCQl9CgoJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDsKCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCWlmIChiYXNpY0xlbmd0aCkgewoJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCX0KCgkJLy8gTWFpbiBlbmNvZGluZyBsb29wOgoJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCS8vIGxhcmdlciBvbmU6CgkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CgkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCX0KCQkJfQoKCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQloYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CgkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJbiA9IG07CgoJCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCS8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCgkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJaWYgKHEgPCB0KSB7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQlxTWludXNUID0gcSAtIHQ7CgkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQlzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpCgkJCQkJCSk7CgkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJfQoKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQlkZWx0YSA9IDA7CgkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCX0KCQkJfQoKCQkJKytkZWx0YTsKCQkJKytuOwoKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCSAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgoJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJICogc3RyaW5nLgoJICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCSAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpbgoJICogQVNDSUkuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhCgkgKiBVbmljb2RlIHN0cmluZy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCSAqIGVtYWlsIGFkZHJlc3MuCgkgKi8KCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCglwdW55Y29kZSA9IHsKCQkvKioKCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgU3RyaW5nCgkJICovCgkJJ3ZlcnNpb24nOiAnMS4zLjInLAoJCS8qKgoJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQkndWNzMic6IHsKCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCSdlbmNvZGUnOiB1Y3MyZW5jb2RlCgkJfSwKCQknZGVjb2RlJzogZGVjb2RlLAoJCSdlbmNvZGUnOiBlbmNvZGUsCgkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCX07CgoJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCS8vIGxpa2UgdGhlIGZvbGxvd2luZzoKCWlmICgKCQl0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYKCQl0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJgoJCWRlZmluZS5hbWQKCSkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHB1bnljb2RlOwoJCX0pOwoJfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCS8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCsKCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJfSBlbHNlIHsKCQkJLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJfQoJCX0KCX0gZWxzZSB7CgkJLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgoJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCX0KCn0odGhpcykpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfSHlwZXJ0eURpc2NvdmVyeT1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0h5cGVydHlEaXNjb3ZlcnknKTt2YXIgX0h5cGVydHlEaXNjb3ZlcnkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0h5cGVydHlEaXNjb3ZlcnkpO3ZhciBfdXJpanM9cmVxdWlyZSgndXJpanMnKTt2YXIgX3VyaWpzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmlqcyk7dmFyIF9TeW5jaGVyPXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpO3ZhciBfbm90aWZpY2F0aW9uc1RyaWdnZXI9cmVxdWlyZSgnLi9ub3RpZmljYXRpb25zLXRyaWdnZXInKTt2YXIgX25vdGlmaWNhdGlvbnNUcmlnZ2VyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub3RpZmljYXRpb25zVHJpZ2dlcik7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9O312YXIgTm90aWZpY2F0aW9uc1JlcG9ydGVyPXtzZW5kOmZ1bmN0aW9uIHNlbmQoaWRlbnRpdGllcyxub3RpZmljYXRpb24pe3RoaXMubm90aWZpY2F0aW9ucy50cmlnZ2VyKGlkZW50aXRpZXMsbm90aWZpY2F0aW9uKTt9fTt2YXIgTm90aWZpY2F0aW9uc1JlcG9ydGVyRmFjdG9yeT1mdW5jdGlvbiBOb3RpZmljYXRpb25zUmVwb3J0ZXJGYWN0b3J5KGh5cGVydHlVUkwsYnVzLGNvbmZpZyl7dmFyIHVyaT1uZXcgX3VyaWpzMi5kZWZhdWx0KGh5cGVydHlVUkwpO3ZhciBoeXBlcnR5RGlzY292ZXJ5PW5ldyBfSHlwZXJ0eURpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLGJ1cyk7dmFyIHN5bmNoZXI9bmV3IF9TeW5jaGVyLlN5bmNoZXIoaHlwZXJ0eVVSTCxidXMsY29uZmlnKTt2YXIgbm90aWZpY2F0aW9ucz0oMCxfbm90aWZpY2F0aW9uc1RyaWdnZXIyLmRlZmF1bHQpKHVyaS5ob3N0bmFtZSgpLHN5bmNoZXIsaHlwZXJ0eURpc2NvdmVyeSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShOb3RpZmljYXRpb25zUmVwb3J0ZXIpLHtoeXBlcnR5VVJMOmh5cGVydHlVUkwsbm90aWZpY2F0aW9uczpub3RpZmljYXRpb25zfSk7fTtmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLGJ1cyxjb25maWcpe3JldHVybntuYW1lOidOb3RpZmljYXRpb25zUmVwb3J0ZXInLGluc3RhbmNlOk5vdGlmaWNhdGlvbnNSZXBvcnRlckZhY3RvcnkoaHlwZXJ0eVVSTCxidXMsY29uZmlnKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuL25vdGlmaWNhdGlvbnMtdHJpZ2dlciI6OCwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5IjoxLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjIsInVyaWpzIjo1fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgTm90aWZpY2F0aW9uc1RyaWdnZXJPYmplY3Q9e19nZXRIeUZvcjpmdW5jdGlvbiBfZ2V0SHlGb3IoaWRlbnRpdGllcyl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIFByb21pc2UuYWxsKGlkZW50aXRpZXMubWFwKGZ1bmN0aW9uKHApe3JldHVybiBfdGhpcy5fZGlzY292ZXJ5U2VydmljZS5kaXNjb3Zlckh5cGVydGllc1BlclVzZXIocC5lbWFpbCxwLmRvbWFpbikudGhlbihmdW5jdGlvbihoeXBlcnRpZXMpe3JldHVybiBPYmplY3Qua2V5cyhoeXBlcnRpZXMpLm1hcChmdW5jdGlvbihrZXkpe3JldHVybntrZXk6a2V5LGRlc2NyaXB0b3I6aHlwZXJ0aWVzW2tleV0uZGVzY3JpcHRvcixsYXN0TW9kaWZpZWQ6aHlwZXJ0aWVzW2tleV0ubGFzdE1vZGlmaWVkfTt9KS5maWx0ZXIoZnVuY3Rpb24oZGVzYyl7cmV0dXJuIGRlc2MuZGVzY3JpcHRvci5lbmRzV2l0aCgnTm90aWZpY2F0aW9uc09ic2VydmVyJyk7fSkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgRGF0ZShhLmxhc3RNb2RpZmllZCk8bmV3IERhdGUoYi5sYXN0TW9kaWZpZWQpPzE6LTE7fSkuc2hpZnQoKS5rZXk7fSk7fSkpO30sdHJpZ2dlcjpmdW5jdGlvbiB0cmlnZ2VyKHJlY2lwaWVudHMsbm90aWZpY2F0aW9uKXt2YXIgX3RoaXMyPXRoaXM7cmV0dXJuIHRoaXMuX2dldEh5Rm9yKHJlY2lwaWVudHMpLnRoZW4oZnVuY3Rpb24oaHlwZXJ0eVVSTHMpe3JldHVybiBfdGhpczIuX3N5bmNoZXIuY3JlYXRlKF90aGlzMi5fb2JqZWN0RGVzY1VSTCxoeXBlcnR5VVJMcyx7fSkudGhlbihmdW5jdGlvbihyZXBvcnRlcil7cmVwb3J0ZXIub25TdWJzY3JpcHRpb24oZnVuY3Rpb24oZXZlbnQpe3JldHVybiBldmVudC5hY2NlcHQoKTt9KTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHJlcG9ydGVyLmFkZENoaWxkKCdjaGF0bWVzc2FnZXMnLG5vdGlmaWNhdGlvbikudGhlbihmdW5jdGlvbihjaGlsZCl7Y29uc29sZS5sb2coJ25vdGlmaWNhdGlvbiBzZW5kZWQnLG5vdGlmaWNhdGlvbik7cmV0dXJuIGNoaWxkO30pO30sMjAwMCk7fSk7fSk7fX07dmFyIE5vdGlmaWNhdGlvbnNUcmlnZ2VyPWZ1bmN0aW9uIE5vdGlmaWNhdGlvbnNUcmlnZ2VyKGRvbWFpbixzeW5jaGVyLGRpc2NvdmVyeVNlcnZpY2Upe3JldHVybiBPYmplY3QuYXNzaWduKHtfc3luY2hlcjpzeW5jaGVyLF9kaXNjb3ZlcnlTZXJ2aWNlOmRpc2NvdmVyeVNlcnZpY2UsX29iamVjdERlc2NVUkw6J2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicrZG9tYWluKycvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uJ30sTm90aWZpY2F0aW9uc1RyaWdnZXJPYmplY3QpO307ZXhwb3J0cy5kZWZhdWx0PU5vdGlmaWNhdGlvbnNUcmlnZ2VyO21vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dfSx7fSxbN10pKDcpCn0pOw==",
      "sourceCodeClassname": "NotificationsReporter",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10011,
    "version": "0.1",
    "description": "Description of NotificationsReporter",
    "language": "Javascript",
    "objectName": "NotificationsReporter",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "RoomClient": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NDEgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKGMscyl7aWYoIXJbY10pe2lmKCF0W2NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighcyYmdSlyZXR1cm4gdShjLCEwKTtpZihpKXJldHVybiBpKGMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltjXT17ZXhwb3J0czp7fX07dFtjXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W2NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbY10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYz0wO2M8bi5sZW5ndGg7YysrKW8obltjXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsYyl7dmFyIHMsdT1uKHQpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYoZSYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKGV8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxjPWUoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLGYsXyxsPWUmdS5GLGQ9ZSZ1LkcscD1lJnUuUyx2PWUmdS5QLHk9ZSZ1LkIsaD1lJnUuVyxiPWQ/bzpvW3RdfHwob1t0XT17fSksbT1iW3NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihhIGluIHIpZj0hbCYmZyYmdm9pZCAwIT09Z1thXSxmJiZhIGluIGJ8fChfPWY/Z1thXTpyW2FdLGJbYV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbYV0/clthXTp5JiZmP2koXyxuKTpoJiZnW2FdPT1fP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W3NdPWVbc10sdH0oXyk6diYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8sdiYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVthXT1fLGUmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCx0LmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPWUoIi4vX2FuLW9iamVjdCIpLHM9ZSgiLi9fdG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGwpe3ZhciBkLHAsdix5LGg9bD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLF8sdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgaCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGgpKXtmb3IoZD1zKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9iKGMocD1lW21dKVswXSxwWzFdKTpiKGVbbV0pLHk9PT1hfHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWguY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGIscC52YWx1ZSx0KSx5PT09YXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIGM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O2UoIi4vX2hpZGUiKShjLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxjPWUoIi4vX2hpZGUiKSxzPWUoIi4vX2hhcyIpLHU9ZSgiLi9faXRlcmF0b3JzIiksYT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPWUoIi4vX29iamVjdC1ncG8iKSxsPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyxqKXthKHIsdCxiKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFM9ITEsRT1lLnByb3RvdHlwZSxVPUVbbF18fEVbcF18fG0mJkVbbV0sVD1VfHxPKG0pLFI9bT9QP08oImVudHJpZXMiKTpUOnZvaWQgMCxMPSJBcnJheSI9PXQ/RS5lbnRyaWVzfHxVOlU7aWYoTCYmKGs9XyhMLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGgpKSksUCYmVSYmVS5uYW1lIT09eSYmKFM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBVLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFTJiZFW2xdfHxjKEUsbCxUKSx1W3RdPVQsdVtNXT1oLG0paWYoeD17dmFsdWVzOlA/VDpPKHkpLGtleXM6Zz9UOk8odiksZW50cmllczpSfSxqKWZvcih3IGluIHgpdyBpbiBFfHxpKEUsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8UyksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LGUoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKGMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxjPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSxhPXQuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oc1t1XT1uKGUpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109ZSk6cj1hKCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIGMoZSx0LHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixjPWkodCkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYoZSxyPWNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxjPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9ZSgiLi9faGFzIiksdT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9Yyh0LCEwKSx1KXRyeXtyZXR1cm4gYShlLHQpfWNhdGNoKHIpe31yZXR1cm4gcyhlLHQpP28oIW4uZi5jYWxsKGUsdCksZVt0XSk6dm9pZCAwfX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2hhcyI6MjgsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fb2JqZWN0LXBpZSI6NTEsIi4vX3Byb3BlcnR5LWRlc2MiOjUzLCIuL190by1pb2JqZWN0Ijo2NiwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSx7Ii4vX2hhcyI6MjgsIi4vX3NoYXJlZC1rZXkiOjU5LCIuL190by1vYmplY3QiOjY4fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLGM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9byhlKSx1PTAsYT1bXTtmb3IociBpbiBzKXIhPWMmJm4ocyxyKSYmYS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihzLHI9dFt1KytdKSYmKH5pKGEscil8fGEucHVzaChyKSk7cmV0dXJuIGF9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjoxNSwiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLWlvYmplY3QiOjY2fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6MjMsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo0OX1dLDUxOltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxjPXt9O2NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixjKX19LHsiLi9fY29yZSI6MTgsIi4vX2V4cG9ydCI6MjQsIi4vX2ZhaWxzIjoyNX1dLDUzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjI5fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19jdHgiOjE5LCIuL19pcy1vYmplY3QiOjM1LCIuL19vYmplY3QtZ29wZCI6NDd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLGM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtjJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjoxOCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19nbG9iYWwiOjI3LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjoyOCwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fd2tzIjo3MX1dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6NjAsIi4vX3VpZCI6NzB9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6Mjd9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWN8fHZvaWQgMD09KHI9bihjKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4tb2JqZWN0IjoxNCwiLi9fd2tzIjo3MX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxjLHM9U3RyaW5nKG8odCkpLHU9bihyKSxhPXMubGVuZ3RoO3JldHVybiAwPnV8fHU+PWE/ZT8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KHUpLDU1Mjk2Pml8fGk+NTYzMTl8fHUrMT09PWF8fChjPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8Yz41NzM0Mz9lP3MuY2hhckF0KHUpOmk6ZT9zLnNsaWNlKHUsdSsyKTooaS01NTI5Njw8MTApKyhjLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjoyMCwiLi9fdG8taW50ZWdlciI6NjV9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxjPWUoIi4vX2N0eCIpLHM9ZSgiLi9faW52b2tlIiksdT1lKCIuL19odG1sIiksYT1lKCIuL19kb20tY3JlYXRlIiksZj1lKCIuL19nbG9iYWwiKSxfPWYucHJvY2VzcyxsPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSxwPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtsJiZkfHwobD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7cygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoXyk/bj1mdW5jdGlvbihlKXtfLm5leHRUaWNrKGMoYixlLDEpKX06cD8obz1uZXcgcCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPWMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6bCxjbGVhcjpkfX0seyIuL19jb2YiOjE3LCIuL19jdHgiOjE5LCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZ2xvYmFsIjoyNywiLi9faHRtbCI6MzAsIi4vX2ludm9rZSI6MzJ9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MjAsIi4vX2lvYmplY3QiOjMzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6NjV9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6MjB9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0IjozNX1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoIndrcyIpLG89ZSgiLi9fdWlkIiksaT1lKCIuL19nbG9iYWwiKS5TeW1ib2wsYz0iZnVuY3Rpb24iPT10eXBlb2YgaSxzPXQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YyYmaVtlXXx8KGM/aTpvKSgiU3ltYm9sLiIrZSkpfTtzLnN0b3JlPW59LHsiLi9fZ2xvYmFsIjoyNywiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY2xhc3NvZiIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1lKCIuL19pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi9fY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi9fY2xhc3NvZiI6MTYsIi4vX2NvcmUiOjE4LCIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLGM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi9faXRlci1kZWZpbmUiOjM4LCIuL19pdGVyLXN0ZXAiOjQwLCIuL19pdGVyYXRvcnMiOjQxLCIuL190by1pb2JqZWN0Ijo2Nn1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19leHBvcnQiOjI0LCIuL19vYmplY3QtZHAiOjQ1fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NTAsIi4vX29iamVjdC1zYXAiOjUyLCIuL190by1vYmplY3QiOjY4fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw3NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGksYz1lKCIuL19saWJyYXJ5Iikscz1lKCIuL19nbG9iYWwiKSx1PWUoIi4vX2N0eCIpLGE9ZSgiLi9fY2xhc3NvZiIpLGY9ZSgiLi9fZXhwb3J0IiksXz1lKCIuL19pcy1vYmplY3QiKSxsPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLGQ9ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLHY9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLHk9ZSgiLi9fdGFzayIpLnNldCxoPWUoIi4vX21pY3JvdGFzayIpKCksYj0iUHJvbWlzZSIsbT1zLlR5cGVFcnJvcixnPXMucHJvY2VzcyxqPXNbYl0sZz1zLnByb2Nlc3MseD0icHJvY2VzcyI9PWEoZyksdz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWoucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKHcsdyl9O3JldHVybih4fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKHcpaW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWomJnQ9PT1pfSxNPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBfKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIE8oaixlKT9uZXcgUyhlKTpuZXcgbyhlKX0sUz1vPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBtKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bCh0KSx0aGlzLnJlamVjdD1sKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7aChmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLGM9bz90Lm9rOnQuZmFpbCxzPXQucmVzb2x2ZSx1PXQucmVqZWN0LGE9dC5kb21haW47dHJ5e2M/KG98fCgyPT1lLl9oJiZMKGUpLGUuX2g9MSksYz09PSEwP3I9bjooYSYmYS5lbnRlcigpLHI9YyhuKSxhJiZhLmV4aXQoKSkscj09PXQucHJvbWlzZT91KG0oIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9TShyKSk/aS5jYWxsKHIscyx1KTpzKHIpKTp1KG4pfWNhdGNoKGYpe3UoZil9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZUKGUpfSl9fSxUPWZ1bmN0aW9uKGUpe3kuY2FsbChzLGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdjtpZihSKGUpJiYodD1FKGZ1bmN0aW9uKCl7eD9nLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj1zLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD14fHxSKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LFI9ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFSKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEw9ZnVuY3Rpb24oZSl7eS5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgdDt4P2cuZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9cy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxVKHQsITApKX0sQz1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBtKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PU0oZSkpP2goZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLHUoQyxuLDEpLHUoQSxuLDEpKX1jYXRjaChvKXtBLmNhbGwobixvKX19KTooci5fdj1lLHIuX3M9MSxVKHIsITEpKX1jYXRjaChuKXtBLmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O2t8fChqPWZ1bmN0aW9uKGUpe2QodGhpcyxqLGIsIl9oIiksbChlKSxuLmNhbGwodGhpcyk7dHJ5e2UodShDLHRoaXMsMSksdShBLHRoaXMsMSkpfWNhdGNoKHQpe0EuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShqLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPVAodih0aGlzLGopKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9dShDLGUsMSksdGhpcy5yZWplY3Q9dShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosYiksZSgiLi9fc2V0LXNwZWNpZXMiKShiKSxpPWUoIi4vX2NvcmUiKVtiXSxmKGYuUytmLkYqIWssYix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhayksYix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksYix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1FKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLHJbc109ZSwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxjPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7NT51O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjgxfV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsc1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxjPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGM9dm9pZCAwLHM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIHMpaWYodm9pZCAwIT09c1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKHNbb10ubGFzdE1vZGlmaWVkKSxjPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShzW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUsYz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLGMsaSk7dmFyIGE9YztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpzW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLGM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPV8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxsWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGw9bihfKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PWMsci5kZWVwQ2xvbmU9cyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbODBdKSg4MCl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgSWRlbnRpdHlNYW5hZ2VyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NDAgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBlO2U9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGUuSWRlbnRpdHlNYW5hZ2VyPXQoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSxyLG4pe2Z1bmN0aW9uIG8oYyxzKXtpZighcltjXSl7aWYoIWVbY10pe3ZhciB1PSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFzJiZ1KXJldHVybiB1KGMsITApO2lmKGkpcmV0dXJuIGkoYywhMCk7dmFyIGE9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrYysiJyIpO3Rocm93IGEuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsYX12YXIgZj1yW2NdPXtleHBvcnRzOnt9fTtlW2NdWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciByPWVbY11bMV1bdF07cmV0dXJuIG8ocj9yOnQpfSxmLGYuZXhwb3J0cyx0LGUscixuKX1yZXR1cm4gcltjXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxjPTA7YzxuLmxlbmd0aDtjKyspbyhuW2NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjd9XSwyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPXsiZGVmYXVsdCI6dCgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6OH1dLDM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjl9XSw0OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPXsiZGVmYXVsdCI6dCgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MTB9XSw1OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSw2OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OnsiZGVmYXVsdCI6dH19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPXQoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCl9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG89bi5KU09OfHwobi5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8uc3RyaW5naWZ5LmFwcGx5KG8sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MTh9XSw4OltmdW5jdGlvbih0LGUscil7dCgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSIpO3ZhciBuPXQoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbi5kZWZpbmVQcm9wZXJ0eSh0LGUscil9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Ijo3NH1dLDk6W2Z1bmN0aW9uKHQsZSxyKXt0KCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLGUuZXhwb3J0cz10KCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MTgsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo3NX1dLDEwOltmdW5jdGlvbih0LGUscil7dCgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLHQoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLHQoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLHQoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSxlLmV4cG9ydHM9dCgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MTgsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjc2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo3NywiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo3OCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo3OX1dLDExOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIHR9fSx7fV0sMTI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIsbil7aWYoISh0IGluc3RhbmNlb2YgZSl8fHZvaWQgMCE9PW4mJm4gaW4gdCl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gdH19LHt9XSwxNDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighbih0KSl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIHR9fSx7Ii4vX2lzLW9iamVjdCI6MzV9XSwxNTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWlvYmplY3QiKSxvPXQoIi4vX3RvLWxlbmd0aCIpLGk9dCgiLi9fdG8taW5kZXgiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscixjKXt2YXIgcyx1PW4oZSksYT1vKHUubGVuZ3RoKSxmPWkoYyxhKTtpZih0JiZyIT1yKXtmb3IoO2E+ZjspaWYocz11W2YrK10scyE9cylyZXR1cm4hMH1lbHNlIGZvcig7YT5mO2YrKylpZigodHx8ZiBpbiB1KSYmdVtmXT09PXIpcmV0dXJuIHR8fGZ8fDA7cmV0dXJuIXQmJi0xfX19LHsiLi9fdG8taW5kZXgiOjY0LCIuL190by1pb2JqZWN0Ijo2NiwiLi9fdG8tbGVuZ3RoIjo2N31dLDE2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY29mIiksbz10KCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYz1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaChyKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUscixzO3JldHVybiB2b2lkIDA9PT10PyJVbmRlZmluZWQiOm51bGw9PT10PyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9YyhlPU9iamVjdCh0KSxvKSk/cjppP24oZSk6Ik9iamVjdCI9PShzPW4oZSkpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi9fY29mIjoxNywiLi9fd2tzIjo3MX1dLDE3OltmdW5jdGlvbih0LGUscil7dmFyIG49e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSx7fV0sMTg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxOTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2EtZnVuY3Rpb24iKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe2lmKG4odCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gdC5jYWxsKGUscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gdC5jYWxsKGUscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIHQuY2FsbChlLHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6MTF9XSwyMDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIit0KTtyZXR1cm4gdH19LHt9XSwyMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hdCgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjI1fV0sMjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pcy1vYmplY3QiKSxvPXQoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQodCk6e319fSx7Ii4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzV9XSwyMzpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sMjQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19nbG9iYWwiKSxvPXQoIi4vX2NvcmUiKSxpPXQoIi4vX2N0eCIpLGM9dCgiLi9faGlkZSIpLHM9InByb3RvdHlwZSIsdT1mdW5jdGlvbih0LGUscil7dmFyIGEsZixfLGw9dCZ1LkYscD10JnUuRyxkPXQmdS5TLHY9dCZ1LlAsaD10JnUuQixiPXQmdS5XLHk9cD9vOm9bZV18fChvW2VdPXt9KSxtPXlbc10saj1wP246ZD9uW2VdOihuW2VdfHx7fSlbc107cCYmKHI9ZSk7Zm9yKGEgaW4gcilmPSFsJiZqJiZ2b2lkIDAhPT1qW2FdLGYmJmEgaW4geXx8KF89Zj9qW2FdOnJbYV0seVthXT1wJiYiZnVuY3Rpb24iIT10eXBlb2YgalthXT9yW2FdOmgmJmY/aShfLG4pOmImJmpbYV09PV8/ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiB0KXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGUpO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZSxyKX1yZXR1cm4gbmV3IHQoZSxyLG4pfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGVbc109dFtzXSxlfShfKTp2JiYiZnVuY3Rpb24iPT10eXBlb2YgXz9pKEZ1bmN0aW9uLmNhbGwsXyk6Xyx2JiYoKHkudmlydHVhbHx8KHkudmlydHVhbD17fSkpW2FdPV8sdCZ1LlImJm0mJiFtW2FdJiZjKG0sYSxfKSkpfTt1LkY9MSx1Lkc9Mix1LlM9NCx1LlA9OCx1LkI9MTYsdS5XPTMyLHUuVT02NCx1LlI9MTI4LGUuZXhwb3J0cz11fSx7Ii4vX2NvcmUiOjE4LCIuL19jdHgiOjE5LCIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOX1dLDI1OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaChlKXtyZXR1cm4hMH19fSx7fV0sMjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jdHgiKSxvPXQoIi4vX2l0ZXItY2FsbCIpLGk9dCgiLi9faXMtYXJyYXktaXRlciIpLGM9dCgiLi9fYW4tb2JqZWN0Iikscz10KCIuL190by1sZW5ndGgiKSx1PXQoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksYT17fSxmPXt9LHI9ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLF8sbCl7dmFyIHAsZCx2LGgsYj1sP2Z1bmN0aW9uKCl7cmV0dXJuIHR9OnUodCkseT1uKHIsXyxlPzI6MSksbT0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBiKXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoYikpe2ZvcihwPXModC5sZW5ndGgpO3A+bTttKyspaWYoaD1lP3koYyhkPXRbbV0pWzBdLGRbMV0pOnkodFttXSksaD09PWF8fGg9PT1mKXJldHVybiBofWVsc2UgZm9yKHY9Yi5jYWxsKHQpOyEoZD12Lm5leHQoKSkuZG9uZTspaWYoaD1vKHYseSxkLnZhbHVlLGUpLGg9PT1hfHxoPT09ZilyZXR1cm4gaH07ci5CUkVBSz1hLHIuUkVUVVJOPWZ9LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fY3R4IjoxOSwiLi9faXMtYXJyYXktaXRlciI6MzQsIi4vX2l0ZXItY2FsbCI6MzYsIi4vX3RvLWxlbmd0aCI6NjcsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3Mn1dLDI3OltmdW5jdGlvbih0LGUscil7dmFyIG49ZS5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sMjg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSx7fV0sMjk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19vYmplY3QtZHAiKSxvPXQoIi4vX3Byb3BlcnR5LWRlc2MiKTtlLmV4cG9ydHM9dCgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZih0LGUsbygxLHIpKX06ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0W2VdPXIsdH19LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19wcm9wZXJ0eS1kZXNjIjo1M31dLDMwOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPXQoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjoyN31dLDMxOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPSF0KCIuL19kZXNjcmlwdG9ycyIpJiYhdCgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkodCgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19mYWlscyI6MjV9XSwzMjpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj90KCk6dC5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj90KGVbMF0pOnQuY2FsbChyLGVbMF0pO2Nhc2UgMjpyZXR1cm4gbj90KGVbMF0sZVsxXSk6dC5jYWxsKHIsZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIG4/dChlWzBdLGVbMV0sZVsyXSk6dC5jYWxsKHIsZVswXSxlWzFdLGVbMl0pO2Nhc2UgNDpyZXR1cm4gbj90KGVbMF0sZVsxXSxlWzJdLGVbM10pOnQuY2FsbChyLGVbMF0sZVsxXSxlWzJdLGVbM10pfXJldHVybiB0LmFwcGx5KHIsZSl9fSx7fV0sMzM6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jb2YiKTtlLmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVybiJTdHJpbmciPT1uKHQpP3Quc3BsaXQoIiIpOk9iamVjdCh0KX19LHsiLi9fY29mIjoxN31dLDM0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXRlcmF0b3JzIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihuLkFycmF5PT09dHx8aVtvXT09PXQpfX0seyIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxfV0sMzU6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0P251bGwhPT10OiJmdW5jdGlvbiI9PXR5cGVvZiB0fX0se31dLDM2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG8pe3RyeXtyZXR1cm4gbz9lKG4ocilbMF0sclsxXSk6ZShyKX1jYXRjaChpKXt2YXIgYz10WyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1jJiZuKGMuY2FsbCh0KSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MTR9XSwzNzpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19vYmplY3QtY3JlYXRlIiksbz10KCIuL19wcm9wZXJ0eS1kZXNjIiksaT10KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGM9e307dCgiLi9faGlkZSIpKGMsdCgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dC5wcm90b3R5cGU9bihjLHtuZXh0Om8oMSxyKX0pLGkodCxlKyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6MjksIi4vX29iamVjdC1jcmVhdGUiOjQ0LCIuL19wcm9wZXJ0eS1kZXNjIjo1MywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL193a3MiOjcxfV0sMzg6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49dCgiLi9fbGlicmFyeSIpLG89dCgiLi9fZXhwb3J0IiksaT10KCIuL19yZWRlZmluZSIpLGM9dCgiLi9faGlkZSIpLHM9dCgiLi9faGFzIiksdT10KCIuL19pdGVyYXRvcnMiKSxhPXQoIi4vX2l0ZXItY3JlYXRlIiksZj10KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLF89dCgiLi9fb2JqZWN0LWdwbyIpLGw9dCgiLi9fd2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLHksbSxqLGcpe2EocixlLHkpO3ZhciB4LHcsayxPPWZ1bmN0aW9uKHQpe2lmKCFwJiZ0IGluIFApcmV0dXJuIFBbdF07c3dpdGNoKHQpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX19LE09ZSsiIEl0ZXJhdG9yIixTPW09PWgsRT0hMSxQPXQucHJvdG90eXBlLFQ9UFtsXXx8UFtkXXx8bSYmUFttXSxSPVR8fE8obSksVT1tP1M/TygiZW50cmllcyIpOlI6dm9pZCAwLEE9IkFycmF5Ij09ZT9QLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1fKEEuY2FsbChuZXcgdCkpLGshPT1PYmplY3QucHJvdG90eXBlJiYoZihrLE0sITApLG58fHMoayxsKXx8YyhrLGwsYikpKSxTJiZUJiZULm5hbWUhPT1oJiYoRT0hMCxSPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG4mJiFnfHwhcCYmIUUmJlBbbF18fGMoUCxsLFIpLHVbZV09Uix1W01dPWIsbSlpZih4PXt2YWx1ZXM6Uz9SOk8oaCksa2V5czpqP1I6Tyh2KSxlbnRyaWVzOlV9LGcpZm9yKHcgaW4geCl3IGluIFB8fGkoUCx3LHhbd10pO2Vsc2UgbyhvLlArby5GKihwfHxFKSxlLHgpO3JldHVybiB4fX0seyIuL19leHBvcnQiOjI0LCIuL19oYXMiOjI4LCIuL19oaWRlIjoyOSwiLi9faXRlci1jcmVhdGUiOjM3LCIuL19pdGVyYXRvcnMiOjQxLCIuL19saWJyYXJ5Ijo0MiwiLi9fb2JqZWN0LWdwbyI6NDgsIi4vX3JlZGVmaW5lIjo1NSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL193a3MiOjcxfV0sMzk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChjKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIWUmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10sYz1pW25dKCk7Yy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gY30sdChpKX1jYXRjaChzKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6NzF9XSw0MDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTplLGRvbmU6ISF0fX19LHt9XSw0MTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17fX0se31dLDQyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPSEwfSx7fV0sNDM6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19nbG9iYWwiKSxvPXQoIi4vX3Rhc2siKS5zZXQsaT1uLk11dGF0aW9uT2JzZXJ2ZXJ8fG4uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixjPW4ucHJvY2VzcyxzPW4uUHJvbWlzZSx1PSJwcm9jZXNzIj09dCgiLi9fY29mIikoYyk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGE9ZnVuY3Rpb24oKXt2YXIgbixvO2Zvcih1JiYobj1jLmRvbWFpbikmJm4uZXhpdCgpO3Q7KXtvPXQuZm4sdD10Lm5leHQ7dHJ5e28oKX1jYXRjaChpKXt0aHJvdyB0P3IoKTplPXZvaWQgMCxpfX1lPXZvaWQgMCxuJiZuLmVudGVyKCl9O2lmKHUpcj1mdW5jdGlvbigpe2MubmV4dFRpY2soYSl9O2Vsc2UgaWYoaSl7dmFyIGY9ITAsXz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkoYSkub2JzZXJ2ZShfLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe18uZGF0YT1mPSFmfX1lbHNlIGlmKHMmJnMucmVzb2x2ZSl7dmFyIGw9cy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2wudGhlbihhKX19ZWxzZSByPWZ1bmN0aW9uKCl7by5jYWxsKG4sYSl9O3JldHVybiBmdW5jdGlvbihuKXt2YXIgbz17Zm46bixuZXh0OnZvaWQgMH07ZSYmKGUubmV4dD1vKSx0fHwodD1vLHIoKSksZT1vfX19LHsiLi9fY29mIjoxNywiLi9fZ2xvYmFsIjoyNywiLi9fdGFzayI6NjN9XSw0NDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpLG89dCgiLi9fb2JqZWN0LWRwcyIpLGk9dCgiLi9fZW51bS1idWcta2V5cyIpLGM9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LHU9InByb3RvdHlwZSIsYT1mdW5jdGlvbigpe3ZhciBlLHI9dCgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxuPWkubGVuZ3RoLG89Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHQoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLGU9ci5jb250ZW50V2luZG93LmRvY3VtZW50LGUub3BlbigpLGUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbyksZS5jbG9zZSgpLGE9ZS5GO24tLTspZGVsZXRlIGFbdV1baVtuXV07cmV0dXJuIGEoKX07ZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIG51bGwhPT10PyhzW3VdPW4odCkscj1uZXcgcyxzW3VdPW51bGwscltjXT10KTpyPWEoKSx2b2lkIDA9PT1lP3I6byhyLGUpfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZW51bS1idWcta2V5cyI6MjMsIi4vX2h0bWwiOjMwLCIuL19vYmplY3QtZHBzIjo0NiwiLi9fc2hhcmVkLWtleSI6NTl9XSw0NTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpLG89dCgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPXQoIi4vX3RvLXByaW1pdGl2ZSIpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj10KCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUscil7aWYobih0KSxlPWkoZSwhMCksbihyKSxvKXRyeXtyZXR1cm4gYyh0LGUscil9Y2F0Y2gocyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJih0W2VdPXIudmFsdWUpLHR9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL190by1wcmltaXRpdmUiOjY5fV0sNDY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19vYmplY3QtZHAiKSxvPXQoIi4vX2FuLW9iamVjdCIpLGk9dCgiLi9fb2JqZWN0LWtleXMiKTtlLmV4cG9ydHM9dCgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe28odCk7Zm9yKHZhciByLGM9aShlKSxzPWMubGVuZ3RoLHU9MDtzPnU7KW4uZih0LHI9Y1t1KytdLGVbcl0pO3JldHVybiB0fX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX29iamVjdC1kcCI6NDUsIi4vX29iamVjdC1rZXlzIjo1MH1dLDQ3OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LXBpZSIpLG89dCgiLi9fcHJvcGVydHktZGVzYyIpLGk9dCgiLi9fdG8taW9iamVjdCIpLGM9dCgiLi9fdG8tcHJpbWl0aXZlIikscz10KCIuL19oYXMiKSx1PXQoIi4vX2llOC1kb20tZGVmaW5lIiksYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj10KCIuL19kZXNjcmlwdG9ycyIpP2E6ZnVuY3Rpb24odCxlKXtpZih0PWkodCksZT1jKGUsITApLHUpdHJ5e3JldHVybiBhKHQsZSl9Y2F0Y2gocil7fXJldHVybiBzKHQsZSk/byghbi5mLmNhbGwodCxlKSx0W2VdKTp2b2lkIDB9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oYXMiKSxvPXQoIi4vX3RvLW9iamVjdCIpLGk9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLG4odCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2hhcyIpLG89dCgiLi9fdG8taW9iamVjdCIpLGk9dCgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSksYz10KCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1vKHQpLHU9MCxhPVtdO2ZvcihyIGluIHMpciE9YyYmbihzLHIpJiZhLnB1c2gocik7Zm9yKDtlLmxlbmd0aD51OyluKHMscj1lW3UrK10pJiYofmkoYSxyKXx8YS5wdXNoKHIpKTtyZXR1cm4gYX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz10KCIuL19lbnVtLWJ1Zy1rZXlzIik7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fZmFpbHMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGM9e307Y1t0XT1lKHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLGMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oaWRlIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG8gaW4gZSlyJiZ0W29dP3Rbb109ZVtvXTpuKHQsbyxlW29dKTtyZXR1cm4gdH19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpLG89dCgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbih0LGUpe2lmKG8odCksIW4oZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHIsbil7dHJ5e249dCgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCx0KCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSkscj0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLHI/dC5fX3Byb3RvX189ZTpuKHQsZSksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2dsb2JhbCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fb2JqZWN0LWRwIiksYz10KCIuL19kZXNjcmlwdG9ycyIpLHM9dCgiLi9fd2tzIikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIG9bdF0/b1t0XTpuW3RdO2MmJmUmJiFlW3NdJiZpLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1kcCIpLmYsbz10KCIuL19oYXMiKSxpPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dCYmIW8odD1yP3Q6dC5wcm90b3R5cGUsaSkmJm4odCxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgia2V5cyIpLG89dCgiLi9fdWlkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1vKHQpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iiksbz10KCIuL19hLWZ1bmN0aW9uIiksaT10KCIuL193a3MiKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGM9bih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09Y3x8dm9pZCAwPT0ocj1uKGMpW2ldKT9lOm8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pbnRlZ2VyIiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBpLGMscz1TdHJpbmcobyhlKSksdT1uKHIpLGE9cy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT90PyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KGM9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxjPjU3MzQzP3Q/cy5jaGFyQXQodSk6aTp0P3Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKGMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGM9dCgiLi9fY3R4Iikscz10KCIuL19pbnZva2UiKSx1PXQoIi4vX2h0bWwiKSxhPXQoIi4vX2RvbS1jcmVhdGUiKSxmPXQoIi4vX2dsb2JhbCIpLF89Zi5wcm9jZXNzLGw9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAsaD17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHk9ZnVuY3Rpb24oKXt2YXIgdD0rdGhpcztpZihoLmhhc093blByb3BlcnR5KHQpKXt2YXIgZT1oW3RdO2RlbGV0ZSBoW3RdLGUoKX19LG09ZnVuY3Rpb24odCl7eS5jYWxsKHQuZGF0YSl9O2wmJnB8fChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyllLnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBoWysrdl09ZnVuY3Rpb24oKXtzKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LG4odiksdn0scD1mdW5jdGlvbih0KXtkZWxldGUgaFt0XX0sInByb2Nlc3MiPT10KCIuL19jb2YiKShfKT9uPWZ1bmN0aW9uKHQpe18ubmV4dFRpY2soYyh5LHQsMSkpfTpkPyhvPW5ldyBkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49YyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24odCl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYyh5LHQsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpsLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQpLDA+dD9vKHQrZSwwKTppKHQsZSl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP286bikodCl9fSx7fV0sNjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pb2JqZWN0Iiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKG8odCkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28obih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZGVmaW5lZCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIW4odCkpcmV0dXJuIHQ7dmFyIHIsbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LnRvU3RyaW5nKSYmIW4obz1yLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPXQudmFsdWVPZikmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKHI9dC50b1N0cmluZykmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgid2tzIiksbz10KCIuL191aWQiKSxpPXQoIi4vX2dsb2JhbCIpLlN5bWJvbCxjPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1jJiZpW3RdfHwoYz9pOm8pKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jbGFzc29mIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpO2UuZXhwb3J0cz10KCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9dD90W29dfHx0WyJAQGl0ZXJhdG9yIl18fGlbbih0KV06dm9pZCAwfX0seyIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2l0ZXJhdG9ycyI6NDEsIi4vX3drcyI6NzF9XSw3MzpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19hZGQtdG8tdW5zY29wYWJsZXMiKSxvPXQoIi4vX2l0ZXItc3RlcCIpLGk9dCgiLi9faXRlcmF0b3JzIiksYz10KCIuL190by1pb2JqZWN0Iik7ZS5leHBvcnRzPXQoIi4vX2l0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbih0LGUpe3RoaXMuX3Q9Yyh0KSx0aGlzLl9pPTAsdGhpcy5faz1lfSxmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3QsZT10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiF0fHxyPj10Lmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT1lP28oMCxyKToidmFsdWVzIj09ZT9vKDAsdFtyXSk6bygwLFtyLHRbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuL19hZGQtdG8tdW5zY29wYWJsZXMiOjEyLCIuL19pdGVyLWRlZmluZSI6MzgsIi4vX2l0ZXItc3RlcCI6NDAsIi4vX2l0ZXJhdG9ycyI6NDEsIi4vX3RvLWlvYmplY3QiOjY2fV0sNzQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19leHBvcnQiKTtuKG4uUytuLkYqIXQoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OnQoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2V4cG9ydCI6MjQsIi4vX29iamVjdC1kcCI6NDV9XSw3NTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLW9iamVjdCIpLG89dCgiLi9fb2JqZWN0LWtleXMiKTt0KCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBvKG4odCkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo1MCwiLi9fb2JqZWN0LXNhcCI6NTIsIi4vX3RvLW9iamVjdCI6Njh9XSw3NjpbZnVuY3Rpb24odCxlLHIpe30se31dLDc3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuLG8saSxjPXQoIi4vX2xpYnJhcnkiKSxzPXQoIi4vX2dsb2JhbCIpLHU9dCgiLi9fY3R4IiksYT10KCIuL19jbGFzc29mIiksZj10KCIuL19leHBvcnQiKSxfPXQoIi4vX2lzLW9iamVjdCIpLGw9KHQoIi4vX2FuLW9iamVjdCIpLHQoIi4vX2EtZnVuY3Rpb24iKSkscD10KCIuL19hbi1pbnN0YW5jZSIpLGQ9dCgiLi9fZm9yLW9mIiksdj0odCgiLi9fc2V0LXByb3RvIikuc2V0LHQoIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiKSksaD10KCIuL190YXNrIikuc2V0LGI9dCgiLi9fbWljcm90YXNrIikoKSx5PSJQcm9taXNlIixtPXMuVHlwZUVycm9yLGo9cy5wcm9jZXNzLGc9c1t5XSxqPXMucHJvY2Vzcyx4PSJwcm9jZXNzIj09YShqKSx3PWZ1bmN0aW9uKCl7fSxrPSEhZnVuY3Rpb24oKXt0cnl7dmFyIGU9Zy5yZXNvbHZlKDEpLHI9KGUuY29uc3RydWN0b3I9e30pW3QoIi4vX3drcyIpKCJzcGVjaWVzIildPWZ1bmN0aW9uKHQpe3Qodyx3KX07cmV0dXJuKHh8fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4odylpbnN0YW5jZW9mIHJ9Y2F0Y2gobil7fX0oKSxPPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfHx0PT09ZyYmZT09PWl9LE09ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIF8odCkmJiJmdW5jdGlvbiI9PXR5cGVvZihlPXQudGhlbik/ZTohMX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTyhnLHQpP25ldyBFKHQpOm5ldyBvKHQpfSxFPW89ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7ZT10LHI9bn0pLHRoaXMucmVzb2x2ZT1sKGUpLHRoaXMucmVqZWN0PWwocil9LFA9ZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fSxUPWZ1bmN0aW9uKHQsZSl7aWYoIXQuX24pe3QuX249ITA7dmFyIHI9dC5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuX3Ysbz0xPT10Ll9zLGk9MCxjPWZ1bmN0aW9uKGUpe3ZhciByLGksYz1vP2Uub2s6ZS5mYWlsLHM9ZS5yZXNvbHZlLHU9ZS5yZWplY3QsYT1lLmRvbWFpbjt0cnl7Yz8ob3x8KDI9PXQuX2gmJkEodCksdC5faD0xKSxjPT09ITA/cj1uOihhJiZhLmVudGVyKCkscj1jKG4pLGEmJmEuZXhpdCgpKSxyPT09ZS5wcm9taXNlP3UobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixzLHUpOnMocikpOnUobil9Y2F0Y2goZil7dShmKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTt0Ll9jPVtdLHQuX249ITEsZSYmIXQuX2gmJlIodCl9KX19LFI9ZnVuY3Rpb24odCl7aC5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgZSxyLG4sbz10Ll92O2lmKFUodCkmJihlPVAoZnVuY3Rpb24oKXt4P2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLHQpOihyPXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6dCxyZWFzb246b30pOihuPXMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSx0Ll9oPXh8fFUodCk/MjoxKSx0Ll9hPXZvaWQgMCxlKXRocm93IGUuZXJyb3J9KX0sVT1mdW5jdGlvbih0KXtpZigxPT10Ll9oKXJldHVybiExO2Zvcih2YXIgZSxyPXQuX2F8fHQuX2Msbj0wO3IubGVuZ3RoPm47KWlmKGU9cltuKytdLGUuZmFpbHx8IVUoZS5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbih0KXtoLmNhbGwocyxmdW5jdGlvbigpe3ZhciBlO3g/ai5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIix0KTooZT1zLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCxlPWUuX3d8fGUsZS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFQoZSwhMCkpfSxDPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT10KXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9TSh0KSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7ZS5jYWxsKHQsdShDLG4sMSksdShMLG4sMSkpfWNhdGNoKG8pe0wuY2FsbChuLG8pfX0pOihyLl92PXQsci5fcz0xLFQociwhMSkpfWNhdGNoKG4pe0wuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGc9ZnVuY3Rpb24odCl7cCh0aGlzLGcseSwiX2giKSxsKHQpLG4uY2FsbCh0aGlzKTt0cnl7dCh1KEMsdGhpcywxKSx1KEwsdGhpcywxKSl9Y2F0Y2goZSl7TC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXQoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIHI9Uyh2KHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLHIuZG9tYWluPXg/ai5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdCl9fSksRT1mdW5jdGlvbigpe3ZhciB0PW5ldyBuO3RoaXMucHJvbWlzZT10LHRoaXMucmVzb2x2ZT11KEMsdCwxKSx0aGlzLnJlamVjdD11KEwsdCwxKX0pLGYoZi5HK2YuVytmLkYqIWsse1Byb21pc2U6Z30pLHQoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx5KSx0KCIuL19zZXQtc3BlY2llcyIpKHkpLGk9dCgiLi9fY29yZSIpW3ldLGYoZi5TK2YuRiohayx5LHtyZWplY3Q6ZnVuY3Rpb24odCl7dmFyIGU9Uyh0aGlzKSxyPWUucmVqZWN0O3JldHVybiByKHQpLGUucHJvbWlzZX19KSxmKGYuUytmLkYqKGN8fCFrKSx5LHtyZXNvbHZlOmZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBnJiZPKHQuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIHQ7dmFyIGU9Uyh0aGlzKSxyPWUucmVzb2x2ZTtyZXR1cm4gcih0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKiEoayYmdCgiLi9faXRlci1kZXRlY3QiKShmdW5jdGlvbih0KXtnLmFsbCh0KVsiY2F0Y2giXSh3KX0pKSx5LHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPVMoZSksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPVAoZnVuY3Rpb24oKXt2YXIgcj1bXSxpPTAsYz0xO2QodCwhMSxmdW5jdGlvbih0KXt2YXIgcz1pKyssdT0hMTtyLnB1c2godm9pZCAwKSxjKyssZS5yZXNvbHZlKHQpLnRoZW4oZnVuY3Rpb24odCl7dXx8KHU9ITAscltzXT10LC0tY3x8bihyKSl9LG8pfSksLS1jfHxuKHIpfSk7cmV0dXJuIGkmJm8oaS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1TKGUpLG49ci5yZWplY3Qsbz1QKGZ1bmN0aW9uKCl7ZCh0LCExLGZ1bmN0aW9uKHQpe2UucmVzb2x2ZSh0KS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1pbnN0YW5jZSI6MTMsIi4vX2FuLW9iamVjdCI6MTQsIi4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZXhwb3J0IjoyNCwiLi9fZm9yLW9mIjoyNiwiLi9fZ2xvYmFsIjoyNywiLi9faXMtb2JqZWN0IjozNSwiLi9faXRlci1kZXRlY3QiOjM5LCIuL19saWJyYXJ5Ijo0MiwiLi9fbWljcm90YXNrIjo0MywiLi9fcmVkZWZpbmUtYWxsIjo1NCwiLi9fc2V0LXByb3RvIjo1NiwiLi9fc2V0LXNwZWNpZXMiOjU3LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6NTgsIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiOjYxLCIuL190YXNrIjo2MywiLi9fd2tzIjo3MX1dLDc4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX3N0cmluZy1hdCIpKCEwKTt0KCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbih0KXt0aGlzLl90PVN0cmluZyh0KSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49ZS5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1uKGUsciksdGhpcy5faSs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjM4LCIuL19zdHJpbmctYXQiOjYyfV0sNzk6W2Z1bmN0aW9uKHQsZSxyKXt0KCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbj10KCIuL19nbG9iYWwiKSxvPXQoIi4vX2hpZGUiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpLGM9dCgiLi9fd2tzIikoInRvU3RyaW5nVGFnIikscz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLHU9MDs1PnU7dSsrKXt2YXIgYT1zW3VdLGY9blthXSxfPWYmJmYucHJvdG90eXBlO18mJiFfW2NdJiZvKF8sYyxhKSxpW2FdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6MjcsIi4vX2hpZGUiOjI5LCIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxLCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NzN9XSw4MDpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ImRlZmF1bHQiOnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxjPXQoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHM9bihjKSx1PXQoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPXQoIi4uL3V0aWxzL3V0aWxzIiksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4peygwLHNbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgbz10aGlzO28ubWVzc2FnZUJ1cz1uLG8uZG9tYWluPSgwLGYuZGl2aWRlVVJMKShlKS5kb21haW4sby5oeXBlcnR5VVJMPWUsby5ydW50aW1lVVJMPXJ9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKSh0LFt7a2V5OiJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXMsbj12b2lkIDAsbz10P3Q6Ii4iO249ZT9lOnIuaHlwZXJ0eVVSTDt2YXIgYz17dHlwZToicmVhZCIsZnJvbTpuLHRvOnIucnVudGltZVVSTCsiL3JlZ2lzdHJ5LyIsYm9keTp7cmVzb3VyY2U6byxjcml0ZXJpYTpufX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxlKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkucmVzb3VyY2U7bj90KG4pOmUoIk5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksdH0oKTtyWyJkZWZhdWx0Il09XyxlLmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo4MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sODE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1mdW5jdGlvbiBvKHQpe2lmKCF0KXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIGU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49dC5yZXBsYWNlKGUscikuc3BsaXQoIiwiKTtuWzBdPT09dCYmKG5bMF09Imh0dHBzIixuWzFdPXQpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTp0LnN1YnN0cmluZygwLGUpLGRvbWFpbjp0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiEoKDAsZFsiZGVmYXVsdCJdKSh0KS5sZW5ndGg+MCl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdD9KU09OLnBhcnNlKCgwLGxbImRlZmF1bHQiXSkodCkpOnZvaWQgMH1mdW5jdGlvbiB1KHQpe3ZhciBlPXQuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIit0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpKyIvIit0LnN1YnN0cmluZygwLGUpfWZ1bmN0aW9uIGEodCl7dmFyIGU9byh0KTtyZXR1cm4gZS5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK2UuZG9tYWlufWZ1bmN0aW9uIGYodCl7aWYoInVzZXI6Ly8iPT09dC5zdWJzdHJpbmcoMCw3KSl7dmFyIGU9byh0KTtpZihlLmRvbWFpbiYmZS5pZGVudGl0eSlyZXR1cm4gdDt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdSh0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIF89dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksbD1uKF8pLHA9dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksZD1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9YyxyLmRlZXBDbG9uZT1zLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs4MF0pKDgwKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NTIgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmYSlyZXR1cm4gYShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG49InBlcmZvcm1DaGFuZ2UiLG89Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGEoZSl7dmFyIHQ9YXJndW1lbnRzLHM9YVtvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxjPWRbb10uYXBwbHkodGhpcyxzKTtyZXR1cm4oYy5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDpjfX0sdGhpcyksY319O2Zvcih2YXIgYyBpbiBzKXNbY11bb109dC5wcm90b3R5cGVbY10sdC5wcm90b3R5cGVbY109c1tjXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjIwfV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIxfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjJ9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyM31dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjI0fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI1fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIjoyN31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo0fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW4ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBuPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1uKXt2YXIgbz0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bz92b2lkIDA6YShvLHQscil9aWYoInZhbHVlImluIG4pcmV0dXJuIG4udmFsdWU7dmFyIHM9bi5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6NSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIiksdT1uKGEpO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCx1WyJkZWZhdWx0Il0pKHQpKSk7ZS5wcm90b3R5cGU9KDAsY1siZGVmYXVsdCJdKSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGlbImRlZmF1bHQiXT8oMCxpWyJkZWZhdWx0Il0pKGUsdCk6ZS5fX3Byb3RvX189dCl9fSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiOjE3fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpLGM9bihzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG89bi5KU09OfHwobi5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uc3RyaW5naWZ5LmFwcGx5KG8sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzV9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSI6MTAwfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Iik7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOjEwMX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpO3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoxMDJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjoxMDN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjEwNH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjEwNX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6MTA3LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6MTA5LCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOjExMCwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiOjExMX1dLDI3OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX3drcy1leHQiKS5mKCJpdGVyYXRvciIpfSx7Ii4uLy4uL21vZHVsZXMvX3drcy1leHQiOjk2LCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDMwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjU0fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1uKHQpLHU9byhhLmxlbmd0aCksbD1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1Pmw7KWlmKGM9YVtsKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKGV8fGwgaW4gYSkmJmFbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo4OCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLWxlbmd0aCI6OTF9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MzQsIi4vX3drcyI6OTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjI4fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0M31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWtleXMiKSxvPWUoIi4vX29iamVjdC1nb3BzIiksaT1lKCIuL19vYmplY3QtcGllIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1vLmY7aWYocilmb3IodmFyIHMsYz1yKGUpLGE9aS5mLHU9MDtjLmxlbmd0aD51OylhLmNhbGwoZSxzPWNbdSsrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LHsiLi9fb2JqZWN0LWdvcHMiOjcxLCIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1waWUiOjc1fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2N0eCIpLHM9ZSgiLi9faGlkZSIpLGM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIHUsbCxmLGQ9ZSZhLkYscD1lJmEuRyxiPWUmYS5TLF89ZSZhLlAsaD1lJmEuQix5PWUmYS5XLHY9cD9vOm9bdF18fChvW3RdPXt9KSxtPXZbY10saj1wP246Yj9uW3RdOihuW3RdfHx7fSlbY107cCYmKHI9dCk7Zm9yKHUgaW4gcilsPSFkJiZqJiZ2b2lkIDAhPT1qW3VdLGwmJnUgaW4gdnx8KGY9bD9qW3VdOnJbdV0sdlt1XT1wJiYiZnVuY3Rpb24iIT10eXBlb2Ygalt1XT9yW3VdOmgmJmw/aShmLG4pOnkmJmpbdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRbY109ZVtjXSx0fShmKTpfJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixfJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW3VdPWYsZSZhLlImJm0mJiFtW3VdJiZzKG0sdSxmKSkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLGEuVT02NCxhLlI9MTI4LHQuZXhwb3J0cz1hfSx7Ii4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19nbG9iYWwiOjQ1LCIuL19oaWRlIjo0N31dLDQzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jdHgiKSxvPWUoIi4vX2l0ZXItY2FsbCIpLGk9ZSgiLi9faXMtYXJyYXktaXRlciIpLHM9ZSgiLi9fYW4tb2JqZWN0IiksYz1lKCIuL190by1sZW5ndGgiKSxhPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksdT17fSxsPXt9LHI9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYsZCl7dmFyIHAsYixfLGgseT1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmEoZSksdj1uKHIsZix0PzI6MSksbT0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB5KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoeSkpe2ZvcihwPWMoZS5sZW5ndGgpO3A+bTttKyspaWYoaD10P3YocyhiPWVbbV0pWzBdLGJbMV0pOnYoZVttXSksaD09PXV8fGg9PT1sKXJldHVybiBofWVsc2UgZm9yKF89eS5jYWxsKGUpOyEoYj1fLm5leHQoKSkuZG9uZTspaWYoaD1vKF8sdixiLnZhbHVlLHQpLGg9PT11fHxoPT09bClyZXR1cm4gaH07ci5CUkVBSz11LHIuUkVUVVJOPWx9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtYXJyYXktaXRlciI6NTIsIi4vX2l0ZXItY2FsbCI6NTUsIi4vX3RvLWxlbmd0aCI6OTEsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo5OH1dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZihlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19wcm9wZXJ0eS1kZXNjIjo3N31dLDQ4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjo0NX1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19kZXNjcmlwdG9ycyIpJiYhZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19mYWlscyI6NDN9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi9fY29mIjozNH1dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXRlcmF0b3JzIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi9fY29mIjozNH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjMxfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjQ3LCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGw9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vX29iamVjdC1ncG8iKSxkPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsXz0ia2V5cyIsaD0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix2LG0saixnKXt1KHIsdCx2KTt2YXIgdyxPLGsseD1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBUKXJldHVybiBUW2VdO3N3aXRjaChlKXtjYXNlIF86cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxDPXQrIiBJdGVyYXRvciIsRT1tPT1oLFM9ITEsVD1lLnByb3RvdHlwZSxSPVRbZF18fFRbYl18fG0mJlRbbV0sTT1SfHx4KG0pLE49bT9FP3goImVudHJpZXMiKTpNOnZvaWQgMCxQPSJBcnJheSI9PXQ/VC5lbnRyaWVzfHxSOlI7aWYoUCYmKGs9ZihQLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGwoayxDLCEwKSxufHxjKGssZCl8fHMoayxkLHkpKSksRSYmUiYmUi5uYW1lIT09aCYmKFM9ITAsTT1mdW5jdGlvbigpe3JldHVybiBSLmNhbGwodGhpcyl9KSxuJiYhZ3x8IXAmJiFTJiZUW2RdfHxzKFQsZCxNKSxhW3RdPU0sYVtDXT15LG0paWYodz17dmFsdWVzOkU/TTp4KGgpLGtleXM6aj9NOngoXyksZW50cmllczpOfSxnKWZvcihPIGluIHcpTyBpbiBUfHxpKFQsTyx3W09dKTtlbHNlIG8oby5QK28uRioocHx8UyksdCx3KTtyZXR1cm4gd319LHsiLi9fZXhwb3J0Ijo0MiwiLi9faGFzIjo0NiwiLi9faGlkZSI6NDcsIi4vX2l0ZXItY3JlYXRlIjo1NiwiLi9faXRlcmF0b3JzIjo2MCwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1ncG8iOjcyLCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjk3fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzIiksbz1lKCIuL190by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4oaSksYz1zLmxlbmd0aCxhPTA7Yz5hOylpZihpW3I9c1thKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fdG8taW9iamVjdCI6OTB9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdWlkIikoIm1ldGEiKSxvPWUoIi4vX2lzLW9iamVjdCIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19vYmplY3QtZHAiKS5mLGM9MCxhPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHU9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gYShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7cyhlLG4se3ZhbHVlOntpOiJPIisgKytjLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxuKSl7aWYoIWEoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW25dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG4pKXtpZighYShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW25dLnd9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJmIuTkVFRCYmYShlKSYmIWkoZSxuKSYmbChlKSxlfSxiPXQuZXhwb3J0cz17S0VZOm4sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpkLG9uRnJlZXplOnB9fSx7Ii4vX2ZhaWxzIjo0MywiLi9faGFzIjo0NiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fdWlkIjo5NH1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYz1uLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IoYSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBsPSEwLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtmLmRhdGE9bD0hbH19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBkPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtkLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLHUpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MzQsIi4vX2dsb2JhbCI6NDUsIi4vX3Rhc2siOjg3fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSx1PXQuRjtuLS07KWRlbGV0ZSB1W2FdW2lbbl1dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1uKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19odG1sIjo0OCwiLi9fb2JqZWN0LWRwcyI6NjcsIi4vX3NoYXJlZC1rZXkiOjgzfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOyluLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19vYmplY3Qta2V5cyI6NzR9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31yZXR1cm4gYyhlLHQpP28oIW4uZi5jYWxsKGUsdCksZVt0XSk6dm9pZCAwfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2hhcyI6NDYsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdvcG4iKS5mLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9jKGUpOm8obihlKSl9fSx7Ii4vX29iamVjdC1nb3BuIjo3MCwiLi9fdG8taW9iamVjdCI6OTB9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIikuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsbyl9fSx7Ii4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCI6NzN9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3IuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSx7fV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LHsiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLW9iamVjdCI6OTJ9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSkscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYz1vKGUpLGE9MCx1PVtdO2ZvcihyIGluIGMpciE9cyYmbihjLHIpJiZ1LnB1c2gocik7Zm9yKDt0Lmxlbmd0aD5hOyluKGMscj10W2ErK10pJiYofmkodSxyKXx8dS5wdXNoKHIpKTtyZXR1cm4gdX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjMyLCIuL19oYXMiOjQ2LCIuL19zaGFyZWQta2V5Ijo4MywiLi9fdG8taW9iamVjdCI6OTB9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuL19jb3JlIjozNSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzfV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oaWRlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdClyJiZlW29dP2Vbb109dFtvXTpuKGUsbyx0W29dKTtyZXR1cm4gZX19LHsiLi9faGlkZSI6NDd9XSw3OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19oaWRlIil9LHsiLi9faGlkZSI6NDd9XSw4MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbil7dHJ5e249ZSgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCxlKCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLHI/ZS5fX3Byb3RvX189dDpuKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2N0eCI6MzYsIi4vX2lzLW9iamVjdCI6NTQsIi4vX29iamVjdC1nb3BkIjo2OH1dLDgxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fb2JqZWN0LWRwIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGM9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2NdJiZpLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjM1LCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2dsb2JhbCI6NDUsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcyI6OTd9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLmYsbz1lKCIuL19oYXMiKSxpPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuL19oYXMiOjQ2LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgia2V5cyIpLG89ZSgiLi9fdWlkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LHsiLi9fc2hhcmVkIjo4NCwiLi9fdWlkIjo5NH1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi9fZ2xvYmFsIjo0NX1dLDg1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19hLWZ1bmN0aW9uIiksaT1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjI4LCIuL19hbi1vYmplY3QiOjMxLCIuL193a3MiOjk3fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIDA+YXx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksNTUyOTY+aXx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjM3LCIuL190by1pbnRlZ2VyIjo4OX1dLDg3OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fY3R4IiksYz1lKCIuL19pbnZva2UiKSxhPWUoIi4vX2h0bWwiKSx1PWUoIi4vX2RvbS1jcmVhdGUiKSxsPWUoIi4vX2dsb2JhbCIpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLGI9bC5NZXNzYWdlQ2hhbm5lbCxfPTAsaD17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHY9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZihoLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1oW2VdO2RlbGV0ZSBoW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7di5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBoWysrX109ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4oXyksX30scD1mdW5jdGlvbihlKXtkZWxldGUgaFtlXX0sInByb2Nlc3MiPT1lKCIuL19jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyh2LGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLHYuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyh2LGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MzQsIi4vX2N0eCI6MzYsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19nbG9iYWwiOjQ1LCIuL19odG1sIjo0OCwiLi9faW52b2tlIjo1MH1dLDg4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLDA+ZT9vKGUrdCwwKTppKGUsdCl9fSx7Ii4vX3RvLWludGVnZXIiOjg5fV0sODk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pb2JqZWN0Iiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuL19kZWZpbmVkIjozNywiLi9faW9iamVjdCI6NTF9XSw5MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDkyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuL19kZWZpbmVkIjozN31dLDkzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjU0fV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sOTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2xpYnJhcnkiKSxzPWUoIi4vX3drcy1leHQiKSxjPWUoIi4vX29iamVjdC1kcCIpLmY7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uU3ltYm9sfHwoby5TeW1ib2w9aT97fTpuLlN5bWJvbHx8e30pOyJfIj09ZS5jaGFyQXQoMCl8fGUgaW4gdHx8Yyh0LGUse3ZhbHVlOnMuZihlKX0pfX0seyIuL19jb3JlIjozNSwiLi9fZ2xvYmFsIjo0NSwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcy1leHQiOjk2fV0sOTY6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9ZSgiLi9fd2tzIil9LHsiLi9fd2tzIjo5N31dLDk3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoIndrcyIpLG89ZSgiLi9fdWlkIiksaT1lKCIuL19nbG9iYWwiKS5TeW1ib2wscz0iZnVuY3Rpb24iPT10eXBlb2YgaSxjPXQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09cyYmaVtlXXx8KHM/aTpvKSgiU3ltYm9sLiIrZSkpfTtjLnN0b3JlPW59LHsiLi9fZ2xvYmFsIjo0NSwiLi9fc2hhcmVkIjo4NCwiLi9fdWlkIjo5NH1dLDk4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY2xhc3NvZiIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1lKCIuL19pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi9fY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUytuLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8obihlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLHA9ZSgiLi9fYW4taW5zdGFuY2UiKSxiPWUoIi4vX2Zvci1vZiIpLF89KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsbT1jLlR5cGVFcnJvcixqPWMucHJvY2VzcyxnPWNbdl0saj1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUoaiksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZyxlKT9uZXcgUyhlKTpuZXcgbyhlKX0sUz1vPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBtKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxUPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sUj1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7eShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTAscz1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxjPXQucmVzb2x2ZSxhPXQucmVqZWN0LHU9dC5kb21haW47dHJ5e3M/KG98fCgyPT1lLl9oJiZQKGUpLGUuX2g9MSkscz09PSEwP3I9bjoodSYmdS5lbnRlcigpLHI9cyhuKSx1JiZ1LmV4aXQoKSkscj09PXQucHJvbWlzZT9hKG0oIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9QyhyKSk/aS5jYWxsKHIsYyxhKTpjKHIpKTphKG4pfWNhdGNoKGwpe2EobCl9fTtyLmxlbmd0aD5pOylzKHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZNKGUpfSl9fSxNPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdjtpZihOKGUpJiYodD1UKGZ1bmN0aW9uKCl7dz9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj1jLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj1jLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD13fHxOKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LE49ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFOKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LFA9ZnVuY3Rpb24oZSl7aC5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdDt3P2ouZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9Yy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxSKHQsITApKX0sTD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBtKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUMoZSkpP3koZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLGEoTCxuLDEpLGEoRCxuLDEpKX1jYXRjaChvKXtELmNhbGwobixvKX19KTooci5fdj1lLHIuX3M9MSxSKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O2t8fChnPWZ1bmN0aW9uKGUpe3AodGhpcyxnLHYsIl9oIiksZChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYShMLHRoaXMsMSksYShELHRoaXMsMSkpfWNhdGNoKHQpe0QuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShnLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPUUoXyh0aGlzLGcpKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj13P2ouZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlIodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShMLGUsMSksCnRoaXMucmVqZWN0PWEoRCxlLDEpfSksbChsLkcrbC5XK2wuRiohayx7UHJvbWlzZTpnfSksZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKShnLHYpLGUoIi4vX3NldC1zcGVjaWVzIikodiksaT1lKCIuL19jb3JlIilbdl0sbChsLlMrbC5GKiFrLHYse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1FKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IWspLHYse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1FKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqIShrJiZlKCIuL19pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe2cuYWxsKGUpWyJjYXRjaCJdKE8pfSkpLHYse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxuPXIucmVzb2x2ZSxvPXIucmVqZWN0LGk9VChmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7YihlLCExLGZ1bmN0aW9uKGUpe3ZhciBjPWkrKyxhPSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXthfHwoYT0hMCxyW2NdPWUsLS1zfHxuKHIpKX0sbyl9KSwtLXN8fG4ocil9KTtyZXR1cm4gaSYmbyhpLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLWluc3RhbmNlIjozMCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19leHBvcnQiOjQyLCIuL19mb3Itb2YiOjQ0LCIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0LCIuL19pdGVyLWRldGVjdCI6NTgsIi4vX2xpYnJhcnkiOjYyLCIuL19taWNyb3Rhc2siOjY0LCIuL19yZWRlZmluZS1hbGwiOjc4LCIuL19zZXQtcHJvdG8iOjgwLCIuL19zZXQtc3BlY2llcyI6ODEsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciI6ODUsIi4vX3Rhc2siOjg3LCIuL193a3MiOjk3fV0sMTA4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX3N0cmluZy1hdCIpKCEwKTtlKCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjU3LCIuL19zdHJpbmctYXQiOjg2fV0sMTA5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9faGFzIiksaT1lKCIuL19kZXNjcmlwdG9ycyIpLHM9ZSgiLi9fZXhwb3J0IiksYz1lKCIuL19yZWRlZmluZSIpLGE9ZSgiLi9fbWV0YSIpLktFWSx1PWUoIi4vX2ZhaWxzIiksbD1lKCIuL19zaGFyZWQiKSxmPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZD1lKCIuL191aWQiKSxwPWUoIi4vX3drcyIpLGI9ZSgiLi9fd2tzLWV4dCIpLF89ZSgiLi9fd2tzLWRlZmluZSIpLGg9ZSgiLi9fa2V5b2YiKSx5PWUoIi4vX2VudW0ta2V5cyIpLHY9ZSgiLi9faXMtYXJyYXkiKSxtPWUoIi4vX2FuLW9iamVjdCIpLGo9ZSgiLi9fdG8taW9iamVjdCIpLGc9ZSgiLi9fdG8tcHJpbWl0aXZlIiksdz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksTz1lKCIuL19vYmplY3QtY3JlYXRlIiksaz1lKCIuL19vYmplY3QtZ29wbi1leHQiKSx4PWUoIi4vX29iamVjdC1nb3BkIiksQz1lKCIuL19vYmplY3QtZHAiKSxFPWUoIi4vX29iamVjdC1rZXlzIiksUz14LmYsVD1DLmYsUj1rLmYsTT1uLlN5bWJvbCxOPW4uSlNPTixQPU4mJk4uc3RyaW5naWZ5LEQ9InByb3RvdHlwZSIsTD1wKCJfaGlkZGVuIiksQT1wKCJ0b1ByaW1pdGl2ZSIpLEY9e30ucHJvcGVydHlJc0VudW1lcmFibGUsST1sKCJzeW1ib2wtcmVnaXN0cnkiKSxVPWwoInN5bWJvbHMiKSxWPWwoIm9wLXN5bWJvbHMiKSx6PU9iamVjdFtEXSxIPSJmdW5jdGlvbiI9PXR5cGVvZiBNLEI9bi5RT2JqZWN0LFc9IUJ8fCFCW0RdfHwhQltEXS5maW5kQ2hpbGQsSj1pJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oVCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBUKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1TKHosdCk7biYmZGVsZXRlIHpbdF0sVChlLHQsciksbiYmZSE9PXomJlQoeix0LG4pfTpULFk9ZnVuY3Rpb24oZSl7dmFyIHQ9VVtlXT1PKE1bRF0pO3JldHVybiB0Ll9rPWUsdH0scT1IJiYic3ltYm9sIj09dHlwZW9mIE0uaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE19LEs9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09eiYmSyhWLHQsciksbShlKSx0PWcodCwhMCksbShyKSxvKFUsdCk/KHIuZW51bWVyYWJsZT8obyhlLEwpJiZlW0xdW3RdJiYoZVtMXVt0XT0hMSkscj1PKHIse2VudW1lcmFibGU6dygwLCExKX0pKToobyhlLEwpfHxUKGUsTCx3KDEse30pKSxlW0xdW3RdPSEwKSxKKGUsdCxyKSk6VChlLHQscil9LEc9ZnVuY3Rpb24oZSx0KXttKGUpO2Zvcih2YXIgcixuPXkodD1qKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KUsoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sWj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P08oZSk6RyhPKGUpLHQpfSxYPWZ1bmN0aW9uKGUpe3ZhciB0PUYuY2FsbCh0aGlzLGU9ZyhlLCEwKSk7cmV0dXJuIHRoaXM9PT16JiZvKFUsZSkmJiFvKFYsZSk/ITE6dHx8IW8odGhpcyxlKXx8IW8oVSxlKXx8byh0aGlzLEwpJiZ0aGlzW0xdW2VdP3Q6ITB9LCQ9ZnVuY3Rpb24oZSx0KXtpZihlPWooZSksdD1nKHQsITApLGUhPT16fHwhbyhVLHQpfHxvKFYsdCkpe3ZhciByPVMoZSx0KTtyZXR1cm4hcnx8IW8oVSx0KXx8byhlLEwpJiZlW0xdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sUT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1SKGooZSkpLG49W10saT0wO3IubGVuZ3RoPmk7KW8oVSx0PXJbaSsrXSl8fHQ9PUx8fHQ9PWF8fG4ucHVzaCh0KTtyZXR1cm4gbn0sZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PXosbj1SKHI/VjpqKGUpKSxpPVtdLHM9MDtuLmxlbmd0aD5zOylvKFUsdD1uW3MrK10pJiYocj9vKHosdCk6ITApJiZpLnB1c2goVVt0XSk7cmV0dXJuIGl9O0h8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09eiYmdC5jYWxsKFYsciksbyh0aGlzLEwpJiZvKHRoaXNbTF0sZSkmJih0aGlzW0xdW2VdPSExKSxKKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmVyYmSih6LGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyh6LCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCksYi5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKHAoZSkpfSkscyhzLkcrcy5XK3MuRiohSCx7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspcCh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKHAuc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOylfKHRlW3JlKytdKTtzKHMuUytzLkYqIUgsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBvKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtXPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtXPSExfX0pLHMocy5TK3MuRiohSCwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLE4mJnMocy5TK3MuRiooIUh8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPVAoW2VdKXx8Int9IiE9UCh7YTplfSl8fCJ7fSIhPVAoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbj1bZV0sbz0xO2FyZ3VtZW50cy5sZW5ndGg+bzspbi5wdXNoKGFyZ3VtZW50c1tvKytdKTtyZXR1cm4gdD1uWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSkscSh0KT92b2lkIDA6dH0pLG5bMV09dCxQLmFwcGx5KE4sbil9fX0pLE1bRF1bQV18fGUoIi4vX2hpZGUiKShNW0RdLEEsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYobi5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wOzU+YTthKyspe3ZhciB1PWNbYV0sbD1uW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm8oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe3dpbmRvdy5NdXRhdGlvbk9ic2VydmVyPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmc9W10sdGhpcy5rPWV9ZnVuY3Rpb24gcihlKXshZnVuY3Rpb24gcigpe3ZhciBuPWUudGFrZVJlY29yZHMoKTtuLmxlbmd0aCYmZS5rKG4sZSksZS5mPXNldFRpbWVvdXQocix0Ll9wZXJpb2QpfSgpfWZ1bmN0aW9uIG4odCl7dmFyIHIsbj17dHlwZTpudWxsLHRhcmdldDpudWxsLGFkZGVkTm9kZXM6W10scmVtb3ZlZE5vZGVzOltdLHByZXZpb3VzU2libGluZzpudWxsLG5leHRTaWJsaW5nOm51bGwsYXR0cmlidXRlTmFtZTpudWxsLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOm51bGx9O2ZvcihyIGluIHQpbltyXSE9PWUmJnRbcl0hPT1lJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9YyhlLHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgbyxhPW4ubGVuZ3RoO3QuYSYmci5hJiZpKG4sZSxyLmEsdC5kKSwodC5ifHx0LmUpJiYobz1zKG4sZSxyLHQpKSwob3x8bi5sZW5ndGghPT1hKSYmKHI9YyhlLHQpKX19ZnVuY3Rpb24gaSh0LHIsbyxpKXtmb3IodmFyIHMsYyxhPXt9LHU9ci5hdHRyaWJ1dGVzLGw9dS5sZW5ndGg7bC0tOylzPXVbbF0sYz1zLm5hbWUsaSYmaVtjXT09PWV8fChzLnZhbHVlIT09b1tjXSYmdC5wdXNoKG4oe3R5cGU6ImF0dHJpYnV0ZXMiLHRhcmdldDpyLGF0dHJpYnV0ZU5hbWU6YyxvbGRWYWx1ZTpvW2NdLGF0dHJpYnV0ZU5hbWVzcGFjZTpzLm5hbWVzcGFjZVVSSX0pKSxhW2NdPSEwKTtmb3IoYyBpbiBvKWFbY118fHQucHVzaChuKHt0YXJnZXQ6cix0eXBlOiJhdHRyaWJ1dGVzIixhdHRyaWJ1dGVOYW1lOmMsb2xkVmFsdWU6b1tjXX0pKX1mdW5jdGlvbiBzKHQscixvLHMpe2Z1bmN0aW9uIGMoZSxyLG8sYyxhKXt2YXIgbD1lLmxlbmd0aC0xO2E9LX4oKGwtYSkvMik7Zm9yKHZhciBmLGQscDtwPWUucG9wKCk7KWY9b1twLmhdLGQ9Y1twLmldLHMuYiYmYSYmTWF0aC5hYnMocC5oLXAuaSk+PWwmJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltmXSxyZW1vdmVkTm9kZXM6W2ZdLG5leHRTaWJsaW5nOmYubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmYucHJldmlvdXNTaWJsaW5nfSkpLGEtLSkscy5hJiZkLmEmJmkodCxmLGQuYSxzLmQpLHMuYyYmMz09PWYubm9kZVR5cGUmJmYubm9kZVZhbHVlIT09ZC5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0OmZ9KSkscy5lJiZ1KGYsZCl9ZnVuY3Rpb24gdShyLG8pe2Zvcih2YXIgZCxwLGIsXyxoLHk9ci5jaGlsZE5vZGVzLHY9by5iLG09eS5sZW5ndGgsaj12P3YubGVuZ3RoOjAsZz0wLHc9MCxPPTA7bT53fHxqPk87KV89eVt3XSxoPShiPXZbT10pJiZiLmosXz09PWg/KHMuYSYmYi5hJiZpKHQsXyxiLmEscy5kKSxzLmMmJmIuYyE9PWUmJl8ubm9kZVZhbHVlIT09Yi5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0Ol99KSkscCYmYyhwLHIseSx2LGcpLHMuZSYmKF8uY2hpbGROb2Rlcy5sZW5ndGh8fGIuYiYmYi5iLmxlbmd0aCkmJnUoXyxiKSx3KyssTysrKToobD0hMCxkfHwoZD17fSxwPVtdKSxfJiYoZFtiPWEoXyldfHwoZFtiXT0hMCwtMT09PShiPWYodixfLE8sImoiKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbX10sbmV4dFNpYmxpbmc6Xy5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Xy5wcmV2aW91c1NpYmxpbmd9KSksZysrKTpwLnB1c2goe2g6dyxpOmJ9KSksdysrKSxoJiZoIT09eVt3XSYmKGRbYj1hKGgpXXx8KGRbYl09ITAsLTE9PT0oYj1mKHksaCx3KSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0Om8uaixyZW1vdmVkTm9kZXM6W2hdLG5leHRTaWJsaW5nOnZbTysxXSxwcmV2aW91c1NpYmxpbmc6dltPLTFdfSkpLGctLSk6cC5wdXNoKHtoOmIsaTpPfSkpLE8rKykpO3AmJmMocCxyLHksdixnKX12YXIgbDtyZXR1cm4gdShyLG8pLGx9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPSEwO3JldHVybiBmdW5jdGlvbiBuKGUpe3ZhciBvPXtqOmV9O3JldHVybiF0LmN8fDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZT8odC5hJiZyJiYxPT09ZS5ub2RlVHlwZSYmKG8uYT1sKGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHIpe3JldHVybiB0LmQmJiF0LmRbci5uYW1lXXx8KGVbci5uYW1lXT1yLnZhbHVlKSxlfSkpLHImJih0LmJ8fHQuY3x8dC5hJiZ0LmUpJiYoby5iPXUoZS5jaGlsZE5vZGVzLG4pKSxyPXQuZSk6by5jPWUubm9kZVZhbHVlLG99KGUpfWZ1bmN0aW9uIGEoZSl7dHJ5e3JldHVybiBlLmlkfHwoZS5tb19pZD1lLm1vX2lkfHxkKyspfWNhdGNoKHQpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2gocil7cmV0dXJuIGQrK319fWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bisrKXJbbl09dChlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj17fSxuPTA7bjxlLmxlbmd0aDtuKyspcj10KHIsZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGYoZSx0LHIsbil7Zm9yKDtyPGUubGVuZ3RoO3IrKylpZigobj9lW3JdW25dOmVbcl0pPT09dClyZXR1cm4gcjtyZXR1cm4tMX10Ll9wZXJpb2Q9MzAsdC5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e2E6ISEodC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZUZpbHRlcnx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSksYjohIXQuY2hpbGRMaXN0LGU6ISF0LnN1YnRyZWUsYzohKCF0LmNoYXJhY3RlckRhdGEmJiF0LmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl9LGk9dGhpcy5nLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdLm09PT1lJiZpLnNwbGljZShzLDEpO3QuYXR0cmlidXRlRmlsdGVyJiYobi5kPWwodC5hdHRyaWJ1dGVGaWx0ZXIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixuKXsidXNlIHN0cmljdCI7dmFyIG8saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbil9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cnx8MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sdT1yLk1hcCE9PW4mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG4pe3ZhciBvPWEoZSxyKTstMT09PW8/KGUucHVzaChyKSx0LnB1c2gobiksdGhpcy5zaXplKyspOnRbb109bn0sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG49YShlLHIpO24+LTEmJihlLnNwbGljZShuLDEpLHQuc3BsaWNlKG4sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtuXSxlW25dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBuPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO24ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBvLGk9MDtpPG4ubGVuZ3RoOykobz1hKHIsbltpKytdKSk+LTEmJnIuc3BsaWNlKG8sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixuLG89W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZvLnB1c2gocik7ZWxzZXtuPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdCluLmNhbGwodCxyKSYmby5wdXNoKHIpfXJldHVybiBjKHQpJiZvLnB1c2goImxlbmd0aCIpLG99LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCksYj1mdW5jdGlvbihlLHQscil7dmFyIG49by5nZXQoZSk7bj8oaChuLGUpLGooZSxuLHQscikpOihuPV8oZSksaihlLG4sdCxyKSwxPT09by5zaXplJiZwKHkpKX0sXz1mdW5jdGlvbih0LHIpe3ZhciBuLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOmUuaXNGcm96ZW4/ZS5pc0Zyb3plbih0KTohMSxleHRlbnNpYmxlOmUuaXNFeHRlbnNpYmxlP2UuaXNFeHRlbnNpYmxlKHQpOiEwLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOm0odCxyKX07aWYoZClmb3Iobj1yLmRlc2NyaXB0b3JzPVtdO2M8aS5sZW5ndGg7KW5bY109ZCh0LGlbY10pLHNbY109dFtpW2MrK11dO2Vsc2UgZm9yKDtjPGkubGVuZ3RoOylzW2NdPXRbaVtjKytdXTtyZXR1cm4gby5zZXQodCxyKSxyfSxoPWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYz10LnZhbHVlc1tyXSxhPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG8mJihjPT09cz8wPT09YyYmMS9jIT09MS9zOmM9PT1jfHxzPT09cykmJihnKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbiksdC52YWx1ZXNbcl09cyksIWEuY29uZmlndXJhYmxlfHxvLmNvbmZpZ3VyYWJsZSYmby53cml0YWJsZT09PWEud3JpdGFibGUmJm8uZW51bWVyYWJsZT09PWEuZW51bWVyYWJsZSYmby5nZXQ9PT1hLmdldCYmby5zZXQ9PT1hLnNldHx8KGcoZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG4pLHQuZGVzY3JpcHRvcnNbcl09byl9OmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXQucHJvcGVydGllc1tyXSxpPWVbb10scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoZyhlLHQse25hbWU6byx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG4pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG4sbyxpKXtmb3IodmFyIHMsYz1yLmxlbmd0aDtuJiZjLS07KW51bGwhPT1yW2NdJiYocz1kKGUscltjXSksbi0tLHM/dChlLG8sYyxpLHMpOihnKGUsbyx7bmFtZTpyW2NdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbY119LGkpLG8ucHJvcGVydGllcy5zcGxpY2UoYywxKSxvLnZhbHVlcy5zcGxpY2UoYywxKSxvLmRlc2NyaXB0b3JzLnNwbGljZShjLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG4sbyl7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihnKGUsbix7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbaV19LG8pLG4ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxuLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obixvLGkpe2lmKG4uaGFuZGxlcnMuc2l6ZSYmIW4uZnJvemVuKXt2YXIgcyxjLHUscCxiLF8saCx5LHY9bi52YWx1ZXMsbT1uLmRlc2NyaXB0b3JzLGo9MDtpZihuLmV4dGVuc2libGUpaWYocz1uLnByb3BlcnRpZXMuc2xpY2UoKSxjPXMubGVuZ3RoLHU9bChvKSxtKXtmb3IoO2o8dS5sZW5ndGg7KWI9dVtqKytdLHA9YShzLGIpLHk9ZChvLGIpLC0xPT09cD8oZyhvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSx2LnB1c2gob1tiXSksbS5wdXNoKHkpKTooc1twXT1udWxsLGMtLSx0KG8sbixwLGkseSkpO3IobyxzLGMsbixpKSxlLmlzRXh0ZW5zaWJsZShvKXx8KG4uZXh0ZW5zaWJsZT0hMSxnKG8sbix7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpvfSxpKSxuLmZyb3plbj1lLmlzRnJvemVuKG8pKX1lbHNle2Zvcig7ajx1Lmxlbmd0aDspYj11W2orK10scD1hKHMsYiksXz1vW2JdLC0xPT09cD8oZyhvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSx2LnB1c2goXykpOihzW3BdPW51bGwsYy0tLHQobyxuLHAsaSkpO3IobyxzLGMsbixpKX1lbHNlIGlmKCFuLmZyb3plbil7Zm9yKDtqPHMubGVuZ3RoO2orKyliPXNbal0sdChvLG4saixpLGQobyxiKSk7ZS5pc0Zyb3plbihvKSYmKG4uZnJvemVuPSEwKX1mJiYoaD1mKG8pLGghPT1uLnByb3RvJiYoZyhvLG4se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6byxvbGRWYWx1ZTpuLnByb3RvfSksbi5wcm90bz1oKSl9fX0oKSx5PWZ1bmN0aW9uKCl7by5zaXplJiYoby5mb3JFYWNoKGgpLGkuZm9yRWFjaCh2KSxwKHkpKX0sdj1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0sbT1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW8uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1vLmdldChlKTtpZihyKXt2YXIgbixpPXtvYmplY3Q6ZX07Zm9yKG4gaW4gdCkib2JqZWN0IiE9PW4mJihpW25dPXRbbl0pO2coZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYz1vLmdldChlKSxhPWFyZ3VtZW50c1syXSx1PWE9PT1uP3IoKTpyLmNhbGwoYSk7aWYoYyYmaChjLGUsdCksYyYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtnKGUsYyxzKX19fX0saj1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1pLmdldChyKTtvfHxpLnNldChyLG89e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksby5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpuLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixvKX0sZz1mdW5jdGlvbihlLHQscixuKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG89dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBufHwtMT09PWEobyxuKSkmJmEobyxyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtvPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG8pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG89PT1uKW89cztlbHNlIGlmKCFvfHwib2JqZWN0IiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBiKHQscixvKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixuPWkuZ2V0KHQpO3JldHVybiBuJiYocj1uLm9ic2VydmVkLmdldChlKSkmJihuLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHAoZnVuY3Rpb24oKXt2KG4sdCl9KSwxPT09bi5vYnNlcnZlZC5zaXplJiZuLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpuLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/b1siZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOm0odCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHYodCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSwxMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iKSxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbz1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9bihvKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxjPW4ocyksYT1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1uKGEpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9Y1siZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjoxMTgsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOSwiLi9zeW5jaGVyL1N5bmNoZXIiOjEyMiwiYXJyYXkub2JzZXJ2ZSI6MSwibXV0YXRpb25vYnNlcnZlci1zaGltIjoxMTMsIm9iamVjdC5vYnNlcnZlIjoxMTR9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCIuL1N5bmNPYmplY3QiKSxwPW4oZCksYj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLF89bihiKSxoPWUoIi4uL3V0aWxzL3V0aWxzLmpzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYz10aGlzO2MuX3N5bmNoZXI9dCxjLl91cmw9cixjLl9zY2hlbWE9bixjLl9zdGF0dXM9byxjLl9zeW5jT2JqPW5ldyBwWyJkZWZhdWx0Il0oaSksYy5fY2hpbGRyZW5zPXMsYy5fdmVyc2lvbj0wLGMuX2NoaWxkSWQ9MCxjLl9jaGlsZHJlbk9iamVjdHM9e30sYy5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sYy5fb3duZXI9dC5fb3duZXIsYy5fYnVzPXQuX2J1c31yZXR1cm4oMCxmWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcyxyPXQuX3VybCsiL2NoaWxkcmVuLyI7dC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmNvbnNvbGUubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCxjWyJkZWZhdWx0Il0pKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToiYWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9jaGlsZElkKys7dmFyIG49ci5fb3duZXIrIiMiK3IuX2NoaWxkSWQsbz1yLl91cmwrIi9jaGlsZHJlbi8iK2Uscz17dHlwZToiY3JlYXRlIixmcm9tOnIuX293bmVyLHRvOm8sYm9keTp7cmVzb3VyY2U6bix2YWx1ZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSl7dmFyIGk9ci5fYnVzLnBvc3RNZXNzYWdlKHMpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLHMpO3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIsaSk7Yy5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YyxlKGMpfSl9fSx7a2V5OiJvbkFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IF9bImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX07dC5fb25BZGRDaGlsZHJlbkhhbmRsZXImJihjb25zb2xlLmxvZygiQURELUNISUxEUkVOLUVWRU5UOiAiLG8pLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG8pKX19LHtrZXk6Il9vbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rKywib24iPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkfX07ZS5vVHlwZT09PWQuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9ZS5kYXRhKToobi5ib2R5LmF0dHJpYnV0ZVR5cGU9ZS5vVHlwZSxuLmJvZHkudmFsdWU9ZS5kYXRhLGUuY1R5cGUhPT1kLkNoYW5nZVR5cGUuVVBEQVRFJiYobi5ib2R5Lm9wZXJhdGlvbj1lLmNUeXBlKSksdCYmKG4udG89dC5wYXRoLG4uYm9keS5yZXNvdXJjZT10LmNoaWxkSWQpLHIuX2J1cy5wb3N0TWVzc2FnZShuKX19fSx7a2V5OiJfY2hhbmdlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisxPT09dC5ib2R5LnZlcnNpb24pe3IuX3ZlcnNpb24rKzt2YXIgbj10LmJvZHkuYXR0cmlidXRlLG89KDAsaC5kZWVwQ2xvbmUpKHQuYm9keS52YWx1ZSksaT1lLmZpbmRCZWZvcmUobik7aWYodC5ib2R5LmF0dHJpYnV0ZVR5cGU9PT1kLk9iamVjdFR5cGUuQVJSQVkpaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5BREQpe3ZhciBzPWkub2JqLGM9aS5sYXN0O0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyxbYywwXS5jb25jYXQobykpfWVsc2UgaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5SRU1PVkUpe3ZhciBhPWkub2JqLHU9aS5sYXN0O2Euc3BsaWNlKHUsbyl9ZWxzZSBpLm9ialtpLmxhc3RdPW87ZWxzZSB0LmJvZHkudmFsdWU/aS5vYmpbaS5sYXN0XT1vOmRlbGV0ZSBpLm9ialtpLmxhc3RdfWVsc2UgY29uc29sZS5sb2coIlVOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICIrci5fdmVyc2lvbisiLCBtc2cgPT4gIit0LmJvZHkudmVyc2lvbisiKSIpfX0se2tleToiX2NoYW5nZUNoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2NvbnNvbGUubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49dC5fY2hpbGRyZW5PYmplY3RzW3JdO24/dC5fY2hhbmdlT2JqZWN0KG4uX3N5bmNPYmosZSk6Y29uc29sZS5sb2coIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixyKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTIzLCIuL0RhdGFPYmplY3RDaGlsZCI6MTE3LCIuL1N5bmNPYmplY3QiOjEyMSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDExNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxjPW4ocyksYT1lKCIuL1N5bmNPYmplY3QiKSx1PW4oYSksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxzKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9wYXJlbnQ9dCxjLl9jaGlsZElkPXIsYy5fb3duZXI9byxjLl9tc2dJZD1zLGMuX3N5bmNPYmo9bmV3IHVbImRlZmF1bHQiXShuKSxjLl9idXM9dC5fYnVzLGMuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsY1siZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9vd25lcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZGVsZXRlIGUuX3BhcmVudC5fY2hpbGRyZW5bZS5fY2hpbGRJZF0sZS5fcmVsZWFzZUxpc3RlbmVycygpfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbih0KXtlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9TeW5jT2JqZWN0IjoxMjEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksXz1uKGIpLGg9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKGgpLHY9ZSgiLi9EYXRhT2JqZWN0IiksbT1uKHYpLGo9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxnPW4oaiksdz17QU5ZOiJhbnkiLFNUQVJUOiJzdGFydCIsRVhBQ1Q6ImV4YWN0In0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8scyxhLGwpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgZj0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsY1siZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxzLmRhdGEsYSkpLGQ9ZjtyZXR1cm4gZC5fdmVyc2lvbj1sLGQuX2ZpbHRlcnM9e30sZC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2QuX29uRmlsdGVyKGUpfSksKDAsaVsiZGVmYXVsdCJdKShzLmNoaWxkcmVucykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1zLmNoaWxkcmVuc1tlXTtkLl9jaGlsZHJlbk9iamVjdHNbZV09bmV3IGdbImRlZmF1bHQiXShkLGUsdCl9KSxkLl9hbGxvY2F0ZUxpc3RlbmVycygpLGZ9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwrIi9jaGFuZ2VzIixmdW5jdGlvbih0KXsidXBkYXRlIj09PXQudHlwZSYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxfWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOncuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT13LkFOWToobi50eXBlPXcuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PXcuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09dy5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PXcuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fV0pLHR9KG1bImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPU8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3QiOjExNiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE1LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTZ9XSwxMTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksXz1uKGIpLGg9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKGgpLHY9ZSgiLi9EYXRhT2JqZWN0IiksbT1uKHYpLGo9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgYT0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsY1siZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxpLHMpKSxsPWE7cmV0dXJuIGwuX3N1YnNjcmlwdGlvbnM9e30sbC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItIityKyItU0VORDogIixlKSxsLl9vbkNoYW5nZShlKX0pLGwuX2FsbG9jYXRlTGlzdGVuZXJzKCksYX1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsX1siZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtIitlLl91cmwrIi1SQ1Y6ICIsdCksdC50eXBlKXtjYXNlInJlc3BvbnNlIjplLl9vblJlc3BvbnNlKHQpO2JyZWFrO2Nhc2UicmVhZCI6ZS5fb25SZWFkKHQpfX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsX1siZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJjcmVhdGUiLGZyb206dC5fc3luY2hlci5fb3duZXIsdG86dC5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOnQuX3VybCxzY2hlbWE6dC5fc2NoZW1hLHZhbHVlOnQuX3N5bmNPYmouZGF0YSxhdXRob3Jpc2U6ZX19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX3JlcG9ydGVyc1tlLl91cmxdKX0pfX0se2tleToib25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcj1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Im9uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZWFkSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsai5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLGouZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxhY2NlcHQ6ZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsai5kZWVwQ2xvbmUpKHQuZGF0YSl9fSl9LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDEsZGVzYzpyfX0pfX07dC5fb25SZWFkSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRUFELUVWRU5UOiAiLHIpLHQuX29uUmVhZEhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KG1bImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWcsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTIzLCIuL0RhdGFPYmplY3QiOjExNiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE1LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTZ9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1uKHMpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8peygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcz10aGlzO3MuX293bmVyPXQscy5fdXJsPXIscy5fYnVzPW4scy5fY2hpbGRyZW49byxzLl9jaGFuZ2VzPVtdLHMuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsY1siZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhUHJvdmlzaW9uYWwtIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlcy5wdXNoKHQpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiYXBwbHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpfSl9fSx7a2V5OiJjaGlsZHJlbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufX1dKSxlfSgpO3JbImRlZmF1bHQiXT1hLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDEyMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1fLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1fLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGM9ZVsibmV3Il0oIiIrcyksYT1jLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YSxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBfPW8uc2xpY2UocyxzK2QpO18uZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShfKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxjPXMudG9TdHJpbmcoKTsKaWYoLTEhPT1jLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBhPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sXz1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9bihsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIikscD1uKGQpLGI9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxfPW4oYiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbz10aGlzO28uX293bmVyPXQsby5fYnVzPXIsby5fc3ViVVJMPW4ucnVudGltZVVSTCsiL3NtIixvLl9yZXBvcnRlcnM9e30sby5fb2JzZXJ2ZXJzPXt9LG8uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpvLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm8uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpvLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7ci5yZXBvcnRlcj1uLl9vd25lcixyLnNjaGVtYT1lO3ZhciBvPXt0eXBlOiJjcmVhdGUiLGZyb206bi5fb3duZXIsdG86bi5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe24uX2J1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKG8pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbyksMjAwPT09by5ib2R5LmNvZGUpe3ZhciBzPW8uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obixzLGUsIm9uIixyLG8uYm9keS5jaGlsZHJlblJlc291cmNlcyk7bi5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkoby5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG8saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24obil7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixuKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksbi5ib2R5LmNvZGU8MjAwKXM9bmV3IF9bImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxuLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBjPW5ldyBwWyJkZWZhdWx0Il0ocix0LGUsIm9uIixuLmJvZHkudmFsdWUscy5jaGlsZHJlbixuLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbyhjKSxzLmFwcGx5KGMpfWVsc2UgaShuLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbil7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coInJlYWQtcmVzcG9uc2U6ICIsdCksMjAwPT09dC5ib2R5LmNvZGU/ZSh0LmJvZHkudmFsdWUpOm4odC5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1oLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExOCwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOSwiLi9EYXRhUHJvdmlzaW9uYWwiOjEyMCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTVdKSgxMTUpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoInZhbHVlImluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9fS8qKgogKiBTaW1wbGUgY2xhc3MgZm9yIGVhc2llciBsb2dnaW5nCiAqL3ZhciBMb2dnZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBMb2dnZXIobmFtZSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTG9nZ2VyKTt0aGlzLnByZWZpeD1uYW1lKyIgIjt0aGlzLmM9Y29uc29sZTt9X2NyZWF0ZUNsYXNzKExvZ2dlcixbe2tleToiZCIsdmFsdWU6ZnVuY3Rpb24gZChtc2cpe2Zvcih2YXIgX2xlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkoX2xlbj4xP19sZW4tMTowKSxfa2V5PTE7X2tleTxfbGVuO19rZXkrKyl7YXJnc1tfa2V5LTFdPWFyZ3VtZW50c1tfa2V5XTt9YXJndW1lbnRzWzBdPXRoaXMucHJlZml4K2FyZ3VtZW50c1swXTt0aGlzLmMuZGVidWcuYXBwbHkodGhpcy5jLGFyZ3VtZW50cyk7fX0se2tleToibCIsdmFsdWU6ZnVuY3Rpb24gbChtc2cpe2Zvcih2YXIgX2xlbjI9YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW4yPjE/X2xlbjItMTowKSxfa2V5Mj0xO19rZXkyPF9sZW4yO19rZXkyKyspe2FyZ3NbX2tleTItMV09YXJndW1lbnRzW19rZXkyXTt9YXJndW1lbnRzWzBdPXRoaXMucHJlZml4K2FyZ3VtZW50c1swXTt0aGlzLmMubG9nLmFwcGx5KHRoaXMuYyxhcmd1bWVudHMpO319LHtrZXk6ImkiLHZhbHVlOmZ1bmN0aW9uIGkobXNnKXtmb3IodmFyIF9sZW4zPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShfbGVuMz4xP19sZW4zLTE6MCksX2tleTM9MTtfa2V5MzxfbGVuMztfa2V5MysrKXthcmdzW19rZXkzLTFdPWFyZ3VtZW50c1tfa2V5M107fWFyZ3VtZW50c1swXT10aGlzLnByZWZpeCthcmd1bWVudHNbMF07dGhpcy5jLmluZm8uYXBwbHkodGhpcy5jLGFyZ3VtZW50cyk7fX0se2tleToidyIsdmFsdWU6ZnVuY3Rpb24gdyhtc2cpe2Zvcih2YXIgX2xlbjQ9YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW40PjE/X2xlbjQtMTowKSxfa2V5ND0xO19rZXk0PF9sZW40O19rZXk0Kyspe2FyZ3NbX2tleTQtMV09YXJndW1lbnRzW19rZXk0XTt9YXJndW1lbnRzWzBdPXRoaXMucHJlZml4K2FyZ3VtZW50c1swXTt0aGlzLmMud2Fybi5hcHBseSh0aGlzLmMsYXJndW1lbnRzKTt9fSx7a2V5OiJlIix2YWx1ZTpmdW5jdGlvbiBlKG1zZyl7Zm9yKHZhciBfbGVuNT1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkoX2xlbjU+MT9fbGVuNS0xOjApLF9rZXk1PTE7X2tleTU8X2xlbjU7X2tleTUrKyl7YXJnc1tfa2V5NS0xXT1hcmd1bWVudHNbX2tleTVdO31hcmd1bWVudHNbMF09dGhpcy5wcmVmaXgrYXJndW1lbnRzWzBdO3RoaXMuYy5lcnJvci5hcHBseSh0aGlzLmMsYXJndW1lbnRzKTt9fV0pO3JldHVybiBMb2dnZXI7fSgpO2V4cG9ydHMuZGVmYXVsdD1Mb2dnZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX3NsaWNlZFRvQXJyYXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFycixpKXt2YXIgX2Fycj1bXTt2YXIgX249dHJ1ZTt2YXIgX2Q9ZmFsc2U7dmFyIF9lPXVuZGVmaW5lZDt0cnl7Zm9yKHZhciBfaT1hcnJbU3ltYm9sLml0ZXJhdG9yXSgpLF9zOyEoX249KF9zPV9pLm5leHQoKSkuZG9uZSk7X249dHJ1ZSl7X2Fyci5wdXNoKF9zLnZhbHVlKTtpZihpJiZfYXJyLmxlbmd0aD09PWkpYnJlYWs7fX1jYXRjaChlcnIpe19kPXRydWU7X2U9ZXJyO31maW5hbGx5e3RyeXtpZighX24mJl9pWyJyZXR1cm4iXSlfaVsicmV0dXJuIl0oKTt9ZmluYWxseXtpZihfZCl0aHJvdyBfZTt9fXJldHVybiBfYXJyO31yZXR1cm4gZnVuY3Rpb24oYXJyLGkpe2lmKEFycmF5LmlzQXJyYXkoYXJyKSl7cmV0dXJuIGFycjt9ZWxzZSBpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpe3JldHVybiBzbGljZUl0ZXJhdG9yKGFycixpKTt9ZWxzZXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7fX07fSgpO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSJpbiBkZXNjcmlwdG9yKWRlc2NyaXB0b3Iud3JpdGFibGU9dHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe2lmKHByb3RvUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO307fSgpO2V4cG9ydHMuZGVmYXVsdD1hY3RpdmF0ZTt2YXIgX1N5bmNoZXI9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7dmFyIF9IeXBlcnR5RGlzY292ZXJ5PXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeScpO3ZhciBfSHlwZXJ0eURpc2NvdmVyeTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eURpc2NvdmVyeSk7dmFyIF9JZGVudGl0eU1hbmFnZXI9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXInKTt2YXIgX0lkZW50aXR5TWFuYWdlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRlbnRpdHlNYW5hZ2VyKTt2YXIgX3V0aWxzPXJlcXVpcmUoJy4uL3V0aWxzL3V0aWxzJyk7dmFyIF9FdmVudEVtaXR0ZXIyPXJlcXVpcmUoJy4uL3V0aWxzL0V2ZW50RW1pdHRlcicpO3ZhciBfRXZlbnRFbWl0dGVyMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudEVtaXR0ZXIyKTt2YXIgX0xvZ2dlcj1yZXF1aXJlKCcuL0xvZ2dlcicpO3ZhciBfTG9nZ2VyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2dnZXIpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfTt9ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9fWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7fXJldHVybiBjYWxsJiYodHlwZW9mIGNhbGw9PT0ib2JqZWN0Inx8dHlwZW9mIGNhbGw9PT0iZnVuY3Rpb24iKT9jYWxsOnNlbGY7fWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZih0eXBlb2Ygc3VwZXJDbGFzcyE9PSJmdW5jdGlvbiImJnN1cGVyQ2xhc3MhPT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHN1cGVyQ2xhc3MpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTtpZihzdXBlckNsYXNzKU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3M7fS8qIGpzaGludCB1bmRlZjogdHJ1ZSAqL3ZhciBsPW5ldyBfTG9nZ2VyMi5kZWZhdWx0KCJST09NVUkiKTt2YXIgcm9vbVNlcnZlcklkZW50aXR5PSJvcGVuaWR0ZXN0MTBAZ21haWwuY29tIjt2YXIgUm9vbUNsaWVudD1mdW5jdGlvbihfRXZlbnRFbWl0dGVyKXtfaW5oZXJpdHMoUm9vbUNsaWVudCxfRXZlbnRFbWl0dGVyKTsvKioKICAgICAqIENyZWF0ZSBhIG5ldyBSb29tQ2xpZW50CiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaHlwZXJ0eVVSTCAtIFVSTCBvZiB0aGUgaHlwZXJ0eQogICAgICogQHBhcmFtIHtNaW5pQnVzfSBidXMgLSBNaW5pQnVzCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlndXJhdGlvbiAtIGNvbmZpZ3VyYXRpb24gb2YgaHlwZXJ0eQogICAgICovZnVuY3Rpb24gUm9vbUNsaWVudChoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxSb29tQ2xpZW50KTtpZighaHlwZXJ0eVVSTCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO2lmKCFidXMpdGhyb3cgbmV3IEVycm9yKCdUaGUgTWluaUJ1cyBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighY29uZmlndXJhdGlvbil0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO3ZhciBfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tQ2xpZW50KS5jYWxsKHRoaXMpKTtsLmQoImh5cGVydHlVUkw6IixoeXBlcnR5VVJMKTtsLmQoImJ1czoiLGJ1cyk7bC5kKCJjb25maWd1cmF0aW9uOiIsY29uZmlndXJhdGlvbik7Ly8gbWFrZSBwYXJhbWV0ZXJzIGF2YWlsYWJsZQpfdGhpcy5oeXBlcnR5VVJMPWh5cGVydHlVUkw7X3RoaXMuYnVzPWJ1cztfdGhpcy5jb25maWd1cmF0aW9uPWNvbmZpZ3VyYXRpb247Ly8gY3JlYXRlIENvbnRleHQgU2NoZW1hIFVSTApfdGhpcy5jb250ZXh0U2NoZW1hVVJMPSdoeXBlcnR5LWNhdGFsb2d1ZTovLycrKDAsX3V0aWxzLmRpdmlkZVVSTCkoaHlwZXJ0eVVSTCkuZG9tYWluKycvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db250ZXh0JzsvLyBkaXNjb3Zlcnkgc3R1ZmYKX3RoaXMuaHlwZXJ0eURpc2NvdmVyeT1uZXcgX0h5cGVydHlEaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCxidXMpO190aGlzLmlkZW50aXR5TWFuYWdlcj1uZXcgX0lkZW50aXR5TWFuYWdlcjIuZGVmYXVsdChoeXBlcnR5VVJMLGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCxidXMpOy8vIFN5bmNoZXIKX3RoaXMuc3luY2hlcj1uZXcgX1N5bmNoZXIuU3luY2hlcihoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKTsvLyB0aGlzIHByb21pc2UgY2hhaW4gcmVwcmVzZW50cyB0aGUgY29tcGxldGUgc2V0dXAgcHJvY2VzcwovLyAxLiAoYSkgZGlzY292ZXIgdGhlIGFzc29jaWF0ZWQgaWRlbnRpdHkgYW5kIChiKSBnZXQgdGhlIFVSTCBvZiB0aGUgUm9vbVNlcnZlciBoeXBlcnR5Ci8vIDIuIGdldCBTeW5jT2JqZWN0IFVSTHMgb2Ygcm9vbXMgdGhpcyBpZGVudGl0eSBpcyBhbGxvd2VkIHRvIHN1YnNjcmliZSB0byBmcm9tIHRoZSBSb29tU2VydmVyIGh5cGVydHkKLy8gMy4gc3Vic2NyaWJlIHRvIHRob3NlIG9iamVjdHMKUHJvbWlzZS5hbGwoW190aGlzLmRpc2NvdmVySWRlbnRpdHkoKSxfdGhpcy5nZXRSb29tU2VydmVySHlwZXJ0eVVSTChyb29tU2VydmVySWRlbnRpdHkpXSkudGhlbihmdW5jdGlvbihfcmVmKXt2YXIgX3JlZjI9X3NsaWNlZFRvQXJyYXkoX3JlZiwyKTt2YXIgaWRlbnRpdHk9X3JlZjJbMF07dmFyIGh5cGVydHlVUkw9X3JlZjJbMV07X3RoaXMucm9vbVNlcnZlclVSTD1oeXBlcnR5VVJMO190aGlzLmlkZW50aXR5PWlkZW50aXR5O3JldHVybiBfdGhpcy5yZXF1ZXN0Um9vbVVSTHMoaWRlbnRpdHksaHlwZXJ0eVVSTCk7fSkudGhlbihmdW5jdGlvbih1cmxzKXtyZXR1cm4gX3RoaXMuc3Vic2NyaWJlVG9Sb29tcyh1cmxzKTt9KS50aGVuKGZ1bmN0aW9uKHN5bmNSb29tcyl7bC5kKCJJbml0aWFsaXphdGlvbiBkb25lLCByb29tIFN5bmNPYmplY3RzOiIsc3luY1Jvb21zKTt9KTtyZXR1cm4gX3RoaXM7fS8qKgogICAgICogRGlzY292ZXIgdGhlIGlkZW50aXR5IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGh5cGVydHkKICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIGZ1bGZpbGxzIHdpdGggdGhlIGlkZW50aXR5IHRoaXMgaHlwZXJ0eSBpcyBhc3NvY2lhdGVkIHdpdGgKICAgICAqL19jcmVhdGVDbGFzcyhSb29tQ2xpZW50LFt7a2V5OidkaXNjb3ZlcklkZW50aXR5Jyx2YWx1ZTpmdW5jdGlvbiBkaXNjb3ZlcklkZW50aXR5KCl7dmFyIF90aGlzMj10aGlzO2wuZCgiZGlzY292ZXJJZGVudGl0eSIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7Ly8gZmlyc3QgZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCBjYWxsCl90aGlzMi5pZGVudGl0eU1hbmFnZXIuZGlzY292ZXJVc2VyUmVnaXN0ZXJlZCgpLnRoZW4oZnVuY3Rpb24odXNlcil7Ly8gaWYgdXNlciBpcyBhbiBvYmplY3QsIGl0IGlzIGFzc3VtZWQgdGhlIGRpc2NvdmVyeSBzdWNjZWVkZWQKaWYodXNlciBpbnN0YW5jZW9mIE9iamVjdCl7bC5kKCJkaXNjb3ZlcmVkIHVzZXIgaWRlbnRpdHk6Iix1c2VyKTsvLyBzdG9wIGludGVydmFsIGlmIGlkZW50aXR5IGlzIGtub3duCnJlc29sdmUodXNlci51c2VybmFtZSk7Ly9UT0RPIG1heWJlIGEgZGlmZmVyZW50IHByb3BlcnR5IHdpbGwgYmUgdXNlZCwgdGFrZSB1c2VybmFtZSBmb3Igbm93Cn1lbHNle3ZhciBlcnJvclN0cmluZz0iZGlzY292ZXJpbmcgdXNlciBpZGVudGl0eSBzaG91bGQgaGF2ZSByZXR1cm5lZCB3aXRoIGFuIG9iamVjdCwgYnV0IGluc3RlYWQgcmV0dXJuZWQgd2l0aDogIit1c2VyO2wudyhlcnJvclN0cmluZyk7dGhyb3cgbmV3IEVycm9yKGVycm9yU3RyaW5nKTt9fSkuY2F0Y2goZnVuY3Rpb24oZSl7bC53KCJkaXNjb3ZlcmluZyB1c2VyIGlkZW50aXR5IGZhaWxlZCB3aXRoOiIsZSk7bC5kKCJ0cnlpbmcgZGlzY292ZXJ5IGFnYWluIGFmdGVyIGEgdGltZW91dCIpOy8vIGlmIGRpc2NvdmVyeSBmYWlscywgcmV0cnkgYWZ0ZXIgc29tZSB0aW1lb3V0CnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMyLmRpc2NvdmVySWRlbnRpdHkoKS50aGVuKHJlc29sdmUpO30sNTAwKTt9KTt9KTt9LyoqCiAgICAgKiBHZXRzIHRoZSBoeXBlcnR5VVJMIG9mIHRoZSBSb29tU2VydmVyIGh5cGVydHkKICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb29tU2VydmVyVVJMIC0gaWRlbnRpdHkgdGhhdCB0aGUgZGVzaXJlZCBSb29tU2VydmVyIGh5cGVydHkgaXMgYXNzb2NpYXRlZCB0bwogICAgICogQHJldHVybnMge1Byb21pc2V9IC0gZnVsZmlsbHMgd2l0aCB0aGUgaHlwZXJ0eVVSTCBvZiB0aGUgUm9vbVNlcnZlciBoeXBlcnR5CiAgICAgKi99LHtrZXk6J2dldFJvb21TZXJ2ZXJIeXBlcnR5VVJMJyx2YWx1ZTpmdW5jdGlvbiBnZXRSb29tU2VydmVySHlwZXJ0eVVSTChyb29tU2VydmVyVVJMKXtsLmQoImdldFJvb21TZXJ2ZXJIeXBlcnR5VVJMOiIsW3Jvb21TZXJ2ZXJVUkxdKTtyZXR1cm4gdGhpcy5oeXBlcnR5RGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcihyb29tU2VydmVyVVJMLG51bGwpLnRoZW4oZnVuY3Rpb24oaHlwZXJ0aWVzKXsvL2wuZCgiZm91bmQgaHlwZXJ0aWVzOiAiLCBoeXBlcnRpZXMpOwp2YXIgbGF0ZXN0Um9vbVNlcnZlckh5cGVydHk9dm9pZCAwO3ZhciBsYXRlc3REYXRlPXZvaWQgMDt2YXIgaHlwZXJ0eT12b2lkIDA7Ly8gaXRlcmF0ZSB0aHJvdWdoIGh5cGVydGllcyB0byBmaW5kIG1vc3QgY3VycmVudCBSb29tU2VydmVyIGh5cGVydHkKZm9yKGh5cGVydHkgaW4gaHlwZXJ0aWVzKXtoeXBlcnR5PWh5cGVydGllc1toeXBlcnR5XTsvL2wuZCgiY2hlY2tpbmcgaHlwZXJ0eSIsIGh5cGVydHkpOwp2YXIgbmFtZT1oeXBlcnR5LmRlc2NyaXB0b3Iuc3Vic3RyaW5nKGh5cGVydHkuZGVzY3JpcHRvci5sYXN0SW5kZXhPZignLycpKzEpOy8vbC5kKCJjaGVja2luZyBuYW1lOiIsIG5hbWUpOwppZihuYW1lPT09IlJvb21TZXJ2ZXIiKXt2YXIgZGF0ZT1oeXBlcnR5LnN0YXJ0aW5nVGltZTsvL2wuZCgiaXMgcm9vbSBzZXJ2ZXIgaHlwZXJ0eSB3aXRoIHN0YXJ0aW5nVGltZToiLCBkYXRlKTsKaWYoIWxhdGVzdERhdGV8fGRhdGU+bGF0ZXN0RGF0ZSl7Ly9sLmQoImlzIG5ldyBsYXRlc3QgaHlwZXJ0eToiLCBkYXRlKTsKbGF0ZXN0RGF0ZT1kYXRlO2xhdGVzdFJvb21TZXJ2ZXJIeXBlcnR5PWh5cGVydHk7fX19aWYobGF0ZXN0Um9vbVNlcnZlckh5cGVydHkpe3JldHVybiBsYXRlc3RSb29tU2VydmVySHlwZXJ0eS5oeXBlcnR5SUQ7fWVsc2V7bC5lKCJVbmFibGUgdG8gZmluZCBSb29tU2VydmVyIGh5cGVydHkhIik7dGhyb3cgbmV3IEVycm9yKCk7fX0pO30vKioKICAgICAqIFN1YnNjcmliZXMgdG8gZWFjaCBTeW5jT2JqZWN0IGVhY2ggVVJMIGluIHRoZSBwcm92aWRlZCBhcnJheSBwb2ludHMgdG8KICAgICAqIEBwYXJhbSB7QXJyYXl9IHVybHMgLSBhcnJheSBvZiBVUkxzIHRoYXQgcG9pbnQgdG8gU3luY09iamVjdHMKICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIGZ1bGZpbGxzIHdpdGggYW4gYXJyYXkgb2YgU3luY09iamVjdHMKICAgICAqL30se2tleTonc3Vic2NyaWJlVG9Sb29tcycsdmFsdWU6ZnVuY3Rpb24gc3Vic2NyaWJlVG9Sb29tcyh1cmxzKXt2YXIgX3RoaXMzPXRoaXM7bC5kKCJzdWJzY3JpYmVUb1Jvb21zOiIsW3VybHNdKTt2YXIgc3Vic2NyaWJlUHJvbWlzZXM9W107dXJscy5mb3JFYWNoKGZ1bmN0aW9uKHVybCl7dmFyIHA9X3RoaXMzLnN1YnNjcmliZSh1cmwpO3N1YnNjcmliZVByb21pc2VzLnB1c2gocCk7fSk7cmV0dXJuIFByb21pc2UuYWxsKHN1YnNjcmliZVByb21pc2VzKTt9LyoqCiAgICAgKiBSZXF1ZXN0cyBhIGxpc3Qgb2YgVVJMcyBvZiBTeW5jT2JqZWN0cyByZXByZXNlbnRpbmcgcm9vbXMgZnJvbSB0aGUgZGVzaXJlZCByZW1vdGUgaHlwZXJ0eQogICAgICogdGhhdCB0aGUgZ2l2ZW4gaWRlbnRpdHkgaXMgYWxsb3dlZCB0byBtb25pdG9yICYgY29udHJvbAogICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aXR5IC0gaWRlbnRpdHkgcHJvdmlkZWQgdG8gdGhlIHJlbW90ZSBoeXBlcnR5IHRvIGRlY2lkZSB3aGljaCBVUkxzIGl0IHdpbGwgcmV0dXJuIChhY2Nlc3MgY29udHJvbCkKICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZW1vdGVIeXBlcnR5VVJMIC0gaHlwZXJ0eSBVUkwgcG9pbnRpbmcgdG8gdGhlIHJlbW90ZSAoUm9vbVNlcnZlcikgaHlwZXJ0eQogICAgICogQHJldHVybnMge1Byb21pc2V9IC0gZnVsZmlsbHMgd2l0aCBhbiBhcnJheSBvZiBTeW5jT2JqZWN0IFVSTHMKICAgICAqL30se2tleToncmVxdWVzdFJvb21VUkxzJyx2YWx1ZTpmdW5jdGlvbiByZXF1ZXN0Um9vbVVSTHMoaWRlbnRpdHkscmVtb3RlSHlwZXJ0eVVSTCl7bC5kKCJyZXF1ZXN0Um9vbVVSTHM6IixbaWRlbnRpdHkscmVtb3RlSHlwZXJ0eVVSTF0pO3JldHVybiB0aGlzLmV4ZWN1dGVPblJlbW90ZShyZW1vdGVIeXBlcnR5VVJMLCJnZXRSb29tcyIsW2lkZW50aXR5XSk7fS8qKgogICAgICogaW52b2tlcyBhIGZ1bmN0aW9uIGF0IHRoZSByZW1vdGUgaHlwZXJ0eQogICAgICogQHBhcmFtIHtzdHJpbmd9IHJlbW90ZUh5cGVydHlVUkwgLSBVUkwgb2YgdGhlIHJlbW90ZSBoeXBlcnR5CiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgaW52b2tlZAogICAgICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIC0gcGFyYW1ldGVycyBwcm92aWRlZCBmb3IgdGhlIHJlbW90ZSBmdW5jdGlvbgogICAgICogQHJldHVybnMge1Byb21pc2V9IC0gZnVsZmlsbHMgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSByZW1vdGUgZnVuY3Rpb24gY2FsbAogICAgICovfSx7a2V5OidleGVjdXRlT25SZW1vdGUnLHZhbHVlOmZ1bmN0aW9uIGV4ZWN1dGVPblJlbW90ZShyZW1vdGVIeXBlcnR5VVJMLG1ldGhvZCxwYXJhbXMpe3ZhciBfdGhpczQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2lmKCFyZW1vdGVIeXBlcnR5VVJMfHwhbWV0aG9kKXtyZWplY3QoImh5cGVydHkgVVJMICgiK3JlbW90ZUh5cGVydHlVUkwrIikgYW5kIG1ldGhvZCAoIittZXRob2QrIikgYXJlIG1hbmRhdG9yeSEiKTtyZXR1cm47fS8vIGNyZWF0IGV4ZWN1dGUgbWVzc2FnZQp2YXIgbXNnPXt0eXBlOidleGVjdXRlJyxmcm9tOl90aGlzNC5oeXBlcnR5VVJMLHRvOnJlbW90ZUh5cGVydHlVUkwsYm9keTp7bWV0aG9kOm1ldGhvZCxwYXJhbXM6cGFyYW1zfX07Ly8gc2VuZCBtZXNzYWdlLCByZXNvbHZlIG9uIHJlcGx5Cl90aGlzNC5idXMucG9zdE1lc3NhZ2UobXNnLGZ1bmN0aW9uKHJlcGx5KXtsLmQoImdvdCAiK21ldGhvZCsiIHJlcGx5ISIscmVwbHkpO2lmKHJlcGx5LmJvZHkuY29kZT09MjAwKXt2YXIgdXJscz1yZXBseS5ib2R5LnZhbHVlO3Jlc29sdmUodXJscyk7fWVsc2V7bC5lKCJnZXRSb29tcyByZXF1ZXN0IHJlamVjdGVkICgiK3JlcGx5LmJvZHkuY29kZSsiKToiLHJlcGx5LmJvZHkudmFsdWUpO3JlamVjdChyZXBseS5ib2R5LnZhbHVlKTt9fSk7fSk7fS8qKgogICAgICogU3Vic2NyaWJlIHRvIGFuIG9iamVjdCB1c2luZyB0aGUgU3luY2hlcgogICAgICogQHBhcmFtIHtzdHJpbmd9IHJvb21VUkwgLSBVUkwgb2YgdGhlIG9iamVjdAogICAgICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpdGggdGhlIHN1YnNjcmliZWQgb2JqZWN0CiAgICAgKi99LHtrZXk6J3N1YnNjcmliZScsdmFsdWU6ZnVuY3Rpb24gc3Vic2NyaWJlKHJvb21VUkwpe3ZhciBfdGhpczU9dGhpcztsLmQoInN1YnNjcmliZToiLFtyb29tVVJMXSk7cmV0dXJuIHRoaXMuc3luY2hlci5zdWJzY3JpYmUodGhpcy5jb250ZXh0U2NoZW1hVVJMLHJvb21VUkwpLnRoZW4oZnVuY3Rpb24ocm9vbSl7Y29uc29sZS5pbmZvKCJzdWJzY3JpYmVkIHRvIG9iamVjdDoiLHJvb20pOy8vIHJlZ2lzdGVyIG9uQ2hhbmdlIGNhbGxiYWNrCnJvb20ub25DaGFuZ2UoJyonLGZ1bmN0aW9uKGV2ZW50KXtsLmQoJ29uQ2hhbmdlIHJlY2VpdmVkOicsZXZlbnQpO2wuZCgiY3VycmVudCByb29tIHN0YXRlOiIscm9vbSk7X3RoaXM1LnRyaWdnZXIoJ2NoYW5nZWRSb29tJyxyb29tKTt9KTsvLyB0cmlnZ2VyIHRoZSBuZXdSb29tIGV2ZW50Cl90aGlzNS50cmlnZ2VyKCduZXdSb29tJyxyb29tKTsvLyBtYWtlIGl0IGF2YWlsYWJsZSBmb3IgYWRkQ2hpbGQgdGVzdApfdGhpczUucm9vbT1yb29tO3JldHVybiByb29tO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7Y29uc29sZS5lcnJvcihyZWFzb24pO30pO30vKioKICAgICAqIGV4ZWN1dGVzIGFuIGFjdGlvbiBvbiB0aGUgUm9vbVNlcnZlciBoeXBlcnR5CiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlTmFtZSAtIG5hbWUgb2YgdGhlIHRhcmdldCBkZXZpY2UsIGUuZy4gIm15RGV2aWNlIgogICAgICogQHBhcmFtIHtzdHJpbmd9IG9iamVjdFR5cGUgLSB0aGUgdHlwZSBvZiB0aGUgdGFyZ2V0IGRldmljZSBwYXJ0IHRoYXQgaXMgYmVpbmcgY29udHJvbGxlZCwgZS5nLiAibGlnaHQiCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqZWN0SWQgLSB0aGUgSUQgb2YgdGhlIHRhcmdldCBkZXZpY2UncyBwYXJ0IHRoYXQgaXMgYmVpbmcgY29udHJvbGxlZAogICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlVHlwZSAtIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIGNoYW5nZWQsIGUuZy4gImlzT24iCiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gdGhlIHZhbHVlIHRoYXQgdGhlIHJlc291cmNlIGlzIGJlaW5nIGNoYW5nZWQgdG8KICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIGZ1bGZpbGxzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgcmVtb3RlIGZ1bmN0aW9uIGNhbGwKICAgICAqL30se2tleTonc2VuZEFjdGlvbicsdmFsdWU6ZnVuY3Rpb24gc2VuZEFjdGlvbihkZXZpY2VOYW1lLG9iamVjdFR5cGUsb2JqZWN0SWQscmVzb3VyY2VUeXBlLHZhbHVlKXsvLyBleGFtcGxlOiB7Im1vZGUiOiJ3cml0ZSIsICJkZXZpY2VOYW1lIjogIm15UmFzcGJlcnJ5IiwgIm9iamVjdFR5cGUiOiAibGlnaHQiLCAib2JqZWN0SWQiOiAiMSIsICJyZXNvdXJjZVR5cGUiOiAiaXNPbiIsICJ2YWx1ZSI6ICJmYWxzZSJ9CnZhciBqc29uPXsibW9kZSI6IndyaXRlIiwiZGV2aWNlTmFtZSI6ZGV2aWNlTmFtZSwib2JqZWN0VHlwZSI6b2JqZWN0VHlwZSwib2JqZWN0SWQiOm9iamVjdElkLCJyZXNvdXJjZVR5cGUiOnJlc291cmNlVHlwZSwidmFsdWUiOnZhbHVlfTtyZXR1cm4gdGhpcy5leGVjdXRlT25SZW1vdGUodGhpcy5yb29tU2VydmVyVVJMLCJhY3Rpb24iLFtqc29uXSk7fX1dKTtyZXR1cm4gUm9vbUNsaWVudDt9KF9FdmVudEVtaXR0ZXIzLmRlZmF1bHQpO2Z1bmN0aW9uIGFjdGl2YXRlKGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pe3JldHVybntuYW1lOidSb29tQ2xpZW50JyxpbnN0YW5jZTpuZXcgUm9vbUNsaWVudChoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy9FdmVudEVtaXR0ZXIiOjYsIi4uL3V0aWxzL3V0aWxzIjo3LCIuL0xvZ2dlciI6NCwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5IjoxLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5TWFuYWdlciI6Miwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjozfV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGU9dHJ1ZTtpZigidmFsdWUiaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319LyoqCiAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKiovLyoqCiAqIEV2ZW50RW1pdHRlcgogKiBBbGwgY2xhc3NlcyB3aGljaCBleHRlbmRzIHRoaXMsIGNhbiBoYXZlIGFkZEV2ZW50TGlzdGVuZXIgYW5kIHRyaWdnZXIgZXZlbnRzOwogKi92YXIgRXZlbnRFbWl0dGVyPWZ1bmN0aW9uKCl7LyoqCiAgICAgKiBJbml0aWFsaXplcyB0aGUgRXZlbnRFbWl0dGVyCiAgICAgKi9mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFdmVudEVtaXR0ZXIpOy8vIHNldCB1cCBsaXN0ZW5lciBob2xkZXIKdGhpcy5fX2V2ZW50TGlzdGVuZXJzPXt9O30vKioKICAgICAqIGFkZEV2ZW50TGlzdGVuZXIgbGlzdGVuIGZvciBhbiBldmVudFR5cGUKICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICBldmVudFR5cGUgLSBsaXN0ZW5pbmcgZm9yIHRoaXMgdHlwZSBvZiBldmVudAogICAgICogQHBhcmFtICB7RnVuY3Rpb259ICAgICAgIGNiICAgICAgICAtIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgZXZlbnQgaXQgaXMgaW52b2tlZAogICAgICovX2NyZWF0ZUNsYXNzKEV2ZW50RW1pdHRlcixbe2tleToiYWRkRXZlbnRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsY2Ipey8vIGFkZCBjYWxsYmFjayB0byB0aGUgbGlzdCBvZiBjYWxsYmFja3MgZm9yIHRoaXMgdHlwZQovLyBpZiB0aGUgbGlzdCBkb2Vzbid0IGV4aXN0IHlldCwgY3JlYXRlIGl0IHdpdGggdGhlIGNhbGxiYWNrIGFzIG1lbWJlcgppZihjYiE9dW5kZWZpbmVkKXtpZighdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV0pdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV09W2NiXTtlbHNlIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudFR5cGVdLnB1c2goY2IpO319LyoqCiAgICAgKiBJbnZva2UgdGhlIGV2ZW50VHlwZQogICAgICogQHBhcmFtICB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB3aWxsIGJlIGludm9rZWQKICAgICAqIEBwYXJhbSAge29iamVjdH0gcGFyYW1zIC0gcGFyYW1ldGVycyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgYWRkRXZlbnRMaXN0ZW5lcgogICAgICovfSx7a2V5OiJ0cmlnZ2VyIix2YWx1ZTpmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50VHlwZSxwYXJhbXMpey8vIGNoZWNrIGlmIHRoZXJlIGFyZSBjYWxsYmFja3MgZm9yIHRoaXMgdHlwZQp2YXIgY2FsbGJhY2tzPXRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudFR5cGVdO2lmKGNhbGxiYWNrcyl7Y2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oY2Ipey8vIGNhdGNoIGVycm9ycyB0byBtYWtlIHN1cmUgZXZlcnkgY2FsbGJhY2sgaXMgYmVpbmcgY2FsbGVkCnRyeXtjYihwYXJhbXMpO31jYXRjaChlKXtjb25zb2xlLndhcm4oImNhbGxpbmcgbGlzdGVuZXIgIitjYi5uYW1lKyIgZm9yIGV2ZW50IHR5cGUgIitldmVudFR5cGUrIiB3aXRoIHBhcmFtZXRlcnMgJyIrcGFyYW1zKyInIHJlc3VsdGVkIGluIGFuIGVycm9yISIsZSk7fX0pO319fV0pO3JldHVybiBFdmVudEVtaXR0ZXI7fSgpO2V4cG9ydHMuZGVmYXVsdD1FdmVudEVtaXR0ZXI7bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRpdmlkZVVSTD1kaXZpZGVVUkw7ZXhwb3J0cy5kZWVwQ2xvbmU9ZGVlcENsb25lO2V4cG9ydHMuZ2V0VXNlck1lZGlhPWdldFVzZXJNZWRpYTsvKioKICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqKi8vLyBqc2hpbnQgYnJvd3Nlcjp0cnVlLCBqcXVlcnk6IHRydWUKLy8ganNoaW50IHZhcnN0bXQ6IHRydWUKLyogZ2xvYmFsIEhhbmRsZWJhcnMgKi8vKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLy8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLy8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi9mdW5jdGlvbiBkaXZpZGVVUkwodXJsKXsvLyBsZXQgcmUgPSAvKFthLXpBLVotXSopPzpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKSooXC9bXC9cZFx3XC4tXSopKig/OltcP10pKiguKykqL2dpOwp2YXIgcmU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2k7dmFyIHN1YnN0PSckMSwkMiwkMyc7dmFyIHBhcnRzPXVybC5yZXBsYWNlKHJlLHN1YnN0KS5zcGxpdCgnLCcpOy8vIElmIHRoZSB1cmwgaGFzIG5vIHByb3RvY29sLCB0aGUgZGVmYXVsdCBwcm90b2NvbCBzZXQgaXMgaHR0cHMKaWYocGFydHNbMF09PT11cmwpe3BhcnRzWzBdPSdodHRwcyc7cGFydHNbMV09dXJsO312YXIgcmVzdWx0PXt0eXBlOnBhcnRzWzBdLGRvbWFpbjpwYXJ0c1sxXSxpZGVudGl0eTpwYXJ0c1syXX07cmV0dXJuIHJlc3VsdDt9LyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi9mdW5jdGlvbiBkZWVwQ2xvbmUob2JqKXsvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCmlmKG9iailyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTt9LyoqCiAqIEdldCBXZWJSVEMgQVBJIHJlc291cmNlcwogKiBAcGFyYW0gIHtvYmplY3R9ICAgICBvcHRpb25zIE9iamVjdCBjb250YWluaW5nIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlc291cmNlcyB3aWxsIGJlIHVzZWQgKGNhbWVyYSwgbWljLCByZXNvbHV0aW9uLCBldGMpOwogKiBAcmV0dXJuIHtQcm9taXNlfQogKi9mdW5jdGlvbiBnZXRVc2VyTWVkaWEoY29uc3RyYWludHMpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24obWVkaWFTdHJlYW0pe3Jlc29sdmUobWVkaWFTdHJlYW0pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7cmVqZWN0KHJlYXNvbik7fSk7fSk7fQoKfSx7fV19LHt9LFs1XSkoNSkKfSk7",
      "sourceCodeClassname": "RoomClient",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10012,
    "version": "0.1",
    "description": "Description of RoomClient",
    "language": "Javascript",
    "objectName": "RoomClient",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "SurveyObserver": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NDEgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKGMscyl7aWYoIXJbY10pe2lmKCF0W2NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighcyYmdSlyZXR1cm4gdShjLCEwKTtpZihpKXJldHVybiBpKGMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltjXT17ZXhwb3J0czp7fX07dFtjXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W2NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbY10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYz0wO2M8bi5sZW5ndGg7YysrKW8obltjXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsYyl7dmFyIHMsdT1uKHQpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYoZSYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKGV8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxjPWUoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLGYsXyxsPWUmdS5GLGQ9ZSZ1LkcscD1lJnUuUyx2PWUmdS5QLHk9ZSZ1LkIsaD1lJnUuVyxiPWQ/bzpvW3RdfHwob1t0XT17fSksbT1iW3NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihhIGluIHIpZj0hbCYmZyYmdm9pZCAwIT09Z1thXSxmJiZhIGluIGJ8fChfPWY/Z1thXTpyW2FdLGJbYV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbYV0/clthXTp5JiZmP2koXyxuKTpoJiZnW2FdPT1fP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W3NdPWVbc10sdH0oXyk6diYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8sdiYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVthXT1fLGUmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCx0LmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPWUoIi4vX2FuLW9iamVjdCIpLHM9ZSgiLi9fdG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGwpe3ZhciBkLHAsdix5LGg9bD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLF8sdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgaCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGgpKXtmb3IoZD1zKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9iKGMocD1lW21dKVswXSxwWzFdKTpiKGVbbV0pLHk9PT1hfHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWguY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGIscC52YWx1ZSx0KSx5PT09YXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIGM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O2UoIi4vX2hpZGUiKShjLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxjPWUoIi4vX2hpZGUiKSxzPWUoIi4vX2hhcyIpLHU9ZSgiLi9faXRlcmF0b3JzIiksYT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPWUoIi4vX29iamVjdC1ncG8iKSxsPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyxqKXthKHIsdCxiKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFM9ITEsRT1lLnByb3RvdHlwZSxVPUVbbF18fEVbcF18fG0mJkVbbV0sVD1VfHxPKG0pLFI9bT9QP08oImVudHJpZXMiKTpUOnZvaWQgMCxMPSJBcnJheSI9PXQ/RS5lbnRyaWVzfHxVOlU7aWYoTCYmKGs9XyhMLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGgpKSksUCYmVSYmVS5uYW1lIT09eSYmKFM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBVLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFTJiZFW2xdfHxjKEUsbCxUKSx1W3RdPVQsdVtNXT1oLG0paWYoeD17dmFsdWVzOlA/VDpPKHkpLGtleXM6Zz9UOk8odiksZW50cmllczpSfSxqKWZvcih3IGluIHgpdyBpbiBFfHxpKEUsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8UyksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LGUoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKGMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxjPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSxhPXQuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oc1t1XT1uKGUpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109ZSk6cj1hKCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIGMoZSx0LHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixjPWkodCkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYoZSxyPWNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxjPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9ZSgiLi9faGFzIiksdT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9Yyh0LCEwKSx1KXRyeXtyZXR1cm4gYShlLHQpfWNhdGNoKHIpe31yZXR1cm4gcyhlLHQpP28oIW4uZi5jYWxsKGUsdCksZVt0XSk6dm9pZCAwfX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2hhcyI6MjgsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fb2JqZWN0LXBpZSI6NTEsIi4vX3Byb3BlcnR5LWRlc2MiOjUzLCIuL190by1pb2JqZWN0Ijo2NiwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSx7Ii4vX2hhcyI6MjgsIi4vX3NoYXJlZC1rZXkiOjU5LCIuL190by1vYmplY3QiOjY4fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLGM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9byhlKSx1PTAsYT1bXTtmb3IociBpbiBzKXIhPWMmJm4ocyxyKSYmYS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihzLHI9dFt1KytdKSYmKH5pKGEscil8fGEucHVzaChyKSk7cmV0dXJuIGF9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjoxNSwiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLWlvYmplY3QiOjY2fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6MjMsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo0OX1dLDUxOltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxjPXt9O2NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixjKX19LHsiLi9fY29yZSI6MTgsIi4vX2V4cG9ydCI6MjQsIi4vX2ZhaWxzIjoyNX1dLDUzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjI5fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19jdHgiOjE5LCIuL19pcy1vYmplY3QiOjM1LCIuL19vYmplY3QtZ29wZCI6NDd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLGM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtjJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjoxOCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19nbG9iYWwiOjI3LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjoyOCwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fd2tzIjo3MX1dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6NjAsIi4vX3VpZCI6NzB9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6Mjd9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWN8fHZvaWQgMD09KHI9bihjKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4tb2JqZWN0IjoxNCwiLi9fd2tzIjo3MX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxjLHM9U3RyaW5nKG8odCkpLHU9bihyKSxhPXMubGVuZ3RoO3JldHVybiAwPnV8fHU+PWE/ZT8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KHUpLDU1Mjk2Pml8fGk+NTYzMTl8fHUrMT09PWF8fChjPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8Yz41NzM0Mz9lP3MuY2hhckF0KHUpOmk6ZT9zLnNsaWNlKHUsdSsyKTooaS01NTI5Njw8MTApKyhjLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjoyMCwiLi9fdG8taW50ZWdlciI6NjV9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxjPWUoIi4vX2N0eCIpLHM9ZSgiLi9faW52b2tlIiksdT1lKCIuL19odG1sIiksYT1lKCIuL19kb20tY3JlYXRlIiksZj1lKCIuL19nbG9iYWwiKSxfPWYucHJvY2VzcyxsPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSxwPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtsJiZkfHwobD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7cygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoXyk/bj1mdW5jdGlvbihlKXtfLm5leHRUaWNrKGMoYixlLDEpKX06cD8obz1uZXcgcCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPWMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6bCxjbGVhcjpkfX0seyIuL19jb2YiOjE3LCIuL19jdHgiOjE5LCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZ2xvYmFsIjoyNywiLi9faHRtbCI6MzAsIi4vX2ludm9rZSI6MzJ9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MjAsIi4vX2lvYmplY3QiOjMzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6NjV9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6MjB9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0IjozNX1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoIndrcyIpLG89ZSgiLi9fdWlkIiksaT1lKCIuL19nbG9iYWwiKS5TeW1ib2wsYz0iZnVuY3Rpb24iPT10eXBlb2YgaSxzPXQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YyYmaVtlXXx8KGM/aTpvKSgiU3ltYm9sLiIrZSkpfTtzLnN0b3JlPW59LHsiLi9fZ2xvYmFsIjoyNywiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY2xhc3NvZiIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1lKCIuL19pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi9fY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi9fY2xhc3NvZiI6MTYsIi4vX2NvcmUiOjE4LCIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLGM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi9faXRlci1kZWZpbmUiOjM4LCIuL19pdGVyLXN0ZXAiOjQwLCIuL19pdGVyYXRvcnMiOjQxLCIuL190by1pb2JqZWN0Ijo2Nn1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19leHBvcnQiOjI0LCIuL19vYmplY3QtZHAiOjQ1fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NTAsIi4vX29iamVjdC1zYXAiOjUyLCIuL190by1vYmplY3QiOjY4fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw3NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGksYz1lKCIuL19saWJyYXJ5Iikscz1lKCIuL19nbG9iYWwiKSx1PWUoIi4vX2N0eCIpLGE9ZSgiLi9fY2xhc3NvZiIpLGY9ZSgiLi9fZXhwb3J0IiksXz1lKCIuL19pcy1vYmplY3QiKSxsPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLGQ9ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLHY9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLHk9ZSgiLi9fdGFzayIpLnNldCxoPWUoIi4vX21pY3JvdGFzayIpKCksYj0iUHJvbWlzZSIsbT1zLlR5cGVFcnJvcixnPXMucHJvY2VzcyxqPXNbYl0sZz1zLnByb2Nlc3MseD0icHJvY2VzcyI9PWEoZyksdz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWoucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKHcsdyl9O3JldHVybih4fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKHcpaW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWomJnQ9PT1pfSxNPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBfKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIE8oaixlKT9uZXcgUyhlKTpuZXcgbyhlKX0sUz1vPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBtKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bCh0KSx0aGlzLnJlamVjdD1sKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7aChmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLGM9bz90Lm9rOnQuZmFpbCxzPXQucmVzb2x2ZSx1PXQucmVqZWN0LGE9dC5kb21haW47dHJ5e2M/KG98fCgyPT1lLl9oJiZMKGUpLGUuX2g9MSksYz09PSEwP3I9bjooYSYmYS5lbnRlcigpLHI9YyhuKSxhJiZhLmV4aXQoKSkscj09PXQucHJvbWlzZT91KG0oIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9TShyKSk/aS5jYWxsKHIscyx1KTpzKHIpKTp1KG4pfWNhdGNoKGYpe3UoZil9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZUKGUpfSl9fSxUPWZ1bmN0aW9uKGUpe3kuY2FsbChzLGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdjtpZihSKGUpJiYodD1FKGZ1bmN0aW9uKCl7eD9nLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj1zLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD14fHxSKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LFI9ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFSKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEw9ZnVuY3Rpb24oZSl7eS5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgdDt4P2cuZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9cy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxVKHQsITApKX0sQz1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBtKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PU0oZSkpP2goZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLHUoQyxuLDEpLHUoQSxuLDEpKX1jYXRjaChvKXtBLmNhbGwobixvKX19KTooci5fdj1lLHIuX3M9MSxVKHIsITEpKX1jYXRjaChuKXtBLmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O2t8fChqPWZ1bmN0aW9uKGUpe2QodGhpcyxqLGIsIl9oIiksbChlKSxuLmNhbGwodGhpcyk7dHJ5e2UodShDLHRoaXMsMSksdShBLHRoaXMsMSkpfWNhdGNoKHQpe0EuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShqLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPVAodih0aGlzLGopKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9dShDLGUsMSksdGhpcy5yZWplY3Q9dShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosYiksZSgiLi9fc2V0LXNwZWNpZXMiKShiKSxpPWUoIi4vX2NvcmUiKVtiXSxmKGYuUytmLkYqIWssYix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhayksYix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksYix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1FKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLHJbc109ZSwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxjPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7NT51O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjgxfV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsc1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxjPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGM9dm9pZCAwLHM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIHMpaWYodm9pZCAwIT09c1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKHNbb10ubGFzdE1vZGlmaWVkKSxjPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShzW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUsYz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLGMsaSk7dmFyIGE9YztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpzW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLGM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPV8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxsWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGw9bihfKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PWMsci5kZWVwQ2xvbmU9cyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbODBdKSg4MCl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgSWRlbnRpdHlNYW5hZ2VyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NDAgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBlO2U9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGUuSWRlbnRpdHlNYW5hZ2VyPXQoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSxyLG4pe2Z1bmN0aW9uIG8oYyxzKXtpZighcltjXSl7aWYoIWVbY10pe3ZhciB1PSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFzJiZ1KXJldHVybiB1KGMsITApO2lmKGkpcmV0dXJuIGkoYywhMCk7dmFyIGE9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrYysiJyIpO3Rocm93IGEuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsYX12YXIgZj1yW2NdPXtleHBvcnRzOnt9fTtlW2NdWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciByPWVbY11bMV1bdF07cmV0dXJuIG8ocj9yOnQpfSxmLGYuZXhwb3J0cyx0LGUscixuKX1yZXR1cm4gcltjXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxjPTA7YzxuLmxlbmd0aDtjKyspbyhuW2NdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjd9XSwyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPXsiZGVmYXVsdCI6dCgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6OH1dLDM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9eyJkZWZhdWx0Ijp0KCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjl9XSw0OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPXsiZGVmYXVsdCI6dCgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6MTB9XSw1OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSw2OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OnsiZGVmYXVsdCI6dH19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPXQoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGlbImRlZmF1bHQiXSkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCl9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjJ9XSw3OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG89bi5KU09OfHwobi5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8uc3RyaW5naWZ5LmFwcGx5KG8sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MTh9XSw4OltmdW5jdGlvbih0LGUscil7dCgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSIpO3ZhciBuPXQoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbi5kZWZpbmVQcm9wZXJ0eSh0LGUscil9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Ijo3NH1dLDk6W2Z1bmN0aW9uKHQsZSxyKXt0KCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLGUuZXhwb3J0cz10KCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MTgsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjo3NX1dLDEwOltmdW5jdGlvbih0LGUscil7dCgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLHQoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLHQoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLHQoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSxlLmV4cG9ydHM9dCgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MTgsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjc2LCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIjo3NywiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjo3OCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjo3OX1dLDExOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIHR9fSx7fV0sMTI6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIsbil7aWYoISh0IGluc3RhbmNlb2YgZSl8fHZvaWQgMCE9PW4mJm4gaW4gdCl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gdH19LHt9XSwxNDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighbih0KSl0aHJvdyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIHR9fSx7Ii4vX2lzLW9iamVjdCI6MzV9XSwxNTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWlvYmplY3QiKSxvPXQoIi4vX3RvLWxlbmd0aCIpLGk9dCgiLi9fdG8taW5kZXgiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscixjKXt2YXIgcyx1PW4oZSksYT1vKHUubGVuZ3RoKSxmPWkoYyxhKTtpZih0JiZyIT1yKXtmb3IoO2E+ZjspaWYocz11W2YrK10scyE9cylyZXR1cm4hMH1lbHNlIGZvcig7YT5mO2YrKylpZigodHx8ZiBpbiB1KSYmdVtmXT09PXIpcmV0dXJuIHR8fGZ8fDA7cmV0dXJuIXQmJi0xfX19LHsiLi9fdG8taW5kZXgiOjY0LCIuL190by1pb2JqZWN0Ijo2NiwiLi9fdG8tbGVuZ3RoIjo2N31dLDE2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fY29mIiksbz10KCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYz1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaChyKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUscixzO3JldHVybiB2b2lkIDA9PT10PyJVbmRlZmluZWQiOm51bGw9PT10PyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9YyhlPU9iamVjdCh0KSxvKSk/cjppP24oZSk6Ik9iamVjdCI9PShzPW4oZSkpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi9fY29mIjoxNywiLi9fd2tzIjo3MX1dLDE3OltmdW5jdGlvbih0LGUscil7dmFyIG49e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSx7fV0sMTg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNC4wIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwxOTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2EtZnVuY3Rpb24iKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIpe2lmKG4odCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gdC5jYWxsKGUscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gdC5jYWxsKGUscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIHQuY2FsbChlLHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6MTF9XSwyMDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIit0KTtyZXR1cm4gdH19LHt9XSwyMTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0hdCgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjI1fV0sMjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pcy1vYmplY3QiKSxvPXQoIi4vX2dsb2JhbCIpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQodCk6e319fSx7Ii4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzV9XSwyMzpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sMjQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19nbG9iYWwiKSxvPXQoIi4vX2NvcmUiKSxpPXQoIi4vX2N0eCIpLGM9dCgiLi9faGlkZSIpLHM9InByb3RvdHlwZSIsdT1mdW5jdGlvbih0LGUscil7dmFyIGEsZixfLGw9dCZ1LkYscD10JnUuRyxkPXQmdS5TLHY9dCZ1LlAsaD10JnUuQixiPXQmdS5XLHk9cD9vOm9bZV18fChvW2VdPXt9KSxtPXlbc10saj1wP246ZD9uW2VdOihuW2VdfHx7fSlbc107cCYmKHI9ZSk7Zm9yKGEgaW4gcilmPSFsJiZqJiZ2b2lkIDAhPT1qW2FdLGYmJmEgaW4geXx8KF89Zj9qW2FdOnJbYV0seVthXT1wJiYiZnVuY3Rpb24iIT10eXBlb2YgalthXT9yW2FdOmgmJmY/aShfLG4pOmImJmpbYV09PV8/ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiB0KXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGUpO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZSxyKX1yZXR1cm4gbmV3IHQoZSxyLG4pfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGVbc109dFtzXSxlfShfKTp2JiYiZnVuY3Rpb24iPT10eXBlb2YgXz9pKEZ1bmN0aW9uLmNhbGwsXyk6Xyx2JiYoKHkudmlydHVhbHx8KHkudmlydHVhbD17fSkpW2FdPV8sdCZ1LlImJm0mJiFtW2FdJiZjKG0sYSxfKSkpfTt1LkY9MSx1Lkc9Mix1LlM9NCx1LlA9OCx1LkI9MTYsdS5XPTMyLHUuVT02NCx1LlI9MTI4LGUuZXhwb3J0cz11fSx7Ii4vX2NvcmUiOjE4LCIuL19jdHgiOjE5LCIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOX1dLDI1OltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaChlKXtyZXR1cm4hMH19fSx7fV0sMjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jdHgiKSxvPXQoIi4vX2l0ZXItY2FsbCIpLGk9dCgiLi9faXMtYXJyYXktaXRlciIpLGM9dCgiLi9fYW4tb2JqZWN0Iikscz10KCIuL190by1sZW5ndGgiKSx1PXQoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksYT17fSxmPXt9LHI9ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLF8sbCl7dmFyIHAsZCx2LGgsYj1sP2Z1bmN0aW9uKCl7cmV0dXJuIHR9OnUodCkseT1uKHIsXyxlPzI6MSksbT0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBiKXRocm93IFR5cGVFcnJvcih0KyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoYikpe2ZvcihwPXModC5sZW5ndGgpO3A+bTttKyspaWYoaD1lP3koYyhkPXRbbV0pWzBdLGRbMV0pOnkodFttXSksaD09PWF8fGg9PT1mKXJldHVybiBofWVsc2UgZm9yKHY9Yi5jYWxsKHQpOyEoZD12Lm5leHQoKSkuZG9uZTspaWYoaD1vKHYseSxkLnZhbHVlLGUpLGg9PT1hfHxoPT09ZilyZXR1cm4gaH07ci5CUkVBSz1hLHIuUkVUVVJOPWZ9LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fY3R4IjoxOSwiLi9faXMtYXJyYXktaXRlciI6MzQsIi4vX2l0ZXItY2FsbCI6MzYsIi4vX3RvLWxlbmd0aCI6NjcsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo3Mn1dLDI3OltmdW5jdGlvbih0LGUscil7dmFyIG49ZS5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sMjg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSx7fV0sMjk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19vYmplY3QtZHAiKSxvPXQoIi4vX3Byb3BlcnR5LWRlc2MiKTtlLmV4cG9ydHM9dCgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbih0LGUscil7cmV0dXJuIG4uZih0LGUsbygxLHIpKX06ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0W2VdPXIsdH19LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19wcm9wZXJ0eS1kZXNjIjo1M31dLDMwOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPXQoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjoyN31dLDMxOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPSF0KCIuL19kZXNjcmlwdG9ycyIpJiYhdCgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkodCgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19mYWlscyI6MjV9XSwzMjpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj90KCk6dC5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj90KGVbMF0pOnQuY2FsbChyLGVbMF0pO2Nhc2UgMjpyZXR1cm4gbj90KGVbMF0sZVsxXSk6dC5jYWxsKHIsZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIG4/dChlWzBdLGVbMV0sZVsyXSk6dC5jYWxsKHIsZVswXSxlWzFdLGVbMl0pO2Nhc2UgNDpyZXR1cm4gbj90KGVbMF0sZVsxXSxlWzJdLGVbM10pOnQuY2FsbChyLGVbMF0sZVsxXSxlWzJdLGVbM10pfXJldHVybiB0LmFwcGx5KHIsZSl9fSx7fV0sMzM6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jb2YiKTtlLmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVybiJTdHJpbmciPT1uKHQpP3Quc3BsaXQoIiIpOk9iamVjdCh0KX19LHsiLi9fY29mIjoxN31dLDM0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXRlcmF0b3JzIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihuLkFycmF5PT09dHx8aVtvXT09PXQpfX0seyIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxfV0sMzU6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0P251bGwhPT10OiJmdW5jdGlvbiI9PXR5cGVvZiB0fX0se31dLDM2OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLG8pe3RyeXtyZXR1cm4gbz9lKG4ocilbMF0sclsxXSk6ZShyKX1jYXRjaChpKXt2YXIgYz10WyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1jJiZuKGMuY2FsbCh0KSksaX19fSx7Ii4vX2FuLW9iamVjdCI6MTR9XSwzNzpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19vYmplY3QtY3JlYXRlIiksbz10KCIuL19wcm9wZXJ0eS1kZXNjIiksaT10KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGM9e307dCgiLi9faGlkZSIpKGMsdCgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dC5wcm90b3R5cGU9bihjLHtuZXh0Om8oMSxyKX0pLGkodCxlKyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6MjksIi4vX29iamVjdC1jcmVhdGUiOjQ0LCIuL19wcm9wZXJ0eS1kZXNjIjo1MywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL193a3MiOjcxfV0sMzg6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIG49dCgiLi9fbGlicmFyeSIpLG89dCgiLi9fZXhwb3J0IiksaT10KCIuL19yZWRlZmluZSIpLGM9dCgiLi9faGlkZSIpLHM9dCgiLi9faGFzIiksdT10KCIuL19pdGVyYXRvcnMiKSxhPXQoIi4vX2l0ZXItY3JlYXRlIiksZj10KCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLF89dCgiLi9fb2JqZWN0LWdwbyIpLGw9dCgiLi9fd2tzIikoIml0ZXJhdG9yIikscD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxkPSJAQGl0ZXJhdG9yIix2PSJrZXlzIixoPSJ2YWx1ZXMiLGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLHksbSxqLGcpe2EocixlLHkpO3ZhciB4LHcsayxPPWZ1bmN0aW9uKHQpe2lmKCFwJiZ0IGluIFApcmV0dXJuIFBbdF07c3dpdGNoKHQpe2Nhc2UgdjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX07Y2FzZSBoOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyx0KX19LE09ZSsiIEl0ZXJhdG9yIixTPW09PWgsRT0hMSxQPXQucHJvdG90eXBlLFQ9UFtsXXx8UFtkXXx8bSYmUFttXSxSPVR8fE8obSksVT1tP1M/TygiZW50cmllcyIpOlI6dm9pZCAwLEE9IkFycmF5Ij09ZT9QLmVudHJpZXN8fFQ6VDtpZihBJiYoaz1fKEEuY2FsbChuZXcgdCkpLGshPT1PYmplY3QucHJvdG90eXBlJiYoZihrLE0sITApLG58fHMoayxsKXx8YyhrLGwsYikpKSxTJiZUJiZULm5hbWUhPT1oJiYoRT0hMCxSPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLG4mJiFnfHwhcCYmIUUmJlBbbF18fGMoUCxsLFIpLHVbZV09Uix1W01dPWIsbSlpZih4PXt2YWx1ZXM6Uz9SOk8oaCksa2V5czpqP1I6Tyh2KSxlbnRyaWVzOlV9LGcpZm9yKHcgaW4geCl3IGluIFB8fGkoUCx3LHhbd10pO2Vsc2UgbyhvLlArby5GKihwfHxFKSxlLHgpO3JldHVybiB4fX0seyIuL19leHBvcnQiOjI0LCIuL19oYXMiOjI4LCIuL19oaWRlIjoyOSwiLi9faXRlci1jcmVhdGUiOjM3LCIuL19pdGVyYXRvcnMiOjQxLCIuL19saWJyYXJ5Ijo0MiwiLi9fb2JqZWN0LWdwbyI6NDgsIi4vX3JlZGVmaW5lIjo1NSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL193a3MiOjcxfV0sMzk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpWyJyZXR1cm4iXT1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChjKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIWUmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10sYz1pW25dKCk7Yy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gY30sdChpKX1jYXRjaChzKXt9cmV0dXJuIHJ9fSx7Ii4vX3drcyI6NzF9XSw0MDpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTplLGRvbmU6ISF0fX19LHt9XSw0MTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz17fX0se31dLDQyOltmdW5jdGlvbih0LGUscil7ZS5leHBvcnRzPSEwfSx7fV0sNDM6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19nbG9iYWwiKSxvPXQoIi4vX3Rhc2siKS5zZXQsaT1uLk11dGF0aW9uT2JzZXJ2ZXJ8fG4uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixjPW4ucHJvY2VzcyxzPW4uUHJvbWlzZSx1PSJwcm9jZXNzIj09dCgiLi9fY29mIikoYyk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGE9ZnVuY3Rpb24oKXt2YXIgbixvO2Zvcih1JiYobj1jLmRvbWFpbikmJm4uZXhpdCgpO3Q7KXtvPXQuZm4sdD10Lm5leHQ7dHJ5e28oKX1jYXRjaChpKXt0aHJvdyB0P3IoKTplPXZvaWQgMCxpfX1lPXZvaWQgMCxuJiZuLmVudGVyKCl9O2lmKHUpcj1mdW5jdGlvbigpe2MubmV4dFRpY2soYSl9O2Vsc2UgaWYoaSl7dmFyIGY9ITAsXz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkoYSkub2JzZXJ2ZShfLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe18uZGF0YT1mPSFmfX1lbHNlIGlmKHMmJnMucmVzb2x2ZSl7dmFyIGw9cy5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2wudGhlbihhKX19ZWxzZSByPWZ1bmN0aW9uKCl7by5jYWxsKG4sYSl9O3JldHVybiBmdW5jdGlvbihuKXt2YXIgbz17Zm46bixuZXh0OnZvaWQgMH07ZSYmKGUubmV4dD1vKSx0fHwodD1vLHIoKSksZT1vfX19LHsiLi9fY29mIjoxNywiLi9fZ2xvYmFsIjoyNywiLi9fdGFzayI6NjN9XSw0NDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpLG89dCgiLi9fb2JqZWN0LWRwcyIpLGk9dCgiLi9fZW51bS1idWcta2V5cyIpLGM9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LHU9InByb3RvdHlwZSIsYT1mdW5jdGlvbigpe3ZhciBlLHI9dCgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxuPWkubGVuZ3RoLG89Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHQoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLGU9ci5jb250ZW50V2luZG93LmRvY3VtZW50LGUub3BlbigpLGUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIrbyksZS5jbG9zZSgpLGE9ZS5GO24tLTspZGVsZXRlIGFbdV1baVtuXV07cmV0dXJuIGEoKX07ZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIG51bGwhPT10PyhzW3VdPW4odCkscj1uZXcgcyxzW3VdPW51bGwscltjXT10KTpyPWEoKSx2b2lkIDA9PT1lP3I6byhyLGUpfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZW51bS1idWcta2V5cyI6MjMsIi4vX2h0bWwiOjMwLCIuL19vYmplY3QtZHBzIjo0NiwiLi9fc2hhcmVkLWtleSI6NTl9XSw0NTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2FuLW9iamVjdCIpLG89dCgiLi9faWU4LWRvbS1kZWZpbmUiKSxpPXQoIi4vX3RvLXByaW1pdGl2ZSIpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj10KCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUscil7aWYobih0KSxlPWkoZSwhMCksbihyKSxvKXRyeXtyZXR1cm4gYyh0LGUscil9Y2F0Y2gocyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJih0W2VdPXIudmFsdWUpLHR9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL190by1wcmltaXRpdmUiOjY5fV0sNDY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19vYmplY3QtZHAiKSxvPXQoIi4vX2FuLW9iamVjdCIpLGk9dCgiLi9fb2JqZWN0LWtleXMiKTtlLmV4cG9ydHM9dCgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe28odCk7Zm9yKHZhciByLGM9aShlKSxzPWMubGVuZ3RoLHU9MDtzPnU7KW4uZih0LHI9Y1t1KytdLGVbcl0pO3JldHVybiB0fX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX29iamVjdC1kcCI6NDUsIi4vX29iamVjdC1rZXlzIjo1MH1dLDQ3OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fb2JqZWN0LXBpZSIpLG89dCgiLi9fcHJvcGVydHktZGVzYyIpLGk9dCgiLi9fdG8taW9iamVjdCIpLGM9dCgiLi9fdG8tcHJpbWl0aXZlIikscz10KCIuL19oYXMiKSx1PXQoIi4vX2llOC1kb20tZGVmaW5lIiksYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj10KCIuL19kZXNjcmlwdG9ycyIpP2E6ZnVuY3Rpb24odCxlKXtpZih0PWkodCksZT1jKGUsITApLHUpdHJ5e3JldHVybiBhKHQsZSl9Y2F0Y2gocil7fXJldHVybiBzKHQsZSk/byghbi5mLmNhbGwodCxlKSx0W2VdKTp2b2lkIDB9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9faGFzIjoyOCwiLi9faWU4LWRvbS1kZWZpbmUiOjMxLCIuL19vYmplY3QtcGllIjo1MSwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3RvLWlvYmplY3QiOjY2LCIuL190by1wcmltaXRpdmUiOjY5fV0sNDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oYXMiKSxvPXQoIi4vX3RvLW9iamVjdCIpLGk9dCgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLGM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0KXtyZXR1cm4gdD1vKHQpLG4odCxpKT90W2ldOiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2M6bnVsbH19LHsiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLW9iamVjdCI6Njh9XSw0OTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2hhcyIpLG89dCgiLi9fdG8taW9iamVjdCIpLGk9dCgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSksYz10KCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIscz1vKHQpLHU9MCxhPVtdO2ZvcihyIGluIHMpciE9YyYmbihzLHIpJiZhLnB1c2gocik7Zm9yKDtlLmxlbmd0aD51OyluKHMscj1lW3UrK10pJiYofmkoYSxyKXx8YS5wdXNoKHIpKTtyZXR1cm4gYX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjE1LCIuL19oYXMiOjI4LCIuL19zaGFyZWQta2V5Ijo1OSwiLi9fdG8taW9iamVjdCI6NjZ9XSw1MDpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz10KCIuL19lbnVtLWJ1Zy1rZXlzIik7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjoyMywiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjQ5fV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2V4cG9ydCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fZmFpbHMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcj0oby5PYmplY3R8fHt9KVt0XXx8T2JqZWN0W3RdLGM9e307Y1t0XT1lKHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLGMpfX0seyIuL19jb3JlIjoxOCwiLi9fZXhwb3J0IjoyNCwiLi9fZmFpbHMiOjI1fV0sNTM6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSx7fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19oaWRlIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG8gaW4gZSlyJiZ0W29dP3Rbb109ZVtvXTpuKHQsbyxlW29dKTtyZXR1cm4gdH19LHsiLi9faGlkZSI6Mjl9XSw1NTpbZnVuY3Rpb24odCxlLHIpe2UuZXhwb3J0cz10KCIuL19oaWRlIil9LHsiLi9faGlkZSI6Mjl9XSw1NjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX2lzLW9iamVjdCIpLG89dCgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbih0LGUpe2lmKG8odCksIW4oZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlKyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHIsbil7dHJ5e249dCgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCx0KCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSkscj0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUpLHI/dC5fX3Byb3RvX189ZTpuKHQsZSksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLW9iamVjdCI6MzUsIi4vX29iamVjdC1nb3BkIjo0N31dLDU3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX2dsb2JhbCIpLG89dCgiLi9fY29yZSIpLGk9dCgiLi9fb2JqZWN0LWRwIiksYz10KCIuL19kZXNjcmlwdG9ycyIpLHM9dCgiLi9fd2tzIikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIG9bdF0/b1t0XTpuW3RdO2MmJmUmJiFlW3NdJiZpLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjE4LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2dsb2JhbCI6MjcsIi4vX29iamVjdC1kcCI6NDUsIi4vX3drcyI6NzF9XSw1ODpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX29iamVjdC1kcCIpLmYsbz10KCIuL19oYXMiKSxpPXQoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUscil7dCYmIW8odD1yP3Q6dC5wcm90b3R5cGUsaSkmJm4odCxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pfX0seyIuL19oYXMiOjI4LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTk6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgia2V5cyIpLG89dCgiLi9fdWlkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1vKHQpKX19LHsiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDYwOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LHsiLi9fZ2xvYmFsIjoyN31dLDYxOltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fYW4tb2JqZWN0Iiksbz10KCIuL19hLWZ1bmN0aW9uIiksaT10KCIuL193a3MiKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGM9bih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09Y3x8dm9pZCAwPT0ocj1uKGMpW2ldKT9lOm8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1vYmplY3QiOjE0LCIuL193a3MiOjcxfV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL190by1pbnRlZ2VyIiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBpLGMscz1TdHJpbmcobyhlKSksdT1uKHIpLGE9cy5sZW5ndGg7cmV0dXJuIDA+dXx8dT49YT90PyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksNTUyOTY+aXx8aT41NjMxOXx8dSsxPT09YXx8KGM9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxjPjU3MzQzP3Q/cy5jaGFyQXQodSk6aTp0P3Muc2xpY2UodSx1KzIpOihpLTU1Mjk2PDwxMCkrKGMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjIwLCIuL190by1pbnRlZ2VyIjo2NX1dLDYzOltmdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLGM9dCgiLi9fY3R4Iikscz10KCIuL19pbnZva2UiKSx1PXQoIi4vX2h0bWwiKSxhPXQoIi4vX2RvbS1jcmVhdGUiKSxmPXQoIi4vX2dsb2JhbCIpLF89Zi5wcm9jZXNzLGw9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLGQ9Zi5NZXNzYWdlQ2hhbm5lbCx2PTAsaD17fSxiPSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHk9ZnVuY3Rpb24oKXt2YXIgdD0rdGhpcztpZihoLmhhc093blByb3BlcnR5KHQpKXt2YXIgZT1oW3RdO2RlbGV0ZSBoW3RdLGUoKX19LG09ZnVuY3Rpb24odCl7eS5jYWxsKHQuZGF0YSl9O2wmJnB8fChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyllLnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBoWysrdl09ZnVuY3Rpb24oKXtzKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LG4odiksdn0scD1mdW5jdGlvbih0KXtkZWxldGUgaFt0XX0sInByb2Nlc3MiPT10KCIuL19jb2YiKShfKT9uPWZ1bmN0aW9uKHQpe18ubmV4dFRpY2soYyh5LHQsMSkpfTpkPyhvPW5ldyBkLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49YyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKHQpe2YucG9zdE1lc3NhZ2UodCsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPWIgaW4gYSgic2NyaXB0Iik/ZnVuY3Rpb24odCl7dS5hcHBlbmRDaGlsZChhKCJzY3JpcHQiKSlbYl09ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYyh5LHQsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpsLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MTcsIi4vX2N0eCI6MTksIi4vX2RvbS1jcmVhdGUiOjIyLCIuL19nbG9iYWwiOjI3LCIuL19odG1sIjozMCwiLi9faW52b2tlIjozMn1dLDY0OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uKHQpLDA+dD9vKHQrZSwwKTppKHQsZSl9fSx7Ii4vX3RvLWludGVnZXIiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP286bikodCl9fSx7fV0sNjY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19pb2JqZWN0Iiksbz10KCIuL19kZWZpbmVkIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKG8odCkpfX0seyIuL19kZWZpbmVkIjoyMCwiLi9faW9iamVjdCI6MzN9XSw2NzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28obih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY4OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9fZGVmaW5lZCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0seyIuL19kZWZpbmVkIjoyMH1dLDY5OltmdW5jdGlvbih0LGUscil7dmFyIG49dCgiLi9faXMtb2JqZWN0Iik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIW4odCkpcmV0dXJuIHQ7dmFyIHIsbztpZihlJiYiZnVuY3Rpb24iPT10eXBlb2Yocj10LnRvU3RyaW5nKSYmIW4obz1yLmNhbGwodCkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPXQudmFsdWVPZikmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbztpZighZSYmImZ1bmN0aW9uIj09dHlwZW9mKHI9dC50b1N0cmluZykmJiFuKG89ci5jYWxsKHQpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjM1fV0sNzA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT10PyIiOnQsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sNzE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19zaGFyZWQiKSgid2tzIiksbz10KCIuL191aWQiKSxpPXQoIi4vX2dsb2JhbCIpLlN5bWJvbCxjPSJmdW5jdGlvbiI9PXR5cGVvZiBpLHM9ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfHwoblt0XT1jJiZpW3RdfHwoYz9pOm8pKCJTeW1ib2wuIit0KSl9O3Muc3RvcmU9bn0seyIuL19nbG9iYWwiOjI3LCIuL19zaGFyZWQiOjYwLCIuL191aWQiOjcwfV0sNzI6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19jbGFzc29mIiksbz10KCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpO2UuZXhwb3J0cz10KCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9dD90W29dfHx0WyJAQGl0ZXJhdG9yIl18fGlbbih0KV06dm9pZCAwfX0seyIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2l0ZXJhdG9ycyI6NDEsIi4vX3drcyI6NzF9XSw3MzpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuL19hZGQtdG8tdW5zY29wYWJsZXMiKSxvPXQoIi4vX2l0ZXItc3RlcCIpLGk9dCgiLi9faXRlcmF0b3JzIiksYz10KCIuL190by1pb2JqZWN0Iik7ZS5leHBvcnRzPXQoIi4vX2l0ZXItZGVmaW5lIikoQXJyYXksIkFycmF5IixmdW5jdGlvbih0LGUpe3RoaXMuX3Q9Yyh0KSx0aGlzLl9pPTAsdGhpcy5faz1lfSxmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3QsZT10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiF0fHxyPj10Lmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT1lP28oMCxyKToidmFsdWVzIj09ZT9vKDAsdFtyXSk6bygwLFtyLHRbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0seyIuL19hZGQtdG8tdW5zY29wYWJsZXMiOjEyLCIuL19pdGVyLWRlZmluZSI6MzgsIi4vX2l0ZXItc3RlcCI6NDAsIi4vX2l0ZXJhdG9ycyI6NDEsIi4vX3RvLWlvYmplY3QiOjY2fV0sNzQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KCIuL19leHBvcnQiKTtuKG4uUytuLkYqIXQoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OnQoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2V4cG9ydCI6MjQsIi4vX29iamVjdC1kcCI6NDV9XSw3NTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoIi4vX3RvLW9iamVjdCIpLG89dCgiLi9fb2JqZWN0LWtleXMiKTt0KCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBvKG4odCkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo1MCwiLi9fb2JqZWN0LXNhcCI6NTIsIi4vX3RvLW9iamVjdCI6Njh9XSw3NjpbZnVuY3Rpb24odCxlLHIpe30se31dLDc3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuLG8saSxjPXQoIi4vX2xpYnJhcnkiKSxzPXQoIi4vX2dsb2JhbCIpLHU9dCgiLi9fY3R4IiksYT10KCIuL19jbGFzc29mIiksZj10KCIuL19leHBvcnQiKSxfPXQoIi4vX2lzLW9iamVjdCIpLGw9KHQoIi4vX2FuLW9iamVjdCIpLHQoIi4vX2EtZnVuY3Rpb24iKSkscD10KCIuL19hbi1pbnN0YW5jZSIpLGQ9dCgiLi9fZm9yLW9mIiksdj0odCgiLi9fc2V0LXByb3RvIikuc2V0LHQoIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiKSksaD10KCIuL190YXNrIikuc2V0LGI9dCgiLi9fbWljcm90YXNrIikoKSx5PSJQcm9taXNlIixtPXMuVHlwZUVycm9yLGo9cy5wcm9jZXNzLGc9c1t5XSxqPXMucHJvY2Vzcyx4PSJwcm9jZXNzIj09YShqKSx3PWZ1bmN0aW9uKCl7fSxrPSEhZnVuY3Rpb24oKXt0cnl7dmFyIGU9Zy5yZXNvbHZlKDEpLHI9KGUuY29uc3RydWN0b3I9e30pW3QoIi4vX3drcyIpKCJzcGVjaWVzIildPWZ1bmN0aW9uKHQpe3Qodyx3KX07cmV0dXJuKHh8fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4odylpbnN0YW5jZW9mIHJ9Y2F0Y2gobil7fX0oKSxPPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfHx0PT09ZyYmZT09PWl9LE09ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIF8odCkmJiJmdW5jdGlvbiI9PXR5cGVvZihlPXQudGhlbik/ZTohMX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTyhnLHQpP25ldyBFKHQpOm5ldyBvKHQpfSxFPW89ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1yKXRocm93IG0oIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7ZT10LHI9bn0pLHRoaXMucmVzb2x2ZT1sKGUpLHRoaXMucmVqZWN0PWwocil9LFA9ZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fSxUPWZ1bmN0aW9uKHQsZSl7aWYoIXQuX24pe3QuX249ITA7dmFyIHI9dC5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuX3Ysbz0xPT10Ll9zLGk9MCxjPWZ1bmN0aW9uKGUpe3ZhciByLGksYz1vP2Uub2s6ZS5mYWlsLHM9ZS5yZXNvbHZlLHU9ZS5yZWplY3QsYT1lLmRvbWFpbjt0cnl7Yz8ob3x8KDI9PXQuX2gmJkEodCksdC5faD0xKSxjPT09ITA/cj1uOihhJiZhLmVudGVyKCkscj1jKG4pLGEmJmEuZXhpdCgpKSxyPT09ZS5wcm9taXNlP3UobSgiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1NKHIpKT9pLmNhbGwocixzLHUpOnMocikpOnUobil9Y2F0Y2goZil7dShmKX19O3IubGVuZ3RoPmk7KWMocltpKytdKTt0Ll9jPVtdLHQuX249ITEsZSYmIXQuX2gmJlIodCl9KX19LFI9ZnVuY3Rpb24odCl7aC5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgZSxyLG4sbz10Ll92O2lmKFUodCkmJihlPVAoZnVuY3Rpb24oKXt4P2ouZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLHQpOihyPXMub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6dCxyZWFzb246b30pOihuPXMuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSx0Ll9oPXh8fFUodCk/MjoxKSx0Ll9hPXZvaWQgMCxlKXRocm93IGUuZXJyb3J9KX0sVT1mdW5jdGlvbih0KXtpZigxPT10Ll9oKXJldHVybiExO2Zvcih2YXIgZSxyPXQuX2F8fHQuX2Msbj0wO3IubGVuZ3RoPm47KWlmKGU9cltuKytdLGUuZmFpbHx8IVUoZS5wcm9taXNlKSlyZXR1cm4hMTtyZXR1cm4hMH0sQT1mdW5jdGlvbih0KXtoLmNhbGwocyxmdW5jdGlvbigpe3ZhciBlO3g/ai5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIix0KTooZT1zLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCxlPWUuX3d8fGUsZS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFQoZSwhMCkpfSxDPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT10KXRocm93IG0oIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KGU9TSh0KSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7ZS5jYWxsKHQsdShDLG4sMSksdShMLG4sMSkpfWNhdGNoKG8pe0wuY2FsbChuLG8pfX0pOihyLl92PXQsci5fcz0xLFQociwhMSkpfWNhdGNoKG4pe0wuY2FsbCh7X3c6cixfZDohMX0sbil9fX07a3x8KGc9ZnVuY3Rpb24odCl7cCh0aGlzLGcseSwiX2giKSxsKHQpLG4uY2FsbCh0aGlzKTt0cnl7dCh1KEMsdGhpcywxKSx1KEwsdGhpcywxKSl9Y2F0Y2goZSl7TC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXQoIi4vX3JlZGVmaW5lLWFsbCIpKGcucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIHI9Uyh2KHRoaXMsZykpO3JldHVybiByLm9rPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6ITAsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLHIuZG9tYWluPXg/ai5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmVCh0aGlzLCExKSxyLnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdCl9fSksRT1mdW5jdGlvbigpe3ZhciB0PW5ldyBuO3RoaXMucHJvbWlzZT10LHRoaXMucmVzb2x2ZT11KEMsdCwxKSx0aGlzLnJlamVjdD11KEwsdCwxKX0pLGYoZi5HK2YuVytmLkYqIWsse1Byb21pc2U6Z30pLHQoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx5KSx0KCIuL19zZXQtc3BlY2llcyIpKHkpLGk9dCgiLi9fY29yZSIpW3ldLGYoZi5TK2YuRiohayx5LHtyZWplY3Q6ZnVuY3Rpb24odCl7dmFyIGU9Uyh0aGlzKSxyPWUucmVqZWN0O3JldHVybiByKHQpLGUucHJvbWlzZX19KSxmKGYuUytmLkYqKGN8fCFrKSx5LHtyZXNvbHZlOmZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBnJiZPKHQuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIHQ7dmFyIGU9Uyh0aGlzKSxyPWUucmVzb2x2ZTtyZXR1cm4gcih0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKiEoayYmdCgiLi9faXRlci1kZXRlY3QiKShmdW5jdGlvbih0KXtnLmFsbCh0KVsiY2F0Y2giXSh3KX0pKSx5LHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPVMoZSksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPVAoZnVuY3Rpb24oKXt2YXIgcj1bXSxpPTAsYz0xO2QodCwhMSxmdW5jdGlvbih0KXt2YXIgcz1pKyssdT0hMTtyLnB1c2godm9pZCAwKSxjKyssZS5yZXNvbHZlKHQpLnRoZW4oZnVuY3Rpb24odCl7dXx8KHU9ITAscltzXT10LC0tY3x8bihyKSl9LG8pfSksLS1jfHxuKHIpfSk7cmV0dXJuIGkmJm8oaS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1TKGUpLG49ci5yZWplY3Qsbz1QKGZ1bmN0aW9uKCl7ZCh0LCExLGZ1bmN0aW9uKHQpe2UucmVzb2x2ZSh0KS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vX2EtZnVuY3Rpb24iOjExLCIuL19hbi1pbnN0YW5jZSI6MTMsIi4vX2FuLW9iamVjdCI6MTQsIi4vX2NsYXNzb2YiOjE2LCIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZXhwb3J0IjoyNCwiLi9fZm9yLW9mIjoyNiwiLi9fZ2xvYmFsIjoyNywiLi9faXMtb2JqZWN0IjozNSwiLi9faXRlci1kZXRlY3QiOjM5LCIuL19saWJyYXJ5Ijo0MiwiLi9fbWljcm90YXNrIjo0MywiLi9fcmVkZWZpbmUtYWxsIjo1NCwiLi9fc2V0LXByb3RvIjo1NiwiLi9fc2V0LXNwZWNpZXMiOjU3LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6NTgsIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiOjYxLCIuL190YXNrIjo2MywiLi9fd2tzIjo3MX1dLDc4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoIi4vX3N0cmluZy1hdCIpKCEwKTt0KCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbih0KXt0aGlzLl90PVN0cmluZyh0KSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49ZS5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1uKGUsciksdGhpcy5faSs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjM4LCIuL19zdHJpbmctYXQiOjYyfV0sNzk6W2Z1bmN0aW9uKHQsZSxyKXt0KCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbj10KCIuL19nbG9iYWwiKSxvPXQoIi4vX2hpZGUiKSxpPXQoIi4vX2l0ZXJhdG9ycyIpLGM9dCgiLi9fd2tzIikoInRvU3RyaW5nVGFnIikscz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLHU9MDs1PnU7dSsrKXt2YXIgYT1zW3VdLGY9blthXSxfPWYmJmYucHJvdG90eXBlO18mJiFfW2NdJiZvKF8sYyxhKSxpW2FdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6MjcsIi4vX2hpZGUiOjI5LCIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxLCIuL2VzNi5hcnJheS5pdGVyYXRvciI6NzN9XSw4MDpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ImRlZmF1bHQiOnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz10KCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLGk9bihvKSxjPXQoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHM9bihjKSx1PXQoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGE9bih1KSxmPXQoIi4uL3V0aWxzL3V0aWxzIiksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4peygwLHNbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgbz10aGlzO28ubWVzc2FnZUJ1cz1uLG8uZG9tYWluPSgwLGYuZGl2aWRlVVJMKShlKS5kb21haW4sby5oeXBlcnR5VVJMPWUsby5ydW50aW1lVVJMPXJ9cmV0dXJuKDAsYVsiZGVmYXVsdCJdKSh0LFt7a2V5OiJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXMsbj12b2lkIDAsbz10P3Q6Ii4iO249ZT9lOnIuaHlwZXJ0eVVSTDt2YXIgYz17dHlwZToicmVhZCIsZnJvbTpuLHRvOnIucnVudGltZVVSTCsiL3JlZ2lzdHJ5LyIsYm9keTp7cmVzb3VyY2U6byxjcml0ZXJpYTpufX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxlKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkucmVzb3VyY2U7bj90KG4pOmUoIk5vIHVzZXIgd2FzIG5vdCBmb3VuZCIpfSl9KX19XSksdH0oKTtyWyJkZWZhdWx0Il09XyxlLmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzIjo4MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6NSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjo2fV0sODE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6eyJkZWZhdWx0Ijp0fX1mdW5jdGlvbiBvKHQpe2lmKCF0KXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIGU9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49dC5yZXBsYWNlKGUscikuc3BsaXQoIiwiKTtuWzBdPT09dCYmKG5bMF09Imh0dHBzIixuWzFdPXQpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTp0LnN1YnN0cmluZygwLGUpLGRvbWFpbjp0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBjKHQpe3JldHVybiEoKDAsZFsiZGVmYXVsdCJdKSh0KS5sZW5ndGg+MCl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdD9KU09OLnBhcnNlKCgwLGxbImRlZmF1bHQiXSkodCkpOnZvaWQgMH1mdW5jdGlvbiB1KHQpe3ZhciBlPXQuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIit0LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpKyIvIit0LnN1YnN0cmluZygwLGUpfWZ1bmN0aW9uIGEodCl7dmFyIGU9byh0KTtyZXR1cm4gZS5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK2UuZG9tYWlufWZ1bmN0aW9uIGYodCl7aWYoInVzZXI6Ly8iPT09dC5zdWJzdHJpbmcoMCw3KSl7dmFyIGU9byh0KTtpZihlLmRvbWFpbiYmZS5pZGVudGl0eSlyZXR1cm4gdDt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gdSh0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIF89dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksbD1uKF8pLHA9dCgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksZD1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9YyxyLmRlZXBDbG9uZT1zLHIuZ2V0VXNlclVSTEZyb21FbWFpbD11LHIuZ2V0VXNlckVtYWlsRnJvbVVSTD1hLHIuY29udmVydFRvVXNlclVSTD1mfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjozfV19LHt9LFs4MF0pKDgwKX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBTeW5jaGVyLmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NTIgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuU3luY2hlcj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYyl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYyYmYSlyZXR1cm4gYShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciB1PW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyB1LmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHV9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W3NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sbCxsLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7T2JqZWN0Lm9ic2VydmUmJiFBcnJheS5vYnNlcnZlJiZmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmdldE5vdGlmaWVyLG49InBlcmZvcm1DaGFuZ2UiLG89Il9vcmlnaW5hbCIsaT0ic3BsaWNlIixzPXtwdXNoOmZ1bmN0aW9uIGEoZSl7dmFyIHQ9YXJndW1lbnRzLHM9YVtvXS5hcHBseSh0aGlzLHQpO3JldHVybiByKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6cy10Lmxlbmd0aCxhZGRlZENvdW50OnQubGVuZ3RoLHJlbW92ZWQ6W119fSksc30sdW5zaGlmdDpmdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cyxzPXVbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHBvcDpmdW5jdGlvbiBsKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1sW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnRoaXMubGVuZ3RoLGFkZGVkQ291bnQ6MCxyZW1vdmVkOlt0XX19LHRoaXMpLHR9LHNoaWZ0OmZ1bmN0aW9uIGYoKXt2YXIgZT10aGlzLmxlbmd0aCx0PWZbb10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sZW5ndGghPT1lJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6MCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzcGxpY2U6ZnVuY3Rpb24gZChlLHQpe3ZhciBzPWFyZ3VtZW50cyxjPWRbb10uYXBwbHkodGhpcyxzKTtyZXR1cm4oYy5sZW5ndGh8fHMubGVuZ3RoPjIpJiZyKHRoaXMpW25dKGksZnVuY3Rpb24oKXtyZXR1cm57aW5kZXg6ZSxhZGRlZENvdW50OnMubGVuZ3RoLTIscmVtb3ZlZDpjfX0sdGhpcyksY319O2Zvcih2YXIgYyBpbiBzKXNbY11bb109dC5wcm90b3R5cGVbY10sdC5wcm90b3R5cGVbY109c1tjXTt0Lm9ic2VydmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5vYnNlcnZlKHQscixbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsaV0pfSx0LnVub2JzZXJ2ZT1lLnVub2JzZXJ2ZX0oT2JqZWN0LEFycmF5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkiOjE4fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjIwfV0sNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIxfV0sNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjJ9XSw3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjoyM31dLDg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjI0fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjI1fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjZ9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIjoyN31dLDEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMCxyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LHt9XSwxMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Ijo0fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxjPW4ocyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uIGEoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBuPSgwLGNbImRlZmF1bHQiXSkoZSx0KTtpZih2b2lkIDA9PT1uKXt2YXIgbz0oMCxpWyJkZWZhdWx0Il0pKGUpO3JldHVybiBudWxsPT09bz92b2lkIDA6YShvLHQscil9aWYoInZhbHVlImluIG4pcmV0dXJuIG4udmFsdWU7dmFyIHM9bi5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6NSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIiksdT1uKGEpO3JbImRlZmF1bHQiXT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKCJ1bmRlZmluZWQiPT10eXBlb2YgdD8idW5kZWZpbmVkIjooMCx1WyJkZWZhdWx0Il0pKHQpKSk7ZS5wcm90b3R5cGU9KDAsY1siZGVmYXVsdCJdKSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGlbImRlZmF1bHQiXT8oMCxpWyJkZWZhdWx0Il0pKGUsdCk6ZS5fX3Byb3RvX189dCl9fSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIjozLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YiOjgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiOjE3fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSgidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsaVsiZGVmYXVsdCJdKSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LHsiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiI6MTd9XSwxNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpLGM9bihzKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWEoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1jWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9fSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjEwLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIjoxMX1dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLG89bi5KU09OfHwobi5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uc3RyaW5naWZ5LmFwcGx5KG8sYXJndW1lbnRzKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzV9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSI6MTAwfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Iik7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOjEwMX1dLDIxOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpO3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoxMDJ9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjoxMDN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Qua2V5c30seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOjEwNH1dLDI0OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjEwNX1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwNiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6MTA3LCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuU3ltYm9sfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCI6MTA5LCIuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOjExMCwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiOjExMX1dLDI3OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX3drcy1leHQiKS5mKCJpdGVyYXRvciIpfSx7Ii4uLy4uL21vZHVsZXMvX3drcy1leHQiOjk2LCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwOCwiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTJ9XSwyODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDMwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjU0fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGMsYT1uKHQpLHU9byhhLmxlbmd0aCksbD1pKHMsdSk7aWYoZSYmciE9cil7Zm9yKDt1Pmw7KWlmKGM9YVtsKytdLGMhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+bDtsKyspaWYoKGV8fGwgaW4gYSkmJmFbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo4OCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLWxlbmd0aCI6OTF9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmN9fSx7Ii4vX2NvZiI6MzQsIi4vX3drcyI6OTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDM1OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjI4fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0M31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDQxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWtleXMiKSxvPWUoIi4vX29iamVjdC1nb3BzIiksaT1lKCIuL19vYmplY3QtcGllIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1vLmY7aWYocilmb3IodmFyIHMsYz1yKGUpLGE9aS5mLHU9MDtjLmxlbmd0aD51OylhLmNhbGwoZSxzPWNbdSsrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LHsiLi9fb2JqZWN0LWdvcHMiOjcxLCIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1waWUiOjc1fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2N0eCIpLHM9ZSgiLi9faGlkZSIpLGM9InByb3RvdHlwZSIsYT1mdW5jdGlvbihlLHQscil7dmFyIHUsbCxmLGQ9ZSZhLkYscD1lJmEuRyxiPWUmYS5TLF89ZSZhLlAsaD1lJmEuQix5PWUmYS5XLHY9cD9vOm9bdF18fChvW3RdPXt9KSxtPXZbY10saj1wP246Yj9uW3RdOihuW3RdfHx7fSlbY107cCYmKHI9dCk7Zm9yKHUgaW4gcilsPSFkJiZqJiZ2b2lkIDAhPT1qW3VdLGwmJnUgaW4gdnx8KGY9bD9qW3VdOnJbdV0sdlt1XT1wJiYiZnVuY3Rpb24iIT10eXBlb2Ygalt1XT9yW3VdOmgmJmw/aShmLG4pOnkmJmpbdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRbY109ZVtjXSx0fShmKTpfJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixfJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW3VdPWYsZSZhLlImJm0mJiFtW3VdJiZzKG0sdSxmKSkpfTthLkY9MSxhLkc9MixhLlM9NCxhLlA9OCxhLkI9MTYsYS5XPTMyLGEuVT02NCxhLlI9MTI4LHQuZXhwb3J0cz1hfSx7Ii4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19nbG9iYWwiOjQ1LCIuL19oaWRlIjo0N31dLDQzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jdHgiKSxvPWUoIi4vX2l0ZXItY2FsbCIpLGk9ZSgiLi9faXMtYXJyYXktaXRlciIpLHM9ZSgiLi9fYW4tb2JqZWN0IiksYz1lKCIuL190by1sZW5ndGgiKSxhPWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIiksdT17fSxsPXt9LHI9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYsZCl7dmFyIHAsYixfLGgseT1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmEoZSksdj1uKHIsZix0PzI6MSksbT0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB5KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGkoeSkpe2ZvcihwPWMoZS5sZW5ndGgpO3A+bTttKyspaWYoaD10P3YocyhiPWVbbV0pWzBdLGJbMV0pOnYoZVttXSksaD09PXV8fGg9PT1sKXJldHVybiBofWVsc2UgZm9yKF89eS5jYWxsKGUpOyEoYj1fLm5leHQoKSkuZG9uZTspaWYoaD1vKF8sdixiLnZhbHVlLHQpLGg9PT11fHxoPT09bClyZXR1cm4gaH07ci5CUkVBSz11LHIuUkVUVVJOPWx9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fY3R4IjozNiwiLi9faXMtYXJyYXktaXRlciI6NTIsIi4vX2l0ZXItY2FsbCI6NTUsIi4vX3RvLWxlbmd0aCI6OTEsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjo5OH1dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPW4pfSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSx7fV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZihlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19wcm9wZXJ0eS1kZXNjIjo3N31dLDQ4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LHsiLi9fZ2xvYmFsIjo0NX1dLDQ5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19kZXNjcmlwdG9ycyIpJiYhZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSgiLi9fZG9tLWNyZWF0ZSIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19mYWlscyI6NDN9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSx7fV0sNTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jb2YiKTt0LmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LHsiLi9fY29mIjozNH1dLDUyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXRlcmF0b3JzIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0seyIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jb2YiKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LHsiLi9fY29mIjozNH1dLDU0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIHM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09cyYmbihzLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjMxfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxzPXt9O2UoIi4vX2hpZGUiKShzLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjQ3LCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxzPWUoIi4vX2hpZGUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faXRlcmF0b3JzIiksdT1lKCIuL19pdGVyLWNyZWF0ZSIpLGw9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxmPWUoIi4vX29iamVjdC1ncG8iKSxkPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSksYj0iQEBpdGVyYXRvciIsXz0ia2V5cyIsaD0idmFsdWVzIix5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscix2LG0saixnKXt1KHIsdCx2KTt2YXIgdyxPLGsseD1mdW5jdGlvbihlKXtpZighcCYmZSBpbiBUKXJldHVybiBUW2VdO3N3aXRjaChlKXtjYXNlIF86cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxDPXQrIiBJdGVyYXRvciIsRT1tPT1oLFM9ITEsVD1lLnByb3RvdHlwZSxSPVRbZF18fFRbYl18fG0mJlRbbV0sTT1SfHx4KG0pLE49bT9FP3goImVudHJpZXMiKTpNOnZvaWQgMCxQPSJBcnJheSI9PXQ/VC5lbnRyaWVzfHxSOlI7aWYoUCYmKGs9ZihQLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGwoayxDLCEwKSxufHxjKGssZCl8fHMoayxkLHkpKSksRSYmUiYmUi5uYW1lIT09aCYmKFM9ITAsTT1mdW5jdGlvbigpe3JldHVybiBSLmNhbGwodGhpcyl9KSxuJiYhZ3x8IXAmJiFTJiZUW2RdfHxzKFQsZCxNKSxhW3RdPU0sYVtDXT15LG0paWYodz17dmFsdWVzOkU/TTp4KGgpLGtleXM6aj9NOngoXyksZW50cmllczpOfSxnKWZvcihPIGluIHcpTyBpbiBUfHxpKFQsTyx3W09dKTtlbHNlIG8oby5QK28uRioocHx8UyksdCx3KTtyZXR1cm4gd319LHsiLi9fZXhwb3J0Ijo0MiwiLi9faGFzIjo0NiwiLi9faGlkZSI6NDcsIi4vX2l0ZXItY3JlYXRlIjo1NiwiLi9faXRlcmF0b3JzIjo2MCwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1ncG8iOjcyLCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fd2tzIjo5N31dLDU4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2gocyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLHM9aVtuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYyl7fXJldHVybiByfX0seyIuL193a3MiOjk3fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzIiksbz1lKCIuL190by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4oaSksYz1zLmxlbmd0aCxhPTA7Yz5hOylpZihpW3I9c1thKytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fdG8taW9iamVjdCI6OTB9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDYzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdWlkIikoIm1ldGEiKSxvPWUoIi4vX2lzLW9iamVjdCIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19vYmplY3QtZHAiKS5mLGM9MCxhPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHU9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gYShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7cyhlLG4se3ZhbHVlOntpOiJPIisgKytjLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxuKSl7aWYoIWEoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW25dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG4pKXtpZighYShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW25dLnd9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJmIuTkVFRCYmYShlKSYmIWkoZSxuKSYmbChlKSxlfSxiPXQuZXhwb3J0cz17S0VZOm4sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpkLG9uRnJlZXplOnB9fSx7Ii4vX2ZhaWxzIjo0MywiLi9faGFzIjo0NiwiLi9faXMtb2JqZWN0Ijo1NCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fdWlkIjo5NH1dLDY0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYz1uLlByb21pc2UsYT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKHMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscix1PWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IoYSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZihhKXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKHUpfTtlbHNlIGlmKGkpe3ZhciBsPSEwLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKHUpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtmLmRhdGE9bD0hbH19ZWxzZSBpZihjJiZjLnJlc29sdmUpe3ZhciBkPWMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtkLnRoZW4odSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLHUpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MzQsIi4vX2dsb2JhbCI6NDUsIi4vX3Rhc2siOjg3fV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxzPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPWZ1bmN0aW9uKCl7fSxhPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSx1PXQuRjtuLS07KWRlbGV0ZSB1W2FdW2lbbl1dO3JldHVybiB1KCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oY1thXT1uKGUpLHI9bmV3IGMsY1thXT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZG9tLWNyZWF0ZSI6MzksIi4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19odG1sIjo0OCwiLi9fb2JqZWN0LWRwcyI6NjcsIi4vX3NoYXJlZC1rZXkiOjgzfV0sNjY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYz1zLmxlbmd0aCxhPTA7Yz5hOyluLmYoZSxyPXNbYSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19vYmplY3QtZHAiOjY2LCIuL19vYmplY3Qta2V5cyI6NzR9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxzPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGM9ZSgiLi9faGFzIiksYT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT91OmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9cyh0LCEwKSxhKXRyeXtyZXR1cm4gdShlLHQpfWNhdGNoKHIpe31yZXR1cm4gYyhlLHQpP28oIW4uZi5jYWxsKGUsdCksZVt0XSk6dm9pZCAwfX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2hhcyI6NDYsIi4vX2llOC1kb20tZGVmaW5lIjo0OSwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5M31dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdvcG4iKS5mLGk9e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9jKGUpOm8obihlKSl9fSx7Ii4vX29iamVjdC1nb3BuIjo3MCwiLi9fdG8taW9iamVjdCI6OTB9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIikuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsbyl9fSx7Ii4vX2VudW0tYnVnLWtleXMiOjQwLCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCI6NzN9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3IuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSx7fV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LHsiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLW9iamVjdCI6OTJ9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fYXJyYXktaW5jbHVkZXMiKSghMSkscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYz1vKGUpLGE9MCx1PVtdO2ZvcihyIGluIGMpciE9cyYmbihjLHIpJiZ1LnB1c2gocik7Zm9yKDt0Lmxlbmd0aD5hOyluKGMscj10W2ErK10pJiYofmkodSxyKXx8dS5wdXNoKHIpKTtyZXR1cm4gdX19LHsiLi9fYXJyYXktaW5jbHVkZXMiOjMyLCIuL19oYXMiOjQ2LCIuL19zaGFyZWQta2V5Ijo4MywiLi9fdG8taW9iamVjdCI6OTB9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzLWludGVybmFsIiksbz1lKCIuL19lbnVtLWJ1Zy1rZXlzIik7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LHt9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fZmFpbHMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oby5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRippKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0seyIuL19jb3JlIjozNSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzfV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oaWRlIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdClyJiZlW29dP2Vbb109dFtvXTpuKGUsbyx0W29dKTtyZXR1cm4gZX19LHsiLi9faGlkZSI6NDd9XSw3OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19oaWRlIil9LHsiLi9faGlkZSI6NDd9XSw4MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbih0LHIsbil7dHJ5e249ZSgiLi9fY3R4IikoRnVuY3Rpb24uY2FsbCxlKCIuL19vYmplY3QtZ29wZCIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4odCxbXSkscj0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2gobyl7cj0hMH1yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLHQpLHI/ZS5fX3Byb3RvX189dDpuKGUsdCksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2N0eCI6MzYsIi4vX2lzLW9iamVjdCI6NTQsIi4vX29iamVjdC1nb3BkIjo2OH1dLDgxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9fb2JqZWN0LWRwIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGM9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2NdJiZpLmYodCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSx7Ii4vX2NvcmUiOjM1LCIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2dsb2JhbCI6NDUsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcyI6OTd9XSw4MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLmYsbz1lKCIuL19oYXMiKSxpPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0seyIuL19oYXMiOjQ2LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19zaGFyZWQiKSgia2V5cyIpLG89ZSgiLi9fdWlkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LHsiLi9fc2hhcmVkIjo4NCwiLi9fdWlkIjo5NH1dLDg0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixpPW5bb118fChuW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LHsiLi9fZ2xvYmFsIjo0NX1dLDg1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19hLWZ1bmN0aW9uIiksaT1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW2ldKT90Om8ocil9fSx7Ii4vX2EtZnVuY3Rpb24iOjI4LCIuL19hbi1vYmplY3QiOjMxLCIuL193a3MiOjk3fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYz1TdHJpbmcobyh0KSksYT1uKHIpLHU9Yy5sZW5ndGg7cmV0dXJuIDA+YXx8YT49dT9lPyIiOnZvaWQgMDooaT1jLmNoYXJDb2RlQXQoYSksNTUyOTY+aXx8aT41NjMxOXx8YSsxPT09dXx8KHM9Yy5jaGFyQ29kZUF0KGErMSkpPDU2MzIwfHxzPjU3MzQzP2U/Yy5jaGFyQXQoYSk6aTplP2Muc2xpY2UoYSxhKzIpOihpLTU1Mjk2PDwxMCkrKHMtNTYzMjApKzY1NTM2KX19fSx7Ii4vX2RlZmluZWQiOjM3LCIuL190by1pbnRlZ2VyIjo4OX1dLDg3OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fY3R4IiksYz1lKCIuL19pbnZva2UiKSxhPWUoIi4vX2h0bWwiKSx1PWUoIi4vX2RvbS1jcmVhdGUiKSxsPWUoIi4vX2dsb2JhbCIpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLGI9bC5NZXNzYWdlQ2hhbm5lbCxfPTAsaD17fSx5PSJvbnJlYWR5c3RhdGVjaGFuZ2UiLHY9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpcztpZihoLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1oW2VdO2RlbGV0ZSBoW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7di5jYWxsKGUuZGF0YSl9O2QmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBoWysrX109ZnVuY3Rpb24oKXtjKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4oXyksX30scD1mdW5jdGlvbihlKXtkZWxldGUgaFtlXX0sInByb2Nlc3MiPT1lKCIuL19jb2YiKShmKT9uPWZ1bmN0aW9uKGUpe2YubmV4dFRpY2socyh2LGUsMSkpfTpiPyhvPW5ldyBiLGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPXkgaW4gdSgic2NyaXB0Iik/ZnVuY3Rpb24oZSl7YS5hcHBlbmRDaGlsZCh1KCJzY3JpcHQiKSlbeV09ZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpLHYuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyh2LGUsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSx7Ii4vX2NvZiI6MzQsIi4vX2N0eCI6MzYsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19nbG9iYWwiOjQ1LCIuL19odG1sIjo0OCwiLi9faW52b2tlIjo1MH1dLDg4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLDA+ZT9vKGUrdCwwKTppKGUsdCl9fSx7Ii4vX3RvLWludGVnZXIiOjg5fV0sODk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLmNlaWwsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP286bikoZSl9fSx7fV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pb2JqZWN0Iiksbz1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0seyIuL19kZWZpbmVkIjozNywiLi9faW9iamVjdCI6NTF9XSw5MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDkyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0seyIuL19kZWZpbmVkIjozN31dLDkzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0seyIuL19pcy1vYmplY3QiOjU0fV0sOTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0wLG89TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytuK28pLnRvU3RyaW5nKDM2KSl9fSx7fV0sOTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2xpYnJhcnkiKSxzPWUoIi4vX3drcy1leHQiKSxjPWUoIi4vX29iamVjdC1kcCIpLmY7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uU3ltYm9sfHwoby5TeW1ib2w9aT97fTpuLlN5bWJvbHx8e30pOyJfIj09ZS5jaGFyQXQoMCl8fGUgaW4gdHx8Yyh0LGUse3ZhbHVlOnMuZihlKX0pfX0seyIuL19jb3JlIjozNSwiLi9fZ2xvYmFsIjo0NSwiLi9fbGlicmFyeSI6NjIsIi4vX29iamVjdC1kcCI6NjYsIi4vX3drcy1leHQiOjk2fV0sOTY6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9ZSgiLi9fd2tzIil9LHsiLi9fd2tzIjo5N31dLDk3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoIndrcyIpLG89ZSgiLi9fdWlkIiksaT1lKCIuL19nbG9iYWwiKS5TeW1ib2wscz0iZnVuY3Rpb24iPT10eXBlb2YgaSxjPXQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09cyYmaVtlXXx8KHM/aTpvKSgiU3ltYm9sLiIrZSkpfTtjLnN0b3JlPW59LHsiLi9fZ2xvYmFsIjo0NSwiLi9fc2hhcmVkIjo4NCwiLi9fdWlkIjo5NH1dLDk4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY2xhc3NvZiIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1lKCIuL19pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi9fY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3fV0sOTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoyOSwiLi9faXRlci1kZWZpbmUiOjU3LCIuL19pdGVyLXN0ZXAiOjU5LCIuL19pdGVyYXRvcnMiOjYwLCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fb2JqZWN0LWNyZWF0ZSI6NjV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUytuLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6MzgsIi4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1kcCI6NjZ9XSwxMDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8obihlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NjgsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1pb2JqZWN0Ijo5MH1dLDEwMzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcyLCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8tb2JqZWN0Ijo5Mn1dLDEwNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0MiwiLi9fc2V0LXByb3RvIjo4MH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe30se31dLDEwNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGkscz1lKCIuL19saWJyYXJ5IiksYz1lKCIuL19nbG9iYWwiKSxhPWUoIi4vX2N0eCIpLHU9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxkPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLHA9ZSgiLi9fYW4taW5zdGFuY2UiKSxiPWUoIi4vX2Zvci1vZiIpLF89KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLGg9ZSgiLi9fdGFzayIpLnNldCx5PWUoIi4vX21pY3JvdGFzayIpKCksdj0iUHJvbWlzZSIsbT1jLlR5cGVFcnJvcixqPWMucHJvY2VzcyxnPWNbdl0saj1jLnByb2Nlc3Msdz0icHJvY2VzcyI9PXUoaiksTz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWcucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKE8sTyl9O3JldHVybih3fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE8paW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCkseD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWcmJnQ9PT1pfSxDPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZyxlKT9uZXcgUyhlKTpuZXcgbyhlKX0sUz1vPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBtKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9ZCh0KSx0aGlzLnJlamVjdD1kKHIpfSxUPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sUj1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7eShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTAscz1mdW5jdGlvbih0KXt2YXIgcixpLHM9bz90Lm9rOnQuZmFpbCxjPXQucmVzb2x2ZSxhPXQucmVqZWN0LHU9dC5kb21haW47dHJ5e3M/KG98fCgyPT1lLl9oJiZQKGUpLGUuX2g9MSkscz09PSEwP3I9bjoodSYmdS5lbnRlcigpLHI9cyhuKSx1JiZ1LmV4aXQoKSkscj09PXQucHJvbWlzZT9hKG0oIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9QyhyKSk/aS5jYWxsKHIsYyxhKTpjKHIpKTphKG4pfWNhdGNoKGwpe2EobCl9fTtyLmxlbmd0aD5pOylzKHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZNKGUpfSl9fSxNPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdjtpZihOKGUpJiYodD1UKGZ1bmN0aW9uKCl7dz9qLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj1jLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj1jLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD13fHxOKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LE49ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFOKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LFA9ZnVuY3Rpb24oZSl7aC5jYWxsKGMsZnVuY3Rpb24oKXt2YXIgdDt3P2ouZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9Yy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxSKHQsITApKX0sTD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBtKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUMoZSkpP3koZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLGEoTCxuLDEpLGEoRCxuLDEpKX1jYXRjaChvKXtELmNhbGwobixvKX19KTooci5fdj1lLHIuX3M9MSxSKHIsITEpKX1jYXRjaChuKXtELmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O2t8fChnPWZ1bmN0aW9uKGUpe3AodGhpcyxnLHYsIl9oIiksZChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYShMLHRoaXMsMSksYShELHRoaXMsMSkpfWNhdGNoKHQpe0QuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShnLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPUUoXyh0aGlzLGcpKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj13P2ouZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlIodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YShMLGUsMSksCnRoaXMucmVqZWN0PWEoRCxlLDEpfSksbChsLkcrbC5XK2wuRiohayx7UHJvbWlzZTpnfSksZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKShnLHYpLGUoIi4vX3NldC1zcGVjaWVzIikodiksaT1lKCIuL19jb3JlIilbdl0sbChsLlMrbC5GKiFrLHYse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1FKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IWspLHYse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGcmJngoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1FKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqIShrJiZlKCIuL19pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe2cuYWxsKGUpWyJjYXRjaCJdKE8pfSkpLHYse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxuPXIucmVzb2x2ZSxvPXIucmVqZWN0LGk9VChmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7YihlLCExLGZ1bmN0aW9uKGUpe3ZhciBjPWkrKyxhPSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXthfHwoYT0hMCxyW2NdPWUsLS1zfHxuKHIpKX0sbyl9KSwtLXN8fG4ocil9KTtyZXR1cm4gaSYmbyhpLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbj1yLnJlamVjdCxvPVQoZnVuY3Rpb24oKXtiKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi9fYS1mdW5jdGlvbiI6MjgsIi4vX2FuLWluc3RhbmNlIjozMCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fY2xhc3NvZiI6MzMsIi4vX2NvcmUiOjM1LCIuL19jdHgiOjM2LCIuL19leHBvcnQiOjQyLCIuL19mb3Itb2YiOjQ0LCIuL19nbG9iYWwiOjQ1LCIuL19pcy1vYmplY3QiOjU0LCIuL19pdGVyLWRldGVjdCI6NTgsIi4vX2xpYnJhcnkiOjYyLCIuL19taWNyb3Rhc2siOjY0LCIuL19yZWRlZmluZS1hbGwiOjc4LCIuL19zZXQtcHJvdG8iOjgwLCIuL19zZXQtc3BlY2llcyI6ODEsIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciI6ODUsIi4vX3Rhc2siOjg3LCIuL193a3MiOjk3fV0sMTA4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX3N0cmluZy1hdCIpKCEwKTtlKCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjU3LCIuL19zdHJpbmctYXQiOjg2fV0sMTA5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9faGFzIiksaT1lKCIuL19kZXNjcmlwdG9ycyIpLHM9ZSgiLi9fZXhwb3J0IiksYz1lKCIuL19yZWRlZmluZSIpLGE9ZSgiLi9fbWV0YSIpLktFWSx1PWUoIi4vX2ZhaWxzIiksbD1lKCIuL19zaGFyZWQiKSxmPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZD1lKCIuL191aWQiKSxwPWUoIi4vX3drcyIpLGI9ZSgiLi9fd2tzLWV4dCIpLF89ZSgiLi9fd2tzLWRlZmluZSIpLGg9ZSgiLi9fa2V5b2YiKSx5PWUoIi4vX2VudW0ta2V5cyIpLHY9ZSgiLi9faXMtYXJyYXkiKSxtPWUoIi4vX2FuLW9iamVjdCIpLGo9ZSgiLi9fdG8taW9iamVjdCIpLGc9ZSgiLi9fdG8tcHJpbWl0aXZlIiksdz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksTz1lKCIuL19vYmplY3QtY3JlYXRlIiksaz1lKCIuL19vYmplY3QtZ29wbi1leHQiKSx4PWUoIi4vX29iamVjdC1nb3BkIiksQz1lKCIuL19vYmplY3QtZHAiKSxFPWUoIi4vX29iamVjdC1rZXlzIiksUz14LmYsVD1DLmYsUj1rLmYsTT1uLlN5bWJvbCxOPW4uSlNPTixQPU4mJk4uc3RyaW5naWZ5LEQ9InByb3RvdHlwZSIsTD1wKCJfaGlkZGVuIiksQT1wKCJ0b1ByaW1pdGl2ZSIpLEY9e30ucHJvcGVydHlJc0VudW1lcmFibGUsST1sKCJzeW1ib2wtcmVnaXN0cnkiKSxVPWwoInN5bWJvbHMiKSxWPWwoIm9wLXN5bWJvbHMiKSx6PU9iamVjdFtEXSxIPSJmdW5jdGlvbiI9PXR5cGVvZiBNLEI9bi5RT2JqZWN0LFc9IUJ8fCFCW0RdfHwhQltEXS5maW5kQ2hpbGQsSj1pJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPU8oVCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBUKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1TKHosdCk7biYmZGVsZXRlIHpbdF0sVChlLHQsciksbiYmZSE9PXomJlQoeix0LG4pfTpULFk9ZnVuY3Rpb24oZSl7dmFyIHQ9VVtlXT1PKE1bRF0pO3JldHVybiB0Ll9rPWUsdH0scT1IJiYic3ltYm9sIj09dHlwZW9mIE0uaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE19LEs9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09eiYmSyhWLHQsciksbShlKSx0PWcodCwhMCksbShyKSxvKFUsdCk/KHIuZW51bWVyYWJsZT8obyhlLEwpJiZlW0xdW3RdJiYoZVtMXVt0XT0hMSkscj1PKHIse2VudW1lcmFibGU6dygwLCExKX0pKToobyhlLEwpfHxUKGUsTCx3KDEse30pKSxlW0xdW3RdPSEwKSxKKGUsdCxyKSk6VChlLHQscil9LEc9ZnVuY3Rpb24oZSx0KXttKGUpO2Zvcih2YXIgcixuPXkodD1qKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KUsoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sWj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P08oZSk6RyhPKGUpLHQpfSxYPWZ1bmN0aW9uKGUpe3ZhciB0PUYuY2FsbCh0aGlzLGU9ZyhlLCEwKSk7cmV0dXJuIHRoaXM9PT16JiZvKFUsZSkmJiFvKFYsZSk/ITE6dHx8IW8odGhpcyxlKXx8IW8oVSxlKXx8byh0aGlzLEwpJiZ0aGlzW0xdW2VdP3Q6ITB9LCQ9ZnVuY3Rpb24oZSx0KXtpZihlPWooZSksdD1nKHQsITApLGUhPT16fHwhbyhVLHQpfHxvKFYsdCkpe3ZhciByPVMoZSx0KTtyZXR1cm4hcnx8IW8oVSx0KXx8byhlLEwpJiZlW0xdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sUT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1SKGooZSkpLG49W10saT0wO3IubGVuZ3RoPmk7KW8oVSx0PXJbaSsrXSl8fHQ9PUx8fHQ9PWF8fG4ucHVzaCh0KTtyZXR1cm4gbn0sZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PXosbj1SKHI/VjpqKGUpKSxpPVtdLHM9MDtuLmxlbmd0aD5zOylvKFUsdD1uW3MrK10pJiYocj9vKHosdCk6ITApJiZpLnB1c2goVVt0XSk7cmV0dXJuIGl9O0h8fChNPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09eiYmdC5jYWxsKFYsciksbyh0aGlzLEwpJiZvKHRoaXNbTF0sZSkmJih0aGlzW0xdW2VdPSExKSxKKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gaSYmVyYmSih6LGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFkoZSl9LGMoTVtEXSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSx4LmY9JCxDLmY9SyxlKCIuL19vYmplY3QtZ29wbiIpLmY9ay5mPVEsZSgiLi9fb2JqZWN0LXBpZSIpLmY9WCxlKCIuL19vYmplY3QtZ29wcyIpLmY9ZWUsaSYmIWUoIi4vX2xpYnJhcnkiKSYmYyh6LCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCksYi5mPWZ1bmN0aW9uKGUpe3JldHVybiBZKHAoZSkpfSkscyhzLkcrcy5XK3MuRiohSCx7U3ltYm9sOk19KTtmb3IodmFyIHRlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSxyZT0wO3RlLmxlbmd0aD5yZTspcCh0ZVtyZSsrXSk7Zm9yKHZhciB0ZT1FKHAuc3RvcmUpLHJlPTA7dGUubGVuZ3RoPnJlOylfKHRlW3JlKytdKTtzKHMuUytzLkYqIUgsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBvKEksZSs9IiIpP0lbZV06SVtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYocShlKSlyZXR1cm4gaChJLGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtXPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtXPSExfX0pLHMocy5TK3MuRiohSCwiT2JqZWN0Iix7Y3JlYXRlOlosZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczplZX0pLE4mJnMocy5TK3MuRiooIUh8fHUoZnVuY3Rpb24oKXt2YXIgZT1NKCk7cmV0dXJuIltudWxsXSIhPVAoW2VdKXx8Int9IiE9UCh7YTplfSl8fCJ7fSIhPVAoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT1lJiYhcShlKSl7Zm9yKHZhciB0LHIsbj1bZV0sbz0xO2FyZ3VtZW50cy5sZW5ndGg+bzspbi5wdXNoKGFyZ3VtZW50c1tvKytdKTtyZXR1cm4gdD1uWzFdLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10KSwhciYmdih0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSkscSh0KT92b2lkIDA6dH0pLG5bMV09dCxQLmFwcGx5KE4sbil9fX0pLE1bRF1bQV18fGUoIi4vX2hpZGUiKShNW0RdLEEsTVtEXS52YWx1ZU9mKSxmKE0sIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYobi5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19lbnVtLWtleXMiOjQxLCIuL19leHBvcnQiOjQyLCIuL19mYWlscyI6NDMsIi4vX2dsb2JhbCI6NDUsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pcy1hcnJheSI6NTMsIi4vX2tleW9mIjo2MSwiLi9fbGlicmFyeSI6NjIsIi4vX21ldGEiOjYzLCIuL19vYmplY3QtY3JlYXRlIjo2NSwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3QtZ29wbiI6NzAsIi4vX29iamVjdC1nb3BuLWV4dCI6NjksIi4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NSwiLi9fcHJvcGVydHktZGVzYyI6NzcsIi4vX3JlZGVmaW5lIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgyLCIuL19zaGFyZWQiOjg0LCIuL190by1pb2JqZWN0Ijo5MCwiLi9fdG8tcHJpbWl0aXZlIjo5MywiLi9fdWlkIjo5NCwiLi9fd2tzIjo5NywiLi9fd2tzLWRlZmluZSI6OTUsIi4vX3drcy1leHQiOjk2fV0sMTEwOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJhc3luY0l0ZXJhdG9yIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTE6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL193a3MtZGVmaW5lIikoIm9ic2VydmFibGUiKX0seyIuL193a3MtZGVmaW5lIjo5NX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vZXM2LmFycmF5Lml0ZXJhdG9yIik7Zm9yKHZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9faGlkZSIpLGk9ZSgiLi9faXRlcmF0b3JzIikscz1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxjPVsiTm9kZUxpc3QiLCJET01Ub2tlbkxpc3QiLCJNZWRpYUxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIkNTU1J1bGVMaXN0Il0sYT0wOzU+YTthKyspe3ZhciB1PWNbYV0sbD1uW3VdLGY9bCYmbC5wcm90b3R5cGU7ZiYmIWZbc10mJm8oZixzLHUpLGlbdV09aS5BcnJheX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDcsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX3drcyI6OTcsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIjo5OX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpe3dpbmRvdy5NdXRhdGlvbk9ic2VydmVyPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmc9W10sdGhpcy5rPWV9ZnVuY3Rpb24gcihlKXshZnVuY3Rpb24gcigpe3ZhciBuPWUudGFrZVJlY29yZHMoKTtuLmxlbmd0aCYmZS5rKG4sZSksZS5mPXNldFRpbWVvdXQocix0Ll9wZXJpb2QpfSgpfWZ1bmN0aW9uIG4odCl7dmFyIHIsbj17dHlwZTpudWxsLHRhcmdldDpudWxsLGFkZGVkTm9kZXM6W10scmVtb3ZlZE5vZGVzOltdLHByZXZpb3VzU2libGluZzpudWxsLG5leHRTaWJsaW5nOm51bGwsYXR0cmlidXRlTmFtZTpudWxsLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOm51bGx9O2ZvcihyIGluIHQpbltyXSE9PWUmJnRbcl0hPT1lJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9YyhlLHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgbyxhPW4ubGVuZ3RoO3QuYSYmci5hJiZpKG4sZSxyLmEsdC5kKSwodC5ifHx0LmUpJiYobz1zKG4sZSxyLHQpKSwob3x8bi5sZW5ndGghPT1hKSYmKHI9YyhlLHQpKX19ZnVuY3Rpb24gaSh0LHIsbyxpKXtmb3IodmFyIHMsYyxhPXt9LHU9ci5hdHRyaWJ1dGVzLGw9dS5sZW5ndGg7bC0tOylzPXVbbF0sYz1zLm5hbWUsaSYmaVtjXT09PWV8fChzLnZhbHVlIT09b1tjXSYmdC5wdXNoKG4oe3R5cGU6ImF0dHJpYnV0ZXMiLHRhcmdldDpyLGF0dHJpYnV0ZU5hbWU6YyxvbGRWYWx1ZTpvW2NdLGF0dHJpYnV0ZU5hbWVzcGFjZTpzLm5hbWVzcGFjZVVSSX0pKSxhW2NdPSEwKTtmb3IoYyBpbiBvKWFbY118fHQucHVzaChuKHt0YXJnZXQ6cix0eXBlOiJhdHRyaWJ1dGVzIixhdHRyaWJ1dGVOYW1lOmMsb2xkVmFsdWU6b1tjXX0pKX1mdW5jdGlvbiBzKHQscixvLHMpe2Z1bmN0aW9uIGMoZSxyLG8sYyxhKXt2YXIgbD1lLmxlbmd0aC0xO2E9LX4oKGwtYSkvMik7Zm9yKHZhciBmLGQscDtwPWUucG9wKCk7KWY9b1twLmhdLGQ9Y1twLmldLHMuYiYmYSYmTWF0aC5hYnMocC5oLXAuaSk+PWwmJih0LnB1c2gobih7dHlwZToiY2hpbGRMaXN0Iix0YXJnZXQ6cixhZGRlZE5vZGVzOltmXSxyZW1vdmVkTm9kZXM6W2ZdLG5leHRTaWJsaW5nOmYubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOmYucHJldmlvdXNTaWJsaW5nfSkpLGEtLSkscy5hJiZkLmEmJmkodCxmLGQuYSxzLmQpLHMuYyYmMz09PWYubm9kZVR5cGUmJmYubm9kZVZhbHVlIT09ZC5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0OmZ9KSkscy5lJiZ1KGYsZCl9ZnVuY3Rpb24gdShyLG8pe2Zvcih2YXIgZCxwLGIsXyxoLHk9ci5jaGlsZE5vZGVzLHY9by5iLG09eS5sZW5ndGgsaj12P3YubGVuZ3RoOjAsZz0wLHc9MCxPPTA7bT53fHxqPk87KV89eVt3XSxoPShiPXZbT10pJiZiLmosXz09PWg/KHMuYSYmYi5hJiZpKHQsXyxiLmEscy5kKSxzLmMmJmIuYyE9PWUmJl8ubm9kZVZhbHVlIT09Yi5jJiZ0LnB1c2gobih7dHlwZToiY2hhcmFjdGVyRGF0YSIsdGFyZ2V0Ol99KSkscCYmYyhwLHIseSx2LGcpLHMuZSYmKF8uY2hpbGROb2Rlcy5sZW5ndGh8fGIuYiYmYi5iLmxlbmd0aCkmJnUoXyxiKSx3KyssTysrKToobD0hMCxkfHwoZD17fSxwPVtdKSxfJiYoZFtiPWEoXyldfHwoZFtiXT0hMCwtMT09PShiPWYodixfLE8sImoiKSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbX10sbmV4dFNpYmxpbmc6Xy5uZXh0U2libGluZyxwcmV2aW91c1NpYmxpbmc6Xy5wcmV2aW91c1NpYmxpbmd9KSksZysrKTpwLnB1c2goe2g6dyxpOmJ9KSksdysrKSxoJiZoIT09eVt3XSYmKGRbYj1hKGgpXXx8KGRbYl09ITAsLTE9PT0oYj1mKHksaCx3KSk/cy5iJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0Om8uaixyZW1vdmVkTm9kZXM6W2hdLG5leHRTaWJsaW5nOnZbTysxXSxwcmV2aW91c1NpYmxpbmc6dltPLTFdfSkpLGctLSk6cC5wdXNoKHtoOmIsaTpPfSkpLE8rKykpO3AmJmMocCxyLHksdixnKX12YXIgbDtyZXR1cm4gdShyLG8pLGx9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPSEwO3JldHVybiBmdW5jdGlvbiBuKGUpe3ZhciBvPXtqOmV9O3JldHVybiF0LmN8fDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZT8odC5hJiZyJiYxPT09ZS5ub2RlVHlwZSYmKG8uYT1sKGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHIpe3JldHVybiB0LmQmJiF0LmRbci5uYW1lXXx8KGVbci5uYW1lXT1yLnZhbHVlKSxlfSkpLHImJih0LmJ8fHQuY3x8dC5hJiZ0LmUpJiYoby5iPXUoZS5jaGlsZE5vZGVzLG4pKSxyPXQuZSk6by5jPWUubm9kZVZhbHVlLG99KGUpfWZ1bmN0aW9uIGEoZSl7dHJ5e3JldHVybiBlLmlkfHwoZS5tb19pZD1lLm1vX2lkfHxkKyspfWNhdGNoKHQpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2gocil7cmV0dXJuIGQrK319fWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bisrKXJbbl09dChlW25dLG4sZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj17fSxuPTA7bjxlLmxlbmd0aDtuKyspcj10KHIsZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGYoZSx0LHIsbil7Zm9yKDtyPGUubGVuZ3RoO3IrKylpZigobj9lW3JdW25dOmVbcl0pPT09dClyZXR1cm4gcjtyZXR1cm4tMX10Ll9wZXJpb2Q9MzAsdC5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e2E6ISEodC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZUZpbHRlcnx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSksYjohIXQuY2hpbGRMaXN0LGU6ISF0LnN1YnRyZWUsYzohKCF0LmNoYXJhY3RlckRhdGEmJiF0LmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl9LGk9dGhpcy5nLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdLm09PT1lJiZpLnNwbGljZShzLDEpO3QuYXR0cmlidXRlRmlsdGVyJiYobi5kPWwodC5hdHRyaWJ1dGVGaWx0ZXIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT0hMCxlfSkpLGkucHVzaCh7bTplLGw6byhlLG4pfSksdGhpcy5mfHxyKHRoaXMpfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZyxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5sKGUpO3JldHVybiBlfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5nPVtdLGNsZWFyVGltZW91dCh0aGlzLmYpLHRoaXMuZj1udWxsfX07dmFyIGQ9MTtyZXR1cm4gdH0odm9pZCAwKX0se31dLDExNDpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlfHxmdW5jdGlvbihlLHQscixuKXsidXNlIHN0cmljdCI7dmFyIG8saSxzPVsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVjb25maWd1cmUiLCJzZXRQcm90b3R5cGUiLCJwcmV2ZW50RXh0ZW5zaW9ucyJdLGM9dC5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWUuY2FsbCh0KX19KGUucHJvdG90eXBlLnRvU3RyaW5nKSxhPXQucHJvdG90eXBlLmluZGV4T2Y/dC5pbmRleE9mfHxmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHIsbil9OmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cnx8MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sdT1yLk1hcCE9PW4mJk1hcC5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbigpe3JldHVybiBuZXcgTWFwfTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9W107cmV0dXJue3NpemU6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEoZSx0KT4tMX0sZ2V0OmZ1bmN0aW9uKHIpe3JldHVybiB0W2EoZSxyKV19LHNldDpmdW5jdGlvbihyLG4pe3ZhciBvPWEoZSxyKTstMT09PW8/KGUucHVzaChyKSx0LnB1c2gobiksdGhpcy5zaXplKyspOnRbb109bn0sImRlbGV0ZSI6ZnVuY3Rpb24ocil7dmFyIG49YShlLHIpO24+LTEmJihlLnNwbGljZShuLDEpLHQuc3BsaWNlKG4sMSksdGhpcy5zaXplLS0pfSxmb3JFYWNoOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXIuY2FsbChhcmd1bWVudHNbMV0sdFtuXSxlW25dLHRoaXMpfX19LGw9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzP2Z1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzO3RyeXthcmd1bWVudHMuY2FsbGVlfWNhdGNoKHIpe3ZhciBuPSh0KGEpLmpvaW4oIiAiKSsiICIpLnJlcGxhY2UoL3Byb3RvdHlwZSB8bGVuZ3RoIHxuYW1lIC9nLCIiKS5zbGljZSgwLC0xKS5zcGxpdCgiICIpO24ubGVuZ3RoJiYodD1mdW5jdGlvbih0KXt2YXIgcj1lLmdldE93blByb3BlcnR5TmFtZXModCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpZm9yKHZhciBvLGk9MDtpPG4ubGVuZ3RoOykobz1hKHIsbltpKytdKSk+LTEmJnIuc3BsaWNlKG8sMSk7cmV0dXJuIHJ9KX1yZXR1cm4gdH0oKTpmdW5jdGlvbih0KXt2YXIgcixuLG89W107aWYoImhhc093blByb3BlcnR5ImluIHQpZm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiZvLnB1c2gocik7ZWxzZXtuPWUuaGFzT3duUHJvcGVydHk7Zm9yKHIgaW4gdCluLmNhbGwodCxyKSYmby5wdXNoKHIpfXJldHVybiBjKHQpJiZvLnB1c2goImxlbmd0aCIpLG99LGY9ZS5nZXRQcm90b3R5cGVPZixkPWUuZGVmaW5lUHJvcGVydGllcyYmZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1yLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ci53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGU9K25ldyBEYXRlLHQ9ZTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKCh0PStuZXcgRGF0ZSktZSl9LDE3KX19KCksYj1mdW5jdGlvbihlLHQscil7dmFyIG49by5nZXQoZSk7bj8oaChuLGUpLGooZSxuLHQscikpOihuPV8oZSksaihlLG4sdCxyKSwxPT09by5zaXplJiZwKHkpKX0sXz1mdW5jdGlvbih0LHIpe3ZhciBuLGk9bCh0KSxzPVtdLGM9MCxyPXtoYW5kbGVyczp1KCksZnJvemVuOmUuaXNGcm96ZW4/ZS5pc0Zyb3plbih0KTohMSxleHRlbnNpYmxlOmUuaXNFeHRlbnNpYmxlP2UuaXNFeHRlbnNpYmxlKHQpOiEwLHByb3RvOmYmJmYodCkscHJvcGVydGllczppLHZhbHVlczpzLG5vdGlmaWVyOm0odCxyKX07aWYoZClmb3Iobj1yLmRlc2NyaXB0b3JzPVtdO2M8aS5sZW5ndGg7KW5bY109ZCh0LGlbY10pLHNbY109dFtpW2MrK11dO2Vsc2UgZm9yKDtjPGkubGVuZ3RoOylzW2NdPXRbaVtjKytdXTtyZXR1cm4gby5zZXQodCxyKSxyfSxoPWZ1bmN0aW9uKCl7dmFyIHQ9ZD9mdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXQucHJvcGVydGllc1tyXSxzPWVbaV0sYz10LnZhbHVlc1tyXSxhPXQuZGVzY3JpcHRvcnNbcl07InZhbHVlImluIG8mJihjPT09cz8wPT09YyYmMS9jIT09MS9zOmM9PT1jfHxzPT09cykmJihnKGUsdCx7bmFtZTppLHR5cGU6InVwZGF0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6Y30sbiksdC52YWx1ZXNbcl09cyksIWEuY29uZmlndXJhYmxlfHxvLmNvbmZpZ3VyYWJsZSYmby53cml0YWJsZT09PWEud3JpdGFibGUmJm8uZW51bWVyYWJsZT09PWEuZW51bWVyYWJsZSYmby5nZXQ9PT1hLmdldCYmby5zZXQ9PT1hLnNldHx8KGcoZSx0LHtuYW1lOmksdHlwZToicmVjb25maWd1cmUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG4pLHQuZGVzY3JpcHRvcnNbcl09byl9OmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXQucHJvcGVydGllc1tyXSxpPWVbb10scz10LnZhbHVlc1tyXTsocz09PWk/MD09PXMmJjEvcyE9PTEvaTpzPT09c3x8aT09PWkpJiYoZyhlLHQse25hbWU6byx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOnN9LG4pLHQudmFsdWVzW3JdPWkpfSxyPWQ/ZnVuY3Rpb24oZSxyLG4sbyxpKXtmb3IodmFyIHMsYz1yLmxlbmd0aDtuJiZjLS07KW51bGwhPT1yW2NdJiYocz1kKGUscltjXSksbi0tLHM/dChlLG8sYyxpLHMpOihnKGUsbyx7bmFtZTpyW2NdLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6by52YWx1ZXNbY119LGkpLG8ucHJvcGVydGllcy5zcGxpY2UoYywxKSxvLnZhbHVlcy5zcGxpY2UoYywxKSxvLmRlc2NyaXB0b3JzLnNwbGljZShjLDEpKSl9OmZ1bmN0aW9uKGUsdCxyLG4sbyl7Zm9yKHZhciBpPXQubGVuZ3RoO3ImJmktLTspbnVsbCE9PXRbaV0mJihnKGUsbix7bmFtZTp0W2ldLHR5cGU6ImRlbGV0ZSIsb2JqZWN0OmUsb2xkVmFsdWU6bi52YWx1ZXNbaV19LG8pLG4ucHJvcGVydGllcy5zcGxpY2UoaSwxKSxuLnZhbHVlcy5zcGxpY2UoaSwxKSxyLS0pfTtyZXR1cm4gZnVuY3Rpb24obixvLGkpe2lmKG4uaGFuZGxlcnMuc2l6ZSYmIW4uZnJvemVuKXt2YXIgcyxjLHUscCxiLF8saCx5LHY9bi52YWx1ZXMsbT1uLmRlc2NyaXB0b3JzLGo9MDtpZihuLmV4dGVuc2libGUpaWYocz1uLnByb3BlcnRpZXMuc2xpY2UoKSxjPXMubGVuZ3RoLHU9bChvKSxtKXtmb3IoO2o8dS5sZW5ndGg7KWI9dVtqKytdLHA9YShzLGIpLHk9ZChvLGIpLC0xPT09cD8oZyhvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSx2LnB1c2gob1tiXSksbS5wdXNoKHkpKTooc1twXT1udWxsLGMtLSx0KG8sbixwLGkseSkpO3IobyxzLGMsbixpKSxlLmlzRXh0ZW5zaWJsZShvKXx8KG4uZXh0ZW5zaWJsZT0hMSxnKG8sbix7dHlwZToicHJldmVudEV4dGVuc2lvbnMiLG9iamVjdDpvfSxpKSxuLmZyb3plbj1lLmlzRnJvemVuKG8pKX1lbHNle2Zvcig7ajx1Lmxlbmd0aDspYj11W2orK10scD1hKHMsYiksXz1vW2JdLC0xPT09cD8oZyhvLG4se25hbWU6Yix0eXBlOiJhZGQiLG9iamVjdDpvfSxpKSxuLnByb3BlcnRpZXMucHVzaChiKSx2LnB1c2goXykpOihzW3BdPW51bGwsYy0tLHQobyxuLHAsaSkpO3IobyxzLGMsbixpKX1lbHNlIGlmKCFuLmZyb3plbil7Zm9yKDtqPHMubGVuZ3RoO2orKyliPXNbal0sdChvLG4saixpLGQobyxiKSk7ZS5pc0Zyb3plbihvKSYmKG4uZnJvemVuPSEwKX1mJiYoaD1mKG8pLGghPT1uLnByb3RvJiYoZyhvLG4se3R5cGU6InNldFByb3RvdHlwZSIsbmFtZToiX19wcm90b19fIixvYmplY3Q6byxvbGRWYWx1ZTpuLnByb3RvfSksbi5wcm90bz1oKSl9fX0oKSx5PWZ1bmN0aW9uKCl7by5zaXplJiYoby5mb3JFYWNoKGgpLGkuZm9yRWFjaCh2KSxwKHkpKX0sdj1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2hhbmdlUmVjb3JkcztyLmxlbmd0aCYmKGUuY2hhbmdlUmVjb3Jkcz1bXSx0KHIpKX0sbT1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PW8uZ2V0KGUpKSx0JiZ0Lm5vdGlmaWVyfHx7bm90aWZ5OmZ1bmN0aW9uKHQpe3QudHlwZTt2YXIgcj1vLmdldChlKTtpZihyKXt2YXIgbixpPXtvYmplY3Q6ZX07Zm9yKG4gaW4gdCkib2JqZWN0IiE9PW4mJihpW25dPXRbbl0pO2coZSxyLGkpfX0scGVyZm9ybUNoYW5nZTpmdW5jdGlvbih0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcgY2hhbmdlVHlwZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG5vbi1mdW5jdGlvbiIpO3ZhciBpLHMsYz1vLmdldChlKSxhPWFyZ3VtZW50c1syXSx1PWE9PT1uP3IoKTpyLmNhbGwoYSk7aWYoYyYmaChjLGUsdCksYyYmdSYmIm9iamVjdCI9PXR5cGVvZiB1KXtzPXtvYmplY3Q6ZSx0eXBlOnR9O2ZvcihpIGluIHUpIm9iamVjdCIhPT1pJiYidHlwZSIhPT1pJiYoc1tpXT11W2ldKTtnKGUsYyxzKX19fX0saj1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1pLmdldChyKTtvfHxpLnNldChyLG89e29ic2VydmVkOnUoKSxjaGFuZ2VSZWNvcmRzOltdfSksby5vYnNlcnZlZC5zZXQoZSx7YWNjZXB0TGlzdDpuLnNsaWNlKCksZGF0YTp0fSksdC5oYW5kbGVycy5zZXQocixvKX0sZz1mdW5jdGlvbihlLHQscixuKXt0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG89dC5vYnNlcnZlZC5nZXQoZSkuYWNjZXB0TGlzdDsoInN0cmluZyIhPXR5cGVvZiBufHwtMT09PWEobyxuKSkmJmEobyxyLnR5cGUpPi0xJiZ0LmNoYW5nZVJlY29yZHMucHVzaChyKX0pfTtvPXUoKSxpPXUoKSxlLm9ic2VydmU9ZnVuY3Rpb24odCxyLG8pe2lmKCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBvYnNlcnZlIG5vbi1vYmplY3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTtpZihlLmlzRnJvemVuJiZlLmlzRnJvemVuKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5vYnNlcnZlIGNhbm5vdCBkZWxpdmVyIHRvIGEgZnJvemVuIGZ1bmN0aW9uIG9iamVjdCIpO2lmKG89PT1uKW89cztlbHNlIGlmKCFvfHwib2JqZWN0IiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgdG8gT2JqZWN0Lm9ic2VydmUgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpO3JldHVybiBiKHQscixvKSx0fSxlLnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1lfHwib2JqZWN0IiE9dHlwZW9mIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IHVub2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LnVub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgcixuPWkuZ2V0KHQpO3JldHVybiBuJiYocj1uLm9ic2VydmVkLmdldChlKSkmJihuLm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHAoZnVuY3Rpb24oKXt2KG4sdCl9KSwxPT09bi5vYnNlcnZlZC5zaXplJiZuLm9ic2VydmVkLmhhcyhlKT9pWyJkZWxldGUiXSh0KTpuLm9ic2VydmVkWyJkZWxldGUiXShlKSwxPT09ci5kYXRhLmhhbmRsZXJzLnNpemU/b1siZGVsZXRlIl0oZSk6ci5kYXRhLmhhbmRsZXJzWyJkZWxldGUiXSh0KSksZX0sZS5nZXROb3RpZmllcj1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QuZ2V0Tm90aWZpZXIgY2Fubm90IGdldE5vdGlmaWVyIG5vbi1vYmplY3QiKTtyZXR1cm4gZS5pc0Zyb3plbiYmZS5pc0Zyb3plbih0KT9udWxsOm0odCl9LGUuZGVsaXZlckNoYW5nZVJlY29yZHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzIGNhbm5vdCBkZWxpdmVyIHRvIG5vbi1mdW5jdGlvbiIpO3ZhciB0PWkuZ2V0KGUpO3QmJih0Lm9ic2VydmVkLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKGUuZGF0YSx0KX0pLHYodCxlKSl9fShPYmplY3QsQXJyYXksdGhpcyl9LHt9XSwxMTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5EYXRhT2JqZWN0T2JzZXJ2ZXI9ci5EYXRhT2JqZWN0UmVwb3J0ZXI9ci5TeW5jaGVyPXZvaWQgMCxlKCJtdXRhdGlvbm9ic2VydmVyLXNoaW0iKSxlKCJvYmplY3Qub2JzZXJ2ZSIpLGUoImFycmF5Lm9ic2VydmUiKTt2YXIgbz1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGk9bihvKSxzPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxjPW4ocyksYT1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksdT1uKGEpO3IuU3luY2hlcj1pWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9Y1siZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPXVbImRlZmF1bHQiXX0seyIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIjoxMTgsIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOSwiLi9zeW5jaGVyL1N5bmNoZXIiOjEyMiwiYXJyYXkub2JzZXJ2ZSI6MSwibXV0YXRpb25vYnNlcnZlci1zaGltIjoxMTMsIm9iamVjdC5vYnNlcnZlIjoxMTR9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSx1PW4oYSksbD1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxmPW4obCksZD1lKCIuL1N5bmNPYmplY3QiKSxwPW4oZCksYj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLF89bihiKSxoPWUoIi4uL3V0aWxzL3V0aWxzLmpzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgYz10aGlzO2MuX3N5bmNoZXI9dCxjLl91cmw9cixjLl9zY2hlbWE9bixjLl9zdGF0dXM9byxjLl9zeW5jT2JqPW5ldyBwWyJkZWZhdWx0Il0oaSksYy5fY2hpbGRyZW5zPXMsYy5fdmVyc2lvbj0wLGMuX2NoaWxkSWQ9MCxjLl9jaGlsZHJlbk9iamVjdHM9e30sYy5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sYy5fb3duZXI9dC5fb3duZXIsYy5fYnVzPXQuX2J1c31yZXR1cm4oMCxmWyJkZWZhdWx0Il0pKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcyxyPXQuX3VybCsiL2NoaWxkcmVuLyI7dC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmNvbnNvbGUubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCxjWyJkZWZhdWx0Il0pKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToic3RvcCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToiYWRkQ2hpbGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLl9jaGlsZElkKys7dmFyIG49ci5fb3duZXIrIiMiK3IuX2NoaWxkSWQsbz1yLl91cmwrIi9jaGlsZHJlbi8iK2Uscz17dHlwZToiY3JlYXRlIixmcm9tOnIuX293bmVyLHRvOm8sYm9keTp7cmVzb3VyY2U6bix2YWx1ZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSl7dmFyIGk9ci5fYnVzLnBvc3RNZXNzYWdlKHMpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLHMpO3ZhciBjPW5ldyBfWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIsaSk7Yy5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YyxlKGMpfSl9fSx7a2V5OiJvbkFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IF9bImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX07dC5fb25BZGRDaGlsZHJlbkhhbmRsZXImJihjb25zb2xlLmxvZygiQURELUNISUxEUkVOLUVWRU5UOiAiLG8pLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG8pKX19LHtrZXk6Il9vbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rKywib24iPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkfX07ZS5vVHlwZT09PWQuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWQuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9ZS5kYXRhKToobi5ib2R5LmF0dHJpYnV0ZVR5cGU9ZS5vVHlwZSxuLmJvZHkudmFsdWU9ZS5kYXRhLGUuY1R5cGUhPT1kLkNoYW5nZVR5cGUuVVBEQVRFJiYobi5ib2R5Lm9wZXJhdGlvbj1lLmNUeXBlKSksdCYmKG4udG89dC5wYXRoLG4uYm9keS5yZXNvdXJjZT10LmNoaWxkSWQpLHIuX2J1cy5wb3N0TWVzc2FnZShuKX19fSx7a2V5OiJfY2hhbmdlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisxPT09dC5ib2R5LnZlcnNpb24pe3IuX3ZlcnNpb24rKzt2YXIgbj10LmJvZHkuYXR0cmlidXRlLG89KDAsaC5kZWVwQ2xvbmUpKHQuYm9keS52YWx1ZSksaT1lLmZpbmRCZWZvcmUobik7aWYodC5ib2R5LmF0dHJpYnV0ZVR5cGU9PT1kLk9iamVjdFR5cGUuQVJSQVkpaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5BREQpe3ZhciBzPWkub2JqLGM9aS5sYXN0O0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkocyxbYywwXS5jb25jYXQobykpfWVsc2UgaWYodC5ib2R5Lm9wZXJhdGlvbj09PWQuQ2hhbmdlVHlwZS5SRU1PVkUpe3ZhciBhPWkub2JqLHU9aS5sYXN0O2Euc3BsaWNlKHUsbyl9ZWxzZSBpLm9ialtpLmxhc3RdPW87ZWxzZSB0LmJvZHkudmFsdWU/aS5vYmpbaS5sYXN0XT1vOmRlbGV0ZSBpLm9ialtpLmxhc3RdfWVsc2UgY29uc29sZS5sb2coIlVOU1lOQ0hST05JWkVEIFZFUlNJT046IChkYXRhID0+ICIrci5fdmVyc2lvbisiLCBtc2cgPT4gIit0LmJvZHkudmVyc2lvbisiKSIpfX0se2tleToiX2NoYW5nZUNoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2NvbnNvbGUubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49dC5fY2hpbGRyZW5PYmplY3RzW3JdO24/dC5fY2hhbmdlT2JqZWN0KG4uX3N5bmNPYmosZSk6Y29uc29sZS5sb2coIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixyKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTIzLCIuL0RhdGFPYmplY3RDaGlsZCI6MTE3LCIuL1N5bmNPYmplY3QiOjEyMSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDExNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxjPW4ocyksYT1lKCIuL1N5bmNPYmplY3QiKSx1PW4oYSksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4sbyxzKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9wYXJlbnQ9dCxjLl9jaGlsZElkPXIsYy5fb3duZXI9byxjLl9tc2dJZD1zLGMuX3N5bmNPYmo9bmV3IHVbImRlZmF1bHQiXShuKSxjLl9idXM9dC5fYnVzLGMuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsY1siZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9vd25lcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZGVsZXRlIGUuX3BhcmVudC5fY2hpbGRyZW5bZS5fY2hpbGRJZF0sZS5fcmVsZWFzZUxpc3RlbmVycygpfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbih0KXtlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9TeW5jT2JqZWN0IjoxMjEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksXz1uKGIpLGg9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKGgpLHY9ZSgiLi9EYXRhT2JqZWN0IiksbT1uKHYpLGo9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxnPW4oaiksdz17QU5ZOiJhbnkiLFNUQVJUOiJzdGFydCIsRVhBQ1Q6ImV4YWN0In0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8scyxhLGwpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgZj0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsY1siZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxzLmRhdGEsYSkpLGQ9ZjtyZXR1cm4gZC5fdmVyc2lvbj1sLGQuX2ZpbHRlcnM9e30sZC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2QuX29uRmlsdGVyKGUpfSksKDAsaVsiZGVmYXVsdCJdKShzLmNoaWxkcmVucykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1zLmNoaWxkcmVuc1tlXTtkLl9jaGlsZHJlbk9iamVjdHNbZV09bmV3IGdbImRlZmF1bHQiXShkLGUsdCl9KSxkLl9hbGxvY2F0ZUxpc3RlbmVycygpLGZ9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwrIi9jaGFuZ2VzIixmdW5jdGlvbih0KXsidXBkYXRlIj09PXQudHlwZSYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxfWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOncuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT13LkFOWToobi50eXBlPXcuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PXcuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09dy5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PXcuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fV0pLHR9KG1bImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPU8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0RhdGFPYmplY3QiOjExNiwiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE1LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTZ9XSwxMTk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxwPW4oZCksYj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IiksXz1uKGIpLGg9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIikseT1uKGgpLHY9ZSgiLi9EYXRhT2JqZWN0IiksbT1uKHYpLGo9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sbyxpLHMpeygwLHVbImRlZmF1bHQiXSkodGhpcyx0KTt2YXIgYT0oMCxwWyJkZWZhdWx0Il0pKHRoaXMsKDAsY1siZGVmYXVsdCJdKSh0KS5jYWxsKHRoaXMsZSxyLG4sbyxpLHMpKSxsPWE7cmV0dXJuIGwuX3N1YnNjcmlwdGlvbnM9e30sbC5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItIityKyItU0VORDogIixlKSxsLl9vbkNoYW5nZShlKX0pLGwuX2FsbG9jYXRlTGlzdGVuZXJzKCksYX1yZXR1cm4oMCx5WyJkZWZhdWx0Il0pKHQsZSksKDAsZlsiZGVmYXVsdCJdKSh0LFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsX1siZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3QtIitlLl91cmwrIi1SQ1Y6ICIsdCksdC50eXBlKXtjYXNlInJlc3BvbnNlIjplLl9vblJlc3BvbnNlKHQpO2JyZWFrO2Nhc2UicmVhZCI6ZS5fb25SZWFkKHQpfX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsX1siZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9vYmplY3RMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJjcmVhdGUiLGZyb206dC5fc3luY2hlci5fb3duZXIsdG86dC5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOnQuX3VybCxzY2hlbWE6dC5fc2NoZW1hLHZhbHVlOnQuX3N5bmNPYmouZGF0YSxhdXRob3Jpc2U6ZX19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vd25lcix0bzplLl9zeW5jaGVyLl9zdWJVUkwsYm9keTp7cmVzb3VyY2U6ZS5fdXJsfX07ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1ERUxFVEU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX3JlcG9ydGVyc1tlLl91cmxdKX0pfX0se2tleToib25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcj1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Im9uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZWFkSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6Im9uIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uO3ZhciBvPXt9O3JldHVybigwLGlbImRlZmF1bHQiXSkodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsai5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLGouZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxhY2NlcHQ6ZnVuY3Rpb24oKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsai5kZWVwQ2xvbmUpKHQuZGF0YSl9fSl9LHJlamVjdDpmdW5jdGlvbihyKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDEsZGVzYzpyfX0pfX07dC5fb25SZWFkSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRUFELUVWRU5UOiAiLHIpLHQuX29uUmVhZEhhbmRsZXIocikpfX0se2tleToic3Vic2NyaXB0aW9ucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnN9fV0pLHR9KG1bImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWcsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscy5qcyI6MTIzLCIuL0RhdGFPYmplY3QiOjExNiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjo2LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE1LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI6MTZ9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1uKHMpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8peygwLGlbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcz10aGlzO3MuX293bmVyPXQscy5fdXJsPXIscy5fYnVzPW4scy5fY2hpbGRyZW49byxzLl9jaGFuZ2VzPVtdLHMuX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsY1siZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhUHJvdmlzaW9uYWwtIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlcy5wdXNoKHQpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiYXBwbHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpfSl9fSx7a2V5OiJjaGlsZHJlbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufX1dKSxlfSgpO3JbImRlZmF1bHQiXT1hLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIjoxMiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIjoxM31dLDEyMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLk9iamVjdFR5cGU9ci5DaGFuZ2VUeXBlPXZvaWQgMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksbD1lKCIuLi91dGlscy91dGlscy5qcyIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgcj10aGlzO3IuX29ic2VydmVycz1bXSxyLl9maWx0ZXJzPXt9LHQ/ci5fZGF0YT0oMCxsLmRlZXBDbG9uZSkodCk6ci5fZGF0YT17fSxyLl9pbnRlcm5hbE9ic2VydmUobmV3IGQsci5fZGF0YSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZS5zcGxpdCgiLiIpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUpfSl9fSx7a2V5OiJfaXNPYnNlcnZhYmxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ZS5jb25zdHJ1Y3Rvcj09PUFycmF5fX0se2tleToiX2ludGVybmFsT2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG49ZnVuY3Rpb24odCl7ci5fb25DaGFuZ2VzKGUsdCl9O2lmKHQuY29uc3RydWN0b3I9PT1PYmplY3Qpe09iamVjdC5vYnNlcnZlKHQsbik7Zm9yKHZhciBvIGluIHQpci5faXNPYnNlcnZhYmxlKHRbb10pJiZyLl9pbnRlcm5hbE9ic2VydmUoZVsibmV3Il0obyksdFtvXSl9ZWxzZSBpZih0LmNvbnN0cnVjdG9yPT09QXJyYXkpe0FycmF5Lm9ic2VydmUodCxuKTtmb3IodmFyIGkgaW4gdClpZihyLl9pc09ic2VydmFibGUodFtpXSkpe3ZhciBzPWVbIm5ldyJdKG5ldyBwKHRbaV0saSkpO3IuX2ludGVybmFsT2JzZXJ2ZShzLHRbaV0pfX19fX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dLm9iamVjdCxpPXZvaWQgMDtpZihvLmNvbnN0cnVjdG9yPT09T2JqZWN0JiYoaT1fLk9CSkVDVCksby5jb25zdHJ1Y3Rvcj09PUFycmF5JiYoaT1fLkFSUkFZKSwic3BsaWNlIj09PXRbbl0udHlwZSkhZnVuY3Rpb24oKXt2YXIgcz10W25dLmluZGV4LGM9ZVsibmV3Il0oIiIrcyksYT1jLnRvU3RyaW5nKCksdT10W25dLnJlbW92ZWQubGVuZ3RoO2lmKDAhPT11KXt2YXIgZj10W25dLnJlbW92ZWQ7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7ci5faXNPYnNlcnZhYmxlKHQpJiZlLnJlbW92ZUluZGV4KHMrbil9KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6YSxkYXRhOnV9KX12YXIgZD10W25dLmFkZGVkQ291bnQ7aWYoMCE9PWQpe3ZhciBfPW8uc2xpY2UocyxzK2QpO18uZm9yRWFjaChmdW5jdGlvbih0LG4pe2lmKHIuX2lzT2JzZXJ2YWJsZSh0KSl7dmFyIG89ZVsibmV3Il0obmV3IHAodCxzK24pKTtyLl9pbnRlcm5hbE9ic2VydmUobyx0KX19KSxyLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YSxkYXRhOigwLGwuZGVlcENsb25lKShfKX0pfXMhPT1vLmxlbmd0aC0xJiZlLnJlSW5kZXhGcm9tKG8pfSgpO2Vsc2V7dmFyIHM9ZVsibmV3Il0odFtuXS5uYW1lKSxjPXMudG9TdHJpbmcoKTsKaWYoLTEhPT1jLmluZGV4T2YoIlN5bWJvbCIpKWNvbnRpbnVlO3ZhciBhPW9bdFtuXS5uYW1lXTsidXBkYXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlVQREFURSxvVHlwZTppLGZpZWxkOmMsZGF0YTooMCxsLmRlZXBDbG9uZSkoYSl9KSwiYWRkIj09PXRbbl0udHlwZSYmKHRoaXMuX2ludGVybmFsT2JzZXJ2ZShzLGEpLHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5BREQsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSkpLCJkZWxldGUiPT09dFtuXS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuUkVNT1ZFLG9UeXBlOmksZmllbGQ6Y30pfX19fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksZX0oKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLl9wYXRoPVtdLHRoaXMuX29ic2VydmFibGVzPXt9fXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToicmVtb3ZlSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9vYnNlcnZhYmxlc1tlXX19LHtrZXk6InJlSW5kZXhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLGlbImRlZmF1bHQiXSkodGhpcy5fb2JzZXJ2YWJsZXMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fb2JzZXJ2YWJsZXNbcl0sbz1lLmluZGV4T2Yobi5vYmopO24uaWR4IT1vJiYobi5pZHg9byxkZWxldGUgdC5fb2JzZXJ2YWJsZXNbcl0sdC5fb2JzZXJ2YWJsZXNbb109bil9KX19LHtrZXk6Im5ldyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdHJ1Y3Rvcj09cCYmKHRoaXMuX29ic2VydmFibGVzW2UuaWR4XT1lKTt2YXIgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3BhdGgucHVzaChlKSx0fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9wYXRoLnB1c2goZSl9KSx0fX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHRoaXMuX3BhdGguZm9yRWFjaChmdW5jdGlvbih0LHIpezA9PT1yP2U9dC50b1N0cmluZygpOmUrPSIuIit0LnRvU3RyaW5nKCl9KSxlfX1dKSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsY1siZGVmYXVsdCJdKSh0aGlzLGUpLHRoaXMub2JqPXQsdGhpcy5pZHg9cn1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGI9ci5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sXz1yLk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTtyWyJkZWZhdWx0Il09Zn0seyIuLi91dGlscy91dGlscy5qcyI6MTIzLCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjcsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obykscz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxjPW4ocyksYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSx1PW4oYSksbD1lKCIuL0RhdGFPYmplY3RSZXBvcnRlciIpLGY9bihsKSxkPWUoIi4vRGF0YU9iamVjdE9ic2VydmVyIikscD1uKGQpLGI9ZSgiLi9EYXRhUHJvdmlzaW9uYWwiKSxfPW4oYiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLGNbImRlZmF1bHQiXSkodGhpcyxlKTt2YXIgbz10aGlzO28uX293bmVyPXQsby5fYnVzPXIsby5fc3ViVVJMPW4ucnVudGltZVVSTCsiL3NtIixvLl9yZXBvcnRlcnM9e30sby5fb2JzZXJ2ZXJzPXt9LG8uX3Byb3Zpc2lvbmFscz17fSxyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7aWYoZS5mcm9tIT09dClzd2l0Y2goY29uc29sZS5sb2coIlN5bmNoZXItUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJmb3J3YXJkIjpvLl9vbkZvcndhcmQoZSk7YnJlYWs7Y2FzZSJjcmVhdGUiOm8uX29uUmVtb3RlQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpvLl9vblJlbW90ZURlbGV0ZShlKX19KX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7ci5yZXBvcnRlcj1uLl9vd25lcixyLnNjaGVtYT1lO3ZhciBvPXt0eXBlOiJjcmVhdGUiLGZyb206bi5fb3duZXIsdG86bi5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHZhbHVlOnIsYXV0aG9yaXNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbih0LGkpe24uX2J1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKG8pe2lmKGNvbnNvbGUubG9nKCJjcmVhdGUtcmVzcG9uc2U6ICIsbyksMjAwPT09by5ib2R5LmNvZGUpe3ZhciBzPW8uYm9keS5yZXNvdXJjZSxjPW5ldyBmWyJkZWZhdWx0Il0obixzLGUsIm9uIixyLG8uYm9keS5jaGlsZHJlblJlc291cmNlcyk7bi5fcmVwb3J0ZXJzW3NdPWMsdChjKX1lbHNlIGkoby5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9vd25lcix0bzpyLl9zdWJVUkwsYm9keTp7c2NoZW1hOmUscmVzb3VyY2U6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKG8saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24obil7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixuKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksbi5ib2R5LmNvZGU8MjAwKXM9bmV3IF9bImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxuLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBjPW5ldyBwWyJkZWZhdWx0Il0ocix0LGUsIm9uIixuLmJvZHkudmFsdWUscy5jaGlsZHJlbixuLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWMsbyhjKSxzLmFwcGx5KGMpfWVsc2UgaShuLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUsbil7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coInJlYWQtcmVzcG9uc2U6ICIsdCksMjAwPT09dC5ib2R5LmNvZGU/ZSh0LmJvZHkudmFsdWUpOm4odC5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk5vdGlmaWNhdGlvbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9yZXBvcnRlcnNbZS5ib2R5LnRvXTtyLl9vbkZvcndhcmQoZSl9fSx7a2V5OiJfb25SZW1vdGVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20uc2xpY2UoMCwtMTMpLG49e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbiksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblJlbW90ZURlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX29ic2VydmVyc1tyXTtpZihuKXt2YXIgbz17dHlwZTplLnR5cGUsdXJsOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1oLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjExOCwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjExOSwiLi9EYXRhUHJvdmlzaW9uYWwiOjEyMCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBvKGUpe2lmKCFlKXRocm93IEVycm9yKCJVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Iik7dmFyIHQ9LyhbYS16QS1aLV0qKTpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuX1wrfiM9XC9dKikvZ2kscj0iJDEsJDIsJDMiLG49ZS5yZXBsYWNlKHQscikuc3BsaXQoIiwiKTtuWzBdPT09ZSYmKG5bMF09Imh0dHBzIixuWzFdPWUpO3ZhciBvPXt0eXBlOm5bMF0sZG9tYWluOm5bMV0saWRlbnRpdHk6blsyXX07cmV0dXJuIG99ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKSxyPXt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiEoKDAsYlsiZGVmYXVsdCJdKShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT9KU09OLnBhcnNlKCgwLGRbImRlZmF1bHQiXSkoZSkpOnZvaWQgMH1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufWZ1bmN0aW9uIGwoZSl7aWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9byhlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gYShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5IiksZD1uKGYpLHA9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYj1uKHApO3IuZGl2aWRlVVJMPW8sci5kaXZpZGVFbWFpbD1pLHIuZW1wdHlPYmplY3Q9cyxyLmRlZXBDbG9uZT1jLHIuZ2V0VXNlclVSTEZyb21FbWFpbD1hLHIuZ2V0VXNlckVtYWlsRnJvbVVSTD11LHIuY29udmVydFRvVXNlclVSTD1sfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSI6MiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3fV19LHt9LFsxMTVdKSgxMTUpfSk7CgoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBJUHY2IFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5JUHY2ID0gZmFjdG9yeShyb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHJvb3QpIHsKICAndXNlIHN0cmljdCc7CgogIC8qCiAgdmFyIF9pbiA9ICJmZTgwOjAwMDA6MDAwMDowMDAwOjAyMDQ6NjFmZjpmZTlkOmYxNTYiOwogIHZhciBfb3V0ID0gSVB2Ni5iZXN0KF9pbik7CiAgdmFyIF9leHBlY3RlZCA9ICJmZTgwOjoyMDQ6NjFmZjpmZTlkOmYxNTYiOwoKICBjb25zb2xlLmxvZyhfaW4sIF9vdXQsIF9leHBlY3RlZCwgX291dCA9PT0gX2V4cGVjdGVkKTsKICAqLwoKICAvLyBzYXZlIGN1cnJlbnQgSVB2NiB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9JUHY2ID0gcm9vdCAmJiByb290LklQdjY7CgogIGZ1bmN0aW9uIGJlc3RQcmVzZW50YXRpb24oYWRkcmVzcykgewogICAgLy8gYmFzZWQgb246CiAgICAvLyBKYXZhc2NyaXB0IHRvIHRlc3QgYW4gSVB2NiBhZGRyZXNzIGZvciBwcm9wZXIgZm9ybWF0LCBhbmQgdG8KICAgIC8vIHByZXNlbnQgdGhlICJiZXN0IHRleHQgcmVwcmVzZW50YXRpb24iIGFjY29yZGluZyB0byBJRVRGIERyYWZ0IFJGQyBhdAogICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNAogICAgLy8gOCBGZWIgMjAxMCBSaWNoIEJyb3duLCBEYXJ0d2FyZSwgTExDCiAgICAvLyBQbGVhc2UgZmVlbCBmcmVlIHRvIHVzZSB0aGlzIGNvZGUgYXMgbG9uZyBhcyB5b3UgcHJvdmlkZSBhIGxpbmsgdG8KICAgIC8vIGh0dHA6Ly93d3cuaW50ZXJtYXBwZXIuY29tCiAgICAvLyBodHRwOi8vaW50ZXJtYXBwZXIuY29tL3N1cHBvcnQvdG9vbHMvSVBWNi1WYWxpZGF0b3IuYXNweAogICAgLy8gaHR0cDovL2Rvd25sb2FkLmRhcnR3YXJlLmNvbS90aGlyZHBhcnR5L2lwdjZ2YWxpZGF0b3IuanMKCiAgICB2YXIgX2FkZHJlc3MgPSBhZGRyZXNzLnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgc2VnbWVudHMgPSBfYWRkcmVzcy5zcGxpdCgnOicpOwogICAgdmFyIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKICAgIHZhciB0b3RhbCA9IDg7CgogICAgLy8gdHJpbSBjb2xvbnMgKDo6IG9yIDo6YTpiOmPigKYgb3Ig4oCmYTpiOmM6OikKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnICYmIHNlZ21lbnRzWzJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiA6OgogICAgICAvLyByZW1vdmUgZmlyc3QgdHdvIGl0ZW1zCiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9IGVsc2UgaWYgKHNlZ21lbnRzWzBdID09PSAnJyAmJiBzZWdtZW50c1sxXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjp4eHh4CiAgICAgIC8vIHJlbW92ZSB0aGUgZmlyc3QgaXRlbQogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXSA9PT0gJycgJiYgc2VnbWVudHNbbGVuZ3RoIC0gMl0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIHh4eHg6OgogICAgICBzZWdtZW50cy5wb3AoKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYWRqdXN0IHRvdGFsIHNlZ21lbnRzIGZvciBJUHY0IHRyYWlsZXIKICAgIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXS5pbmRleE9mKCcuJykgIT09IC0xKSB7CiAgICAgIC8vIGZvdW5kIGEgIi4iIHdoaWNoIG1lYW5zIElQdjQKICAgICAgdG90YWwgPSA3OwogICAgfQoKICAgIC8vIGZpbGwgZW1wdHkgc2VnbWVudHMgdGhlbSB3aXRoICIwMDAwIgogICAgdmFyIHBvczsKICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAoc2VnbWVudHNbcG9zXSA9PT0gJycpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3MgPCB0b3RhbCkgewogICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAxLCAnMDAwMCcpOwogICAgICB3aGlsZSAoc2VnbWVudHMubGVuZ3RoIDwgdG90YWwpIHsKICAgICAgICBzZWdtZW50cy5zcGxpY2UocG9zLCAwLCAnMDAwMCcpOwogICAgICB9CiAgICB9CgogICAgLy8gc3RyaXAgbGVhZGluZyB6ZXJvcwogICAgdmFyIF9zZWdtZW50czsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBfc2VnbWVudHMgPSBzZWdtZW50c1tpXS5zcGxpdCgnJyk7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMyA7IGorKykgewogICAgICAgIGlmIChfc2VnbWVudHNbMF0gPT09ICcwJyAmJiBfc2VnbWVudHMubGVuZ3RoID4gMSkgewogICAgICAgICAgX3NlZ21lbnRzLnNwbGljZSgwLDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNlZ21lbnRzW2ldID0gX3NlZ21lbnRzLmpvaW4oJycpOwogICAgfQoKICAgIC8vIGZpbmQgbG9uZ2VzdCBzZXF1ZW5jZSBvZiB6ZXJvZXMgYW5kIGNvYWxlc2NlIHRoZW0gaW50byBvbmUgc2VnbWVudAogICAgdmFyIGJlc3QgPSAtMTsKICAgIHZhciBfYmVzdCA9IDA7CiAgICB2YXIgX2N1cnJlbnQgPSAwOwogICAgdmFyIGN1cnJlbnQgPSAtMTsKICAgIHZhciBpbnplcm9lcyA9IGZhbHNlOwogICAgLy8gaTsgYWxyZWFkeSBkZWNsYXJlZAoKICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7CiAgICAgIGlmIChpbnplcm9lcykgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBfY3VycmVudCArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbnplcm9lcyA9IGZhbHNlOwogICAgICAgICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgICAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChzZWdtZW50c1tpXSA9PT0gJzAnKSB7CiAgICAgICAgICBpbnplcm9lcyA9IHRydWU7CiAgICAgICAgICBjdXJyZW50ID0gaTsKICAgICAgICAgIF9jdXJyZW50ID0gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoX2N1cnJlbnQgPiBfYmVzdCkgewogICAgICBiZXN0ID0gY3VycmVudDsKICAgICAgX2Jlc3QgPSBfY3VycmVudDsKICAgIH0KCiAgICBpZiAoX2Jlc3QgPiAxKSB7CiAgICAgIHNlZ21lbnRzLnNwbGljZShiZXN0LCBfYmVzdCwgJycpOwogICAgfQoKICAgIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsKCiAgICAvLyBhc3NlbWJsZSByZW1haW5pbmcgc2VnbWVudHMKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIGlmIChzZWdtZW50c1swXSA9PT0gJycpICB7CiAgICAgIHJlc3VsdCA9ICc6JzsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0ICs9IHNlZ21lbnRzW2ldOwogICAgICBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXN1bHQgKz0gJzonOwogICAgfQoKICAgIGlmIChzZWdtZW50c1tsZW5ndGggLSAxXSA9PT0gJycpIHsKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHsKICAgIC8qanNoaW50IHZhbGlkdGhpczogdHJ1ZSAqLwogICAgaWYgKHJvb3QuSVB2NiA9PT0gdGhpcykgewogICAgICByb290LklQdjYgPSBfSVB2NjsKICAgIH0KICAKICAgIHJldHVybiB0aGlzOwogIH0KCiAgcmV0dXJuIHsKICAgIGJlc3Q6IGJlc3RQcmVzZW50YXRpb24sCiAgICBub0NvbmZsaWN0OiBub0NvbmZsaWN0CiAgfTsKfSkpOwoKfSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqIFNlY29uZCBMZXZlbCBEb21haW4gKFNMRCkgU3VwcG9ydAogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwoKKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qcwogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIC8vIE5vZGUKICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoZmFjdG9yeSk7CiAgfSBlbHNlIHsKICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICByb290LlNlY29uZExldmVsRG9tYWlucyA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvLyBzYXZlIGN1cnJlbnQgU2Vjb25kTGV2ZWxEb21haW5zIHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX1NlY29uZExldmVsRG9tYWlucyA9IHJvb3QgJiYgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnM7CgogIHZhciBTTEQgPSB7CiAgICAvLyBsaXN0IG9mIGtub3duIFNlY29uZCBMZXZlbCBEb21haW5zCiAgICAvLyBjb252ZXJ0ZWQgbGlzdCBvZiBTTERzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhdmluZ21pbGxlci9zZWNvbmQtbGV2ZWwtZG9tYWlucwogICAgLy8gLS0tLQogICAgLy8gcHVibGljc3VmZml4Lm9yZyBpcyBtb3JlIGN1cnJlbnQgYW5kIGFjdHVhbGx5IHVzZWQgYnkgYSBjb3VwbGUgb2YgYnJvd3NlcnMgaW50ZXJuYWxseS4KICAgIC8vIGRvd25zaWRlIGlzIGl0IGFsc28gY29udGFpbnMgZG9tYWlucyBsaWtlICJkeW5kbnMub3JnIiAtIHdoaWNoIGlzIGZpbmUgZm9yIHRoZSBzZWN1cml0eQogICAgLy8gaXNzdWVzIGJyb3dzZXIgaGF2ZSB0byBkZWFsIHdpdGggKFNPUCBmb3IgY29va2llcywgZXRjKSAtIGJ1dCBpcyB3YXkgb3ZlcmJvYXJkIGZvciBVUkkuanMKICAgIC8vIC0tLS0KICAgIGxpc3Q6IHsKICAgICAgJ2FjJzonIGNvbSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ2FlJzonIGFjIGNvIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHBybyBzY2ggJywKICAgICAgJ2FmJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2FsJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhbyc6JyBjbyBlZCBndiBpdCBvZyBwYiAnLAogICAgICAnYXInOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0dXIgJywKICAgICAgJ2F0JzonIGFjIGNvIGd2IG9yICcsCiAgICAgICdhdSc6JyBhc24gY29tIGNzaXJvIGVkdSBnb3YgaWQgbmV0IG9yZyAnLAogICAgICAnYmEnOicgY28gY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgcnMgdW5iaSB1bm1vIHVuc2EgdW50eiB1bnplICcsCiAgICAgICdiYic6JyBiaXogY28gY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnIHN0b3JlIHR2ICcsCiAgICAgICdiaCc6JyBiaXogY2MgY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdibic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdibyc6JyBjb20gZWR1IGdvYiBnb3YgaW50IG1pbCBuZXQgb3JnIHR2ICcsCiAgICAgICdicic6JyBhZG0gYWR2IGFnciBhbSBhcnEgYXJ0IGF0byBiIGJpbyBibG9nIGJtZCBjaW0gY25nIGNudCBjb20gY29vcCBlY24gZWR1IGVuZyBlc3AgZXRjIGV0aSBmYXIgZmxvZyBmbSBmbmQgZm90IGZzdCBnMTIgZ2dmIGdvdiBpbWIgaW5kIGluZiBqb3IganVzIGxlbCBtYXQgbWVkIG1pbCBtdXMgbmV0IG5vbSBub3QgbnRyIG9kbyBvcmcgcHBnIHBybyBwc2MgcHNpIHFzbCByZWMgc2xnIHNydiB0bXAgdHJkIHR1ciB0diB2ZXQgdmxvZyB3aWtpIHpsZyAnLAogICAgICAnYnMnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYnonOicgZHUgZXQgb20gb3YgcmcgJywKICAgICAgJ2NhJzonIGFiIGJjIG1iIG5iIG5mIG5sIG5zIG50IG51IG9uIHBlIHFjIHNrIHlrICcsCiAgICAgICdjayc6JyBiaXogY28gZWR1IGdlbiBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdjbic6JyBhYyBhaCBiaiBjb20gY3EgZWR1IGZqIGdkIGdvdiBncyBneCBneiBoYSBoYiBoZSBoaSBobCBobiBqbCBqcyBqeCBsbiBtaWwgbmV0IG5tIG54IG9yZyBxaCBzYyBzZCBzaCBzbiBzeCB0aiB0dyB4aiB4eiB5biB6aiAnLAogICAgICAnY28nOicgY29tIGVkdSBnb3YgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICdjcic6JyBhYyBjIGNvIGVkIGZpIGdvIG9yIHNhICcsCiAgICAgICdjeSc6JyBhYyBiaXogY29tIGVrbG9nZXMgZ292IGx0ZCBuYW1lIG5ldCBvcmcgcGFybGlhbWVudCBwcmVzcyBwcm8gdG0gJywKICAgICAgJ2RvJzonIGFydCBjb20gZWR1IGdvYiBnb3YgbWlsIG5ldCBvcmcgc2xkIHdlYiAnLAogICAgICAnZHonOicgYXJ0IGFzc28gY29tIGVkdSBnb3YgbmV0IG9yZyBwb2wgJywKICAgICAgJ2VjJzonIGNvbSBlZHUgZmluIGdvdiBpbmZvIG1lZCBtaWwgbmV0IG9yZyBwcm8gJywKICAgICAgJ2VnJzonIGNvbSBlZHUgZXVuIGdvdiBtaWwgbmFtZSBuZXQgb3JnIHNjaSAnLAogICAgICAnZXInOicgY29tIGVkdSBnb3YgaW5kIG1pbCBuZXQgb3JnIHJvY2hlc3QgdyAnLAogICAgICAnZXMnOicgY29tIGVkdSBnb2Igbm9tIG9yZyAnLAogICAgICAnZXQnOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmFtZSBuZXQgb3JnICcsCiAgICAgICdmaic6JyBhYyBiaXogY29tIGluZm8gbWlsIG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ2ZrJzonIGFjIGNvIGdvdiBuZXQgbm9tIG9yZyAnLAogICAgICAnZnInOicgYXNzbyBjb20gZiBnb3V2IG5vbSBwcmQgcHJlc3NlIHRtICcsCiAgICAgICdnZyc6JyBjbyBuZXQgb3JnICcsCiAgICAgICdnaCc6JyBjb20gZWR1IGdvdiBtaWwgb3JnICcsCiAgICAgICdnbic6JyBhYyBjb20gZ292IG5ldCBvcmcgJywKICAgICAgJ2dyJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdndCc6JyBjb20gZWR1IGdvYiBpbmQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2d1JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2hrJzonIGNvbSBlZHUgZ292IGlkdiBuZXQgb3JnICcsCiAgICAgICdodSc6JyAyMDAwIGFncmFyIGJvbHQgY2FzaW5vIGNpdHkgY28gZXJvdGljYSBlcm90aWthIGZpbG0gZm9ydW0gZ2FtZXMgaG90ZWwgaW5mbyBpbmdhdGxhbiBqb2dhc3oga29ueXZlbG8gbGFrYXMgbWVkaWEgbmV3cyBvcmcgcHJpdiByZWtsYW0gc2V4IHNob3Agc3BvcnQgc3VsaSBzemV4IHRtIHRvenNkZSB1dGF6YXMgdmlkZW8gJywKICAgICAgJ2lkJzonIGFjIGNvIGdvIG1pbCBuZXQgb3Igc2NoIHdlYiAnLAogICAgICAnaWwnOicgYWMgY28gZ292IGlkZiBrMTIgbXVuaSBuZXQgb3JnICcsCiAgICAgICdpbic6JyBhYyBjbyBlZHUgZXJuZXQgZmlybSBnZW4gZ292IGkgaW5kIG1pbCBuZXQgbmljIG9yZyByZXMgJywKICAgICAgJ2lxJzonIGNvbSBlZHUgZ292IGkgbWlsIG5ldCBvcmcgJywKICAgICAgJ2lyJzonIGFjIGNvIGRuc3NlYyBnb3YgaSBpZCBuZXQgb3JnIHNjaCAnLAogICAgICAnaXQnOicgZWR1IGdvdiAnLAogICAgICAnamUnOicgY28gbmV0IG9yZyAnLAogICAgICAnam8nOicgY29tIGVkdSBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ2pwJzonIGFjIGFkIGNvIGVkIGdvIGdyIGxnIG5lIG9yICcsCiAgICAgICdrZSc6JyBhYyBjbyBnbyBpbmZvIG1lIG1vYmkgbmUgb3Igc2MgJywKICAgICAgJ2toJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHBlciAnLAogICAgICAna2knOicgYml6IGNvbSBkZSBlZHUgZ292IGluZm8gbW9iIG5ldCBvcmcgdGVsICcsCiAgICAgICdrbSc6JyBhc3NvIGNvbSBjb29wIGVkdSBnb3V2IGsgbWVkZWNpbiBtaWwgbm9tIG5vdGFpcmVzIHBoYXJtYWNpZW5zIHByZXNzZSB0bSB2ZXRlcmluYWlyZSAnLAogICAgICAna24nOicgZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdrcic6JyBhYyBidXNhbiBjaHVuZ2J1ayBjaHVuZ25hbSBjbyBkYWVndSBkYWVqZW9uIGVzIGdhbmd3b24gZ28gZ3dhbmdqdSBneWVvbmdidWsgZ3llb25nZ2kgZ3llb25nbmFtIGhzIGluY2hlb24gamVqdSBqZW9uYnVrIGplb25uYW0gayBrZyBtaWwgbXMgbmUgb3IgcGUgcmUgc2Mgc2VvdWwgdWxzYW4gJywKICAgICAgJ2t3JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2t5JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2t6JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdsYic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdsayc6JyBhc3NuIGNvbSBlZHUgZ292IGdycCBob3RlbCBpbnQgbHRkIG5ldCBuZ28gb3JnIHNjaCBzb2Mgd2ViICcsCiAgICAgICdscic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdsdic6JyBhc24gY29tIGNvbmYgZWR1IGdvdiBpZCBtaWwgbmV0IG9yZyAnLAogICAgICAnbHknOicgY29tIGVkdSBnb3YgaWQgbWVkIG5ldCBvcmcgcGxjIHNjaCAnLAogICAgICAnbWEnOicgYWMgY28gZ292IG0gbmV0IG9yZyBwcmVzcyAnLAogICAgICAnbWMnOicgYXNzbyB0bSAnLAogICAgICAnbWUnOicgYWMgY28gZWR1IGdvdiBpdHMgbmV0IG9yZyBwcml2ICcsCiAgICAgICdtZyc6JyBjb20gZWR1IGdvdiBtaWwgbm9tIG9yZyBwcmQgdG0gJywKICAgICAgJ21rJzonIGNvbSBlZHUgZ292IGluZiBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdtbCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHByZXNzZSAnLAogICAgICAnbW4nOicgZWR1IGdvdiBvcmcgJywKICAgICAgJ21vJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ210JzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ212JzonIGFlcm8gYml6IGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgbWlsIG11c2V1bSBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdtdyc6JyBhYyBjbyBjb20gY29vcCBlZHUgZ292IGludCBtdXNldW0gbmV0IG9yZyAnLAogICAgICAnbXgnOicgY29tIGVkdSBnb2IgbmV0IG9yZyAnLAogICAgICAnbXknOicgY29tIGVkdSBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2ggJywKICAgICAgJ25mJzonIGFydHMgY29tIGZpcm0gaW5mbyBuZXQgb3RoZXIgcGVyIHJlYyBzdG9yZSB3ZWIgJywKICAgICAgJ25nJzonIGJpeiBjb20gZWR1IGdvdiBtaWwgbW9iaSBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduaSc6JyBhYyBjbyBjb20gZWR1IGdvYiBtaWwgbmV0IG5vbSBvcmcgJywKICAgICAgJ25wJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICducic6JyBiaXogY29tIGVkdSBnb3YgaW5mbyBuZXQgb3JnICcsCiAgICAgICdvbSc6JyBhYyBiaXogY28gY29tIGVkdSBnb3YgbWVkIG1pbCBtdXNldW0gbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdwZSc6JyBjb20gZWR1IGdvYiBtaWwgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwaCc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgbmdvIG9yZyAnLAogICAgICAncGsnOicgYml6IGNvbSBlZHUgZmFtIGdvYiBnb2sgZ29uIGdvcCBnb3MgZ292IG5ldCBvcmcgd2ViICcsCiAgICAgICdwbCc6JyBhcnQgYmlhbHlzdG9rIGJpeiBjb20gZWR1IGdkYSBnZGFuc2sgZ29yem93IGdvdiBpbmZvIGthdG93aWNlIGtyYWtvdyBsb2R6IGx1YmxpbiBtaWwgbmV0IG5nbyBvbHN6dHluIG9yZyBwb3puYW4gcHdyIHJhZG9tIHNsdXBzayBzemN6ZWNpbiB0b3J1biB3YXJzemF3YSB3YXcgd3JvYyB3cm9jbGF3IHpnb3JhICcsCiAgICAgICdwcic6JyBhYyBiaXogY29tIGVkdSBlc3QgZ292IGluZm8gaXNsYSBuYW1lIG5ldCBvcmcgcHJvIHByb2YgJywKICAgICAgJ3BzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgcGxvIHNlYyAnLAogICAgICAncHcnOicgYmVsYXUgY28gZWQgZ28gbmUgb3IgJywKICAgICAgJ3JvJzonIGFydHMgY29tIGZpcm0gaW5mbyBub20gbnQgb3JnIHJlYyBzdG9yZSB0bSB3d3cgJywKICAgICAgJ3JzJzonIGFjIGNvIGVkdSBnb3YgaW4gb3JnICcsCiAgICAgICdzYic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzYyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdzaCc6JyBjbyBjb20gZWR1IGdvdiBuZXQgbm9tIG9yZyAnLAogICAgICAnc2wnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc3QnOicgY28gY29tIGNvbnN1bGFkbyBlZHUgZW1iYWl4YWRhIGdvdiBtaWwgbmV0IG9yZyBwcmluY2lwZSBzYW90b21lIHN0b3JlICcsCiAgICAgICdzdic6JyBjb20gZWR1IGdvYiBvcmcgcmVkICcsCiAgICAgICdzeic6JyBhYyBjbyBvcmcgJywKICAgICAgJ3RyJzonIGF2IGJicyBiZWwgYml6IGNvbSBkciBlZHUgZ2VuIGdvdiBpbmZvIGsxMiBuYW1lIG5ldCBvcmcgcG9sIHRlbCB0c2sgdHYgd2ViICcsCiAgICAgICd0dCc6JyBhZXJvIGJpeiBjYXQgY28gY29tIGNvb3AgZWR1IGdvdiBpbmZvIGludCBqb2JzIG1pbCBtb2JpIG11c2V1bSBuYW1lIG5ldCBvcmcgcHJvIHRlbCB0cmF2ZWwgJywKICAgICAgJ3R3JzonIGNsdWIgY29tIGViaXogZWR1IGdhbWUgZ292IGlkdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbXUnOicgYWMgY28gY29tIGdvdiBuZXQgb3Igb3JnICcsCiAgICAgICdteic6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnbmEnOicgY28gY29tICcsCiAgICAgICdueic6JyBhYyBjbyBjcmkgZ2VlayBnZW4gZ292dCBoZWFsdGggaXdpIG1hb3JpIG1pbCBuZXQgb3JnIHBhcmxpYW1lbnQgc2Nob29sICcsCiAgICAgICdwYSc6JyBhYm8gYWMgY29tIGVkdSBnb2IgaW5nIG1lZCBuZXQgbm9tIG9yZyBzbGQgJywKICAgICAgJ3B0JzonIGNvbSBlZHUgZ292IGludCBuZXQgbm9tZSBvcmcgcHVibCAnLAogICAgICAncHknOicgY29tIGVkdSBnb3YgbWlsIG5ldCBvcmcgJywKICAgICAgJ3FhJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdyZSc6JyBhc3NvIGNvbSBub20gJywKICAgICAgJ3J1JzonIGFjIGFkeWdleWEgYWx0YWkgYW11ciBhcmtoYW5nZWxzayBhc3RyYWtoYW4gYmFzaGtpcmlhIGJlbGdvcm9kIGJpciBicnlhbnNrIGJ1cnlhdGlhIGNiZyBjaGVsIGNoZWx5YWJpbnNrIGNoaXRhIGNodWtvdGthIGNodXZhc2hpYSBjb20gZGFnZXN0YW4gZS1idXJnIGVkdSBnb3YgZ3Jvem55IGludCBpcmt1dHNrIGl2YW5vdm8gaXpoZXZzayBqYXIgam9zaGthci1vbGEga2FsbXlraWEga2FsdWdhIGthbWNoYXRrYSBrYXJlbGlhIGthemFuIGtjaHIga2VtZXJvdm8ga2hhYmFyb3ZzayBraGFrYXNzaWEga2h2IGtpcm92IGtvZW5pZyBrb21pIGtvc3Ryb21hIGtyYW5veWFyc2sga3ViYW4ga3VyZ2FuIGt1cnNrIGxpcGV0c2sgbWFnYWRhbiBtYXJpIG1hcmktZWwgbWFyaW5lIG1pbCBtb3Jkb3ZpYSBtb3NyZWcgbXNrIG11cm1hbnNrIG5hbGNoaWsgbmV0IG5ub3Ygbm92IG5vdm9zaWJpcnNrIG5zayBvbXNrIG9yZW5idXJnIG9yZyBvcnlvbCBwZW56YSBwZXJtIHBwIHBza292IHB0eiBybmQgcnlhemFuIHNha2hhbGluIHNhbWFyYSBzYXJhdG92IHNpbWJpcnNrIHNtb2xlbnNrIHNwYiBzdGF2cm9wb2wgc3R2IHN1cmd1dCB0YW1ib3YgdGF0YXJzdGFuIHRvbSB0b21zayB0c2FyaXRzeW4gdHNrIHR1bGEgdHV2YSB0dmVyIHR5dW1lbiB1ZG0gdWRtdXJ0aWEgdWxhbi11ZGUgdmxhZGlrYXZrYXogdmxhZGltaXIgdmxhZGl2b3N0b2sgdm9sZ29ncmFkIHZvbG9nZGEgdm9yb25lemggdnJuIHZ5YXRrYSB5YWt1dGlhIHlhbWFsIHlla2F0ZXJpbmJ1cmcgeXV6aG5vLXNha2hhbGluc2sgJywKICAgICAgJ3J3JzonIGFjIGNvIGNvbSBlZHUgZ291diBnb3YgaW50IG1pbCBuZXQgJywKICAgICAgJ3NhJzonIGNvbSBlZHUgZ292IG1lZCBuZXQgb3JnIHB1YiBzY2ggJywKICAgICAgJ3NkJzonIGNvbSBlZHUgZ292IGluZm8gbWVkIG5ldCBvcmcgdHYgJywKICAgICAgJ3NlJzonIGEgYWMgYiBiZCBjIGQgZSBmIGcgaCBpIGsgbCBtIG4gbyBvcmcgcCBwYXJ0aSBwcCBwcmVzcyByIHMgdCB0bSB1IHcgeCB5IHogJywKICAgICAgJ3NnJzonIGNvbSBlZHUgZ292IGlkbiBuZXQgb3JnIHBlciAnLAogICAgICAnc24nOicgYXJ0IGNvbSBlZHUgZ291diBvcmcgcGVyc28gdW5pdiAnLAogICAgICAnc3knOicgY29tIGVkdSBnb3YgbWlsIG5ldCBuZXdzIG9yZyAnLAogICAgICAndGgnOicgYWMgY28gZ28gaW4gbWkgbmV0IG9yICcsCiAgICAgICd0aic6JyBhYyBiaXogY28gY29tIGVkdSBnbyBnb3YgaW5mbyBpbnQgbWlsIG5hbWUgbmV0IG5pYyBvcmcgdGVzdCB3ZWIgJywKICAgICAgJ3RuJzonIGFncmluZXQgY29tIGRlZmVuc2UgZWR1bmV0IGVucyBmaW4gZ292IGluZCBpbmZvIGludGwgbWluY29tIG5hdCBuZXQgb3JnIHBlcnNvIHJucnQgcm5zIHJudSB0b3VyaXNtICcsCiAgICAgICd0eic6JyBhYyBjbyBnbyBuZSBvciAnLAogICAgICAndWEnOicgYml6IGNoZXJrYXNzeSBjaGVybmlnb3YgY2hlcm5vdnRzeSBjayBjbiBjbyBjb20gY3JpbWVhIGN2IGRuIGRuZXByb3BldHJvdnNrIGRvbmV0c2sgZHAgZWR1IGdvdiBpZiBpbiBpdmFuby1mcmFua2l2c2sga2gga2hhcmtvdiBraGVyc29uIGtobWVsbml0c2tpeSBraWV2IGtpcm92b2dyYWQga20ga3Iga3Mga3YgbGcgbHVnYW5zayBsdXRzayBsdml2IG1lIG1rIG5ldCBuaWtvbGFldiBvZCBvZGVzc2Egb3JnIHBsIHBvbHRhdmEgcHAgcm92bm8gcnYgc2ViYXN0b3BvbCBzdW15IHRlIHRlcm5vcGlsIHV6aGdvcm9kIHZpbm5pY2Egdm4gemFwb3Jpemh6aGUgemhpdG9taXIgenAgenQgJywKICAgICAgJ3VnJzonIGFjIGNvIGdvIG5lIG9yIG9yZyBzYyAnLAogICAgICAndWsnOicgYWMgYmwgYnJpdGlzaC1saWJyYXJ5IGNvIGN5bSBnb3YgZ292dCBpY25ldCBqZXQgbGVhIGx0ZCBtZSBtaWwgbW9kIG5hdGlvbmFsLWxpYnJhcnktc2NvdGxhbmQgbmVsIG5ldCBuaHMgbmljIG5scyBvcmcgb3JnbiBwYXJsaWFtZW50IHBsYyBwb2xpY2Ugc2NoIHNjb3Qgc29jICcsCiAgICAgICd1cyc6JyBkbmkgZmVkIGlzYSBraWRzIG5zbiAnLAogICAgICAndXknOicgY29tIGVkdSBndWIgbWlsIG5ldCBvcmcgJywKICAgICAgJ3ZlJzonIGNvIGNvbSBlZHUgZ29iIGluZm8gbWlsIG5ldCBvcmcgd2ViICcsCiAgICAgICd2aSc6JyBjbyBjb20gazEyIG5ldCBvcmcgJywKICAgICAgJ3ZuJzonIGFjIGJpeiBjb20gZWR1IGdvdiBoZWFsdGggaW5mbyBpbnQgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAneWUnOicgY28gY29tIGdvdiBsdGQgbWUgbmV0IG9yZyBwbGMgJywKICAgICAgJ3l1JzonIGFjIGNvIGVkdSBnb3Ygb3JnICcsCiAgICAgICd6YSc6JyBhYyBhZ3JpYyBhbHQgYm91cnNlIGNpdHkgY28gY3liZXJuZXQgZGIgZWR1IGdvdiBncm9uZGFyIGlhY2Nlc3MgaW10IGluY2EgbGFuZGVzaWduIGxhdyBtaWwgbmV0IG5nbyBuaXMgbm9tIG9saXZldHRpIG9yZyBwaXggc2Nob29sIHRtIHdlYiAnLAogICAgICAnem0nOicgYWMgY28gY29tIGVkdSBnb3YgbmV0IG9yZyBzY2ggJwogICAgfSwKICAgIC8vIGdvcmhpbGwgMjAxMy0xMC0yNTogVXNpbmcgaW5kZXhPZigpIGluc3RlYWQgUmVnZXhwKCkuIFNpZ25pZmljYW50IGJvb3N0CiAgICAvLyBpbiBib3RoIHBlcmZvcm1hbmNlIGFuZCBtZW1vcnkgZm9vdHByaW50LiBObyBpbml0aWFsaXphdGlvbiByZXF1aXJlZC4KICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3VyaS1qcy1zbGQtcmVnZXgtdnMtYmluYXJ5LXNlYXJjaC80CiAgICAvLyBGb2xsb3dpbmcgbWV0aG9kcyB1c2UgbGFzdEluZGV4T2YoKSByYXRoZXIgdGhhbiBhcnJheS5zcGxpdCgpIGluIG9yZGVyCiAgICAvLyB0byBhdm9pZCBhbnkgbWVtb3J5IGFsbG9jYXRpb25zLgogICAgaGFzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPD0gMCB8fCBzbGRPZmZzZXQgPj0gKHRsZE9mZnNldC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2Uoc2xkT2Zmc2V0KzEsIHRsZE9mZnNldCkgKyAnICcpID49IDA7CiAgICB9LAogICAgaXM6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicsIHRsZE9mZnNldC0xKTsKICAgICAgaWYgKHNsZE9mZnNldCA+PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZSgwLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPD0gMCB8fCBzbGRPZmZzZXQgPj0gKHRsZE9mZnNldC0xKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBzbGRMaXN0ID0gU0xELmxpc3RbZG9tYWluLnNsaWNlKHRsZE9mZnNldCsxKV07CiAgICAgIGlmICghc2xkTGlzdCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGlmIChzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA8IDApIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxKTsKICAgIH0sCiAgICBub0NvbmZsaWN0OiBmdW5jdGlvbigpewogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPT09IHRoaXMpIHsKICAgICAgICByb290LlNlY29uZExldmVsRG9tYWlucyA9IF9TZWNvbmRMZXZlbERvbWFpbnM7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKCiAgcmV0dXJuIFNMRDsKfSkpOwoKfSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qIQogKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzCiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9wdW55Y29kZScpLCByZXF1aXJlKCcuL0lQdjYnKSwgcmVxdWlyZSgnLi9TZWNvbmRMZXZlbERvbWFpbnMnKSk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShbJy4vcHVueWNvZGUnLCAnLi9JUHY2JywgJy4vU2Vjb25kTGV2ZWxEb21haW5zJ10sIGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5VUkkgPSBmYWN0b3J5KHJvb3QucHVueWNvZGUsIHJvb3QuSVB2Niwgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMsIHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocHVueWNvZGUsIElQdjYsIFNMRCwgcm9vdCkgewogICd1c2Ugc3RyaWN0JzsKICAvKmdsb2JhbCBsb2NhdGlvbiwgZXNjYXBlLCB1bmVzY2FwZSAqLwogIC8vIEZJWE1FOiB2Mi4wLjAgcmVuYW1jZSBub24tY2FtZWxDYXNlIHByb3BlcnRpZXMgdG8gdXBwZXJjYXNlCiAgLypqc2hpbnQgY2FtZWxjYXNlOiBmYWxzZSAqLwoKICAvLyBzYXZlIGN1cnJlbnQgVVJJIHZhcmlhYmxlLCBpZiBhbnkKICB2YXIgX1VSSSA9IHJvb3QgJiYgcm9vdC5VUkk7CgogIGZ1bmN0aW9uIFVSSSh1cmwsIGJhc2UpIHsKICAgIHZhciBfdXJsU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDE7CiAgICB2YXIgX2Jhc2VTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjsKCiAgICAvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmQKICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICBpZiAoX2Jhc2VTdXBwbGllZCkgewogICAgICAgICAgcmV0dXJuIG5ldyBVUkkodXJsLCBiYXNlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgVVJJKHVybCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgVVJJKCk7CiAgICB9CgogICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChfdXJsU3VwcGxpZWQpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSScpOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHVybCA9IGxvY2F0aW9uLmhyZWYgKyAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cmwgPSAnJzsKICAgICAgfQogICAgfQoKICAgIHRoaXMuaHJlZih1cmwpOwoKICAgIC8vIHJlc29sdmUgdG8gYmFzZSBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb25zdHJ1Y3RvcgogICAgaWYgKGJhc2UgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5hYnNvbHV0ZVRvKGJhc2UpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgVVJJLnZlcnNpb24gPSAnMS4xOC4xJzsKCiAgdmFyIHAgPSBVUkkucHJvdG90eXBlOwogIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwoKICBmdW5jdGlvbiBlc2NhcGVSZWdFeChzdHJpbmcpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2NvbW1pdC84NWFjMjE3ODNjMTFmOGNjYWIwNjEwNmRiYTk3MzVhMzFhODY5MjRkI2NvbW1pdGNvbW1lbnQtODIxOTYzCiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKICB9CgogIGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHsKICAgIC8vIElFOCBkb2Vzbid0IHJldHVybiBbT2JqZWN0IFVuZGVmaW5lZF0gYnV0IFtPYmplY3QgT2JqZWN0XSBmb3IgdW5kZWZpbmVkIHZhbHVlCiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gJ1VuZGVmaW5lZCc7CiAgICB9CgogICAgcmV0dXJuIFN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKS5zbGljZSg4LCAtMSk7CiAgfQoKICBmdW5jdGlvbiBpc0FycmF5KG9iaikgewogICAgcmV0dXJuIGdldFR5cGUob2JqKSA9PT0gJ0FycmF5JzsKICB9CgogIGZ1bmN0aW9uIGZpbHRlckFycmF5VmFsdWVzKGRhdGEsIHZhbHVlKSB7CiAgICB2YXIgbG9va3VwID0ge307CiAgICB2YXIgaSwgbGVuZ3RoOwoKICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgbG9va3VwID0gbnVsbDsKICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbdmFsdWVbaV1dID0gdHJ1ZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgbG9va3VwW3ZhbHVlXSA9IHRydWU7CiAgICB9CgogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqLwogICAgICB2YXIgX21hdGNoID0gbG9va3VwICYmIGxvb2t1cFtkYXRhW2ldXSAhPT0gdW5kZWZpbmVkCiAgICAgICAgfHwgIWxvb2t1cCAmJiB2YWx1ZS50ZXN0KGRhdGFbaV0pOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgICAgaWYgKF9tYXRjaCkgewogICAgICAgIGRhdGEuc3BsaWNlKGksIDEpOwogICAgICAgIGxlbmd0aC0tOwogICAgICAgIGktLTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBkYXRhOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZSkgewogICAgdmFyIGksIGxlbmd0aDsKCiAgICAvLyB2YWx1ZSBtYXkgYmUgc3RyaW5nLCBudW1iZXIsIGFycmF5LCByZWdleHAKICAgIGlmIChpc0FycmF5KHZhbHVlKSkgewogICAgICAvLyBOb3RlOiB0aGlzIGNhbiBiZSBvcHRpbWl6ZWQgdG8gTyhuKSAoaW5zdGVhZCBvZiBjdXJyZW50IE8obSAqIG4pKQogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGlmICghYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZVtpXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHZhciBfdHlwZSA9IGdldFR5cGUodmFsdWUpOwogICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoX3R5cGUgPT09ICdSZWdFeHAnKSB7CiAgICAgICAgaWYgKHR5cGVvZiBsaXN0W2ldID09PSAnc3RyaW5nJyAmJiBsaXN0W2ldLm1hdGNoKHZhbHVlKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGxpc3RbaV0gPT09IHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhcnJheXNFcXVhbChvbmUsIHR3bykgewogICAgaWYgKCFpc0FycmF5KG9uZSkgfHwgIWlzQXJyYXkodHdvKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gYXJyYXlzIGNhbid0IGJlIGVxdWFsIGlmIHRoZXkgaGF2ZSBkaWZmZXJlbnQgYW1vdW50IG9mIGNvbnRlbnQKICAgIGlmIChvbmUubGVuZ3RoICE9PSB0d28ubGVuZ3RoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBvbmUuc29ydCgpOwogICAgdHdvLnNvcnQoKTsKCiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9uZS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgaWYgKG9uZVtpXSAhPT0gdHdvW2ldKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmdW5jdGlvbiB0cmltU2xhc2hlcyh0ZXh0KSB7CiAgICB2YXIgdHJpbV9leHByZXNzaW9uID0gL15cLyt8XC8rJC9nOwogICAgcmV0dXJuIHRleHQucmVwbGFjZSh0cmltX2V4cHJlc3Npb24sICcnKTsKICB9CgogIFVSSS5fcGFydHMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHByb3RvY29sOiBudWxsLAogICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgIGhvc3RuYW1lOiBudWxsLAogICAgICB1cm46IG51bGwsCiAgICAgIHBvcnQ6IG51bGwsCiAgICAgIHBhdGg6IG51bGwsCiAgICAgIHF1ZXJ5OiBudWxsLAogICAgICBmcmFnbWVudDogbnVsbCwKICAgICAgLy8gc3RhdGUKICAgICAgZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzOiBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLAogICAgICBlc2NhcGVRdWVyeVNwYWNlOiBVUkkuZXNjYXBlUXVlcnlTcGFjZQogICAgfTsKICB9OwogIC8vIHN0YXRlOiBhbGxvdyBkdXBsaWNhdGUgcXVlcnkgcGFyYW1ldGVycyAoYT0xJmE9MSkKICBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZmFsc2U7CiAgLy8gc3RhdGU6IHJlcGxhY2VzICsgd2l0aCAlMjAgKHNwYWNlIGluIHF1ZXJ5IHN0cmluZ3MpCiAgVVJJLmVzY2FwZVF1ZXJ5U3BhY2UgPSB0cnVlOwogIC8vIHN0YXRpYyBwcm9wZXJ0aWVzCiAgVVJJLnByb3RvY29sX2V4cHJlc3Npb24gPSAvXlthLXpdW2EtejAtOS4rLV0qJC9pOwogIFVSSS5pZG5fZXhwcmVzc2lvbiA9IC9bXmEtejAtOVwuLV0vaTsKICBVUkkucHVueWNvZGVfZXhwcmVzc2lvbiA9IC8oeG4tLSkvaTsKICAvLyB3ZWxsLCAzMzMuNDQ0LjU1NS42NjYgbWF0Y2hlcywgYnV0IGl0IHN1cmUgYWluJ3Qgbm8gSVB2NCAtIGRvIHdlIGNhcmU/CiAgVVJJLmlwNF9leHByZXNzaW9uID0gL15cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9XC5cZHsxLDN9JC87CiAgLy8gY3JlZGl0cyB0byBSaWNoIEJyb3duCiAgLy8gc291cmNlOiBodHRwOi8vZm9ydW1zLmludGVybWFwcGVyLmNvbS92aWV3dG9waWMucGhwP3A9MTA5NiMxMDk2CiAgLy8gc3BlY2lmaWNhdGlvbjogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDI5MS50eHQKICBVUkkuaXA2X2V4cHJlc3Npb24gPSAvXlxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpKSglLispP1xzKiQvOwogIC8vIGV4cHJlc3Npb24gdXNlZCBpcyAiZ3J1YmVyIHJldmlzZWQiIChAZ3J1YmVyIHYyKSBkZXRlcm1pbmVkIHRvIGJlIHRoZQogIC8vIGJlc3Qgc29sdXRpb24gaW4gYSByZWdleC1nb2xmIHdlIGRpZCBhIGNvdXBsZSBvZiBhZ2VzIGFnbyBhdAogIC8vICogaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXgKICAvLyAqIGh0dHA6Ly9yb2RuZXlyZWhtLmRlL3QvdXJsLXJlZ2V4Lmh0bWwKICBVUkkuZmluZF91cmlfZXhwcmVzc2lvbiA9IC9cYigoPzpbYS16XVtcdy1dKzooPzpcL3sxLDN9fFthLXowLTklXSl8d3d3XGR7MCwzfVsuXXxbYS16MC05LlwtXStbLl1bYS16XXsyLDR9XC8pKD86W15ccygpPD5dK3xcKChbXlxzKCk8Pl0rfChcKFteXHMoKTw+XStcKSkpKlwpKSsoPzpcKChbXlxzKCk8Pl0rfChcKFteXHMoKTw+XStcKSkpKlwpfFteXHNgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9pZzsKICBVUkkuZmluZFVyaSA9IHsKICAgIC8vIHZhbGlkICJzY2hlbWU6Ly8iIG9yICJ3d3cuIgogICAgc3RhcnQ6IC9cYig/OihbYS16XVthLXowLTkuKy1dKjpcL1wvKXx3d3dcLikvZ2ksCiAgICAvLyBldmVyeXRoaW5nIHVwIHRvIHRoZSBuZXh0IHdoaXRlc3BhY2UKICAgIGVuZDogL1tcc1xyXG5dfCQvLAogICAgLy8gdHJpbSB0cmFpbGluZyBwdW5jdHVhdGlvbiBjYXB0dXJlZCBieSBlbmQgUmVnRXhwCiAgICB0cmltOiAvW2AhKClcW1xde307OiciLiw8Pj/Cq8K74oCc4oCd4oCe4oCY4oCZXSskLwogIH07CiAgLy8gaHR0cDovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy91cmktc2NoZW1lcy5odG1sCiAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX1RDUF9hbmRfVURQX3BvcnRfbnVtYmVycyNXZWxsLWtub3duX3BvcnRzCiAgVVJJLmRlZmF1bHRQb3J0cyA9IHsKICAgIGh0dHA6ICc4MCcsCiAgICBodHRwczogJzQ0MycsCiAgICBmdHA6ICcyMScsCiAgICBnb3BoZXI6ICc3MCcsCiAgICB3czogJzgwJywKICAgIHdzczogJzQ0MycKICB9OwogIC8vIGFsbG93ZWQgaG9zdG5hbWUgY2hhcmFjdGVycyBhY2NvcmRpbmcgdG8gUkZDIDM5ODYKICAvLyBBTFBIQSBESUdJVCAiLSIgIi4iICJfIiAifiIgIiEiICIkIiAiJiIgIiciICIoIiAiKSIgIioiICIrIiAiLCIgIjsiICI9IiAlZW5jb2RlZAogIC8vIEkndmUgbmV2ZXIgc2VlbiBhIChub24tSUROKSBob3N0bmFtZSBvdGhlciB0aGFuOiBBTFBIQSBESUdJVCAuIC0KICBVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzID0gL1teYS16QS1aMC05XC4tXS87CiAgLy8gbWFwIERPTSBFbGVtZW50cyB0byB0aGVpciBVUkkgYXR0cmlidXRlCiAgVVJJLmRvbUF0dHJpYnV0ZXMgPSB7CiAgICAnYSc6ICdocmVmJywKICAgICdibG9ja3F1b3RlJzogJ2NpdGUnLAogICAgJ2xpbmsnOiAnaHJlZicsCiAgICAnYmFzZSc6ICdocmVmJywKICAgICdzY3JpcHQnOiAnc3JjJywKICAgICdmb3JtJzogJ2FjdGlvbicsCiAgICAnaW1nJzogJ3NyYycsCiAgICAnYXJlYSc6ICdocmVmJywKICAgICdpZnJhbWUnOiAnc3JjJywKICAgICdlbWJlZCc6ICdzcmMnLAogICAgJ3NvdXJjZSc6ICdzcmMnLAogICAgJ3RyYWNrJzogJ3NyYycsCiAgICAnaW5wdXQnOiAnc3JjJywgLy8gYnV0IG9ubHkgaWYgdHlwZT0iaW1hZ2UiCiAgICAnYXVkaW8nOiAnc3JjJywKICAgICd2aWRlbyc6ICdzcmMnCiAgfTsKICBVUkkuZ2V0RG9tQXR0cmlidXRlID0gZnVuY3Rpb24obm9kZSkgewogICAgaWYgKCFub2RlIHx8ICFub2RlLm5vZGVOYW1lKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgdmFyIG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgLy8gPGlucHV0PiBzaG91bGQgb25seSBleHBvc2Ugc3JjIGZvciB0eXBlPSJpbWFnZSIKICAgIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLnR5cGUgIT09ICdpbWFnZScpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gVVJJLmRvbUF0dHJpYnV0ZXNbbm9kZU5hbWVdOwogIH07CgogIGZ1bmN0aW9uIGVzY2FwZUZvckR1bWJGaXJlZm94MzYodmFsdWUpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MQogICAgcmV0dXJuIGVzY2FwZSh2YWx1ZSk7CiAgfQoKICAvLyBlbmNvZGluZyAvIGRlY29kaW5nIGFjY29yZGluZyB0byBSRkMzOTg2CiAgZnVuY3Rpb24gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykgewogICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvZW5jb2RlVVJJQ29tcG9uZW50CiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykKICAgICAgLnJlcGxhY2UoL1shJygpKl0vZywgZXNjYXBlRm9yRHVtYkZpcmVmb3gzNikKICAgICAgLnJlcGxhY2UoL1wqL2csICclMkEnKTsKICB9CiAgVVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDsKICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogIFVSSS5pc284ODU5ID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gZXNjYXBlOwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogIH07CiAgVVJJLnVuaWNvZGUgPSBmdW5jdGlvbigpIHsKICAgIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgICBVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50OwogIH07CiAgVVJJLmNoYXJhY3RlcnMgPSB7CiAgICBwYXRobmFtZTogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDI0fDI2fDJCfDJDfDNCfDNEfDNBfDQwKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIC0uX34hJygpKgogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nLAogICAgICAgICAgJyUzQSc6ICc6JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyNdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZXNlcnZlZDogewogICAgICBlbmNvZGU6IHsKICAgICAgICAvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGQKICAgICAgICAvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLgogICAgICAgIGV4cHJlc3Npb246IC8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9pZywKICAgICAgICBtYXA6IHsKICAgICAgICAgIC8vIGdlbi1kZWxpbXMKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTJGJzogJy8nLAogICAgICAgICAgJyUzRic6ICc/JywKICAgICAgICAgICclMjMnOiAnIycsCiAgICAgICAgICAnJTVCJzogJ1snLAogICAgICAgICAgJyU1RCc6ICddJywKICAgICAgICAgICclNDAnOiAnQCcsCiAgICAgICAgICAvLyBzdWItZGVsaW1zCiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjYnOiAnJicsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cm5wYXRoOiB7CiAgICAgIC8vIFRoZSBjaGFyYWN0ZXJzIHVuZGVyIGBlbmNvZGVgIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQyAyMTQxIGFzIGJlaW5nIGFjY2VwdGFibGUKICAgICAgLy8gZm9yIHVzYWdlIGluIGEgVVJOLiBSRkMyMTQxIGFsc28gY2FsbHMgb3V0ICItIiwgIi4iLCBhbmQgIl8iIGFzIGFjY2VwdGFibGUgY2hhcmFjdGVycywgYnV0CiAgICAgIC8vIHRoZXNlIGFyZW4ndCBlbmNvZGVkIGJ5IGVuY29kZVVSSUNvbXBvbmVudCwgc28gd2UgZG9uJ3QgaGF2ZSB0byBjYWxsIHRoZW0gb3V0IGhlcmUuIEFsc28KICAgICAgLy8gbm90ZSB0aGF0IHRoZSBjb2xvbiBjaGFyYWN0ZXIgaXMgbm90IGZlYXR1cmVkIGluIHRoZSBlbmNvZGluZyBtYXA7IHRoaXMgaXMgYmVjYXVzZSBVUkkuanMKICAgICAgLy8gZ2l2ZXMgdGhlIGNvbG9ucyBpbiBVUk5zIHNlbWFudGljIG1lYW5pbmcgYXMgdGhlIGRlbGltaXRlcnMgb2YgcGF0aCBzZWdlbWVudHMsIGFuZCBzbyBpdAogICAgICAvLyBzaG91bGQgbm90IGFwcGVhciB1bmVuY29kZWQgaW4gYSBzZWdtZW50IGl0c2VsZi4KICAgICAgLy8gU2VlIGFsc28gdGhlIG5vdGUgYWJvdmUgYWJvdXQgUkZDMzk4NiBhbmQgY2FwaXRhbGFsaXplZCBoZXggZGlnaXRzLgogICAgICBlbmNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyNHwyN3wyOHwyOXwyQXwyQnwyQ3wzQnwzRHw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnJTIxJzogJyEnLAogICAgICAgICAgJyUyNCc6ICckJywKICAgICAgICAgICclMjcnOiAnXCcnLAogICAgICAgICAgJyUyOCc6ICcoJywKICAgICAgICAgICclMjknOiAnKScsCiAgICAgICAgICAnJTJBJzogJyonLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclNDAnOiAnQCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDMjE0MSBhcyAicmVzZXJ2ZWQiIGNoYXJhY3RlcnMgdGhhdAogICAgICAvLyBzaG91bGQgbmV2ZXIgYXBwZWFyIGluIGEgVVJOLCBwbHVzIHRoZSBjb2xvbiBjaGFyYWN0ZXIgKHNlZSBub3RlIGFib3ZlKS4KICAgICAgZGVjb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogL1tcL1w/IzpdL2csCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAnLyc6ICclMkYnLAogICAgICAgICAgJz8nOiAnJTNGJywKICAgICAgICAgICcjJzogJyUyMycsCiAgICAgICAgICAnOic6ICclM0EnCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBVUkkuZW5jb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIHZhciBlc2NhcGVkID0gVVJJLmVuY29kZShzdHJpbmcgKyAnJyk7CiAgICBpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTsKICAgIH0KCiAgICByZXR1cm4gZXNjYXBlUXVlcnlTcGFjZSA/IGVzY2FwZWQucmVwbGFjZSgvJTIwL2csICcrJykgOiBlc2NhcGVkOwogIH07CiAgVVJJLmRlY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICBzdHJpbmcgKz0gJyc7CiAgICBpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTsKICAgIH0KCiAgICB0cnkgewogICAgICByZXR1cm4gVVJJLmRlY29kZShlc2NhcGVRdWVyeVNwYWNlID8gc3RyaW5nLnJlcGxhY2UoL1wrL2csICclMjAnKSA6IHN0cmluZyk7CiAgICB9IGNhdGNoKGUpIHsKICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgIC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3CiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgcmV0dXJuIHN0cmluZzsKICAgIH0KICB9OwogIC8vIGdlbmVyYXRlIGVuY29kZS9kZWNvZGUgcGF0aCBmdW5jdGlvbnMKICB2YXIgX3BhcnRzID0geydlbmNvZGUnOidlbmNvZGUnLCAnZGVjb2RlJzonZGVjb2RlJ307CiAgdmFyIF9wYXJ0OwogIHZhciBnZW5lcmF0ZUFjY2Vzc29yID0gZnVuY3Rpb24oX2dyb3VwLCBfcGFydCkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykgewogICAgICB0cnkgewogICAgICAgIHJldHVybiBVUklbX3BhcnRdKHN0cmluZyArICcnKS5yZXBsYWNlKFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLmV4cHJlc3Npb24sIGZ1bmN0aW9uKGMpIHsKICAgICAgICAgIHJldHVybiBVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5tYXBbY107CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncywKICAgICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3CiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MgogICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgIH0KICAgIH07CiAgfTsKCiAgZm9yIChfcGFydCBpbiBfcGFydHMpIHsKICAgIFVSSVtfcGFydCArICdQYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigncGF0aG5hbWUnLCBfcGFydHNbX3BhcnRdKTsKICAgIFVSSVtfcGFydCArICdVcm5QYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigndXJucGF0aCcsIF9wYXJ0c1tfcGFydF0pOwogIH0KCiAgdmFyIGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uID0gZnVuY3Rpb24oX3NlcCwgX2NvZGluZ0Z1bmNOYW1lLCBfaW5uZXJDb2RpbmdGdW5jTmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykgewogICAgICAvLyBXaHkgcGFzcyBpbiBuYW1lcyBvZiBmdW5jdGlvbnMsIHJhdGhlciB0aGFuIHRoZSBmdW5jdGlvbiBvYmplY3RzIHRoZW1zZWx2ZXM/IFRoZQogICAgICAvLyBkZWZpbml0aW9ucyBvZiBzb21lIGZ1bmN0aW9ucyAoYnV0IGluIHBhcnRpY3VsYXIsIFVSSS5kZWNvZGUpIHdpbGwgb2NjYXNpb25hbGx5IGNoYW5nZSBkdWUKICAgICAgLy8gdG8gVVJJLmpzIGhhdmluZyBJU084ODU5IGFuZCBVbmljb2RlIG1vZGVzLiBQYXNzaW5nIGluIHRoZSBuYW1lIGFuZCBnZXR0aW5nIGl0IHdpbGwgZW5zdXJlCiAgICAgIC8vIHRoYXQgdGhlIGZ1bmN0aW9ucyB3ZSB1c2UgaGVyZSBhcmUgImZyZXNoIi4KICAgICAgdmFyIGFjdHVhbENvZGluZ0Z1bmM7CiAgICAgIGlmICghX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgICAgICBhY3R1YWxDb2RpbmdGdW5jID0gVVJJW19jb2RpbmdGdW5jTmFtZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IGZ1bmN0aW9uKHN0cmluZykgewogICAgICAgICAgcmV0dXJuIFVSSVtfY29kaW5nRnVuY05hbWVdKFVSSVtfaW5uZXJDb2RpbmdGdW5jTmFtZV0oc3RyaW5nKSk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHNlZ21lbnRzID0gKHN0cmluZyArICcnKS5zcGxpdChfc2VwKTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHNlZ21lbnRzW2ldID0gYWN0dWFsQ29kaW5nRnVuYyhzZWdtZW50c1tpXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWdtZW50cy5qb2luKF9zZXApOwogICAgfTsKICB9OwoKICAvLyBUaGlzIHRha2VzIHBsYWNlIG91dHNpZGUgdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBkb24ndCB3YW50LCBlLmcuLCBlbmNvZGVVcm5QYXRoIGZ1bmN0aW9ucy4KICBVUkkuZGVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2RlY29kZVBhdGhTZWdtZW50Jyk7CiAgVVJJLmRlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdkZWNvZGVVcm5QYXRoU2VnbWVudCcpOwogIFVSSS5yZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZW5jb2RlUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CiAgVVJJLnJlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdlbmNvZGVVcm5QYXRoU2VnbWVudCcsICdkZWNvZGUnKTsKCiAgVVJJLmVuY29kZVJlc2VydmVkID0gZ2VuZXJhdGVBY2Nlc3NvcigncmVzZXJ2ZWQnLCAnZW5jb2RlJyk7CgogIFVSSS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIHZhciBwb3M7CiAgICBpZiAoIXBhcnRzKSB7CiAgICAgIHBhcnRzID0ge307CiAgICB9CiAgICAvLyBbcHJvdG9jb2wiOi8vIlt1c2VybmFtZVsiOiJwYXNzd29yZF0iQCJdaG9zdG5hbWVbIjoicG9ydF0iLyI/XVtwYXRoXVsiPyJxdWVyeXN0cmluZ11bIiMiZnJhZ21lbnRdCgogICAgLy8gZXh0cmFjdCBmcmFnbWVudAogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJyMnKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMuZnJhZ21lbnQgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHF1ZXJ5CiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignPycpOwogICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgIC8vIGVzY2FwaW5nPwogICAgICBwYXJ0cy5xdWVyeSA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpOwogICAgfQoKICAgIC8vIGV4dHJhY3QgcHJvdG9jb2wKICAgIGlmIChzdHJpbmcuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7CiAgICAgIC8vIHJlbGF0aXZlLXNjaGVtZQogICAgICBwYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMik7CiAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgIHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTsKICAgIH0gZWxzZSB7CiAgICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIGlmIChwb3MgPiAtMSkgewogICAgICAgIHBhcnRzLnByb3RvY29sID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgaWYgKHBhcnRzLnByb3RvY29sICYmICFwYXJ0cy5wcm90b2NvbC5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIC8vIDogbWF5IGJlIHdpdGhpbiB0aGUgcGF0aAogICAgICAgICAgcGFydHMucHJvdG9jb2wgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEsIHBvcyArIDMpID09PSAnLy8nKSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDMpOwoKICAgICAgICAgIC8vIGV4dHJhY3QgInVzZXI6cGFzc0Bob3N0OnBvcnQiCiAgICAgICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7CiAgICAgICAgICBwYXJ0cy51cm4gPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIHdoYXQncyBsZWZ0IG11c3QgYmUgdGhlIHBhdGgKICAgIHBhcnRzLnBhdGggPSBzdHJpbmc7CgogICAgLy8gYW5kIHdlJ3JlIGRvbmUKICAgIHJldHVybiBwYXJ0czsKICB9OwogIFVSSS5wYXJzZUhvc3QgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci4KICAgIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlcwogICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvYmxvYi8zODZmZDI0ZjQ5YjBlOWQxYThhMDc2NTkyYTQwNDE2OGZhZWVjYzM0L2xpYi91cmwuanMjTDExNS1MMTI0CiAgICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNgogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvcHVsbC8yMzMKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXC9nLCAnLycpOwoKICAgIC8vIGV4dHJhY3QgaG9zdDpwb3J0CiAgICB2YXIgcG9zID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgIHZhciBicmFja2V0UG9zOwogICAgdmFyIHQ7CgogICAgaWYgKHBvcyA9PT0gLTEpIHsKICAgICAgcG9zID0gc3RyaW5nLmxlbmd0aDsKICAgIH0KCiAgICBpZiAoc3RyaW5nLmNoYXJBdCgwKSA9PT0gJ1snKSB7CiAgICAgIC8vIElQdjYgaG9zdCAtIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQjc2VjdGlvbi02CiAgICAgIC8vIEkgY2xhaW0gbW9zdCBjbGllbnQgc29mdHdhcmUgYnJlYWtzIG9uIElQdjYgYW55d2F5cy4gVG8gc2ltcGxpZnkgdGhpbmdzLCBVUkkgb25seSBhY2NlcHRzCiAgICAgIC8vIElQdjYrcG9ydCBpbiB0aGUgZm9ybWF0IFsyMDAxOmRiODo6MV06ODAgKGZvciB0aGUgdGltZSBiZWluZykKICAgICAgYnJhY2tldFBvcyA9IHN0cmluZy5pbmRleE9mKCddJyk7CiAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygxLCBicmFja2V0UG9zKSB8fCBudWxsOwogICAgICBwYXJ0cy5wb3J0ID0gc3RyaW5nLnN1YnN0cmluZyhicmFja2V0UG9zICsgMiwgcG9zKSB8fCBudWxsOwogICAgICBpZiAocGFydHMucG9ydCA9PT0gJy8nKSB7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBmaXJzdENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonKTsKICAgICAgdmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpOwogICAgICB2YXIgbmV4dENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonLCBmaXJzdENvbG9uICsgMSk7CiAgICAgIGlmIChuZXh0Q29sb24gIT09IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBuZXh0Q29sb24gPCBmaXJzdFNsYXNoKSkgewogICAgICAgIC8vIElQdjYgaG9zdCBjb250YWlucyBtdWx0aXBsZSBjb2xvbnMgLSBidXQgbm8gcG9ydAogICAgICAgIC8vIHRoaXMgbm90YXRpb24gaXMgYWN0dWFsbHkgbm90IGFsbG93ZWQgYnkgUkZDIDM5ODYsIGJ1dCB3ZSdyZSBhIGxpYmVyYWwgcGFyc2VyCiAgICAgICAgcGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDsKICAgICAgICBwYXJ0cy5wb3J0ID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgICAgcGFydHMuaG9zdG5hbWUgPSB0WzBdIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IHRbMV0gfHwgbnVsbDsKICAgICAgfQogICAgfQoKICAgIGlmIChwYXJ0cy5ob3N0bmFtZSAmJiBzdHJpbmcuc3Vic3RyaW5nKHBvcykuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgcG9zKys7CiAgICAgIHN0cmluZyA9ICcvJyArIHN0cmluZzsKICAgIH0KCiAgICByZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhwb3MpIHx8ICcvJzsKICB9OwogIFVSSS5wYXJzZUF1dGhvcml0eSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIHN0cmluZyA9IFVSSS5wYXJzZVVzZXJpbmZvKHN0cmluZywgcGFydHMpOwogICAgcmV0dXJuIFVSSS5wYXJzZUhvc3Qoc3RyaW5nLCBwYXJ0cyk7CiAgfTsKICBVUkkucGFyc2VVc2VyaW5mbyA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHsKICAgIC8vIGV4dHJhY3QgdXNlcm5hbWU6cGFzc3dvcmQKICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgIHZhciBwb3MgPSBzdHJpbmcubGFzdEluZGV4T2YoJ0AnLCBmaXJzdFNsYXNoID4gLTEgPyBmaXJzdFNsYXNoIDogc3RyaW5nLmxlbmd0aCAtIDEpOwogICAgdmFyIHQ7CgogICAgLy8gYXV0aG9yaXR5QCBtdXN0IGNvbWUgYmVmb3JlIC9wYXRoCiAgICBpZiAocG9zID4gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IHBvcyA8IGZpcnN0U2xhc2gpKSB7CiAgICAgIHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTsKICAgICAgcGFydHMudXNlcm5hbWUgPSB0WzBdID8gVVJJLmRlY29kZSh0WzBdKSA6IG51bGw7CiAgICAgIHQuc2hpZnQoKTsKICAgICAgcGFydHMucGFzc3dvcmQgPSB0WzBdID8gVVJJLmRlY29kZSh0LmpvaW4oJzonKSkgOiBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgfSBlbHNlIHsKICAgICAgcGFydHMudXNlcm5hbWUgPSBudWxsOwogICAgICBwYXJ0cy5wYXNzd29yZCA9IG51bGw7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZzsKICB9OwogIFVSSS5wYXJzZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICBpZiAoIXN0cmluZykgewogICAgICByZXR1cm4ge307CiAgICB9CgogICAgLy8gdGhyb3cgb3V0IHRoZSBmdW5reSBidXNpbmVzcyAtICI/IltuYW1lIj0idmFsdWUiJiJdKwogICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoLyYrL2csICcmJykucmVwbGFjZSgvXlw/KiYqfCYrJC9nLCAnJyk7CgogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIHZhciBpdGVtcyA9IHt9OwogICAgdmFyIHNwbGl0cyA9IHN0cmluZy5zcGxpdCgnJicpOwogICAgdmFyIGxlbmd0aCA9IHNwbGl0cy5sZW5ndGg7CiAgICB2YXIgdiwgbmFtZSwgdmFsdWU7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2ID0gc3BsaXRzW2ldLnNwbGl0KCc9Jyk7CiAgICAgIG5hbWUgPSBVUkkuZGVjb2RlUXVlcnkodi5zaGlmdCgpLCBlc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgLy8gbm8gIj0iIGlzIG51bGwgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29sbGVjdC11cmwtcGFyYW1ldGVycwogICAgICB2YWx1ZSA9IHYubGVuZ3RoID8gVVJJLmRlY29kZVF1ZXJ5KHYuam9pbignPScpLCBlc2NhcGVRdWVyeVNwYWNlKSA6IG51bGw7CgogICAgICBpZiAoaGFzT3duLmNhbGwoaXRlbXMsIG5hbWUpKSB7CiAgICAgICAgaWYgKHR5cGVvZiBpdGVtc1tuYW1lXSA9PT0gJ3N0cmluZycgfHwgaXRlbXNbbmFtZV0gPT09IG51bGwpIHsKICAgICAgICAgIGl0ZW1zW25hbWVdID0gW2l0ZW1zW25hbWVdXTsKICAgICAgICB9CgogICAgICAgIGl0ZW1zW25hbWVdLnB1c2godmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW1zW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaXRlbXM7CiAgfTsKCiAgVVJJLmJ1aWxkID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKHBhcnRzLnByb3RvY29sKSB7CiAgICAgIHQgKz0gcGFydHMucHJvdG9jb2wgKyAnOic7CiAgICB9CgogICAgaWYgKCFwYXJ0cy51cm4gJiYgKHQgfHwgcGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJy8vJzsKICAgIH0KCiAgICB0ICs9IChVUkkuYnVpbGRBdXRob3JpdHkocGFydHMpIHx8ICcnKTsKCiAgICBpZiAodHlwZW9mIHBhcnRzLnBhdGggPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChwYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nICYmIHR5cGVvZiBwYXJ0cy5ob3N0bmFtZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0ICs9ICcvJzsKICAgICAgfQoKICAgICAgdCArPSBwYXJ0cy5wYXRoOwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMucXVlcnkgPT09ICdzdHJpbmcnICYmIHBhcnRzLnF1ZXJ5KSB7CiAgICAgIHQgKz0gJz8nICsgcGFydHMucXVlcnk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5mcmFnbWVudCA9PT0gJ3N0cmluZycgJiYgcGFydHMuZnJhZ21lbnQpIHsKICAgICAgdCArPSAnIycgKyBwYXJ0cy5mcmFnbWVudDsKICAgIH0KICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkSG9zdCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmICghcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmV0dXJuICcnOwogICAgfSBlbHNlIGlmIChVUkkuaXA2X2V4cHJlc3Npb24udGVzdChwYXJ0cy5ob3N0bmFtZSkpIHsKICAgICAgdCArPSAnWycgKyBwYXJ0cy5ob3N0bmFtZSArICddJzsKICAgIH0gZWxzZSB7CiAgICAgIHQgKz0gcGFydHMuaG9zdG5hbWU7CiAgICB9CgogICAgaWYgKHBhcnRzLnBvcnQpIHsKICAgICAgdCArPSAnOicgKyBwYXJ0cy5wb3J0OwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkQXV0aG9yaXR5ID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHJldHVybiBVUkkuYnVpbGRVc2VyaW5mbyhwYXJ0cykgKyBVUkkuYnVpbGRIb3N0KHBhcnRzKTsKICB9OwogIFVSSS5idWlsZFVzZXJpbmZvID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHZhciB0ID0gJyc7CgogICAgaWYgKHBhcnRzLnVzZXJuYW1lKSB7CiAgICAgIHQgKz0gVVJJLmVuY29kZShwYXJ0cy51c2VybmFtZSk7CiAgICB9CgogICAgaWYgKHBhcnRzLnBhc3N3b3JkKSB7CiAgICAgIHQgKz0gJzonICsgVVJJLmVuY29kZShwYXJ0cy5wYXNzd29yZCk7CiAgICB9CgogICAgaWYgKHQpIHsKICAgICAgdCArPSAnQCc7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfTsKICBVUkkuYnVpbGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYgb3IgaHR0cDovL2xhYnMuYXBhY2hlLm9yZy93ZWJhcmNoL3VyaS9yZmMvcmZjMzk4Ni5odG1sCiAgICAvLyBiZWluZyDCuy0uX34hJCYnKCkqKyw7PTpALz/CqyAlSEVYIGFuZCBhbG51bSBhcmUgYWxsb3dlZAogICAgLy8gdGhlIFJGQyBleHBsaWNpdGx5IHN0YXRlcyA/L2ZvbyBiZWluZyBhIHZhbGlkIHVzZSBjYXNlLCBubyBtZW50aW9uIG9mIHBhcmFtZXRlciBzeW50YXghCiAgICAvLyBVUkkuanMgdHJlYXRzIHRoZSBxdWVyeSBzdHJpbmcgYXMgYmVpbmcgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkCiAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlCgogICAgdmFyIHQgPSAnJzsKICAgIHZhciB1bmlxdWUsIGtleSwgaSwgbGVuZ3RoOwogICAgZm9yIChrZXkgaW4gZGF0YSkgewogICAgICBpZiAoaGFzT3duLmNhbGwoZGF0YSwga2V5KSAmJiBrZXkpIHsKICAgICAgICBpZiAoaXNBcnJheShkYXRhW2tleV0pKSB7CiAgICAgICAgICB1bmlxdWUgPSB7fTsKICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGFba2V5XS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoZGF0YVtrZXldW2ldICE9PSB1bmRlZmluZWQgJiYgdW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XVtpXSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgICAgICAgICAgaWYgKGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHQuc3Vic3RyaW5nKDEpOwogIH07CiAgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlIC0tIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gZG9uJ3QgYXBwZW5kICI9IiBmb3IgbnVsbCB2YWx1ZXMsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI3VybC1wYXJhbWV0ZXItc2VyaWFsaXphdGlvbgogICAgcmV0dXJuIFVSSS5lbmNvZGVRdWVyeShuYW1lLCBlc2NhcGVRdWVyeVNwYWNlKSArICh2YWx1ZSAhPT0gbnVsbCA/ICc9JyArIFVSSS5lbmNvZGVRdWVyeSh2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgOiAnJyk7CiAgfTsKCiAgVVJJLmFkZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgVVJJLmFkZFF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmIChkYXRhW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICBkYXRhW25hbWVdID0gdmFsdWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhW25hbWVdID09PSAnc3RyaW5nJykgewogICAgICAgIGRhdGFbbmFtZV0gPSBbZGF0YVtuYW1lXV07CiAgICAgIH0KCiAgICAgIGlmICghaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07CiAgICAgIH0KCiAgICAgIGRhdGFbbmFtZV0gPSAoZGF0YVtuYW1lXSB8fCBbXSkuY29uY2F0KHZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKICBVUkkucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIGksIGxlbmd0aCwga2V5OwoKICAgIGlmIChpc0FycmF5KG5hbWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBkYXRhW25hbWVbaV1dID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGdldFR5cGUobmFtZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgICBpZiAobmFtZS50ZXN0KGtleSkpIHsKICAgICAgICAgIGRhdGFba2V5XSA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAoa2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykgewogICAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pICYmIHZhbHVlLnRlc3QoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhW25hbWVdID09PSBTdHJpbmcodmFsdWUpICYmICghaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSkgewogICAgICAgICAgZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5yZW1vdmVRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcsIFJlZ0V4cCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKICBVUkkuaGFzUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHN3aXRjaCAoZ2V0VHlwZShuYW1lKSkgewogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZQogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkpIHsKICAgICAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpICYmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IFVSSS5oYXNRdWVyeShkYXRhLCBrZXksIHZhbHVlKSkpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgY2FzZSAnT2JqZWN0JzoKICAgICAgICBmb3IgKHZhciBfa2V5IGluIG5hbWUpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBfa2V5KSkgewogICAgICAgICAgICBpZiAoIVVSSS5oYXNRdWVyeShkYXRhLCBfa2V5LCBuYW1lW19rZXldKSkgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYSBzdHJpbmcsIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciBvYmplY3QgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7CiAgICB9CgogICAgc3dpdGNoIChnZXRUeXBlKHZhbHVlKSkgewogICAgICBjYXNlICdVbmRlZmluZWQnOgogICAgICAgIC8vIHRydWUgaWYgZXhpc3RzIChidXQgbWF5IGJlIGVtcHR5KQogICAgICAgIHJldHVybiBuYW1lIGluIGRhdGE7IC8vIGRhdGFbbmFtZV0gIT09IHVuZGVmaW5lZDsKCiAgICAgIGNhc2UgJ0Jvb2xlYW4nOgogICAgICAgIC8vIHRydWUgaWYgZXhpc3RzIGFuZCBub24tZW1wdHkKICAgICAgICB2YXIgX2Jvb2x5ID0gQm9vbGVhbihpc0FycmF5KGRhdGFbbmFtZV0pID8gZGF0YVtuYW1lXS5sZW5ndGggOiBkYXRhW25hbWVdKTsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IF9ib29seTsKCiAgICAgIGNhc2UgJ0Z1bmN0aW9uJzoKICAgICAgICAvLyBhbGxvdyBjb21wbGV4IGNvbXBhcmlzb24KICAgICAgICByZXR1cm4gISF2YWx1ZShkYXRhW25hbWVdLCBuYW1lLCBkYXRhKTsKCiAgICAgIGNhc2UgJ0FycmF5JzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHZhciBvcCA9IHdpdGhpbkFycmF5ID8gYXJyYXlDb250YWlucyA6IGFycmF5c0VxdWFsOwogICAgICAgIHJldHVybiBvcChkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBjYXNlICdSZWdFeHAnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIEJvb2xlYW4oZGF0YVtuYW1lXSAmJiBkYXRhW25hbWVdLm1hdGNoKHZhbHVlKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdpdGhpbkFycmF5KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBjYXNlICdOdW1iZXInOgogICAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTsKICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovCiAgICAgIGNhc2UgJ1N0cmluZyc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZGF0YVtuYW1lXSA9PT0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXdpdGhpbkFycmF5KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7CgogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyJyk7CiAgICB9CiAgfTsKCgogIFVSSS5qb2luUGF0aHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBpbnB1dCA9IFtdOwogICAgdmFyIHNlZ21lbnRzID0gW107CiAgICB2YXIgbm9uRW1wdHlTZWdtZW50cyA9IDA7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHVybCA9IG5ldyBVUkkoYXJndW1lbnRzW2ldKTsKICAgICAgaW5wdXQucHVzaCh1cmwpOwogICAgICB2YXIgX3NlZ21lbnRzID0gdXJsLnNlZ21lbnQoKTsKICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBfc2VnbWVudHMubGVuZ3RoOyBzKyspIHsKICAgICAgICBpZiAodHlwZW9mIF9zZWdtZW50c1tzXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHNlZ21lbnRzLnB1c2goX3NlZ21lbnRzW3NdKTsKICAgICAgICB9CgogICAgICAgIGlmIChfc2VnbWVudHNbc10pIHsKICAgICAgICAgIG5vbkVtcHR5U2VnbWVudHMrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhbm9uRW1wdHlTZWdtZW50cykgewogICAgICByZXR1cm4gbmV3IFVSSSgnJyk7CiAgICB9CgogICAgdmFyIHVyaSA9IG5ldyBVUkkoJycpLnNlZ21lbnQoc2VnbWVudHMpOwoKICAgIGlmIChpbnB1dFswXS5wYXRoKCkgPT09ICcnIHx8IGlucHV0WzBdLnBhdGgoKS5zbGljZSgwLCAxKSA9PT0gJy8nKSB7CiAgICAgIHVyaS5wYXRoKCcvJyArIHVyaS5wYXRoKCkpOwogICAgfQoKICAgIHJldHVybiB1cmkubm9ybWFsaXplKCk7CiAgfTsKCiAgVVJJLmNvbW1vblBhdGggPSBmdW5jdGlvbihvbmUsIHR3bykgewogICAgdmFyIGxlbmd0aCA9IE1hdGgubWluKG9uZS5sZW5ndGgsIHR3by5sZW5ndGgpOwogICAgdmFyIHBvczsKCiAgICAvLyBmaW5kIGZpcnN0IG5vbi1tYXRjaGluZyBjaGFyYWN0ZXIKICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSB0d28uY2hhckF0KHBvcykpIHsKICAgICAgICBwb3MtLTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3MgPCAxKSB7CiAgICAgIHJldHVybiBvbmUuY2hhckF0KDApID09PSB0d28uY2hhckF0KDApICYmIG9uZS5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnOwogICAgfQoKICAgIC8vIHJldmVydCB0byBsYXN0IC8KICAgIGlmIChvbmUuY2hhckF0KHBvcykgIT09ICcvJyB8fCB0d28uY2hhckF0KHBvcykgIT09ICcvJykgewogICAgICBwb3MgPSBvbmUuc3Vic3RyaW5nKDAsIHBvcykubGFzdEluZGV4T2YoJy8nKTsKICAgIH0KCiAgICByZXR1cm4gb25lLnN1YnN0cmluZygwLCBwb3MgKyAxKTsKICB9OwoKICBVUkkud2l0aGluU3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nLCBjYWxsYmFjaywgb3B0aW9ucykgewogICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTsKICAgIHZhciBfc3RhcnQgPSBvcHRpb25zLnN0YXJ0IHx8IFVSSS5maW5kVXJpLnN0YXJ0OwogICAgdmFyIF9lbmQgPSBvcHRpb25zLmVuZCB8fCBVUkkuZmluZFVyaS5lbmQ7CiAgICB2YXIgX3RyaW0gPSBvcHRpb25zLnRyaW0gfHwgVVJJLmZpbmRVcmkudHJpbTsKICAgIHZhciBfYXR0cmlidXRlT3BlbiA9IC9bYS16MC05LV09WyInXT8kL2k7CgogICAgX3N0YXJ0Lmxhc3RJbmRleCA9IDA7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICB2YXIgbWF0Y2ggPSBfc3RhcnQuZXhlYyhzdHJpbmcpOwogICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHZhciBzdGFydCA9IG1hdGNoLmluZGV4OwogICAgICBpZiAob3B0aW9ucy5pZ25vcmVIdG1sKSB7CiAgICAgICAgLy8gYXR0cmlidXQoZT1bIiddPyQpCiAgICAgICAgdmFyIGF0dHJpYnV0ZU9wZW4gPSBzdHJpbmcuc2xpY2UoTWF0aC5tYXgoc3RhcnQgLSAzLCAwKSwgc3RhcnQpOwogICAgICAgIGlmIChhdHRyaWJ1dGVPcGVuICYmIF9hdHRyaWJ1dGVPcGVuLnRlc3QoYXR0cmlidXRlT3BlbikpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGVuZCA9IHN0YXJ0ICsgc3RyaW5nLnNsaWNlKHN0YXJ0KS5zZWFyY2goX2VuZCk7CiAgICAgIHZhciBzbGljZSA9IHN0cmluZy5zbGljZShzdGFydCwgZW5kKS5yZXBsYWNlKF90cmltLCAnJyk7CiAgICAgIGlmIChvcHRpb25zLmlnbm9yZSAmJiBvcHRpb25zLmlnbm9yZS50ZXN0KHNsaWNlKSkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBlbmQgPSBzdGFydCArIHNsaWNlLmxlbmd0aDsKICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKHNsaWNlLCBzdGFydCwgZW5kLCBzdHJpbmcpOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgc3RhcnQpICsgcmVzdWx0ICsgc3RyaW5nLnNsaWNlKGVuZCk7CiAgICAgIF9zdGFydC5sYXN0SW5kZXggPSBzdGFydCArIHJlc3VsdC5sZW5ndGg7CiAgICB9CgogICAgX3N0YXJ0Lmxhc3RJbmRleCA9IDA7CiAgICByZXR1cm4gc3RyaW5nOwogIH07CgogIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lID0gZnVuY3Rpb24odikgewogICAgLy8gVGhlb3JldGljYWxseSBVUklzIGFsbG93IHBlcmNlbnQtZW5jb2RpbmcgaW4gSG9zdG5hbWVzIChhY2NvcmRpbmcgdG8gUkZDIDM5ODYpCiAgICAvLyB0aGV5IGFyZSBub3QgcGFydCBvZiBETlMgYW5kIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IFVSSS5qcwoKICAgIGlmICh2Lm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgIC8vIHRlc3QgcHVueWNvZGUKICAgICAgaWYgKCFwdW55Y29kZSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7CiAgICAgIH0KCiAgICAgIGlmIChwdW55Y29kZS50b0FTQ0lJKHYpLm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIG5vQ29uZmxpY3QKICBVUkkubm9Db25mbGljdCA9IGZ1bmN0aW9uKHJlbW92ZUFsbCkgewogICAgaWYgKHJlbW92ZUFsbCkgewogICAgICB2YXIgdW5jb25mbGljdGVkID0gewogICAgICAgIFVSSTogdGhpcy5ub0NvbmZsaWN0KCkKICAgICAgfTsKCiAgICAgIGlmIChyb290LlVSSVRlbXBsYXRlICYmIHR5cGVvZiByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuVVJJVGVtcGxhdGUgPSByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QoKTsKICAgICAgfQoKICAgICAgaWYgKHJvb3QuSVB2NiAmJiB0eXBlb2Ygcm9vdC5JUHY2Lm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuSVB2NiA9IHJvb3QuSVB2Ni5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LlNlY29uZExldmVsRG9tYWlucyAmJiB0eXBlb2Ygcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHVuY29uZmxpY3RlZC5TZWNvbmRMZXZlbERvbWFpbnMgPSByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bmNvbmZsaWN0ZWQ7CiAgICB9IGVsc2UgaWYgKHJvb3QuVVJJID09PSB0aGlzKSB7CiAgICAgIHJvb3QuVVJJID0gX1VSSTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmJ1aWxkID0gZnVuY3Rpb24oZGVmZXJCdWlsZCkgewogICAgaWYgKGRlZmVyQnVpbGQgPT09IHRydWUpIHsKICAgICAgdGhpcy5fZGVmZXJyZWRfYnVpbGQgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkZWZlckJ1aWxkID09PSB1bmRlZmluZWQgfHwgdGhpcy5fZGVmZXJyZWRfYnVpbGQpIHsKICAgICAgdGhpcy5fc3RyaW5nID0gVVJJLmJ1aWxkKHRoaXMuX3BhcnRzKTsKICAgICAgdGhpcy5fZGVmZXJyZWRfYnVpbGQgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmNsb25lID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gbmV3IFVSSSh0aGlzKTsKICB9OwoKICBwLnZhbHVlT2YgPSBwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5idWlsZChmYWxzZSkuX3N0cmluZzsKICB9OwoKCiAgZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcihfcGFydCl7CiAgICByZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fcGFydHNbX3BhcnRdID0gdiB8fCBudWxsOwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoX3BhcnQsIF9rZXkpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh2ICE9PSBudWxsKSB7CiAgICAgICAgICB2ID0gdiArICcnOwogICAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSBfa2V5KSB7CiAgICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHY7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CiAgICB9OwogIH0KCiAgcC5wcm90b2NvbCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Byb3RvY29sJyk7CiAgcC51c2VybmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3VzZXJuYW1lJyk7CiAgcC5wYXNzd29yZCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Bhc3N3b3JkJyk7CiAgcC5ob3N0bmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ2hvc3RuYW1lJyk7CiAgcC5wb3J0ID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncG9ydCcpOwogIHAucXVlcnkgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdxdWVyeScsICc/Jyk7CiAgcC5mcmFnbWVudCA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ2ZyYWdtZW50JywgJyMnKTsKCiAgcC5zZWFyY2ggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHQgPSB0aGlzLnF1ZXJ5KHYsIGJ1aWxkKTsKICAgIHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJz8nICsgdCkgOiB0OwogIH07CiAgcC5oYXNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5mcmFnbWVudCh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCcjJyArIHQpIDogdDsKICB9OwoKICBwLnBhdGhuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aCB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CiAgICAgIHJldHVybiB2ID8gKHRoaXMuX3BhcnRzLnVybiA/IFVSSS5kZWNvZGVVcm5QYXRoIDogVVJJLmRlY29kZVBhdGgpKHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlVXJuUGF0aCh2KSA6ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVBhdGgodikgOiAnLyc7CiAgICAgIH0KICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucGF0aCA9IHAucGF0aG5hbWU7CiAgcC5ocmVmID0gZnVuY3Rpb24oaHJlZiwgYnVpbGQpIHsKICAgIHZhciBrZXk7CgogICAgaWYgKGhyZWYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpOwogICAgfQoKICAgIHRoaXMuX3N0cmluZyA9ICcnOwogICAgdGhpcy5fcGFydHMgPSBVUkkuX3BhcnRzKCk7CgogICAgdmFyIF9VUkkgPSBocmVmIGluc3RhbmNlb2YgVVJJOwogICAgdmFyIF9vYmplY3QgPSB0eXBlb2YgaHJlZiA9PT0gJ29iamVjdCcgJiYgKGhyZWYuaG9zdG5hbWUgfHwgaHJlZi5wYXRoIHx8IGhyZWYucGF0aG5hbWUpOwogICAgaWYgKGhyZWYubm9kZU5hbWUpIHsKICAgICAgdmFyIGF0dHJpYnV0ZSA9IFVSSS5nZXREb21BdHRyaWJ1dGUoaHJlZik7CiAgICAgIGhyZWYgPSBocmVmW2F0dHJpYnV0ZV0gfHwgJyc7CiAgICAgIF9vYmplY3QgPSBmYWxzZTsKICAgIH0KCiAgICAvLyB3aW5kb3cubG9jYXRpb24gaXMgcmVwb3J0ZWQgdG8gYmUgYW4gb2JqZWN0LCBidXQgaXQncyBub3QgdGhlIHNvcnQKICAgIC8vIG9mIG9iamVjdCB3ZSdyZSBsb29raW5nIGZvcjoKICAgIC8vICogbG9jYXRpb24ucHJvdG9jb2wgZW5kcyB3aXRoIGEgY29sb24KICAgIC8vICogbG9jYXRpb24ucXVlcnkgIT0gb2JqZWN0LnNlYXJjaAogICAgLy8gKiBsb2NhdGlvbi5oYXNoICE9IG9iamVjdC5mcmFnbWVudAogICAgLy8gc2ltcGx5IHNlcmlhbGl6aW5nIHRoZSB1bmtub3duIG9iamVjdCBzaG91bGQgZG8gdGhlIHRyaWNrCiAgICAvLyAoZm9yIGxvY2F0aW9uLCBub3QgZm9yIGV2ZXJ5dGhpbmcuLi4pCiAgICBpZiAoIV9VUkkgJiYgX29iamVjdCAmJiBocmVmLnBhdGhuYW1lICE9PSB1bmRlZmluZWQpIHsKICAgICAgaHJlZiA9IGhyZWYudG9TdHJpbmcoKTsKICAgIH0KCiAgICBpZiAodHlwZW9mIGhyZWYgPT09ICdzdHJpbmcnIHx8IGhyZWYgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgdGhpcy5fcGFydHMgPSBVUkkucGFyc2UoU3RyaW5nKGhyZWYpLCB0aGlzLl9wYXJ0cyk7CiAgICB9IGVsc2UgaWYgKF9VUkkgfHwgX29iamVjdCkgewogICAgICB2YXIgc3JjID0gX1VSSSA/IGhyZWYuX3BhcnRzIDogaHJlZjsKICAgICAgZm9yIChrZXkgaW4gc3JjKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKHRoaXMuX3BhcnRzLCBrZXkpKSB7CiAgICAgICAgICB0aGlzLl9wYXJ0c1trZXldID0gc3JjW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGlucHV0Jyk7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gaWRlbnRpZmljYXRpb24gYWNjZXNzb3JzCiAgcC5pcyA9IGZ1bmN0aW9uKHdoYXQpIHsKICAgIHZhciBpcCA9IGZhbHNlOwogICAgdmFyIGlwNCA9IGZhbHNlOwogICAgdmFyIGlwNiA9IGZhbHNlOwogICAgdmFyIG5hbWUgPSBmYWxzZTsKICAgIHZhciBzbGQgPSBmYWxzZTsKICAgIHZhciBpZG4gPSBmYWxzZTsKICAgIHZhciBwdW55Y29kZSA9IGZhbHNlOwogICAgdmFyIHJlbGF0aXZlID0gIXRoaXMuX3BhcnRzLnVybjsKCiAgICBpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgcmVsYXRpdmUgPSBmYWxzZTsKICAgICAgaXA0ID0gVVJJLmlwNF9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcDYgPSBVUkkuaXA2X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlwID0gaXA0IHx8IGlwNjsKICAgICAgbmFtZSA9ICFpcDsKICAgICAgc2xkID0gbmFtZSAmJiBTTEQgJiYgU0xELmhhcyh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIGlkbiA9IG5hbWUgJiYgVVJJLmlkbl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBwdW55Y29kZSA9IG5hbWUgJiYgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICB9CgogICAgc3dpdGNoICh3aGF0LnRvTG93ZXJDYXNlKCkpIHsKICAgICAgY2FzZSAncmVsYXRpdmUnOgogICAgICAgIHJldHVybiByZWxhdGl2ZTsKCiAgICAgIGNhc2UgJ2Fic29sdXRlJzoKICAgICAgICByZXR1cm4gIXJlbGF0aXZlOwoKICAgICAgLy8gaG9zdG5hbWUgaWRlbnRpZmljYXRpb24KICAgICAgY2FzZSAnZG9tYWluJzoKICAgICAgY2FzZSAnbmFtZSc6CiAgICAgICAgcmV0dXJuIG5hbWU7CgogICAgICBjYXNlICdzbGQnOgogICAgICAgIHJldHVybiBzbGQ7CgogICAgICBjYXNlICdpcCc6CiAgICAgICAgcmV0dXJuIGlwOwoKICAgICAgY2FzZSAnaXA0JzoKICAgICAgY2FzZSAnaXB2NCc6CiAgICAgIGNhc2UgJ2luZXQ0JzoKICAgICAgICByZXR1cm4gaXA0OwoKICAgICAgY2FzZSAnaXA2JzoKICAgICAgY2FzZSAnaXB2Nic6CiAgICAgIGNhc2UgJ2luZXQ2JzoKICAgICAgICByZXR1cm4gaXA2OwoKICAgICAgY2FzZSAnaWRuJzoKICAgICAgICByZXR1cm4gaWRuOwoKICAgICAgY2FzZSAndXJsJzoKICAgICAgICByZXR1cm4gIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3Vybic6CiAgICAgICAgcmV0dXJuICEhdGhpcy5fcGFydHMudXJuOwoKICAgICAgY2FzZSAncHVueWNvZGUnOgogICAgICAgIHJldHVybiBwdW55Y29kZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9OwoKICAvLyBjb21wb25lbnQgc3BlY2lmaWMgaW5wdXQgdmFsaWRhdGlvbgogIHZhciBfcHJvdG9jb2wgPSBwLnByb3RvY29sOwogIHZhciBfcG9ydCA9IHAucG9ydDsKICB2YXIgX2hvc3RuYW1lID0gcC5ob3N0bmFtZTsKCiAgcC5wcm90b2NvbCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgLy8gYWNjZXB0IHRyYWlsaW5nIDovLwogICAgICAgIHYgPSB2LnJlcGxhY2UoLzooXC9cLyk/JC8sICcnKTsKCiAgICAgICAgaWYgKCF2Lm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuXCd0IHN0YXJ0IHdpdGggW0EtWl0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcHJvdG9jb2wuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgfTsKICBwLnNjaGVtZSA9IHAucHJvdG9jb2w7CiAgcC5wb3J0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICh2ID09PSAwKSB7CiAgICAgICAgdiA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgdiArPSAnJzsKICAgICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICc6JykgewogICAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYubWF0Y2goL1teMC05XS8pKSB7CiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQb3J0ICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIF9wb3J0LmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5ob3N0bmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgeCA9IHt9OwogICAgICB2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB4KTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdiA9IHguaG9zdG5hbWU7CiAgICB9CiAgICByZXR1cm4gX2hvc3RuYW1lLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CgogIC8vIGNvbXBvdW5kIGFjY2Vzc29ycwogIHAub3JpZ2luID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2woKTsKICAgICAgdmFyIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5KCk7CiAgICAgIGlmICghYXV0aG9yaXR5KSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICByZXR1cm4gKHByb3RvY29sID8gcHJvdG9jb2wgKyAnOi8vJyA6ICcnKSArIHRoaXMuYXV0aG9yaXR5KCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgb3JpZ2luID0gVVJJKHYpOwogICAgICB0aGlzCiAgICAgICAgLnByb3RvY29sKG9yaWdpbi5wcm90b2NvbCgpKQogICAgICAgIC5hdXRob3JpdHkob3JpZ2luLmF1dGhvcml0eSgpKQogICAgICAgIC5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuaG9zdCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRIb3N0KHRoaXMuX3BhcnRzKSA6ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5hdXRob3JpdHkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkQXV0aG9yaXR5KHRoaXMuX3BhcnRzKSA6ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUF1dGhvcml0eSh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnVzZXJpbmZvID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciB0ID0gVVJJLmJ1aWxkVXNlcmluZm8odGhpcy5fcGFydHMpOwogICAgICByZXR1cm4gdCA/IHQuc3Vic3RyaW5nKDAsIHQubGVuZ3RoIC0xKSA6IHQ7CiAgICB9IGVsc2UgewogICAgICBpZiAodlt2Lmxlbmd0aC0xXSAhPT0gJ0AnKSB7CiAgICAgICAgdiArPSAnQCc7CiAgICAgIH0KCiAgICAgIFVSSS5wYXJzZVVzZXJpbmZvKHYsIHRoaXMuX3BhcnRzKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAucmVzb3VyY2UgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgdmFyIHBhcnRzOwoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMucGF0aCgpICsgdGhpcy5zZWFyY2goKSArIHRoaXMuaGFzaCgpOwogICAgfQoKICAgIHBhcnRzID0gVVJJLnBhcnNlKHYpOwogICAgdGhpcy5fcGFydHMucGF0aCA9IHBhcnRzLnBhdGg7CiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IHBhcnRzLnF1ZXJ5OwogICAgdGhpcy5fcGFydHMuZnJhZ21lbnQgPSBwYXJ0cy5mcmFnbWVudDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGZyYWN0aW9uIGFjY2Vzc29ycwogIHAuc3ViZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICAvLyBjb252ZW5pZW5jZSwgcmV0dXJuICJ3d3ciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBncmFiIGRvbWFpbiBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGggLSAxOwogICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGVuZCkgfHwgJyc7CiAgICB9IGVsc2UgewogICAgICB2YXIgZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoOwogICAgICB2YXIgc3ViID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGUpOwogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoc3ViKSk7CgogICAgICBpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLicpIHsKICAgICAgICB2ICs9ICcuJzsKICAgICAgfQoKICAgICAgaWYgKHYpIHsKICAgICAgICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSh2KTsKICAgICAgfQoKICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5kb21haW4gPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyBjb252ZW5pZW5jZSwgcmV0dXJuICJleGFtcGxlLm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIGlmIGhvc3RuYW1lIGNvbnNpc3RzIG9mIDEgb3IgMiBzZWdtZW50cywgaXQgbXVzdCBiZSB0aGUgZG9tYWluCiAgICAgIHZhciB0ID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubWF0Y2goL1wuL2cpOwogICAgICBpZiAodCAmJiB0Lmxlbmd0aCA8IDIpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWU7CiAgICAgIH0KCiAgICAgIC8vIGdyYWIgdGxkIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50CiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLnRsZChidWlsZCkubGVuZ3RoIC0gMTsKICAgICAgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nLCBlbmQgLTEpICsgMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCF2KSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBkb21haW4gZW1wdHknKTsKICAgICAgfQoKICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CgogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHY7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZG9tYWluKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnRsZCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIC8vIHJldHVybiAib3JnIiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIHBvcyA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIHZhciB0bGQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcocG9zICsgMSk7CgogICAgICBpZiAoYnVpbGQgIT09IHRydWUgJiYgU0xEICYmIFNMRC5saXN0W3RsZC50b0xvd2VyQ2FzZSgpXSkgewogICAgICAgIHJldHVybiBTTEQuZ2V0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB8fCB0bGQ7CiAgICAgIH0KCiAgICAgIHJldHVybiB0bGQ7CiAgICB9IGVsc2UgewogICAgICB2YXIgcmVwbGFjZTsKCiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIGVtcHR5Jyk7CiAgICAgIH0gZWxzZSBpZiAodi5tYXRjaCgvW15hLXpBLVowLTktXS8pKSB7CiAgICAgICAgaWYgKFNMRCAmJiBTTEQuaXModikpIHsKICAgICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVExEICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpOwogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZGlyZWN0b3J5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoICYmICF0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnLyc7CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGggLSAxOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZW5kKSB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7CgogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoKHJlcykgOiByZXM7CgogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGg7CiAgICAgIHZhciBkaXJlY3RvcnkgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KGRpcmVjdG9yeSkpOwoKICAgICAgLy8gZnVsbHkgcXVhbGlmaWVyIGRpcmVjdG9yaWVzIGJlZ2luIHdpdGggYSBzbGFzaAogICAgICBpZiAoIXRoaXMuaXMoJ3JlbGF0aXZlJykpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHYgPSAnLyc7CiAgICAgICAgfQoKICAgICAgICBpZiAodi5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICAgICAgdiA9ICcvJyArIHY7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBkaXJlY3RvcmllcyBhbHdheXMgZW5kIHdpdGggYSBzbGFzaAogICAgICBpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLycpIHsKICAgICAgICB2ICs9ICcvJzsKICAgICAgfQoKICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5maWxlbmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5wYXRoLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZyhwb3MrMSk7CgogICAgICByZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG11dGF0ZWREaXJlY3RvcnkgPSBmYWxzZTsKCiAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJy8nKSB7CiAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICB9CgogICAgICBpZiAodi5tYXRjaCgvXC4/XC8vKSkgewogICAgICAgIG11dGF0ZWREaXJlY3RvcnkgPSB0cnVlOwogICAgICB9CgogICAgICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5maWxlbmFtZSgpKSArICckJyk7CiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKCiAgICAgIGlmIChtdXRhdGVkRGlyZWN0b3J5KSB7CiAgICAgICAgdGhpcy5ub3JtYWxpemVQYXRoKGJ1aWxkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zdWZmaXggPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lKCk7CiAgICAgIHZhciBwb3MgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgcywgcmVzOwoKICAgICAgaWYgKHBvcyA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIHN1ZmZpeCBtYXkgb25seSBjb250YWluIGFsbnVtIGNoYXJhY3RlcnMgKHl1cCwgSSBtYWRlIHRoaXMgdXAuKQogICAgICBzID0gZmlsZW5hbWUuc3Vic3RyaW5nKHBvcysxKTsKICAgICAgcmVzID0gKC9eW2EtejAtOSVdKyQvaSkudGVzdChzKSA/IHMgOiAnJzsKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gJy4nKSB7CiAgICAgICAgdiA9IHYuc3Vic3RyaW5nKDEpOwogICAgICB9CgogICAgICB2YXIgc3VmZml4ID0gdGhpcy5zdWZmaXgoKTsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXN1ZmZpeCkgewogICAgICAgIGlmICghdikgewogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoICs9ICcuJyArIFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICB9IGVsc2UgaWYgKCF2KSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoJy4nICsgc3VmZml4KSArICckJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoc3VmZml4KSArICckJyk7CiAgICAgIH0KCiAgICAgIGlmIChyZXBsYWNlKSB7CiAgICAgICAgdiA9IFVSSS5yZWNvZGVQYXRoKHYpOwogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnNlZ21lbnQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlcGFyYXRvciA9IHRoaXMuX3BhcnRzLnVybiA/ICc6JyA6ICcvJzsKICAgIHZhciBwYXRoID0gdGhpcy5wYXRoKCk7CiAgICB2YXIgYWJzb2x1dGUgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nOwogICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdChzZXBhcmF0b3IpOwoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHNlZ21lbnQ7CiAgICAgIHNlZ21lbnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudCAiJyArIHNlZ21lbnQgKyAnIiwgbXVzdCBiZSAwLWJhc2VkIGludGVnZXInKTsKICAgIH0KCiAgICBpZiAoYWJzb2x1dGUpIHsKICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0KCiAgICBpZiAoc2VnbWVudCA8IDApIHsKICAgICAgLy8gYWxsb3cgbmVnYXRpdmUgaW5kZXhlcyB0byBhZGRyZXNzIGZyb20gdGhlIGVuZAogICAgICBzZWdtZW50ID0gTWF0aC5tYXgoc2VnbWVudHMubGVuZ3RoICsgc2VnbWVudCwgMCk7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICAvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqLwogICAgICByZXR1cm4gc2VnbWVudCA9PT0gdW5kZWZpbmVkCiAgICAgICAgPyBzZWdtZW50cwogICAgICAgIDogc2VnbWVudHNbc2VnbWVudF07CiAgICAgIC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqLwogICAgfSBlbHNlIGlmIChzZWdtZW50ID09PSBudWxsIHx8IHNlZ21lbnRzW3NlZ21lbnRdID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKGlzQXJyYXkodikpIHsKICAgICAgICBzZWdtZW50cyA9IFtdOwogICAgICAgIC8vIGNvbGxhcHNlIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiBhcnJheQogICAgICAgIGZvciAodmFyIGk9MCwgbD12Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgaWYgKCF2W2ldLmxlbmd0aCAmJiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggJiYgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpOwogICAgICAgICAgfQoKICAgICAgICAgIHNlZ21lbnRzLnB1c2godHJpbVNsYXNoZXModltpXSkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh2IHx8IHR5cGVvZiB2ID09PSAnc3RyaW5nJykgewogICAgICAgIHYgPSB0cmltU2xhc2hlcyh2KTsKICAgICAgICBpZiAoc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9PT0gJycpIHsKICAgICAgICAgIC8vIGVtcHR5IHRyYWlsaW5nIGVsZW1lbnRzIGhhdmUgdG8gYmUgb3ZlcndyaXR0ZW4KICAgICAgICAgIC8vIHRvIHByZXZlbnQgcmVzdWx0cyBzdWNoIGFzIC9mb28vL2JhcgogICAgICAgICAgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9IHY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlZ21lbnRzLnB1c2godik7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAodikgewogICAgICAgIHNlZ21lbnRzW3NlZ21lbnRdID0gdHJpbVNsYXNoZXModik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHNlZ21lbnQsIDEpOwogICAgICB9CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnVuc2hpZnQoJycpOwogICAgfQoKICAgIHJldHVybiB0aGlzLnBhdGgoc2VnbWVudHMuam9pbihzZXBhcmF0b3IpLCBidWlsZCk7CiAgfTsKICBwLnNlZ21lbnRDb2RlZCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7CiAgICB2YXIgc2VnbWVudHMsIGksIGw7CgogICAgaWYgKHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogICAgICBpZiAoIWlzQXJyYXkoc2VnbWVudHMpKSB7CiAgICAgICAgc2VnbWVudHMgPSBzZWdtZW50cyAhPT0gdW5kZWZpbmVkID8gVVJJLmRlY29kZShzZWdtZW50cykgOiB1bmRlZmluZWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChpID0gMCwgbCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgc2VnbWVudHNbaV0gPSBVUkkuZGVjb2RlKHNlZ21lbnRzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWdtZW50czsKICAgIH0KCiAgICBpZiAoIWlzQXJyYXkodikpIHsKICAgICAgdiA9ICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgdiBpbnN0YW5jZW9mIFN0cmluZykgPyBVUkkuZW5jb2RlKHYpIDogdjsKICAgIH0gZWxzZSB7CiAgICAgIGZvciAoaSA9IDAsIGwgPSB2Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZbaV0gPSBVUkkuZW5jb2RlKHZbaV0pOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7CiAgfTsKCiAgLy8gbXV0YXRpbmcgcXVlcnkgc3RyaW5nCiAgdmFyIHEgPSBwLnF1ZXJ5OwogIHAucXVlcnkgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgPT09IHRydWUpIHsKICAgICAgcmV0dXJuIFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHZhciByZXN1bHQgPSB2LmNhbGwodGhpcywgZGF0YSk7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkocmVzdWx0IHx8IGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9IGVsc2UgaWYgKHYgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeSh2LCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHEuY2FsbCh0aGlzLCB2LCBidWlsZCk7CiAgICB9CiAgfTsKICBwLnNldFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKCiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8IG5hbWUgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IG51bGw7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkgewogICAgICAgIGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSBuYW1lW2tleV07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuYWRkUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLmFkZFF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWUpOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5yZW1vdmVRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBVUkkucmVtb3ZlUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUpOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICBidWlsZCA9IHZhbHVlOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5oYXNRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICByZXR1cm4gVVJJLmhhc1F1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSk7CiAgfTsKICBwLnNldFNlYXJjaCA9IHAuc2V0UXVlcnk7CiAgcC5hZGRTZWFyY2ggPSBwLmFkZFF1ZXJ5OwogIHAucmVtb3ZlU2VhcmNoID0gcC5yZW1vdmVRdWVyeTsKICBwLmhhc1NlYXJjaCA9IHAuaGFzUXVlcnk7CgogIC8vIHNhbml0aXppbmcgVVJMcwogIHAubm9ybWFsaXplID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB0aGlzCiAgICAgICAgLm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVQYXRoKGZhbHNlKQogICAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgICAubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpCiAgICAgICAgLmJ1aWxkKCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMKICAgICAgLm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKQogICAgICAubm9ybWFsaXplSG9zdG5hbWUoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVQb3J0KGZhbHNlKQogICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKQogICAgICAubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpCiAgICAgIC5idWlsZCgpOwogIH07CiAgcC5ub3JtYWxpemVQcm90b2NvbCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJykgewogICAgICB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9IHRoaXMuX3BhcnRzLnByb3RvY29sLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplSG9zdG5hbWUgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIGlmICh0aGlzLmlzKCdJRE4nKSAmJiBwdW55Y29kZSkgewogICAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcygnSVB2NicpICYmIElQdjYpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IElQdjYuYmVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQb3J0ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIC8vIHJlbW92ZSBwb3J0IG9mIGl0J3MgdGhlIHByb3RvY29sJ3MgZGVmYXVsdAogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fcGFydHMucG9ydCA9PT0gVVJJLmRlZmF1bHRQb3J0c1t0aGlzLl9wYXJ0cy5wcm90b2NvbF0pIHsKICAgICAgdGhpcy5fcGFydHMucG9ydCA9IG51bGw7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUGF0aCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICB2YXIgX3BhdGggPSB0aGlzLl9wYXJ0cy5wYXRoOwogICAgaWYgKCFfcGF0aCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSBVUkkucmVjb2RlVXJuUGF0aCh0aGlzLl9wYXJ0cy5wYXRoKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIF9wYXRoID0gVVJJLnJlY29kZVBhdGgoX3BhdGgpOwoKICAgIHZhciBfd2FzX3JlbGF0aXZlOwogICAgdmFyIF9sZWFkaW5nUGFyZW50cyA9ICcnOwogICAgdmFyIF9wYXJlbnQsIF9wb3M7CgogICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzCiAgICBpZiAoX3BhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgX3dhc19yZWxhdGl2ZSA9IHRydWU7CiAgICAgIF9wYXRoID0gJy8nICsgX3BhdGg7CiAgICB9CgogICAgLy8gaGFuZGxlIHJlbGF0aXZlIGZpbGVzIChhcyBvcHBvc2VkIHRvIGRpcmVjdG9yaWVzKQogICAgaWYgKF9wYXRoLnNsaWNlKC0zKSA9PT0gJy8uLicgfHwgX3BhdGguc2xpY2UoLTIpID09PSAnLy4nKSB7CiAgICAgIF9wYXRoICs9ICcvJzsKICAgIH0KCiAgICAvLyByZXNvbHZlIHNpbXBsZXMKICAgIF9wYXRoID0gX3BhdGgKICAgICAgLnJlcGxhY2UoLyhcLyhcLlwvKSspfChcL1wuJCkvZywgJy8nKQogICAgICAucmVwbGFjZSgvXC97Mix9L2csICcvJyk7CgogICAgLy8gcmVtZW1iZXIgbGVhZGluZyBwYXJlbnRzCiAgICBpZiAoX3dhc19yZWxhdGl2ZSkgewogICAgICBfbGVhZGluZ1BhcmVudHMgPSBfcGF0aC5zdWJzdHJpbmcoMSkubWF0Y2goL14oXC5cLlwvKSsvKSB8fCAnJzsKICAgICAgaWYgKF9sZWFkaW5nUGFyZW50cykgewogICAgICAgIF9sZWFkaW5nUGFyZW50cyA9IF9sZWFkaW5nUGFyZW50c1swXTsKICAgICAgfQogICAgfQoKICAgIC8vIHJlc29sdmUgcGFyZW50cwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgX3BhcmVudCA9IF9wYXRoLnNlYXJjaCgvXC9cLlwuKFwvfCQpLyk7CiAgICAgIGlmIChfcGFyZW50ID09PSAtMSkgewogICAgICAgIC8vIG5vIG1vcmUgLi4vIHRvIHJlc29sdmUKICAgICAgICBicmVhazsKICAgICAgfSBlbHNlIGlmIChfcGFyZW50ID09PSAwKSB7CiAgICAgICAgLy8gdG9wIGxldmVsIGNhbm5vdCBiZSByZWxhdGl2ZSwgc2tpcCBpdAogICAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDMpOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBfcG9zID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wYXJlbnQpLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgIGlmIChfcG9zID09PSAtMSkgewogICAgICAgIF9wb3MgPSBfcGFyZW50OwogICAgICB9CiAgICAgIF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wb3MpICsgX3BhdGguc3Vic3RyaW5nKF9wYXJlbnQgKyAzKTsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gcmVsYXRpdmUKICAgIGlmIChfd2FzX3JlbGF0aXZlICYmIHRoaXMuaXMoJ3JlbGF0aXZlJykpIHsKICAgICAgX3BhdGggPSBfbGVhZGluZ1BhcmVudHMgKyBfcGF0aC5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgdGhpcy5fcGFydHMucGF0aCA9IF9wYXRoOwogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGhuYW1lID0gcC5ub3JtYWxpemVQYXRoOwogIHAubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5xdWVyeS5sZW5ndGgpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeShVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUZyYWdtZW50ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICghdGhpcy5fcGFydHMuZnJhZ21lbnQpIHsKICAgICAgdGhpcy5fcGFydHMuZnJhZ21lbnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVNlYXJjaCA9IHAubm9ybWFsaXplUXVlcnk7CiAgcC5ub3JtYWxpemVIYXNoID0gcC5ub3JtYWxpemVGcmFnbWVudDsKCiAgcC5pc284ODU5ID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgdW5pY29kZSBpbnB1dCwgaXNvODg1OSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gZXNjYXBlOwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICAgIHRyeSB7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBVUkkuZW5jb2RlID0gZTsKICAgICAgVVJJLmRlY29kZSA9IGQ7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLnVuaWNvZGUgPSBmdW5jdGlvbigpIHsKICAgIC8vIGV4cGVjdCBpc284ODU5IGlucHV0LCB1bmljb2RlIG91dHB1dAogICAgdmFyIGUgPSBVUkkuZW5jb2RlOwogICAgdmFyIGQgPSBVUkkuZGVjb2RlOwoKICAgIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgICBVUkkuZGVjb2RlID0gdW5lc2NhcGU7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5yZWFkYWJsZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHVyaSA9IHRoaXMuY2xvbmUoKTsKICAgIC8vIHJlbW92aW5nIHVzZXJuYW1lLCBwYXNzd29yZCwgYmVjYXVzZSB0aGV5IHNob3VsZG4ndCBiZSBkaXNwbGF5ZWQgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgICB1cmkudXNlcm5hbWUoJycpLnBhc3N3b3JkKCcnKS5ub3JtYWxpemUoKTsKICAgIHZhciB0ID0gJyc7CiAgICBpZiAodXJpLl9wYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHVyaS5fcGFydHMucHJvdG9jb2wgKyAnOi8vJzsKICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodXJpLmlzKCdwdW55Y29kZScpICYmIHB1bnljb2RlKSB7CiAgICAgICAgdCArPSBwdW55Y29kZS50b1VuaWNvZGUodXJpLl9wYXJ0cy5ob3N0bmFtZSk7CiAgICAgICAgaWYgKHVyaS5fcGFydHMucG9ydCkgewogICAgICAgICAgdCArPSAnOicgKyB1cmkuX3BhcnRzLnBvcnQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHQgKz0gdXJpLmhvc3QoKTsKICAgICAgfQogICAgfQoKICAgIGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lICYmIHVyaS5fcGFydHMucGF0aCAmJiB1cmkuX3BhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdCArPSAnLyc7CiAgICB9CgogICAgdCArPSB1cmkucGF0aCh0cnVlKTsKICAgIGlmICh1cmkuX3BhcnRzLnF1ZXJ5KSB7CiAgICAgIHZhciBxID0gJyc7CiAgICAgIGZvciAodmFyIGkgPSAwLCBxcCA9IHVyaS5fcGFydHMucXVlcnkuc3BsaXQoJyYnKSwgbCA9IHFwLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHZhciBrdiA9IChxcFtpXSB8fCAnJykuc3BsaXQoJz0nKTsKICAgICAgICBxICs9ICcmJyArIFVSSS5kZWNvZGVRdWVyeShrdlswXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgIC5yZXBsYWNlKC8mL2csICclMjYnKTsKCiAgICAgICAgaWYgKGt2WzFdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHEgKz0gJz0nICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzFdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKQogICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHQgKz0gJz8nICsgcS5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgdCArPSBVUkkuZGVjb2RlUXVlcnkodXJpLmhhc2goKSwgdHJ1ZSk7CiAgICByZXR1cm4gdDsKICB9OwoKICAvLyByZXNvbHZpbmcgcmVsYXRpdmUgYW5kIGFic29sdXRlIFVSTHMKICBwLmFic29sdXRlVG8gPSBmdW5jdGlvbihiYXNlKSB7CiAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgcHJvcGVydGllcyA9IFsncHJvdG9jb2wnLCAndXNlcm5hbWUnLCAncGFzc3dvcmQnLCAnaG9zdG5hbWUnLCAncG9ydCddOwogICAgdmFyIGJhc2VkaXIsIGksIHA7CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7CiAgICB9CgogICAgaWYgKCEoYmFzZSBpbnN0YW5jZW9mIFVSSSkpIHsKICAgICAgYmFzZSA9IG5ldyBVUkkoYmFzZSk7CiAgICB9CgogICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sID0gYmFzZS5fcGFydHMucHJvdG9jb2w7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiByZXNvbHZlZDsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyAocCA9IHByb3BlcnRpZXNbaV0pOyBpKyspIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzW3BdID0gYmFzZS5fcGFydHNbcF07CiAgICB9CgogICAgaWYgKCFyZXNvbHZlZC5fcGFydHMucGF0aCkgewogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IGJhc2UuX3BhcnRzLnBhdGg7CiAgICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5KSB7CiAgICAgICAgcmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5ID0gYmFzZS5fcGFydHMucXVlcnk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAocmVzb2x2ZWQuX3BhcnRzLnBhdGguc3Vic3RyaW5nKC0yKSA9PT0gJy4uJykgewogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCArPSAnLyc7CiAgICB9CgogICAgaWYgKHJlc29sdmVkLnBhdGgoKS5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICBiYXNlZGlyID0gYmFzZS5kaXJlY3RvcnkoKTsKICAgICAgYmFzZWRpciA9IGJhc2VkaXIgPyBiYXNlZGlyIDogYmFzZS5wYXRoKCkuaW5kZXhPZignLycpID09PSAwID8gJy8nIDogJyc7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gKGJhc2VkaXIgPyAoYmFzZWRpciArICcvJykgOiAnJykgKyByZXNvbHZlZC5fcGFydHMucGF0aDsKICAgICAgcmVzb2x2ZWQubm9ybWFsaXplUGF0aCgpOwogICAgfQoKICAgIHJlc29sdmVkLmJ1aWxkKCk7CiAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgfTsKICBwLnJlbGF0aXZlVG8gPSBmdW5jdGlvbihiYXNlKSB7CiAgICB2YXIgcmVsYXRpdmUgPSB0aGlzLmNsb25lKCkubm9ybWFsaXplKCk7CiAgICB2YXIgcmVsYXRpdmVQYXJ0cywgYmFzZVBhcnRzLCBjb21tb24sIHJlbGF0aXZlUGF0aCwgYmFzZVBhdGg7CgogICAgaWYgKHJlbGF0aXZlLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpLm5vcm1hbGl6ZSgpOwogICAgcmVsYXRpdmVQYXJ0cyA9IHJlbGF0aXZlLl9wYXJ0czsKICAgIGJhc2VQYXJ0cyA9IGJhc2UuX3BhcnRzOwogICAgcmVsYXRpdmVQYXRoID0gcmVsYXRpdmUucGF0aCgpOwogICAgYmFzZVBhdGggPSBiYXNlLnBhdGgoKTsKCiAgICBpZiAocmVsYXRpdmVQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJJIGlzIGFscmVhZHkgcmVsYXRpdmUnKTsKICAgIH0KCiAgICBpZiAoYmFzZVBhdGguY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGEgVVJJIHJlbGF0aXZlIHRvIGFub3RoZXIgcmVsYXRpdmUgVVJJJyk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPT09IGJhc2VQYXJ0cy5wcm90b2NvbCkgewogICAgICByZWxhdGl2ZVBhcnRzLnByb3RvY29sID0gbnVsbDsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gYmFzZVBhcnRzLnVzZXJuYW1lIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IGJhc2VQYXJ0cy5wYXNzd29yZCkgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICBpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IG51bGwpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPT09IGJhc2VQYXJ0cy5ob3N0bmFtZSAmJiByZWxhdGl2ZVBhcnRzLnBvcnQgPT09IGJhc2VQYXJ0cy5wb3J0KSB7CiAgICAgIHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPSBudWxsOwogICAgICByZWxhdGl2ZVBhcnRzLnBvcnQgPSBudWxsOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGF0aCA9PT0gYmFzZVBhdGgpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gJyc7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIC8vIGRldGVybWluZSBjb21tb24gc3ViIHBhdGgKICAgIGNvbW1vbiA9IFVSSS5jb21tb25QYXRoKHJlbGF0aXZlUGF0aCwgYmFzZVBhdGgpOwoKICAgIC8vIElmIHRoZSBwYXRocyBoYXZlIG5vdGhpbmcgaW4gY29tbW9uLCByZXR1cm4gYSByZWxhdGl2ZSBVUkwgd2l0aCB0aGUgYWJzb2x1dGUgcGF0aC4KICAgIGlmICghY29tbW9uKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIHZhciBwYXJlbnRzID0gYmFzZVBhcnRzLnBhdGgKICAgICAgLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKQogICAgICAucmVwbGFjZSgvW15cL10qJC8sICcnKQogICAgICAucmVwbGFjZSgvLio/XC8vZywgJy4uLycpOwoKICAgIHJlbGF0aXZlUGFydHMucGF0aCA9IChwYXJlbnRzICsgcmVsYXRpdmVQYXJ0cy5wYXRoLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKSkgfHwgJy4vJzsKCiAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICB9OwoKICAvLyBjb21wYXJpbmcgVVJJcwogIHAuZXF1YWxzID0gZnVuY3Rpb24odXJpKSB7CiAgICB2YXIgb25lID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHR3byA9IG5ldyBVUkkodXJpKTsKICAgIHZhciBvbmVfbWFwID0ge307CiAgICB2YXIgdHdvX21hcCA9IHt9OwogICAgdmFyIGNoZWNrZWQgPSB7fTsKICAgIHZhciBvbmVfcXVlcnksIHR3b19xdWVyeSwga2V5OwoKICAgIG9uZS5ub3JtYWxpemUoKTsKICAgIHR3by5ub3JtYWxpemUoKTsKCiAgICAvLyBleGFjdCBtYXRjaAogICAgaWYgKG9uZS50b1N0cmluZygpID09PSB0d28udG9TdHJpbmcoKSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHF1ZXJ5IHN0cmluZwogICAgb25lX3F1ZXJ5ID0gb25lLnF1ZXJ5KCk7CiAgICB0d29fcXVlcnkgPSB0d28ucXVlcnkoKTsKICAgIG9uZS5xdWVyeSgnJyk7CiAgICB0d28ucXVlcnkoJycpOwoKICAgIC8vIGRlZmluaXRlbHkgbm90IGVxdWFsIGlmIG5vdCBldmVuIG5vbi1xdWVyeSBwYXJ0cyBtYXRjaAogICAgaWYgKG9uZS50b1N0cmluZygpICE9PSB0d28udG9TdHJpbmcoKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gcXVlcnkgcGFyYW1ldGVycyBoYXZlIHRoZSBzYW1lIGxlbmd0aCwgZXZlbiBpZiB0aGV5J3JlIHBlcm11dGVkCiAgICBpZiAob25lX3F1ZXJ5Lmxlbmd0aCAhPT0gdHdvX3F1ZXJ5Lmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KG9uZV9xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB0d29fbWFwID0gVVJJLnBhcnNlUXVlcnkodHdvX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKCiAgICBmb3IgKGtleSBpbiBvbmVfbWFwKSB7CiAgICAgIGlmIChoYXNPd24uY2FsbChvbmVfbWFwLCBrZXkpKSB7CiAgICAgICAgaWYgKCFpc0FycmF5KG9uZV9tYXBba2V5XSkpIHsKICAgICAgICAgIGlmIChvbmVfbWFwW2tleV0gIT09IHR3b19tYXBba2V5XSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICghYXJyYXlzRXF1YWwob25lX21hcFtrZXldLCB0d29fbWFwW2tleV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBjaGVja2VkW2tleV0gPSB0cnVlOwogICAgICB9CiAgICB9CgogICAgZm9yIChrZXkgaW4gdHdvX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwodHdvX21hcCwga2V5KSkgewogICAgICAgIGlmICghY2hlY2tlZFtrZXldKSB7CiAgICAgICAgICAvLyB0d28gY29udGFpbnMgYSBwYXJhbWV0ZXIgbm90IHByZXNlbnQgaW4gb25lCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfTsKCiAgLy8gc3RhdGUKICBwLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZ1bmN0aW9uKHYpIHsKICAgIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9ICEhdjsKICAgIHJldHVybiB0aGlzOwogIH07CgogIHAuZXNjYXBlUXVlcnlTcGFjZSA9IGZ1bmN0aW9uKHYpIHsKICAgIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICByZXR1cm4gVVJJOwp9KSk7Cgp9LHsiLi9JUHY2Ijo0LCIuL1NlY29uZExldmVsRG9tYWlucyI6NSwiLi9wdW55Y29kZSI6N31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKGdsb2JhbCl7Ci8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4wIGJ5IEBtYXRoaWFzICovCjsoZnVuY3Rpb24ocm9vdCkgewoKCS8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi8KCXZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYKCQkhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzOwoJdmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJgoJCSFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlOwoJdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDsKCWlmICgKCQlmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8CgkJZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsCgkpIHsKCQlyb290ID0gZnJlZUdsb2JhbDsKCX0KCgkvKioKCSAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC4KCSAqIEBuYW1lIHB1bnljb2RlCgkgKiBAdHlwZSBPYmplY3QKCSAqLwoJdmFyIHB1bnljb2RlLAoKCS8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi8KCW1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTEKCgkvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovCgliYXNlID0gMzYsCgl0TWluID0gMSwKCXRNYXggPSAyNiwKCXNrZXcgPSAzOCwKCWRhbXAgPSA3MDAsCglpbml0aWFsQmlhcyA9IDcyLAoJaW5pdGlhbE4gPSAxMjgsIC8vIDB4ODAKCWRlbGltaXRlciA9ICctJywgLy8gJ1x4MkQnCgoJLyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi8KCXJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLAoJcmVnZXhOb25BU0NJSSA9IC9bXlx4MjAtXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFycwoJcmVnZXhTZXBhcmF0b3JzID0gL1tceDJFXHUzMDAyXHVGRjBFXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzCgoJLyoqIEVycm9yIG1lc3NhZ2VzICovCgllcnJvcnMgPSB7CgkJJ292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJywKCQknbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLAoJCSdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnCgl9LAoKCS8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi8KCWJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbiwKCWZsb29yID0gTWF0aC5mbG9vciwKCXN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsCgoJLyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqLwoJa2V5OwoKCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCS8qKgoJICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuCgkgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuCgkgKi8KCWZ1bmN0aW9uIGVycm9yKHR5cGUpIHsKCQl0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pOwoJfQoKCS8qKgoJICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci4KCSAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheQoJICogaXRlbS4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwKGFycmF5LCBmbikgewoJCXZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7CgkJdmFyIHJlc3VsdCA9IFtdOwoJCXdoaWxlIChsZW5ndGgtLSkgewoJCQlyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pOwoJCX0KCQlyZXR1cm4gcmVzdWx0OwoJfQoKCS8qKgoJICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsCgkgKiBhZGRyZXNzZXMuCgkgKiBAcHJpdmF0ZQoJICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy4KCSAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeQoJICogY2hhcmFjdGVyLgoJICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sKCSAqIGZ1bmN0aW9uLgoJICovCglmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikgewoJCXZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpOwoJCXZhciByZXN1bHQgPSAnJzsKCQlpZiAocGFydHMubGVuZ3RoID4gMSkgewoJCQkvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlCgkJCS8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuCgkJCXJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnOwoJCQlzdHJpbmcgPSBwYXJ0c1sxXTsKCQl9CgkJLy8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LgoJCXN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1x4MkUnKTsKCQl2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7CgkJdmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpOwoJCXJldHVybiByZXN1bHQgKyBlbmNvZGVkOwoJfQoKCS8qKgoJICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZQoJICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LAoJICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2gKCSAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LAoJICogbWF0Y2hpbmcgVVRGLTE2LgoJICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgCgkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyCgkgKiBAbmFtZSBkZWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuCgkgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuCgkgKi8KCWZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7CgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBjb3VudGVyID0gMCwKCQkgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCwKCQkgICAgdmFsdWUsCgkJICAgIGV4dHJhOwoJCXdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7CgkJCXZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCQkJaWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkgewoJCQkJLy8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyCgkJCQlleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCQlpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZQoJCQkJCW91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0CgkJCQkJLy8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyCgkJCQkJb3V0cHV0LnB1c2godmFsdWUpOwoJCQkJCWNvdW50ZXItLTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJfQoJCX0KCQlyZXR1cm4gb3V0cHV0OwoJfQoKCS8qKgoJICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZW5jb2RlCgkgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLgoJICovCglmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7CgkJcmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHsKCQkJdmFyIG91dHB1dCA9ICcnOwoJCQlpZiAodmFsdWUgPiAweEZGRkYpIHsKCQkJCXZhbHVlIC09IDB4MTAwMDA7CgkJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTsKCQkJCXZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjsKCQkJfQoJCQlvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTsKCQkJcmV0dXJuIG91dHB1dDsKCQl9KS5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci4KCSAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYAoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS4KCSAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpbgoJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZgoJICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuCgkgKi8KCWZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHsKCQlpZiAoY29kZVBvaW50IC0gNDggPCAxMCkgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gMjI7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA2NTsKCQl9CgkJaWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDk3OwoJCX0KCQlyZXR1cm4gYmFzZTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC4KCSAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYAoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvcgoJICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2UKCSAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpcwoJICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQKCSAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uCgkgKi8KCWZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykgewoJCS8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aCgkJLy8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45CgkJcmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTsKCX0KCgkvKioKCSAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuCgkgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNAoJICogQHByaXZhdGUKCSAqLwoJZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7CgkJdmFyIGsgPSAwOwoJCWRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7CgkJZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpOwoJCWZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7CgkJCWRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTsKCQl9CgkJcmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZQoJICogc3ltYm9scy4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJICovCglmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHsKCQkvLyBEb24ndCB1c2UgVUNTLTIKCQl2YXIgb3V0cHV0ID0gW10sCgkJICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLAoJCSAgICBvdXQsCgkJICAgIGkgPSAwLAoJCSAgICBuID0gaW5pdGlhbE4sCgkJICAgIGJpYXMgPSBpbml0aWFsQmlhcywKCQkgICAgYmFzaWMsCgkJICAgIGosCgkJICAgIGluZGV4LAoJCSAgICBvbGRpLAoJCSAgICB3LAoJCSAgICBrLAoJCSAgICBkaWdpdCwKCQkgICAgdCwKCQkgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovCgkJICAgIGJhc2VNaW51c1Q7CgoJCS8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZQoJCS8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5CgkJLy8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuCgoJCWJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTsKCQlpZiAoYmFzaWMgPCAwKSB7CgkJCWJhc2ljID0gMDsKCQl9CgoJCWZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7CgkJCS8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludAoJCQlpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7CgkJCQllcnJvcignbm90LWJhc2ljJyk7CgkJCX0KCQkJb3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7CgkJfQoKCQkvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlCgkJLy8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS4KCgkJZm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHsKCgkJCS8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC4KCQkJLy8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLAoJCQkvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llcgoJCQkvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZwoJCQkvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLgoJCQlmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgoJCQkJaWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7CgkJCQkJZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTsKCQkJCX0KCgkJCQlkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTsKCgkJCQlpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJaSArPSBkaWdpdCAqIHc7CgkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCgkJCQlpZiAoZGlnaXQgPCB0KSB7CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJaWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCXcgKj0gYmFzZU1pbnVzVDsKCgkJCX0KCgkJCW91dCA9IG91dHB1dC5sZW5ndGggKyAxOwoJCQliaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTsKCgkJCS8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsCgkJCS8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6CgkJCWlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHsKCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQl9CgoJCQluICs9IGZsb29yKGkgLyBvdXQpOwoJCQlpICU9IG91dDsKCgkJCS8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXQKCQkJb3V0cHV0LnNwbGljZShpKyssIDAsIG4pOwoKCQl9CgoJCXJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYQoJICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgoJICovCglmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHsKCQl2YXIgbiwKCQkgICAgZGVsdGEsCgkJICAgIGhhbmRsZWRDUENvdW50LAoJCSAgICBiYXNpY0xlbmd0aCwKCQkgICAgYmlhcywKCQkgICAgaiwKCQkgICAgbSwKCQkgICAgcSwKCQkgICAgaywKCQkgICAgdCwKCQkgICAgY3VycmVudFZhbHVlLAoJCSAgICBvdXRwdXQgPSBbXSwKCQkgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi8KCQkgICAgaW5wdXRMZW5ndGgsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsCgkJICAgIGJhc2VNaW51c1QsCgkJICAgIHFNaW51c1Q7CgoJCS8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGUKCQlpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpOwoKCQkvLyBDYWNoZSB0aGUgbGVuZ3RoCgkJaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7CgoJCS8vIEluaXRpYWxpemUgdGhlIHN0YXRlCgkJbiA9IGluaXRpYWxOOwoJCWRlbHRhID0gMDsKCQliaWFzID0gaW5pdGlhbEJpYXM7CgoJCS8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMKCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHsKCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTsKCQkJfQoJCX0KCgkJaGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7CgoJCS8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkOwoJCS8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy4KCgkJLy8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyCgkJaWYgKGJhc2ljTGVuZ3RoKSB7CgkJCW91dHB1dC5wdXNoKGRlbGltaXRlcik7CgkJfQoKCQkvLyBNYWluIGVuY29kaW5nIGxvb3A6CgkJd2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHsKCgkJCS8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHQKCQkJLy8gbGFyZ2VyIG9uZToKCQkJZm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJCWN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHsKCQkJCQltID0gY3VycmVudFZhbHVlOwoJCQkJfQoJCQl9CgoJCQkvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sCgkJCS8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93CgkJCWhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTsKCQkJaWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHsKCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQl9CgoJCQlkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lOwoJCQluID0gbTsKCgkJCWZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCgkJCQlpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7CgkJCQkJZXJyb3IoJ292ZXJmbG93Jyk7CgkJCQl9CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7CgkJCQkJLy8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIKCQkJCQlmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7CgkJCQkJCXQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpOwoJCQkJCQlpZiAocSA8IHQpIHsKCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgkJCQkJCXFNaW51c1QgPSBxIC0gdDsKCQkJCQkJYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoJCQkJCQlvdXRwdXQucHVzaCgKCQkJCQkJCXN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkKCQkJCQkJKTsKCQkJCQkJcSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTsKCQkJCQl9CgoJCQkJCW91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTsKCQkJCQliaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpOwoJCQkJCWRlbHRhID0gMDsKCQkJCQkrK2hhbmRsZWRDUENvdW50OwoJCQkJfQoJCQl9CgoJCQkrK2RlbHRhOwoJCQkrK247CgoJCX0KCQlyZXR1cm4gb3V0cHV0LmpvaW4oJycpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcwoJICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLgoJICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuCgkgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0bwoJICogY29udmVydCB0byBVbmljb2RlLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlCgkgKiBzdHJpbmcuCgkgKi8KCWZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkgewoJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQlyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZykKCQkJCT8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKQoJCQkJOiBzdHJpbmc7CgkJfSk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG8KCSAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLAoJICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluCgkgKiBBU0NJSS4KCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGEKCSAqIFVuaWNvZGUgc3RyaW5nLgoJICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvcgoJICogZW1haWwgYWRkcmVzcy4KCSAqLwoJZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkgewoJCXJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykgewoJCQlyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZykKCQkJCT8gJ3huLS0nICsgZW5jb2RlKHN0cmluZykKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCS8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi8KCXB1bnljb2RlID0gewoJCS8qKgoJCSAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBTdHJpbmcKCQkgKi8KCQkndmVyc2lvbic6ICcxLjMuMicsCgkJLyoqCgkJICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXIKCQkgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLgoJCSAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgoJCSAqIEBtZW1iZXJPZiBwdW55Y29kZQoJCSAqIEB0eXBlIE9iamVjdAoJCSAqLwoJCSd1Y3MyJzogewoJCQknZGVjb2RlJzogdWNzMmRlY29kZSwKCQkJJ2VuY29kZSc6IHVjczJlbmNvZGUKCQl9LAoJCSdkZWNvZGUnOiBkZWNvZGUsCgkJJ2VuY29kZSc6IGVuY29kZSwKCQkndG9BU0NJSSc6IHRvQVNDSUksCgkJJ3RvVW5pY29kZSc6IHRvVW5pY29kZQoJfTsKCgkvKiogRXhwb3NlIGBwdW55Y29kZWAgKi8KCS8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJucwoJLy8gbGlrZSB0aGUgZm9sbG93aW5nOgoJaWYgKAoJCXR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJgoJCXR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmCgkJZGVmaW5lLmFtZAoJKSB7CgkJZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gcHVueWNvZGU7CgkJfSk7Cgl9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHsKCQlpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsKCQkJLy8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wKwoJCQlmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTsKCQl9IGVsc2UgewoJCQkvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLQoJCQlmb3IgKGtleSBpbiBwdW55Y29kZSkgewoJCQkJcHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pOwoJCQl9CgkJfQoJfSBlbHNlIHsKCQkvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyCgkJcm9vdC5wdW55Y29kZSA9IHB1bnljb2RlOwoJfQoKfSh0aGlzKSk7Cgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTt2YXIgTm90aWZpY2F0aW9uc1RyaWdnZXJPYmplY3Q9e19nZXRIeUZvcjpmdW5jdGlvbiBfZ2V0SHlGb3IoaWRlbnRpdGllcyl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIFByb21pc2UuYWxsKGlkZW50aXRpZXMubWFwKGZ1bmN0aW9uKHApe3JldHVybiBfdGhpcy5fZGlzY292ZXJ5U2VydmljZS5kaXNjb3Zlckh5cGVydGllc1BlclVzZXIocC5lbWFpbCxwLmRvbWFpbikudGhlbihmdW5jdGlvbihoeXBlcnRpZXMpe3JldHVybiBPYmplY3Qua2V5cyhoeXBlcnRpZXMpLm1hcChmdW5jdGlvbihrZXkpe3JldHVybntrZXk6a2V5LGRlc2NyaXB0b3I6aHlwZXJ0aWVzW2tleV0uZGVzY3JpcHRvcixsYXN0TW9kaWZpZWQ6aHlwZXJ0aWVzW2tleV0ubGFzdE1vZGlmaWVkfTt9KS5maWx0ZXIoZnVuY3Rpb24oZGVzYyl7cmV0dXJuIGRlc2MuZGVzY3JpcHRvci5lbmRzV2l0aCgnTm90aWZpY2F0aW9uc09ic2VydmVyJyk7fSkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgRGF0ZShhLmxhc3RNb2RpZmllZCk8bmV3IERhdGUoYi5sYXN0TW9kaWZpZWQpPzE6LTE7fSkuc2hpZnQoKS5rZXk7fSk7fSkpO30sdHJpZ2dlcjpmdW5jdGlvbiB0cmlnZ2VyKHJlY2lwaWVudHMsbm90aWZpY2F0aW9uKXt2YXIgX3RoaXMyPXRoaXM7cmV0dXJuIHRoaXMuX2dldEh5Rm9yKHJlY2lwaWVudHMpLnRoZW4oZnVuY3Rpb24oaHlwZXJ0eVVSTHMpe3JldHVybiBfdGhpczIuX3N5bmNoZXIuY3JlYXRlKF90aGlzMi5fb2JqZWN0RGVzY1VSTCxoeXBlcnR5VVJMcyx7fSkudGhlbihmdW5jdGlvbihyZXBvcnRlcil7cmVwb3J0ZXIub25TdWJzY3JpcHRpb24oZnVuY3Rpb24oZXZlbnQpe3JldHVybiBldmVudC5hY2NlcHQoKTt9KTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHJlcG9ydGVyLmFkZENoaWxkKCdjaGF0bWVzc2FnZXMnLG5vdGlmaWNhdGlvbikudGhlbihmdW5jdGlvbihjaGlsZCl7Y29uc29sZS5sb2coJ25vdGlmaWNhdGlvbiBzZW5kZWQnLG5vdGlmaWNhdGlvbik7cmV0dXJuIGNoaWxkO30pO30sMjAwMCk7fSk7fSk7fX07dmFyIE5vdGlmaWNhdGlvbnNUcmlnZ2VyPWZ1bmN0aW9uIE5vdGlmaWNhdGlvbnNUcmlnZ2VyKGRvbWFpbixzeW5jaGVyLGRpc2NvdmVyeVNlcnZpY2Upe3JldHVybiBPYmplY3QuYXNzaWduKHtfc3luY2hlcjpzeW5jaGVyLF9kaXNjb3ZlcnlTZXJ2aWNlOmRpc2NvdmVyeVNlcnZpY2UsX29iamVjdERlc2NVUkw6J2h5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLicrZG9tYWluKycvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uJ30sTm90aWZpY2F0aW9uc1RyaWdnZXJPYmplY3QpO307ZXhwb3J0cy5kZWZhdWx0PU5vdGlmaWNhdGlvbnNUcmlnZ2VyO21vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfSWRlbnRpdHlNYW5hZ2VyPXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyJyk7dmFyIF9JZGVudGl0eU1hbmFnZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lkZW50aXR5TWFuYWdlcik7dmFyIF9IeXBlcnR5RGlzY292ZXJ5PXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeScpO3ZhciBfSHlwZXJ0eURpc2NvdmVyeTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eURpc2NvdmVyeSk7dmFyIF91cmlqcz1yZXF1aXJlKCd1cmlqcycpO3ZhciBfdXJpanMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VyaWpzKTt2YXIgX1N5bmNoZXI9cmVxdWlyZSgnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyJyk7dmFyIF9ub3RpZmljYXRpb25zVHJpZ2dlcj1yZXF1aXJlKCcuLi9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbnMtdHJpZ2dlcicpO3ZhciBfbm90aWZpY2F0aW9uc1RyaWdnZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vdGlmaWNhdGlvbnNUcmlnZ2VyKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fXZhciBTdXJ2ZXlPYnNlcnZlcj17X3Jlc29sdmVJZGVudGl0eTpmdW5jdGlvbiBfcmVzb2x2ZUlkZW50aXR5KCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe2lmKF90aGlzLmlkZW50aXR5KXtyZXNvbHZlKF90aGlzLmlkZW50aXR5KTt9ZWxzZXtfdGhpcy5pZGVudGl0eU1hbmFnZXJTZXJ2aWNlLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoJy4nLF90aGlzLmh5cGVydHlVUkwpLnRoZW4oZnVuY3Rpb24oaWRlbnRpdHkpe190aGlzLmlkZW50aXR5PWlkZW50aXR5O3Jlc29sdmUoaWRlbnRpdHkpO30pO319KTt9LG9uUmVxdWVzdDpmdW5jdGlvbiBvblJlcXVlc3QoY2FsbGJhY2spe3ZhciBfdGhpczI9dGhpczt0aGlzLnN5bmNoZXIub25Ob3RpZmljYXRpb24oZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50LnNjaGVtYT09PV90aGlzMi5vYmplY3REZXNjVVJMKXsoZnVuY3Rpb24oKXt2YXIgaWRlbnRpdHk9dm9pZCAwO190aGlzMi5fcmVzb2x2ZUlkZW50aXR5KCkudGhlbihmdW5jdGlvbihpZCl7cmV0dXJuIGlkZW50aXR5PWlkO30pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMyLnN5bmNoZXIuc3Vic2NyaWJlKF90aGlzMi5vYmplY3REZXNjVVJMLGV2ZW50LnVybCk7fSkudGhlbihmdW5jdGlvbihkYXRhT2JqZWN0KXtjb25zb2xlLmxvZygndHJpZ2dlcicpO190aGlzMi5ub3RpZmljYXRpb25zLnRyaWdnZXIoW3tlbWFpbDppZGVudGl0eS51c2VybmFtZSxkb21haW46X3RoaXMyLmRvbWFpbn1dLHt0eXBlOidORVdfU1VSVkVZJyxwYXlsb2FkOntpZDpkYXRhT2JqZWN0LnVybH19KTtjYWxsYmFjayh7YW5zd2VyOmZ1bmN0aW9uIGFuc3dlcihfYW5zd2VyKXtkYXRhT2JqZWN0LmFkZENoaWxkKCdjaGF0bWVzc2FnZXMnLHtyZXNwb25zZTpfYW5zd2VyfSk7fSxkYXRhOmRhdGFPYmplY3QuZGF0YS5zdXJ2ZXl9KTt9KTt9KSgpO319KTt9fTt2YXIgU3VydmV5T2JzZXJ2ZXJGYWN0b3J5PWZ1bmN0aW9uIFN1cnZleU9ic2VydmVyRmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWcpe3ZhciB1cmk9bmV3IF91cmlqczIuZGVmYXVsdChoeXBlcnR5VVJMKTt2YXIgc3luY2hlcj1uZXcgX1N5bmNoZXIuU3luY2hlcihoeXBlcnR5VVJMLGJ1cyxjb25maWcpO3ZhciBoeXBlcnR5RGlzY292ZXJ5PW5ldyBfSHlwZXJ0eURpc2NvdmVyeTIuZGVmYXVsdChoeXBlcnR5VVJMLGJ1cyk7dmFyIG5vdGlmaWNhdGlvbnM9KDAsX25vdGlmaWNhdGlvbnNUcmlnZ2VyMi5kZWZhdWx0KSh1cmkuaG9zdG5hbWUoKSxzeW5jaGVyLGh5cGVydHlEaXNjb3ZlcnkpO3ZhciBpZGVudGl0eU1hbmFnZXI9bmV3IF9JZGVudGl0eU1hbmFnZXIyLmRlZmF1bHQoaHlwZXJ0eVVSTCxjb25maWcucnVudGltZVVSTCxidXMpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoU3VydmV5T2JzZXJ2ZXIpLHtzeW5jaGVyOnN5bmNoZXIsb2JqZWN0RGVzY1VSTDonaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyt1cmkuaG9zdG5hbWUoKSsnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29tbXVuaWNhdGlvbicsaHlwZXJ0eVVSTDpoeXBlcnR5VVJMLG5vdGlmaWNhdGlvbnM6bm90aWZpY2F0aW9ucyxpZGVudGl0eU1hbmFnZXJTZXJ2aWNlOmlkZW50aXR5TWFuYWdlcn0pO307ZnVuY3Rpb24gYWN0aXZhdGUoaHlwZXJ0eVVSTCxidXMsY29uZmlnKXtyZXR1cm57bmFtZTonU3VydmV5T2JzZXJ2ZXInLGluc3RhbmNlOlN1cnZleU9ic2VydmVyRmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWcpfTt9bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL25vdGlmaWNhdGlvbnMvbm90aWZpY2F0aW9ucy10cmlnZ2VyIjo4LCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0h5cGVydHlEaXNjb3ZlcnkiOjEsInNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSWRlbnRpdHlNYW5hZ2VyIjoyLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjMsInVyaWpzIjo2fV19LHt9LFs5XSkoOSkKfSk7",
      "sourceCodeClassname": "SurveyObserver",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10013,
    "version": "0.1",
    "description": "Description of SurveyObserver",
    "language": "Javascript",
    "objectName": "SurveyObserver",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "SurveyReporter": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NDEgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKGMscyl7aWYoIXJbY10pe2lmKCF0W2NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighcyYmdSlyZXR1cm4gdShjLCEwKTtpZihpKXJldHVybiBpKGMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltjXT17ZXhwb3J0czp7fX07dFtjXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W2NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbY10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYz0wO2M8bi5sZW5ndGg7YysrKW8obltjXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsYyl7dmFyIHMsdT1uKHQpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYoZSYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKGV8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxjPWUoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLGYsXyxsPWUmdS5GLGQ9ZSZ1LkcscD1lJnUuUyx2PWUmdS5QLHk9ZSZ1LkIsaD1lJnUuVyxiPWQ/bzpvW3RdfHwob1t0XT17fSksbT1iW3NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihhIGluIHIpZj0hbCYmZyYmdm9pZCAwIT09Z1thXSxmJiZhIGluIGJ8fChfPWY/Z1thXTpyW2FdLGJbYV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbYV0/clthXTp5JiZmP2koXyxuKTpoJiZnW2FdPT1fP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W3NdPWVbc10sdH0oXyk6diYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8sdiYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVthXT1fLGUmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCx0LmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPWUoIi4vX2FuLW9iamVjdCIpLHM9ZSgiLi9fdG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGwpe3ZhciBkLHAsdix5LGg9bD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLF8sdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgaCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGgpKXtmb3IoZD1zKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9iKGMocD1lW21dKVswXSxwWzFdKTpiKGVbbV0pLHk9PT1hfHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWguY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGIscC52YWx1ZSx0KSx5PT09YXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIGM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O2UoIi4vX2hpZGUiKShjLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxjPWUoIi4vX2hpZGUiKSxzPWUoIi4vX2hhcyIpLHU9ZSgiLi9faXRlcmF0b3JzIiksYT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPWUoIi4vX29iamVjdC1ncG8iKSxsPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyxqKXthKHIsdCxiKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFM9ITEsRT1lLnByb3RvdHlwZSxVPUVbbF18fEVbcF18fG0mJkVbbV0sVD1VfHxPKG0pLFI9bT9QP08oImVudHJpZXMiKTpUOnZvaWQgMCxMPSJBcnJheSI9PXQ/RS5lbnRyaWVzfHxVOlU7aWYoTCYmKGs9XyhMLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGgpKSksUCYmVSYmVS5uYW1lIT09eSYmKFM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBVLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFTJiZFW2xdfHxjKEUsbCxUKSx1W3RdPVQsdVtNXT1oLG0paWYoeD17dmFsdWVzOlA/VDpPKHkpLGtleXM6Zz9UOk8odiksZW50cmllczpSfSxqKWZvcih3IGluIHgpdyBpbiBFfHxpKEUsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8UyksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LGUoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKGMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxjPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSxhPXQuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oc1t1XT1uKGUpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109ZSk6cj1hKCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIGMoZSx0LHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixjPWkodCkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYoZSxyPWNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxjPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9ZSgiLi9faGFzIiksdT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9Yyh0LCEwKSx1KXRyeXtyZXR1cm4gYShlLHQpfWNhdGNoKHIpe31yZXR1cm4gcyhlLHQpP28oIW4uZi5jYWxsKGUsdCksZVt0XSk6dm9pZCAwfX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2hhcyI6MjgsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fb2JqZWN0LXBpZSI6NTEsIi4vX3Byb3BlcnR5LWRlc2MiOjUzLCIuL190by1pb2JqZWN0Ijo2NiwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSx7Ii4vX2hhcyI6MjgsIi4vX3NoYXJlZC1rZXkiOjU5LCIuL190by1vYmplY3QiOjY4fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLGM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9byhlKSx1PTAsYT1bXTtmb3IociBpbiBzKXIhPWMmJm4ocyxyKSYmYS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihzLHI9dFt1KytdKSYmKH5pKGEscil8fGEucHVzaChyKSk7cmV0dXJuIGF9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjoxNSwiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLWlvYmplY3QiOjY2fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6MjMsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo0OX1dLDUxOltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxjPXt9O2NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixjKX19LHsiLi9fY29yZSI6MTgsIi4vX2V4cG9ydCI6MjQsIi4vX2ZhaWxzIjoyNX1dLDUzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjI5fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19jdHgiOjE5LCIuL19pcy1vYmplY3QiOjM1LCIuL19vYmplY3QtZ29wZCI6NDd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLGM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtjJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjoxOCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19nbG9iYWwiOjI3LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjoyOCwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fd2tzIjo3MX1dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6NjAsIi4vX3VpZCI6NzB9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6Mjd9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWN8fHZvaWQgMD09KHI9bihjKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4tb2JqZWN0IjoxNCwiLi9fd2tzIjo3MX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxjLHM9U3RyaW5nKG8odCkpLHU9bihyKSxhPXMubGVuZ3RoO3JldHVybiAwPnV8fHU+PWE/ZT8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KHUpLDU1Mjk2Pml8fGk+NTYzMTl8fHUrMT09PWF8fChjPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8Yz41NzM0Mz9lP3MuY2hhckF0KHUpOmk6ZT9zLnNsaWNlKHUsdSsyKTooaS01NTI5Njw8MTApKyhjLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjoyMCwiLi9fdG8taW50ZWdlciI6NjV9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxjPWUoIi4vX2N0eCIpLHM9ZSgiLi9faW52b2tlIiksdT1lKCIuL19odG1sIiksYT1lKCIuL19kb20tY3JlYXRlIiksZj1lKCIuL19nbG9iYWwiKSxfPWYucHJvY2VzcyxsPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSxwPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtsJiZkfHwobD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7cygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoXyk/bj1mdW5jdGlvbihlKXtfLm5leHRUaWNrKGMoYixlLDEpKX06cD8obz1uZXcgcCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPWMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6bCxjbGVhcjpkfX0seyIuL19jb2YiOjE3LCIuL19jdHgiOjE5LCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZ2xvYmFsIjoyNywiLi9faHRtbCI6MzAsIi4vX2ludm9rZSI6MzJ9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MjAsIi4vX2lvYmplY3QiOjMzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6NjV9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6MjB9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0IjozNX1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoIndrcyIpLG89ZSgiLi9fdWlkIiksaT1lKCIuL19nbG9iYWwiKS5TeW1ib2wsYz0iZnVuY3Rpb24iPT10eXBlb2YgaSxzPXQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YyYmaVtlXXx8KGM/aTpvKSgiU3ltYm9sLiIrZSkpfTtzLnN0b3JlPW59LHsiLi9fZ2xvYmFsIjoyNywiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY2xhc3NvZiIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1lKCIuL19pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi9fY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi9fY2xhc3NvZiI6MTYsIi4vX2NvcmUiOjE4LCIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLGM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi9faXRlci1kZWZpbmUiOjM4LCIuL19pdGVyLXN0ZXAiOjQwLCIuL19pdGVyYXRvcnMiOjQxLCIuL190by1pb2JqZWN0Ijo2Nn1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19leHBvcnQiOjI0LCIuL19vYmplY3QtZHAiOjQ1fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NTAsIi4vX29iamVjdC1zYXAiOjUyLCIuL190by1vYmplY3QiOjY4fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw3NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGksYz1lKCIuL19saWJyYXJ5Iikscz1lKCIuL19nbG9iYWwiKSx1PWUoIi4vX2N0eCIpLGE9ZSgiLi9fY2xhc3NvZiIpLGY9ZSgiLi9fZXhwb3J0IiksXz1lKCIuL19pcy1vYmplY3QiKSxsPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLGQ9ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLHY9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLHk9ZSgiLi9fdGFzayIpLnNldCxoPWUoIi4vX21pY3JvdGFzayIpKCksYj0iUHJvbWlzZSIsbT1zLlR5cGVFcnJvcixnPXMucHJvY2VzcyxqPXNbYl0sZz1zLnByb2Nlc3MseD0icHJvY2VzcyI9PWEoZyksdz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWoucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKHcsdyl9O3JldHVybih4fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKHcpaW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWomJnQ9PT1pfSxNPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBfKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIE8oaixlKT9uZXcgUyhlKTpuZXcgbyhlKX0sUz1vPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBtKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bCh0KSx0aGlzLnJlamVjdD1sKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7aChmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLGM9bz90Lm9rOnQuZmFpbCxzPXQucmVzb2x2ZSx1PXQucmVqZWN0LGE9dC5kb21haW47dHJ5e2M/KG98fCgyPT1lLl9oJiZMKGUpLGUuX2g9MSksYz09PSEwP3I9bjooYSYmYS5lbnRlcigpLHI9YyhuKSxhJiZhLmV4aXQoKSkscj09PXQucHJvbWlzZT91KG0oIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9TShyKSk/aS5jYWxsKHIscyx1KTpzKHIpKTp1KG4pfWNhdGNoKGYpe3UoZil9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZUKGUpfSl9fSxUPWZ1bmN0aW9uKGUpe3kuY2FsbChzLGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdjtpZihSKGUpJiYodD1FKGZ1bmN0aW9uKCl7eD9nLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj1zLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD14fHxSKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LFI9ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFSKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEw9ZnVuY3Rpb24oZSl7eS5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgdDt4P2cuZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9cy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxVKHQsITApKX0sQz1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBtKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PU0oZSkpP2goZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLHUoQyxuLDEpLHUoQSxuLDEpKX1jYXRjaChvKXtBLmNhbGwobixvKX19KTooci5fdj1lLHIuX3M9MSxVKHIsITEpKX1jYXRjaChuKXtBLmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O2t8fChqPWZ1bmN0aW9uKGUpe2QodGhpcyxqLGIsIl9oIiksbChlKSxuLmNhbGwodGhpcyk7dHJ5e2UodShDLHRoaXMsMSksdShBLHRoaXMsMSkpfWNhdGNoKHQpe0EuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShqLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPVAodih0aGlzLGopKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9dShDLGUsMSksdGhpcy5yZWplY3Q9dShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosYiksZSgiLi9fc2V0LXNwZWNpZXMiKShiKSxpPWUoIi4vX2NvcmUiKVtiXSxmKGYuUytmLkYqIWssYix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhayksYix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksYix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1FKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLHJbc109ZSwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxjPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7NT51O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjgxfV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsc1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxjPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGM9dm9pZCAwLHM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIHMpaWYodm9pZCAwIT09c1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKHNbb10ubGFzdE1vZGlmaWVkKSxjPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShzW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUsYz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLGMsaSk7dmFyIGE9YztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpzW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLGM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPV8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxsWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGw9bihfKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PWMsci5kZWVwQ2xvbmU9cyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbODBdKSg4MCl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4zLjAKLy8gTGFzdCBidWlsZDogV2VkIEp1biAyOSAyMDE2IDE2OjQzOjUyIEdNVCswMjAwIChDRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBhKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWFbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYz1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGMubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6Y319LHRoaXMpLGN9fTtmb3IodmFyIGMgaW4gcylzW2NdW29dPXQucHJvdG90eXBlW2NdLHQucHJvdG90eXBlW2NdPXNbY107dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxOH1dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMX1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjN9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyNH1dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNX1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciI6Mjd9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYz1uKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBhKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbj0oMCxjWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09bil7dmFyIG89KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW8/dm9pZCAwOmEobyx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBzPW4uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6Nn1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLHU9bihhKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKygidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsdVsiZGVmYXVsdCJdKSh0KSkpO2UucHJvdG90eXBlPSgwLGNbImRlZmF1bHQiXSkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihpWyJkZWZhdWx0Il0/KDAsaVsiZGVmYXVsdCJdKShlLHQpOmUuX19wcm90b19fPXQpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvciIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiKSxjPW4ocyksYT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09dHlwZW9mIGlbImRlZmF1bHQiXT9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOnR5cGVvZiBlfTtyWyJkZWZhdWx0Il09ImZ1bmN0aW9uIj09dHlwZW9mIGNbImRlZmF1bHQiXSYmInN5bWJvbCI9PT1hKGlbImRlZmF1bHQiXSk/ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjphKGUpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIjoxMCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvciI6MTF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIik7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiOjEwMH1dLDIwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSIpO3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5kZWZpbmVQcm9wZXJ0eShlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjoxMDF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MTAyfV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6MTAzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjoxMDR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjoxMDV9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjEwNywiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjoxMDgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6MTEyfV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjEwOSwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yIjoxMTAsIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIjoxMTF9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL193a3MtZXh0IikuZigiaXRlcmF0b3IiKX0seyIuLi8uLi9tb2R1bGVzL193a3MtZXh0Ijo5NiwiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjoxMDgsIi4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6MTEyfV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09biYmbiBpbiBlKXRocm93IFR5cGVFcnJvcihyKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiBlfX0se31dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fdG8tbGVuZ3RoIiksaT1lKCIuL190by1pbmRleCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLHMpe3ZhciBjLGE9bih0KSx1PW8oYS5sZW5ndGgpLGw9aShzLHUpO2lmKGUmJnIhPXIpe2Zvcig7dT5sOylpZihjPWFbbCsrXSxjIT1jKXJldHVybiEwfWVsc2UgZm9yKDt1Pmw7bCsrKWlmKChlfHxsIGluIGEpJiZhW2xdPT09cilyZXR1cm4gZXx8bHx8MDtyZXR1cm4hZSYmLTF9fX0seyIuL190by1pbmRleCI6ODgsIi4vX3RvLWlvYmplY3QiOjkwLCIuL190by1sZW5ndGgiOjkxfV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jb2YiKSxvPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxzPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKHIpe319O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLGM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1zKHQ9T2JqZWN0KGUpLG8pKT9yOmk/bih0KToiT2JqZWN0Ij09KGM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpjfX0seyIuL19jb2YiOjM0LCIuL193a3MiOjk3fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMi40LjAifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuL19hLWZ1bmN0aW9uIjoyOH1dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19mYWlscyI6NDN9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faXMtb2JqZWN0Ijo1NH1dLDQwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LHt9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzIiksbz1lKCIuL19vYmplY3QtZ29wcyIpLGk9ZSgiLi9fb2JqZWN0LXBpZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9by5mO2lmKHIpZm9yKHZhciBzLGM9cihlKSxhPWkuZix1PTA7Yy5sZW5ndGg+dTspYS5jYWxsKGUscz1jW3UrK10pJiZ0LnB1c2gocyk7cmV0dXJuIHR9fSx7Ii4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NX1dLDQyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGwsZixkPWUmYS5GLHA9ZSZhLkcsYj1lJmEuUyxfPWUmYS5QLGg9ZSZhLkIseT1lJmEuVyx2PXA/bzpvW3RdfHwob1t0XT17fSksbT12W2NdLGo9cD9uOmI/blt0XTooblt0XXx8e30pW2NdO3AmJihyPXQpO2Zvcih1IGluIHIpbD0hZCYmaiYmdm9pZCAwIT09alt1XSxsJiZ1IGluIHZ8fChmPWw/alt1XTpyW3VdLHZbdV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbdV0/clt1XTpoJiZsP2koZixuKTp5JiZqW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0oZik6XyYmImZ1bmN0aW9uIj09dHlwZW9mIGY/aShGdW5jdGlvbi5jYWxsLGYpOmYsXyYmKCh2LnZpcnR1YWx8fCh2LnZpcnR1YWw9e30pKVt1XT1mLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsZikpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjozNSwiLi9fY3R4IjozNiwiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDd9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDQ0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sbD17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixmLGQpe3ZhciBwLGIsXyxoLHk9ZD9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLHY9bihyLGYsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgeSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHkpKXtmb3IocD1jKGUubGVuZ3RoKTtwPm07bSsrKWlmKGg9dD92KHMoYj1lW21dKVswXSxiWzFdKTp2KGVbbV0pLGg9PT11fHxoPT09bClyZXR1cm4gaH1lbHNlIGZvcihfPXkuY2FsbChlKTshKGI9Xy5uZXh0KCkpLmRvbmU7KWlmKGg9byhfLHYsYi52YWx1ZSx0KSxoPT09dXx8aD09PWwpcmV0dXJuIGh9O3IuQlJFQUs9dSxyLlJFVFVSTj1sfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2N0eCI6MzYsIi4vX2lzLWFycmF5LWl0ZXIiOjUyLCIuL19pdGVyLWNhbGwiOjU1LCIuL190by1sZW5ndGgiOjkxLCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6OTh9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fcHJvcGVydHktZGVzYyI6Nzd9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6NDV9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZmFpbHMiOjQzfV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDUxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MzR9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vX2NvZiI6MzR9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi9fYW4tb2JqZWN0IjozMX1dLDU2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX29iamVjdC1jcmVhdGUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3NldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuL19oaWRlIikocyxlKCIuL193a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuL19oaWRlIjo0NywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3drcyI6OTd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19saWJyYXJ5Iiksbz1lKCIuL19leHBvcnQiKSxpPWUoIi4vX3JlZGVmaW5lIikscz1lKCIuL19oaWRlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2l0ZXJhdG9ycyIpLHU9ZSgiLi9faXRlci1jcmVhdGUiKSxsPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZj1lKCIuL19vYmplY3QtZ3BvIiksZD1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGI9IkBAaXRlcmF0b3IiLF89ImtleXMiLGg9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdixtLGosZyl7dShyLHQsdik7dmFyIHcsTyxrLHg9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gVClyZXR1cm4gVFtlXTtzd2l0Y2goZSl7Y2FzZSBfOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sQz10KyIgSXRlcmF0b3IiLEU9bT09aCxTPSExLFQ9ZS5wcm90b3R5cGUsUj1UW2RdfHxUW2JdfHxtJiZUW21dLE09Unx8eChtKSxOPW0/RT94KCJlbnRyaWVzIik6TTp2b2lkIDAsUD0iQXJyYXkiPT10P1QuZW50cmllc3x8UjpSO2lmKFAmJihrPWYoUC5jYWxsKG5ldyBlKSksayE9PU9iamVjdC5wcm90b3R5cGUmJihsKGssQywhMCksbnx8YyhrLGQpfHxzKGssZCx5KSkpLEUmJlImJlIubmFtZSE9PWgmJihTPSEwLE09ZnVuY3Rpb24oKXtyZXR1cm4gUi5jYWxsKHRoaXMpfSksbiYmIWd8fCFwJiYhUyYmVFtkXXx8cyhULGQsTSksYVt0XT1NLGFbQ109eSxtKWlmKHc9e3ZhbHVlczpFP006eChoKSxrZXlzOmo/TTp4KF8pLGVudHJpZXM6Tn0sZylmb3IoTyBpbiB3KU8gaW4gVHx8aShULE8sd1tPXSk7ZWxzZSBvKG8uUCtvLkYqKHB8fFMpLHQsdyk7cmV0dXJuIHd9fSx7Ii4vX2V4cG9ydCI6NDIsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pdGVyLWNyZWF0ZSI6NTYsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZ3BvIjo3MiwiLi9fcmVkZWZpbmUiOjc5LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3drcyI6OTd9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGMpe31yZXR1cm4gcn19LHsiLi9fd2tzIjo5N31dLDU5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDYwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cyIpLG89ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSkscz1uKGkpLGM9cy5sZW5ndGgsYT0wO2M+YTspaWYoaVtyPXNbYSsrXV09PT10KXJldHVybiByfX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX3RvLWlvYmplY3QiOjkwfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3VpZCIpKCJtZXRhIiksbz1lKCIuL19pcy1vYmplY3QiKSxpPWUoIi4vX2hhcyIpLHM9ZSgiLi9fb2JqZWN0LWRwIikuZixjPTAsYT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSx1PSFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIGEoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxsPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYyx3Ont9fX0pfSxmPWZ1bmN0aW9uKGUsdCl7aWYoIW8oZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFpKGUsbikpe2lmKCFhKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7bChlKX1yZXR1cm4gZVtuXS5pfSxkPWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSxuKSl7aWYoIWEoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7bChlKX1yZXR1cm4gZVtuXS53fSxwPWZ1bmN0aW9uKGUpe3JldHVybiB1JiZiLk5FRUQmJmEoZSkmJiFpKGUsbikmJmwoZSksZX0sYj10LmV4cG9ydHM9e0tFWTpuLE5FRUQ6ITEsZmFzdEtleTpmLGdldFdlYWs6ZCxvbkZyZWV6ZTpwfX0seyIuL19mYWlscyI6NDMsIi4vX2hhcyI6NDYsIi4vX2lzLW9iamVjdCI6NTQsIi4vX29iamVjdC1kcCI6NjYsIi4vX3VpZCI6OTR9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fdGFzayIpLnNldCxpPW4uTXV0YXRpb25PYnNlcnZlcnx8bi5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHM9bi5wcm9jZXNzLGM9bi5Qcm9taXNlLGE9InByb2Nlc3MiPT1lKCIuL19jb2YiKShzKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsdT1mdW5jdGlvbigpe3ZhciBuLG87Zm9yKGEmJihuPXMuZG9tYWluKSYmbi5leGl0KCk7ZTspe289ZS5mbixlPWUubmV4dDt0cnl7bygpfWNhdGNoKGkpe3Rocm93IGU/cigpOnQ9dm9pZCAwLGl9fXQ9dm9pZCAwLG4mJm4uZW50ZXIoKX07aWYoYSlyPWZ1bmN0aW9uKCl7cy5uZXh0VGljayh1KX07ZWxzZSBpZihpKXt2YXIgbD0hMCxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgaSh1KS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxyPWZ1bmN0aW9uKCl7Zi5kYXRhPWw9IWx9fWVsc2UgaWYoYyYmYy5yZXNvbHZlKXt2YXIgZD1jLnJlc29sdmUoKTtyPWZ1bmN0aW9uKCl7ZC50aGVuKHUpfX1lbHNlIHI9ZnVuY3Rpb24oKXtvLmNhbGwobix1KX07cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8scigpKSx0PW99fX0seyIuL19jb2YiOjM0LCIuL19nbG9iYWwiOjQ1LCIuL190YXNrIjo4N31dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19vYmplY3QtZHBzIiksaT1lKCIuL19lbnVtLWJ1Zy1rZXlzIikscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIiksYz1mdW5jdGlvbigpe30sYT0icHJvdG90eXBlIix1PWZ1bmN0aW9uKCl7dmFyIHQscj1lKCIuL19kb20tY3JlYXRlIikoImlmcmFtZSIpLG49aS5sZW5ndGgsbz0iPiI7Zm9yKHIuc3R5bGUuZGlzcGxheT0ibm9uZSIsZSgiLi9faHRtbCIpLmFwcGVuZENoaWxkKHIpLHIuc3JjPSJqYXZhc2NyaXB0OiIsdD1yLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsdC5vcGVuKCksdC53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDwvc2NyaXB0IitvKSx0LmNsb3NlKCksdT10LkY7bi0tOylkZWxldGUgdVthXVtpW25dXTtyZXR1cm4gdSgpfTt0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KGNbYV09bihlKSxyPW5ldyBjLGNbYV09bnVsbCxyW3NdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjpvKHIsdCl9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9faHRtbCI6NDgsIi4vX29iamVjdC1kcHMiOjY3LCIuL19zaGFyZWQta2V5Ijo4M31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGk9ZSgiLi9fdG8tcHJpbWl0aXZlIikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9aSh0LCEwKSxuKHIpLG8pdHJ5e3JldHVybiBzKGUsdCxyKX1jYXRjaChjKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1lKCIuL19vYmplY3Qta2V5cyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIHIscz1pKHQpLGM9cy5sZW5ndGgsYT0wO2M+YTspbi5mKGUscj1zW2ErK10sdFtyXSk7cmV0dXJuIGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWtleXMiOjc0fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtcGllIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL190by1pb2JqZWN0Iikscz1lKCIuL190by1wcmltaXRpdmUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/dTpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PXModCwhMCksYSl0cnl7cmV0dXJuIHUoZSx0KX1jYXRjaChyKXt9cmV0dXJuIGMoZSx0KT9vKCFuLmYuY2FsbChlLHQpLGVbdF0pOnZvaWQgMH19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWlvYmplY3QiKSxvPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpvKG4oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9byhlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm4oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbihjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG8odCkpLGE9bihyKSx1PWMubGVuZ3RoO3JldHVybiAwPmF8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLDU1Mjk2Pml8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsXz0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK19dPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKF8pLF99LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06Yj8obz1uZXcgYixpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1vLlN5bWJvbHx8KG8uU3ltYm9sPWk/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPXMmJmlbZV18fChzP2k6bykoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1ufSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NsYXNzb2YiKSxvPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjksIi4vX2l0ZXItZGVmaW5lIjo1NywiLi9faXRlci1zdGVwIjo1OSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7Y3JlYXRlOmUoIi4vX29iamVjdC1jcmVhdGUiKX0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1jcmVhdGUiOjY1fV0sMTAxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19leHBvcnQiOjQyLCIuL19vYmplY3QtZHAiOjY2fV0sMTAyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBvKG4oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1ncG8iKTtlKCIuL19vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3QtZ3BvIjo3MiwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1vYmplY3QiOjkyfV0sMTA1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vX3NldC1wcm90byIpLnNldH0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX3NldC1wcm90byI6ODB9XSwxMDY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxsPWUoIi4vX2V4cG9ydCIpLGY9ZSgiLi9faXMtb2JqZWN0IiksZD0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxwPWUoIi4vX2FuLWluc3RhbmNlIiksYj1lKCIuL19mb3Itb2YiKSxfPShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSxoPWUoIi4vX3Rhc2siKS5zZXQseT1lKCIuL19taWNyb3Rhc2siKSgpLHY9IlByb21pc2UiLG09Yy5UeXBlRXJyb3Isaj1jLnByb2Nlc3MsZz1jW3ZdLGo9Yy5wcm9jZXNzLHc9InByb2Nlc3MiPT11KGopLE89ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1nLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShPLE8pfTtyZXR1cm4od3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihPKWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1nJiZ0PT09aX0sQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZihlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG8oZSl9LFM9bz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgbSgiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixvPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhvfHwoMj09ZS5faCYmUChlKSxlLl9oPTEpLHM9PT0hMD9yPW46KHUmJnUuZW50ZXIoKSxyPXMobiksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShtKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShuKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbixvPWUuX3Y7aWYoTihlKSYmKHQ9VChmdW5jdGlvbigpe3c/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpvfSk6KG49Yy5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pLGUuX2g9d3x8TihlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxOPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxuPTA7ci5sZW5ndGg+bjspaWYodD1yW24rK10sdC5mYWlsfHwhTih0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxQPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9qLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksUih0LCEwKSl9LEw9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgbSgiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKEwsbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIuX3Y9ZSxyLl9zPTEsUihyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtfdzpyLF9kOiExfSxuKX19fTtrfHwoZz1mdW5jdGlvbihlKXtwKHRoaXMsZyx2LCJfaCIpLGQoZSksbi5jYWxsKHRoaXMpO3RyeXtlKGEoTCx0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG49ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sbi5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKF8odGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49dz9qLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZSKHRoaXMsITEpLHIucHJvbWlzZX0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxTPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPWEoTCxlLDEpLAp0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqKHN8fCFrKSx2LHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBnJiZ4KGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9RSh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksbChsLlMrbC5GKiEoayYmZSgiLi9faXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXtnLmFsbChlKVsiY2F0Y2giXShPKX0pKSx2LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPVQoZnVuY3Rpb24oKXt2YXIgcj1bXSxpPTAscz0xO2IoZSwhMSxmdW5jdGlvbihlKXt2YXIgYz1pKyssYT0hMTtyLnB1c2godm9pZCAwKSxzKyssdC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7YXx8KGE9ITAscltjXT1lLC0tc3x8bihyKSl9LG8pfSksLS1zfHxuKHIpfSk7cmV0dXJuIGkmJm8oaS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG49ci5yZWplY3Qsbz1UKGZ1bmN0aW9uKCl7YihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vX2EtZnVuY3Rpb24iOjI4LCIuL19hbi1pbnN0YW5jZSI6MzAsIi4vX2FuLW9iamVjdCI6MzEsIi4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9fY3R4IjozNiwiLi9fZXhwb3J0Ijo0MiwiLi9fZm9yLW9mIjo0NCwiLi9fZ2xvYmFsIjo0NSwiLi9faXMtb2JqZWN0Ijo1NCwiLi9faXRlci1kZXRlY3QiOjU4LCIuL19saWJyYXJ5Ijo2MiwiLi9fbWljcm90YXNrIjo2NCwiLi9fcmVkZWZpbmUtYWxsIjo3OCwiLi9fc2V0LXByb3RvIjo4MCwiLi9fc2V0LXNwZWNpZXMiOjgxLCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiOjg1LCIuL190YXNrIjo4NywiLi9fd2tzIjo5N31dLDEwODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjo1NywiLi9fc3RyaW5nLWF0Ijo4Nn1dLDEwOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2hhcyIpLGk9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX2V4cG9ydCIpLGM9ZSgiLi9fcmVkZWZpbmUiKSxhPWUoIi4vX21ldGEiKS5LRVksdT1lKCIuL19mYWlscyIpLGw9ZSgiLi9fc2hhcmVkIiksZj1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGQ9ZSgiLi9fdWlkIikscD1lKCIuL193a3MiKSxiPWUoIi4vX3drcy1leHQiKSxfPWUoIi4vX3drcy1kZWZpbmUiKSxoPWUoIi4vX2tleW9mIikseT1lKCIuL19lbnVtLWtleXMiKSx2PWUoIi4vX2lzLWFycmF5IiksbT1lKCIuL19hbi1vYmplY3QiKSxqPWUoIi4vX3RvLWlvYmplY3QiKSxnPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHc9ZSgiLi9fcHJvcGVydHktZGVzYyIpLE89ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLGs9ZSgiLi9fb2JqZWN0LWdvcG4tZXh0IikseD1lKCIuL19vYmplY3QtZ29wZCIpLEM9ZSgiLi9fb2JqZWN0LWRwIiksRT1lKCIuL19vYmplY3Qta2V5cyIpLFM9eC5mLFQ9Qy5mLFI9ay5mLE09bi5TeW1ib2wsTj1uLkpTT04sUD1OJiZOLnN0cmluZ2lmeSxEPSJwcm90b3R5cGUiLEw9cCgiX2hpZGRlbiIpLEE9cCgidG9QcmltaXRpdmUiKSxGPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEk9bCgic3ltYm9sLXJlZ2lzdHJ5IiksVT1sKCJzeW1ib2xzIiksVj1sKCJvcC1zeW1ib2xzIiksej1PYmplY3RbRF0sSD0iZnVuY3Rpb24iPT10eXBlb2YgTSxCPW4uUU9iamVjdCxXPSFCfHwhQltEXXx8IUJbRF0uZmluZENoaWxkLEo9aSYmdShmdW5jdGlvbigpe3JldHVybiA3IT1PKFQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49Uyh6LHQpO24mJmRlbGV0ZSB6W3RdLFQoZSx0LHIpLG4mJmUhPT16JiZUKHosdCxuKX06VCxZPWZ1bmN0aW9uKGUpe3ZhciB0PVVbZV09TyhNW0RdKTtyZXR1cm4gdC5faz1lLHR9LHE9SCYmInN5bWJvbCI9PXR5cGVvZiBNLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNfSxLPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PXomJksoVix0LHIpLG0oZSksdD1nKHQsITApLG0ociksbyhVLHQpPyhyLmVudW1lcmFibGU/KG8oZSxMKSYmZVtMXVt0XSYmKGVbTF1bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOncoMCwhMSl9KSk6KG8oZSxMKXx8VChlLEwsdygxLHt9KSksZVtMXVt0XT0hMCksSihlLHQscikpOlQoZSx0LHIpfSxHPWZ1bmN0aW9uKGUsdCl7bShlKTtmb3IodmFyIHIsbj15KHQ9aih0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylLKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkcoTyhlKSx0KX0sWD1mdW5jdGlvbihlKXt2YXIgdD1GLmNhbGwodGhpcyxlPWcoZSwhMCkpO3JldHVybiB0aGlzPT09eiYmbyhVLGUpJiYhbyhWLGUpPyExOnR8fCFvKHRoaXMsZSl8fCFvKFUsZSl8fG8odGhpcyxMKSYmdGhpc1tMXVtlXT90OiEwfSwkPWZ1bmN0aW9uKGUsdCl7aWYoZT1qKGUpLHQ9Zyh0LCEwKSxlIT09enx8IW8oVSx0KXx8byhWLHQpKXt2YXIgcj1TKGUsdCk7cmV0dXJuIXJ8fCFvKFUsdCl8fG8oZSxMKSYmZVtMXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9UihqKGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKFUsdD1yW2krK10pfHx0PT1MfHx0PT1hfHxuLnB1c2godCk7cmV0dXJuIG59LGVlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWU9PT16LG49UihyP1Y6aihlKSksaT1bXSxzPTA7bi5sZW5ndGg+czspbyhVLHQ9bltzKytdKSYmKHI/byh6LHQpOiEwKSYmaS5wdXNoKFVbdF0pO3JldHVybiBpfTtIfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PXomJnQuY2FsbChWLHIpLG8odGhpcyxMKSYmbyh0aGlzW0xdLGUpJiYodGhpc1tMXVtlXT0hMSksSih0aGlzLGUsdygxLHIpKX07cmV0dXJuIGkmJlcmJkooeixlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxZKGUpfSxjKE1bRF0sInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPSQsQy5mPUssZSgiLi9fb2JqZWN0LWdvcG4iKS5mPWsuZj1RLGUoIi4vX29iamVjdC1waWUiKS5mPVgsZSgiLi9fb2JqZWN0LWdvcHMiKS5mPWVlLGkmJiFlKCIuL19saWJyYXJ5IikmJmMoeiwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLGIuZj1mdW5jdGlvbihlKXtyZXR1cm4gWShwKGUpKX0pLHMocy5HK3MuVytzLkYqIUgse1N5bWJvbDpNfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KXAodGVbcmUrK10pO2Zvcih2YXIgdGU9RShwLnN0b3JlKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7cyhzLlMrcy5GKiFILCJTeW1ib2wiLHsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gbyhJLGUrPSIiKT9JW2VdOklbZV09TShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJuIGgoSSxlKTt0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Vz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Vz0hMX19KSxzKHMuUytzLkYqIUgsIk9iamVjdCIse2NyZWF0ZTpaLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpHLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZWV9KSxOJiZzKHMuUytzLkYqKCFIfHx1KGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1QKFtlXSl8fCJ7fSIhPVAoe2E6ZX0pfHwie30iIT1QKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIXEoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KW4ucHVzaChhcmd1bWVudHNbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnYodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLHEodCk/dm9pZCAwOnR9KSxuWzFdPXQsUC5hcHBseShOLG4pfX19KSxNW0RdW0FdfHxlKCIuL19oaWRlIikoTVtEXSxBLE1bRF0udmFsdWVPZiksZihNLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG4uSlNPTiwiSlNPTiIsITApfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZW51bS1rZXlzIjo0MSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzLCIuL19nbG9iYWwiOjQ1LCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXMtYXJyYXkiOjUzLCIuL19rZXlvZiI6NjEsIi4vX2xpYnJhcnkiOjYyLCIuL19tZXRhIjo2MywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1nb3BkIjo2OCwiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL19vYmplY3QtZ29wbi1leHQiOjY5LCIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc2hhcmVkIjo4NCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTMsIi4vX3VpZCI6OTQsIi4vX3drcyI6OTcsIi4vX3drcy1kZWZpbmUiOjk1LCIuL193a3MtZXh0Ijo5Nn1dLDExMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vX3drcy1kZWZpbmUiKSgiYXN5bmNJdGVyYXRvciIpfSx7Ii4vX3drcy1kZWZpbmUiOjk1fV0sMTExOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJvYnNlcnZhYmxlIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2hpZGUiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksYz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLGE9MDs1PmE7YSsrKXt2YXIgdT1jW2FdLGw9blt1XSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW3NdJiZvKGYscyx1KSxpW3VdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6OTl9XSwxMTM6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWMoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYT1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YSkmJihyPWMoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGMsYT17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGM9cy5uYW1lLGkmJmlbY109PT1lfHwocy52YWx1ZSE9PW9bY10mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmMsb2xkVmFsdWU6b1tjXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksYVtjXT0hMCk7Zm9yKGMgaW4gbylhW2NdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTpjLG9sZFZhbHVlOm9bY119KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBjKGUscixvLGMsYSl7dmFyIGw9ZS5sZW5ndGgtMTthPS1+KChsLWEpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWNbcC5pXSxzLmImJmEmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxhLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLF8saCx5PXIuY2hpbGROb2Rlcyx2PW8uYixtPXkubGVuZ3RoLGo9dj92Lmxlbmd0aDowLGc9MCx3PTAsTz0wO20+d3x8aj5POylfPXlbd10saD0oYj12W09dKSYmYi5qLF89PT1oPyhzLmEmJmIuYSYmaSh0LF8sYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZfLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpffSkpLHAmJmMocCxyLHksdixnKSxzLmUmJihfLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KF8sYiksdysrLE8rKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksXyYmKGRbYj1hKF8pXXx8KGRbYl09ITAsLTE9PT0oYj1mKHYsXyxPLCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W19dLG5leHRTaWJsaW5nOl8ubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOl8ucHJldmlvdXNTaWJsaW5nfSkpLGcrKyk6cC5wdXNoKHtoOncsaTpifSkpLHcrKyksaCYmaCE9PXlbd10mJihkW2I9YShoKV18fChkW2JdPSEwLC0xPT09KGI9Zih5LGgsdykpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOltoXSxuZXh0U2libGluZzp2W08rMV0scHJldmlvdXNTaWJsaW5nOnZbTy0xXX0pKSxnLS0pOnAucHVzaCh7aDpiLGk6T30pKSxPKyspKTtwJiZjKHAscix5LHYsZyl9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBhKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09ITAsZX0pKSxpLnB1c2goe206ZSxsOm8oZSxuKX0pLHRoaXMuZnx8cih0aGlzKX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmcscj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ubChlKTtyZXR1cm4gZX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuZz1bXSxjbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbH19O3ZhciBkPTE7cmV0dXJuIHR9KHZvaWQgMCl9LHt9XSwxMTQ6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxjPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYT10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFthKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1hKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWEoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChhKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YShyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYyh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KGgobixlKSxqKGUsbix0LHIpKToobj1fKGUpLGooZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LF89ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxjPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjptKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTtjPGkubGVuZ3RoOyluW2NdPWQodCxpW2NdKSxzW2NdPXRbaVtjKytdXTtlbHNlIGZvcig7YzxpLmxlbmd0aDspc1tjXT10W2lbYysrXV07cmV0dXJuIG8uc2V0KHQscikscn0saD1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGM9dC52YWx1ZXNbcl0sYT10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYz09PXM/MD09PWMmJjEvYyE9PTEvczpjPT09Y3x8cz09PXMpJiYoZyhlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG4pLHQudmFsdWVzW3JdPXMpLCFhLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1hLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1hLmVudW1lcmFibGUmJm8uZ2V0PT09YS5nZXQmJm8uc2V0PT09YS5zZXR8fChnKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGcoZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGM9ci5sZW5ndGg7biYmYy0tOyludWxsIT09cltjXSYmKHM9ZChlLHJbY10pLG4tLSxzP3QoZSxvLGMsaSxzKTooZyhlLG8se25hbWU6cltjXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2NdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGMsMSksby52YWx1ZXMuc3BsaWNlKGMsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYywxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoZyhlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYyx1LHAsYixfLGgseSx2PW4udmFsdWVzLG09bi5kZXNjcmlwdG9ycyxqPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYz1zLmxlbmd0aCx1PWwobyksbSl7Zm9yKDtqPHUubGVuZ3RoOyliPXVbaisrXSxwPWEocyxiKSx5PWQobyxiKSwtMT09PXA/KGcobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksdi5wdXNoKG9bYl0pLG0ucHVzaCh5KSk6KHNbcF09bnVsbCxjLS0sdChvLG4scCxpLHkpKTtyKG8scyxjLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsZyhvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO2o8dS5sZW5ndGg7KWI9dVtqKytdLHA9YShzLGIpLF89b1tiXSwtMT09PXA/KGcobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksdi5wdXNoKF8pKTooc1twXT1udWxsLGMtLSx0KG8sbixwLGkpKTtyKG8scyxjLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7ajxzLmxlbmd0aDtqKyspYj1zW2pdLHQobyxuLGosaSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKGg9ZihvKSxoIT09bi5wcm90byYmKGcobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89aCkpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaChoKSxpLmZvckVhY2godikscCh5KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LG09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtnKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGM9by5nZXQoZSksYT1hcmd1bWVudHNbMl0sdT1hPT09bj9yKCk6ci5jYWxsKGEpO2lmKGMmJmgoYyxlLHQpLGMmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7ZyhlLGMscyl9fX19LGo9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGc9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1hKG8sbikpJiZhKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aChlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7dihuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDptKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aChlLmRhdGEsdCl9KSx2KHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYz1uKHMpLGE9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihhKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWNbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6MTE4LCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjoxMTksIi4vc3luY2hlci9TeW5jaGVyIjoxMjIsImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6MTEzLCJvYmplY3Qub2JzZXJ2ZSI6MTE0fV0sMTE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxfPW4oYiksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW4sYy5fc3RhdHVzPW8sYy5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgX1siZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBfWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNywiLi9TeW5jT2JqZWN0IjoxMjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1uKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW8sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIxLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9bihzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLF89bihiKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bihoKSx2PWUoIi4vRGF0YU9iamVjdCIpLG09bih2KSxqPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1uKGopLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxfWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsX1siZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9dy5BTlk6KG4udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT13LkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShtWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTYsIi4vRGF0YU9iamVjdENoaWxkIjoxMTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9bihzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLF89bihiKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bihoKSx2PWUoIi4vRGF0YU9iamVjdCIpLG09bih2KSxqPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLGouZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxqLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLGouZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShtWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiLi9EYXRhT2JqZWN0IjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTIwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9bihzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Xy5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Xy5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgXz1vLnNsaWNlKHMscytkKTtfLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoXyl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYz1zLnRvU3RyaW5nKCk7CmlmKC0xIT09Yy5pbmRleE9mKCJTeW1ib2wiKSljb250aW51ZTt2YXIgYT1vW3Rbbl0ubmFtZV07InVwZGF0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5VUERBVEUsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSksImFkZCI9PT10W25dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUocyxhKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShhKX0pKSwiZGVsZXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmN9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InJlbW92ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fb2JzZXJ2YWJsZXNbZV19fSx7a2V5OiJyZUluZGV4RnJvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX29ic2VydmFibGVzW3JdLG89ZS5pbmRleE9mKG4ub2JqKTtuLmlkeCE9byYmKG4uaWR4PW8sZGVsZXRlIHQuX29ic2VydmFibGVzW3JdLHQuX29ic2VydmFibGVzW29dPW4pfSl9fSx7a2V5OiJuZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PXAmJih0aGlzLl9vYnNlcnZhYmxlc1tlLmlkeF09ZSk7dmFyIHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0Ll9wYXRoLnB1c2goZSksdH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fcGF0aC5wdXNoKGUpfSksdH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24odCxyKXswPT09cj9lPXQudG9TdHJpbmcoKTplKz0iLiIrdC50b1N0cmluZygpfSksZX19XSksZX0oKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLm9iaj10LHRoaXMuaWR4PXJ9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKX19XSksZX0oKSxiPXIuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LF89ci5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07clsiZGVmYXVsdCJdPWZ9LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksXz1uKGIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYz1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1jLHQoYyl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBfWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYz1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1jLG8oYykscy5hcHBseShjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTgsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTksIi4vRGF0YVByb3Zpc2lvbmFsIjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbMTE1XSkoMTE1KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuSVB2NiA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKgogIHZhciBfaW4gPSAiZmU4MDowMDAwOjAwMDA6MDAwMDowMjA0OjYxZmY6ZmU5ZDpmMTU2IjsKICB2YXIgX291dCA9IElQdjYuYmVzdChfaW4pOwogIHZhciBfZXhwZWN0ZWQgPSAiZmU4MDo6MjA0OjYxZmY6ZmU5ZDpmMTU2IjsKCiAgY29uc29sZS5sb2coX2luLCBfb3V0LCBfZXhwZWN0ZWQsIF9vdXQgPT09IF9leHBlY3RlZCk7CiAgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IElQdjYgdmFyaWFibGUsIGlmIGFueQogIHZhciBfSVB2NiA9IHJvb3QgJiYgcm9vdC5JUHY2OwoKICBmdW5jdGlvbiBiZXN0UHJlc2VudGF0aW9uKGFkZHJlc3MpIHsKICAgIC8vIGJhc2VkIG9uOgogICAgLy8gSmF2YXNjcmlwdCB0byB0ZXN0IGFuIElQdjYgYWRkcmVzcyBmb3IgcHJvcGVyIGZvcm1hdCwgYW5kIHRvCiAgICAvLyBwcmVzZW50IHRoZSAiYmVzdCB0ZXh0IHJlcHJlc2VudGF0aW9uIiBhY2NvcmRpbmcgdG8gSUVURiBEcmFmdCBSRkMgYXQKICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQKICAgIC8vIDggRmViIDIwMTAgUmljaCBCcm93biwgRGFydHdhcmUsIExMQwogICAgLy8gUGxlYXNlIGZlZWwgZnJlZSB0byB1c2UgdGhpcyBjb2RlIGFzIGxvbmcgYXMgeW91IHByb3ZpZGUgYSBsaW5rIHRvCiAgICAvLyBodHRwOi8vd3d3LmludGVybWFwcGVyLmNvbQogICAgLy8gaHR0cDovL2ludGVybWFwcGVyLmNvbS9zdXBwb3J0L3Rvb2xzL0lQVjYtVmFsaWRhdG9yLmFzcHgKICAgIC8vIGh0dHA6Ly9kb3dubG9hZC5kYXJ0d2FyZS5jb20vdGhpcmRwYXJ0eS9pcHY2dmFsaWRhdG9yLmpzCgogICAgdmFyIF9hZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpOwogICAgdmFyIHNlZ21lbnRzID0gX2FkZHJlc3Muc3BsaXQoJzonKTsKICAgIHZhciBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CiAgICB2YXIgdG90YWwgPSA4OwoKICAgIC8vIHRyaW0gY29sb25zICg6OiBvciA6OmE6Yjpj4oCmIG9yIOKApmE6YjpjOjopCiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJyAmJiBzZWdtZW50c1syXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjoKICAgICAgLy8gcmVtb3ZlIGZpcnN0IHR3byBpdGVtcwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6eHh4eAogICAgICAvLyByZW1vdmUgdGhlIGZpcnN0IGl0ZW0KICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnICYmIHNlZ21lbnRzW2xlbmd0aCAtIDJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiB4eHh4OjoKICAgICAgc2VnbWVudHMucG9wKCk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFkanVzdCB0b3RhbCBzZWdtZW50cyBmb3IgSVB2NCB0cmFpbGVyCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0uaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAvLyBmb3VuZCBhICIuIiB3aGljaCBtZWFucyBJUHY0CiAgICAgIHRvdGFsID0gNzsKICAgIH0KCiAgICAvLyBmaWxsIGVtcHR5IHNlZ21lbnRzIHRoZW0gd2l0aCAiMDAwMCIKICAgIHZhciBwb3M7CiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKHNlZ21lbnRzW3Bvc10gPT09ICcnKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgdG90YWwpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMSwgJzAwMDAnKTsKICAgICAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA8IHRvdGFsKSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMCwgJzAwMDAnKTsKICAgICAgfQogICAgfQoKICAgIC8vIHN0cmlwIGxlYWRpbmcgemVyb3MKICAgIHZhciBfc2VnbWVudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgX3NlZ21lbnRzID0gc2VnbWVudHNbaV0uc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMgOyBqKyspIHsKICAgICAgICBpZiAoX3NlZ21lbnRzWzBdID09PSAnMCcgJiYgX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIF9zZWdtZW50cy5zcGxpY2UoMCwxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWdtZW50c1tpXSA9IF9zZWdtZW50cy5qb2luKCcnKTsKICAgIH0KCiAgICAvLyBmaW5kIGxvbmdlc3Qgc2VxdWVuY2Ugb2YgemVyb2VzIGFuZCBjb2FsZXNjZSB0aGVtIGludG8gb25lIHNlZ21lbnQKICAgIHZhciBiZXN0ID0gLTE7CiAgICB2YXIgX2Jlc3QgPSAwOwogICAgdmFyIF9jdXJyZW50ID0gMDsKICAgIHZhciBjdXJyZW50ID0gLTE7CiAgICB2YXIgaW56ZXJvZXMgPSBmYWxzZTsKICAgIC8vIGk7IGFscmVhZHkgZGVjbGFyZWQKCiAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBpZiAoaW56ZXJvZXMpIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgX2N1cnJlbnQgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW56ZXJvZXMgPSBmYWxzZTsKICAgICAgICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgICAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICAgICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgaW56ZXJvZXMgPSB0cnVlOwogICAgICAgICAgY3VycmVudCA9IGk7CiAgICAgICAgICBfY3VycmVudCA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICB9CgogICAgaWYgKF9iZXN0ID4gMSkgewogICAgICBzZWdtZW50cy5zcGxpY2UoYmVzdCwgX2Jlc3QsICcnKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYXNzZW1ibGUgcmVtYWluaW5nIHNlZ21lbnRzCiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnKSAgewogICAgICByZXN1bHQgPSAnOic7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdCArPSBzZWdtZW50c1tpXTsKICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi8KICAgIGlmIChyb290LklQdjYgPT09IHRoaXMpIHsKICAgICAgcm9vdC5JUHY2ID0gX0lQdjY7CiAgICB9CiAgCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBiZXN0OiBiZXN0UHJlc2VudGF0aW9uLAogICAgbm9Db25mbGljdDogbm9Db25mbGljdAogIH07Cn0pKTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBTZWNvbmQgTGV2ZWwgRG9tYWluIChTTEQpIFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gc2F2ZSBjdXJyZW50IFNlY29uZExldmVsRG9tYWlucyB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6JyBjb20gZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhZSc6JyBhYyBjbyBnb3YgbWlsIG5hbWUgbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdhZic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYW8nOicgY28gZWQgZ3YgaXQgb2cgcGIgJywKICAgICAgJ2FyJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6JyBhYyBjbyBndiBvciAnLAogICAgICAnYXUnOicgYXNuIGNvbSBjc2lybyBlZHUgZ292IGlkIG5ldCBvcmcgJywKICAgICAgJ2JhJzonIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOicgYml6IGNvIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyBzdG9yZSB0diAnLAogICAgICAnYmgnOicgYml6IGNjIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnYm4nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0diAnLAogICAgICAnYnInOicgYWRtIGFkdiBhZ3IgYW0gYXJxIGFydCBhdG8gYiBiaW8gYmxvZyBibWQgY2ltIGNuZyBjbnQgY29tIGNvb3AgZWNuIGVkdSBlbmcgZXNwIGV0YyBldGkgZmFyIGZsb2cgZm0gZm5kIGZvdCBmc3QgZzEyIGdnZiBnb3YgaW1iIGluZCBpbmYgam9yIGp1cyBsZWwgbWF0IG1lZCBtaWwgbXVzIG5ldCBub20gbm90IG50ciBvZG8gb3JnIHBwZyBwcm8gcHNjIHBzaSBxc2wgcmVjIHNsZyBzcnYgdG1wIHRyZCB0dXIgdHYgdmV0IHZsb2cgd2lraSB6bGcgJywKICAgICAgJ2JzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzonIGR1IGV0IG9tIG92IHJnICcsCiAgICAgICdjYSc6JyBhYiBiYyBtYiBuYiBuZiBubCBucyBudCBudSBvbiBwZSBxYyBzayB5ayAnLAogICAgICAnY2snOicgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOicgYWMgYWggYmogY29tIGNxIGVkdSBmaiBnZCBnb3YgZ3MgZ3ggZ3ogaGEgaGIgaGUgaGkgaGwgaG4gamwganMganggbG4gbWlsIG5ldCBubSBueCBvcmcgcWggc2Mgc2Qgc2ggc24gc3ggdGogdHcgeGogeHogeW4gemogJywKICAgICAgJ2NvJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnY3InOicgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOicgYWMgYml6IGNvbSBla2xvZ2VzIGdvdiBsdGQgbmFtZSBuZXQgb3JnIHBhcmxpYW1lbnQgcHJlc3MgcHJvIHRtICcsCiAgICAgICdkbyc6JyBhcnQgY29tIGVkdSBnb2IgZ292IG1pbCBuZXQgb3JnIHNsZCB3ZWIgJywKICAgICAgJ2R6JzonIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6JyBjb20gZWR1IGZpbiBnb3YgaW5mbyBtZWQgbWlsIG5ldCBvcmcgcHJvICcsCiAgICAgICdlZyc6JyBjb20gZWR1IGV1biBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2kgJywKICAgICAgJ2VyJzonIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzonIGNvbSBlZHUgZ29iIG5vbSBvcmcgJywKICAgICAgJ2V0JzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5hbWUgbmV0IG9yZyAnLAogICAgICAnZmonOicgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6JyBhYyBjbyBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ2ZyJzonIGFzc28gY29tIGYgZ291diBub20gcHJkIHByZXNzZSB0bSAnLAogICAgICAnZ2cnOicgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOicgY29tIGVkdSBnb3YgbWlsIG9yZyAnLAogICAgICAnZ24nOicgYWMgY29tIGdvdiBuZXQgb3JnICcsCiAgICAgICdncic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOicgY29tIGVkdSBnb2IgaW5kIG1pbCBuZXQgb3JnICcsCiAgICAgICdndSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdoayc6JyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOicgMjAwMCBhZ3JhciBib2x0IGNhc2lubyBjaXR5IGNvIGVyb3RpY2EgZXJvdGlrYSBmaWxtIGZvcnVtIGdhbWVzIGhvdGVsIGluZm8gaW5nYXRsYW4gam9nYXN6IGtvbnl2ZWxvIGxha2FzIG1lZGlhIG5ld3Mgb3JnIHByaXYgcmVrbGFtIHNleCBzaG9wIHNwb3J0IHN1bGkgc3pleCB0bSB0b3pzZGUgdXRhemFzIHZpZGVvICcsCiAgICAgICdpZCc6JyBhYyBjbyBnbyBtaWwgbmV0IG9yIHNjaCB3ZWIgJywKICAgICAgJ2lsJzonIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOicgYWMgY28gZWR1IGVybmV0IGZpcm0gZ2VuIGdvdiBpIGluZCBtaWwgbmV0IG5pYyBvcmcgcmVzICcsCiAgICAgICdpcSc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgb3JnICcsCiAgICAgICdpcic6JyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzonIGVkdSBnb3YgJywKICAgICAgJ2plJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2pvJzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6JyBhYyBhZCBjbyBlZCBnbyBnciBsZyBuZSBvciAnLAogICAgICAna2UnOicgYWMgY28gZ28gaW5mbyBtZSBtb2JpIG5lIG9yIHNjICcsCiAgICAgICdraCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzonIGJpeiBjb20gZGUgZWR1IGdvdiBpbmZvIG1vYiBuZXQgb3JnIHRlbCAnLAogICAgICAna20nOicgYXNzbyBjb20gY29vcCBlZHUgZ291diBrIG1lZGVjaW4gbWlsIG5vbSBub3RhaXJlcyBwaGFybWFjaWVucyBwcmVzc2UgdG0gdmV0ZXJpbmFpcmUgJywKICAgICAgJ2tuJzonIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOicgYWMgYnVzYW4gY2h1bmdidWsgY2h1bmduYW0gY28gZGFlZ3UgZGFlamVvbiBlcyBnYW5nd29uIGdvIGd3YW5nanUgZ3llb25nYnVrIGd5ZW9uZ2dpIGd5ZW9uZ25hbSBocyBpbmNoZW9uIGplanUgamVvbmJ1ayBqZW9ubmFtIGsga2cgbWlsIG1zIG5lIG9yIHBlIHJlIHNjIHNlb3VsIHVsc2FuICcsCiAgICAgICdrdyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbGInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbGsnOicgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbHYnOicgYXNuIGNvbSBjb25mIGVkdSBnb3YgaWQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2x5JzonIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzonIGFjIGNvIGdvdiBtIG5ldCBvcmcgcHJlc3MgJywKICAgICAgJ21jJzonIGFzc28gdG0gJywKICAgICAgJ21lJzonIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOicgY29tIGVkdSBnb3YgbWlsIG5vbSBvcmcgcHJkIHRtICcsCiAgICAgICdtayc6JyBjb20gZWR1IGdvdiBpbmYgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbWwnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzonIGVkdSBnb3Ygb3JnICcsCiAgICAgICdtbyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6JyBhZXJvIGJpeiBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IG1pbCBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbXcnOicgYWMgY28gY29tIGNvb3AgZWR1IGdvdiBpbnQgbXVzZXVtIG5ldCBvcmcgJywKICAgICAgJ214JzonIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduZic6JyBhcnRzIGNvbSBmaXJtIGluZm8gbmV0IG90aGVyIHBlciByZWMgc3RvcmUgd2ViICcsCiAgICAgICduZyc6JyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOicgYWMgY28gY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICducCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbnInOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOicgYWMgYml6IGNvIGNvbSBlZHUgZ292IG1lZCBtaWwgbXVzZXVtIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAncGUnOicgY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncGgnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzonIGJpeiBjb20gZWR1IGZhbSBnb2IgZ29rIGdvbiBnb3AgZ29zIGdvdiBuZXQgb3JnIHdlYiAnLAogICAgICAncGwnOicgYXJ0IGJpYWx5c3RvayBiaXogY29tIGVkdSBnZGEgZ2RhbnNrIGdvcnpvdyBnb3YgaW5mbyBrYXRvd2ljZSBrcmFrb3cgbG9keiBsdWJsaW4gbWlsIG5ldCBuZ28gb2xzenR5biBvcmcgcG96bmFuIHB3ciByYWRvbSBzbHVwc2sgc3pjemVjaW4gdG9ydW4gd2Fyc3phd2Egd2F3IHdyb2Mgd3JvY2xhdyB6Z29yYSAnLAogICAgICAncHInOicgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHBsbyBzZWMgJywKICAgICAgJ3B3JzonIGJlbGF1IGNvIGVkIGdvIG5lIG9yICcsCiAgICAgICdybyc6JyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6JyBhYyBjbyBlZHUgZ292IGluIG9yZyAnLAogICAgICAnc2InOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2MnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOicgY28gY29tIGVkdSBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ3NsJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3N0JzonIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOicgY29tIGVkdSBnb2Igb3JnIHJlZCAnLAogICAgICAnc3onOicgYWMgY28gb3JnICcsCiAgICAgICd0cic6JyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOicgYWVybyBiaXogY2F0IGNvIGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgam9icyBtaWwgbW9iaSBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyB0ZWwgdHJhdmVsICcsCiAgICAgICd0dyc6JyBjbHViIGNvbSBlYml6IGVkdSBnYW1lIGdvdiBpZHYgbWlsIG5ldCBvcmcgJywKICAgICAgJ211JzonIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ25hJzonIGNvIGNvbSAnLAogICAgICAnbnonOicgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOicgYWJvIGFjIGNvbSBlZHUgZ29iIGluZyBtZWQgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwdCc6JyBjb20gZWR1IGdvdiBpbnQgbmV0IG5vbWUgb3JnIHB1YmwgJywKICAgICAgJ3B5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncmUnOicgYXNzbyBjb20gbm9tICcsCiAgICAgICdydSc6JyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6JyBhYyBjbyBjb20gZWR1IGdvdXYgZ292IGludCBtaWwgbmV0ICcsCiAgICAgICdzYSc6JyBjb20gZWR1IGdvdiBtZWQgbmV0IG9yZyBwdWIgc2NoICcsCiAgICAgICdzZCc6JyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6JyBhIGFjIGIgYmQgYyBkIGUgZiBnIGggaSBrIGwgbSBuIG8gb3JnIHAgcGFydGkgcHAgcHJlc3MgciBzIHQgdG0gdSB3IHggeSB6ICcsCiAgICAgICdzZyc6JyBjb20gZWR1IGdvdiBpZG4gbmV0IG9yZyBwZXIgJywKICAgICAgJ3NuJzonIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbmV3cyBvcmcgJywKICAgICAgJ3RoJzonIGFjIGNvIGdvIGluIG1pIG5ldCBvciAnLAogICAgICAndGonOicgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6JyBhZ3JpbmV0IGNvbSBkZWZlbnNlIGVkdW5ldCBlbnMgZmluIGdvdiBpbmQgaW5mbyBpbnRsIG1pbmNvbSBuYXQgbmV0IG9yZyBwZXJzbyBybnJ0IHJucyBybnUgdG91cmlzbSAnLAogICAgICAndHonOicgYWMgY28gZ28gbmUgb3IgJywKICAgICAgJ3VhJzonIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6JyBhYyBjbyBnbyBuZSBvciBvcmcgc2MgJywKICAgICAgJ3VrJzonIGFjIGJsIGJyaXRpc2gtbGlicmFyeSBjbyBjeW0gZ292IGdvdnQgaWNuZXQgamV0IGxlYSBsdGQgbWUgbWlsIG1vZCBuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kIG5lbCBuZXQgbmhzIG5pYyBubHMgb3JnIG9yZ24gcGFybGlhbWVudCBwbGMgcG9saWNlIHNjaCBzY290IHNvYyAnLAogICAgICAndXMnOicgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzonIGNvbSBlZHUgZ3ViIG1pbCBuZXQgb3JnICcsCiAgICAgICd2ZSc6JyBjbyBjb20gZWR1IGdvYiBpbmZvIG1pbCBuZXQgb3JnIHdlYiAnLAogICAgICAndmknOicgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6JyBhYyBiaXogY29tIGVkdSBnb3YgaGVhbHRoIGluZm8gaW50IG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ3llJzonIGNvIGNvbSBnb3YgbHRkIG1lIG5ldCBvcmcgcGxjICcsCiAgICAgICd5dSc6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOicgYWMgYWdyaWMgYWx0IGJvdXJzZSBjaXR5IGNvIGN5YmVybmV0IGRiIGVkdSBnb3YgZ3JvbmRhciBpYWNjZXNzIGltdCBpbmNhIGxhbmRlc2lnbiBsYXcgbWlsIG5ldCBuZ28gbmlzIG5vbSBvbGl2ZXR0aSBvcmcgcGl4IHNjaG9vbCB0bSB3ZWIgJywKICAgICAgJ3ptJzonIGFjIGNvIGNvbSBlZHUgZ292IG5ldCBvcmcgc2NoICcKICAgIH0sCiAgICAvLyBnb3JoaWxsIDIwMTMtMTAtMjU6IFVzaW5nIGluZGV4T2YoKSBpbnN0ZWFkIFJlZ2V4cCgpLiBTaWduaWZpY2FudCBib29zdAogICAgLy8gaW4gYm90aCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IGZvb3RwcmludC4gTm8gaW5pdGlhbGl6YXRpb24gcmVxdWlyZWQuCiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS91cmktanMtc2xkLXJlZ2V4LXZzLWJpbmFyeS1zZWFyY2gvNAogICAgLy8gRm9sbG93aW5nIG1ldGhvZHMgdXNlIGxhc3RJbmRleE9mKCkgcmF0aGVyIHRoYW4gYXJyYXkuc3BsaXQoKSBpbiBvcmRlcgogICAgLy8gdG8gYXZvaWQgYW55IG1lbW9yeSBhbGxvY2F0aW9ucy4KICAgIGhhczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPj0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2UoMCwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSk7CiAgICB9LAogICAgbm9Db25mbGljdDogZnVuY3Rpb24oKXsKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID09PSB0aGlzKSB7CiAgICAgICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBfU2Vjb25kTGV2ZWxEb21haW5zOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CgogIHJldHVybiBTTEQ7Cn0pKTsKCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHsKICAndXNlIHN0cmljdCc7CiAgLypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi8KICAvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZQogIC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJOwoKICBmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7CiAgICB2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxOwogICAgdmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7CgogICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgaWYgKF9iYXNlU3VwcGxpZWQpIHsKICAgICAgICAgIHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSSSgpOwogICAgfQoKICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhyZWYodXJsKTsKCiAgICAvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3IKICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIFVSSS52ZXJzaW9uID0gJzEuMTguMSc7CgogIHZhciBwID0gVVJJLnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCiAgZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2MwogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7CiAgfQoKICBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7CiAgICAvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZQogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuICdVbmRlZmluZWQnOwogICAgfQoKICAgIHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHsKICAgIHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7CiAgfQoKICBmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkgewogICAgdmFyIGxvb2t1cCA9IHt9OwogICAgdmFyIGksIGxlbmd0aDsKCiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGxvb2t1cCA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgbG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxvb2t1cFt2YWx1ZV0gPSB0cnVlOwogICAgfQoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgdmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZAogICAgICAgIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBob3N0bmFtZTogbnVsbCwKICAgICAgdXJuOiBudWxsLAogICAgICBwb3J0OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICBxdWVyeTogbnVsbCwKICAgICAgZnJhZ21lbnQ6IG51bGwsCiAgICAgIC8vIHN0YXRlCiAgICAgIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywKICAgICAgZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2UKICAgIH07CiAgfTsKICAvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpCiAgVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlOwogIC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKQogIFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTsKICAvLyBzdGF0aWMgcHJvcGVydGllcwogIFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTsKICBVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcLi1dL2k7CiAgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7CiAgLy8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlPwogIFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSQvOwogIC8vIGNyZWRpdHMgdG8gUmljaCBCcm93bgogIC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NgogIC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0CiAgVVJJLmlwNl9leHByZXNzaW9uID0gL15ccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKSkoJS4rKT9ccyokLzsKICAvLyBleHByZXNzaW9uIHVzZWQgaXMgImdydWJlciByZXZpc2VkIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGUKICAvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXQKICAvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4CiAgLy8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sCiAgVVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXGIoKD86W2Etel1bXHctXSs6KD86XC97MSwzfXxbYS16MC05JV0pfHd3d1xkezAsM31bLl18W2EtejAtOS5cLV0rWy5dW2Etel17Miw0fVwvKSg/OlteXHMoKTw+XSt8XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKSkrKD86XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKXxbXlxzYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7CiAgVVJJLmZpbmRVcmkgPSB7CiAgICAvLyB2YWxpZCAic2NoZW1lOi8vIiBvciAid3d3LiIKICAgIHN0YXJ0OiAvXGIoPzooW2Etel1bYS16MC05ListXSo6XC9cLyl8d3d3XC4pL2dpLAogICAgLy8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlCiAgICBlbmQ6IC9bXHNcclxuXXwkLywKICAgIC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cAogICAgdHJpbTogL1tgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8KICB9OwogIC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0cwogIFVSSS5kZWZhdWx0UG9ydHMgPSB7CiAgICBodHRwOiAnODAnLAogICAgaHR0cHM6ICc0NDMnLAogICAgZnRwOiAnMjEnLAogICAgZ29waGVyOiAnNzAnLAogICAgd3M6ICc4MCcsCiAgICB3c3M6ICc0NDMnCiAgfTsKICAvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgLy8gQUxQSEEgRElHSVQgIi0iICIuIiAiXyIgIn4iICIhIiAiJCIgIiYiICInIiAiKCIgIikiICIqIiAiKyIgIiwiICI7IiAiPSIgJWVuY29kZWQKICAvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtCiAgVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVwuLV0vOwogIC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZQogIFVSSS5kb21BdHRyaWJ1dGVzID0gewogICAgJ2EnOiAnaHJlZicsCiAgICAnYmxvY2txdW90ZSc6ICdjaXRlJywKICAgICdsaW5rJzogJ2hyZWYnLAogICAgJ2Jhc2UnOiAnaHJlZicsCiAgICAnc2NyaXB0JzogJ3NyYycsCiAgICAnZm9ybSc6ICdhY3Rpb24nLAogICAgJ2ltZyc6ICdzcmMnLAogICAgJ2FyZWEnOiAnaHJlZicsCiAgICAnaWZyYW1lJzogJ3NyYycsCiAgICAnZW1iZWQnOiAnc3JjJywKICAgICdzb3VyY2UnOiAnc3JjJywKICAgICd0cmFjayc6ICdzcmMnLAogICAgJ2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9ImltYWdlIgogICAgJ2F1ZGlvJzogJ3NyYycsCiAgICAndmlkZW8nOiAnc3JjJwogIH07CiAgVVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT0iaW1hZ2UiCiAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTsKICB9OwoKICBmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTEKICAgIHJldHVybiBlc2NhcGUodmFsdWUpOwogIH0KCiAgLy8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NgogIGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHsKICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpCiAgICAgIC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpCiAgICAgIC5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICB9OwogIFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICB9OwogIFVSSS5jaGFyYWN0ZXJzID0gewogICAgcGF0aG5hbWU6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyAtLl9+IScoKSoKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jXS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXJ2ZWQ6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyBnZW4tZGVsaW1zCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyUyRic6ICcvJywKICAgICAgICAgICclM0YnOiAnPycsCiAgICAgICAgICAnJTIzJzogJyMnLAogICAgICAgICAgJyU1Qic6ICdbJywKICAgICAgICAgICclNUQnOiAnXScsCiAgICAgICAgICAnJTQwJzogJ0AnLAogICAgICAgICAgLy8gc3ViLWRlbGltcwogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXJucGF0aDogewogICAgICAvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlCiAgICAgIC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCAiLSIsICIuIiwgYW5kICJfIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dAogICAgICAvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvCiAgICAgIC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzCiAgICAgIC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXQKICAgICAgLy8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuCiAgICAgIC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy4KICAgICAgZW5jb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgInJlc2VydmVkIiBjaGFyYWN0ZXJzIHRoYXQKICAgICAgLy8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyM6XS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnLAogICAgICAgICAgJzonOiAnJTNBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgc3RyaW5nICs9ICcnOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnJTIwJykgOiBzdHJpbmcpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgIHJldHVybiBzdHJpbmc7CiAgICB9CiAgfTsKICAvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zCiAgdmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICByZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CiAgICB9OwogIH07CgogIGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7CiAgICBVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7CiAgICBVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTsKICB9CgogIHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgLy8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGUKICAgICAgLy8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlCiAgICAgIC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZQogICAgICAvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlICJmcmVzaCIuCiAgICAgIHZhciBhY3R1YWxDb2RpbmdGdW5jOwogICAgICBpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTsKICAgIH07CiAgfTsKCiAgLy8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuCiAgVVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpOwogIFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTsKICBVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpOwogIFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CgogIFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpOwoKICBVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICB2YXIgcG9zOwogICAgaWYgKCFwYXJ0cykgewogICAgICBwYXJ0cyA9IHt9OwogICAgfQogICAgLy8gW3Byb3RvY29sIjovLyJbdXNlcm5hbWVbIjoicGFzc3dvcmRdIkAiXWhvc3RuYW1lWyI6InBvcnRdIi8iP11bcGF0aF1bIj8icXVlcnlzdHJpbmddWyIjImZyYWdtZW50XQoKICAgIC8vIGV4dHJhY3QgZnJhZ21lbnQKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeQogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHByb3RvY29sCiAgICBpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykgewogICAgICAvLyByZWxhdGl2ZS1zY2hlbWUKICAgICAgcGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpOwogICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICB9IGVsc2UgewogICAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICBpZiAocG9zID4gLTEpIHsKICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICAvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGgKICAgICAgICAgIHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTsKCiAgICAgICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICAgICAgcGFydHMudXJuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoCiAgICBwYXJ0cy5wYXRoID0gc3RyaW5nOwoKICAgIC8vIGFuZCB3ZSdyZSBkb25lCiAgICByZXR1cm4gcGFydHM7CiAgfTsKICBVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICBzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTsKICAgIHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpOwogIH07CiAgVVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkCiAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTsKICAgIHZhciB0OwoKICAgIC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aAogICAgaWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkgewogICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsOwogICAgICB0LnNoaWZ0KCk7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gbnVsbDsKICAgICAgcGFydHMucGFzc3dvcmQgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKICBVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHBhcnRzLnByb3RvY29sICsgJzonOwogICAgfQoKICAgIGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICcvLyc7CiAgICB9CgogICAgdCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykgewogICAgICBpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdCArPSAnLyc7CiAgICAgIH0KCiAgICAgIHQgKz0gcGFydHMucGF0aDsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkgewogICAgICB0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5OwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7CiAgICAgIHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7CiAgICB9CiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICByZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7CiAgfTsKICBVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy51c2VybmFtZSkgewogICAgICB0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpOwogICAgfQoKICAgIGlmIChwYXJ0cy5wYXNzd29yZCkgewogICAgICB0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpOwogICAgfQoKICAgIGlmICh0KSB7CiAgICAgIHQgKz0gJ0AnOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIGRvbid0IGFwcGVuZCAiPSIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb24KICAgIHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpOwogIH07CgogIFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dOwogICAgICB9CgogICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSBbdmFsdWVdOwogICAgICB9CgogICAgICBkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICBzd2l0Y2ggKGdldFR5cGUobmFtZSkpIHsKICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpKSB7CiAgICAgICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSAmJiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCB2YWx1ZSkpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGNhc2UgJ09iamVjdCc6CiAgICAgICAgZm9yICh2YXIgX2tleSBpbiBuYW1lKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwgX2tleSkpIHsKICAgICAgICAgICAgaWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwgX2tleSwgbmFtZVtfa2V5XSkpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHsKICAgICAgY2FzZSAnVW5kZWZpbmVkJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSkKICAgICAgICByZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7CgogICAgICBjYXNlICdCb29sZWFuJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5CiAgICAgICAgdmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBfYm9vbHk7CgogICAgICBjYXNlICdGdW5jdGlvbic6CiAgICAgICAgLy8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uCiAgICAgICAgcmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7CgogICAgICBjYXNlICdBcnJheSc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDsKICAgICAgICByZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnTnVtYmVyJzoKICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7CiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpOwogICAgfQogIH07CgoKICBVUkkuam9pblBhdGhzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQgPSBbXTsKICAgIHZhciBzZWdtZW50cyA9IFtdOwogICAgdmFyIG5vbkVtcHR5U2VnbWVudHMgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJJKGFyZ3VtZW50c1tpXSk7CiAgICAgIGlucHV0LnB1c2godXJsKTsKICAgICAgdmFyIF9zZWdtZW50cyA9IHVybC5zZWdtZW50KCk7CiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgX3NlZ21lbnRzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBfc2VnbWVudHNbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKF9zZWdtZW50c1tzXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3NlZ21lbnRzW3NdKSB7CiAgICAgICAgICBub25FbXB0eVNlZ21lbnRzKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFzZWdtZW50cy5sZW5ndGggfHwgIW5vbkVtcHR5U2VnbWVudHMpIHsKICAgICAgcmV0dXJuIG5ldyBVUkkoJycpOwogICAgfQoKICAgIHZhciB1cmkgPSBuZXcgVVJJKCcnKS5zZWdtZW50KHNlZ21lbnRzKTsKCiAgICBpZiAoaW5wdXRbMF0ucGF0aCgpID09PSAnJyB8fCBpbnB1dFswXS5wYXRoKCkuc2xpY2UoMCwgMSkgPT09ICcvJykgewogICAgICB1cmkucGF0aCgnLycgKyB1cmkucGF0aCgpKTsKICAgIH0KCiAgICByZXR1cm4gdXJpLm5vcm1hbGl6ZSgpOwogIH07CgogIFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7CiAgICB2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDsKICAgIHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kOwogICAgdmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07CiAgICB2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVsiJ10/JC9pOwoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTsKICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlSHRtbCkgewogICAgICAgIC8vIGF0dHJpYnV0KGU9WyInXT8kKQogICAgICAgIHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTsKICAgICAgICBpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpOwogICAgICB2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpOwogICAgICBpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7CiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTsKICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpOwogICAgICBfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoOwogICAgfQoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgcmV0dXJuIHN0cmluZzsKICB9OwoKICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHsKICAgIC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KQogICAgLy8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanMKCiAgICBpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAvLyB0ZXN0IHB1bnljb2RlCiAgICAgIGlmICghcHVueWNvZGUpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpOwogICAgICB9CgogICAgICBpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub0NvbmZsaWN0CiAgVVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHsKICAgIGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7CiAgICAgIHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5jbG9uZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBVUkkodGhpcyk7CiAgfTsKCiAgcC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCgogIGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDsKICB9OwogIHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7CiAgfTsKCiAgcC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwogICAgICByZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nOwogICAgICB9CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnBhdGggPSBwLnBhdGhuYW1lOwogIHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7CiAgICB2YXIgaXAgPSBmYWxzZTsKICAgIHZhciBpcDQgPSBmYWxzZTsKICAgIHZhciBpcDYgPSBmYWxzZTsKICAgIHZhciBuYW1lID0gZmFsc2U7CiAgICB2YXIgc2xkID0gZmFsc2U7CiAgICB2YXIgaWRuID0gZmFsc2U7CiAgICB2YXIgcHVueWNvZGUgPSBmYWxzZTsKICAgIHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJlbGF0aXZlID0gZmFsc2U7CiAgICAgIGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcCA9IGlwNCB8fCBpcDY7CiAgICAgIG5hbWUgPSAhaXA7CiAgICAgIHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgcHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgfQoKICAgIHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3JlbGF0aXZlJzoKICAgICAgICByZXR1cm4gcmVsYXRpdmU7CgogICAgICBjYXNlICdhYnNvbHV0ZSc6CiAgICAgICAgcmV0dXJuICFyZWxhdGl2ZTsKCiAgICAgIC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uCiAgICAgIGNhc2UgJ2RvbWFpbic6CiAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgIHJldHVybiBuYW1lOwoKICAgICAgY2FzZSAnc2xkJzoKICAgICAgICByZXR1cm4gc2xkOwoKICAgICAgY2FzZSAnaXAnOgogICAgICAgIHJldHVybiBpcDsKCiAgICAgIGNhc2UgJ2lwNCc6CiAgICAgIGNhc2UgJ2lwdjQnOgogICAgICBjYXNlICdpbmV0NCc6CiAgICAgICAgcmV0dXJuIGlwNDsKCiAgICAgIGNhc2UgJ2lwNic6CiAgICAgIGNhc2UgJ2lwdjYnOgogICAgICBjYXNlICdpbmV0Nic6CiAgICAgICAgcmV0dXJuIGlwNjsKCiAgICAgIGNhc2UgJ2lkbic6CiAgICAgICAgcmV0dXJuIGlkbjsKCiAgICAgIGNhc2UgJ3VybCc6CiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICd1cm4nOgogICAgICAgIHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3B1bnljb2RlJzoKICAgICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLy8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb24KICB2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDsKICB2YXIgX3BvcnQgPSBwLnBvcnQ7CiAgdmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7CgogIHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodikgewogICAgICAgIC8vIGFjY2VwdCB0cmFpbGluZyA6Ly8KICAgICAgICB2ID0gdi5yZXBsYWNlKC86KFwvXC8pPyQvLCAnJyk7CgogICAgICAgIGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblwndCBzdGFydCB3aXRoIFtBLVpdJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5zY2hlbWUgPSBwLnByb3RvY29sOwogIHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHggPSB7fTsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHYgPSB4Lmhvc3RuYW1lOwogICAgfQogICAgcmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBjb21wb3VuZCBhY2Nlc3NvcnMKICBwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7CiAgICAgIHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpOwogICAgICBpZiAoIWF1dGhvcml0eSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9yaWdpbiA9IFVSSSh2KTsKICAgICAgdGhpcwogICAgICAgIC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSkKICAgICAgICAuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSkKICAgICAgICAuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTsKICAgICAgcmV0dXJuIHQgPyB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykgewogICAgICAgIHYgKz0gJ0AnOwogICAgICB9CgogICAgICBVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAid3d3IiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDsKICAgICAgdmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpOwoKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7CiAgICAgICAgdiArPSAnLic7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAiZXhhbXBsZS5vcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpbgogICAgICB2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cLi9nKTsKICAgICAgaWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lOwogICAgICB9CgogICAgICAvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7CiAgICAgIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyByZXR1cm4gIm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwoKICAgICAgaWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICByZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkOwogICAgICB9CgogICAgICByZXR1cm4gdGxkOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpOwogICAgICB9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkgewogICAgICAgIGlmIChTTEQgJiYgU0xELmlzKHYpKSB7CiAgICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJy8nOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzOwoKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoOwogICAgICB2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTsKCiAgICAgIC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2gKICAgICAgaWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB2ID0gJy8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgICAgIHYgPSAnLycgKyB2OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2gKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7CiAgICAgICAgdiArPSAnLyc7CiAgICAgIH0KCiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7CgogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcvJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgaWYgKHYubWF0Y2goL1wuP1wvLykpIHsKICAgICAgICBtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpOwogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CgogICAgICBpZiAobXV0YXRlZERpcmVjdG9yeSkgewogICAgICAgIHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpOwogICAgICB2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHMsIHJlczsKCiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLikKICAgICAgcyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7CiAgICAgIHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7CiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcuJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgfSBlbHNlIGlmICghdikgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpOwogICAgICB9CgogICAgICBpZiAocmVwbGFjZSkgewogICAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZAogICAgICAgID8gc2VnbWVudHMKICAgICAgICA6IHNlZ21lbnRzW3NlZ21lbnRdOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgIH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChpc0FycmF5KHYpKSB7CiAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXkKICAgICAgICBmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkgewogICAgICAgICAgICBzZWdtZW50cy5wb3AoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgaWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7CiAgICAgICAgICAvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuCiAgICAgICAgICAvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXIKICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHYpIHsKICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTsKICAgICAgfQogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy51bnNoaWZ0KCcnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpOwogIH07CiAgcC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2W2ldID0gVVJJLmVuY29kZSh2W2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogIH07CgogIC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZwogIHZhciBxID0gcC5xdWVyeTsKICBwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB0cnVlKSB7CiAgICAgIHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpOwogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpOwogICAgfQogIH07CiAgcC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdGhpcwogICAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAgIC5idWlsZCgpOwogICAgfQoKICAgIHJldHVybiB0aGlzCiAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKQogICAgICAubm9ybWFsaXplUG9ydChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkgewogICAgdmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDsKICAgIGlmICghX3BhdGgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTsKCiAgICB2YXIgX3dhc19yZWxhdGl2ZTsKICAgIHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJzsKICAgIHZhciBfcGFyZW50LCBfcG9zOwoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocwogICAgaWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIF93YXNfcmVsYXRpdmUgPSB0cnVlOwogICAgICBfcGF0aCA9ICcvJyArIF9wYXRoOwogICAgfQoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcykKICAgIGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykgewogICAgICBfcGF0aCArPSAnLyc7CiAgICB9CgogICAgLy8gcmVzb2x2ZSBzaW1wbGVzCiAgICBfcGF0aCA9IF9wYXRoCiAgICAgIC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykKICAgICAgLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwoKICAgIC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50cwogICAgaWYgKF93YXNfcmVsYXRpdmUpIHsKICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFwuXC5cLykrLykgfHwgJyc7CiAgICAgIGlmIChfbGVhZGluZ1BhcmVudHMpIHsKICAgICAgICBfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXNvbHZlIHBhcmVudHMKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIF9wYXJlbnQgPSBfcGF0aC5zZWFyY2goL1wvXC5cLihcL3wkKS8pOwogICAgICBpZiAoX3BhcmVudCA9PT0gLTEpIHsKICAgICAgICAvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlCiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkgewogICAgICAgIC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXQKICAgICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgX3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpOwogICAgICBpZiAoX3BvcyA9PT0gLTEpIHsKICAgICAgICBfcG9zID0gX3BhcmVudDsKICAgICAgfQogICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIHJlbGF0aXZlCiAgICBpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgIF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDsKICBwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7CiAgICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5OwogIHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7CgogIHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmkgPSB0aGlzLmNsb25lKCk7CiAgICAvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NgogICAgdXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7CiAgICB2YXIgdCA9ICcnOwogICAgaWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkgewogICAgICAgIHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpOwogICAgICAgIGlmICh1cmkuX3BhcnRzLnBvcnQpIHsKICAgICAgICAgIHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0ICs9IHVyaS5ob3N0KCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHQgKz0gJy8nOwogICAgfQoKICAgIHQgKz0gdXJpLnBhdGgodHJ1ZSk7CiAgICBpZiAodXJpLl9wYXJ0cy5xdWVyeSkgewogICAgICB2YXIgcSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7CiAgICAgICAgcSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CgogICAgICAgIGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwogICAgICAgIH0KICAgICAgfQogICAgICB0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpOwogICAgcmV0dXJuIHQ7CiAgfTsKCiAgLy8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzCiAgcC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTsKICAgIHZhciBiYXNlZGlyLCBpLCBwOwoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgICB9CgogICAgZm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7CiAgICAgIHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTsKICAgIH0KCiAgICByZXNvbHZlZC5idWlsZCgpOwogICAgcmV0dXJuIHJlc29sdmVkOwogIH07CiAgcC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoOwoKICAgIGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTsKICAgIHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7CiAgICBiYXNlUGFydHMgPSBiYXNlLl9wYXJ0czsKICAgIHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTsKICAgIGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7CgogICAgaWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7CiAgICB9CgogICAgaWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkgewogICAgICByZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDsKICAgICAgcmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucGF0aCA9ICcnOwogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoCiAgICBjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTsKCiAgICAvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguCiAgICBpZiAoIWNvbW1vbikgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICB2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoCiAgICAgIC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkKICAgICAgLnJlcGxhY2UoL1teXC9dKiQvLCAnJykKICAgICAgLnJlcGxhY2UoLy4qP1wvL2csICcuLi8nKTsKCiAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIG9uZSA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciB0d28gPSBuZXcgVVJJKHVyaSk7CiAgICB2YXIgb25lX21hcCA9IHt9OwogICAgdmFyIHR3b19tYXAgPSB7fTsKICAgIHZhciBjaGVja2VkID0ge307CiAgICB2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTsKCiAgICBvbmUubm9ybWFsaXplKCk7CiAgICB0d28ubm9ybWFsaXplKCk7CgogICAgLy8gZXhhY3QgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeSBzdHJpbmcKICAgIG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpOwogICAgdHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7CiAgICBvbmUucXVlcnkoJycpOwogICAgdHdvLnF1ZXJ5KCcnKTsKCiAgICAvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZAogICAgaWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgdHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgZm9yIChrZXkgaW4gb25lX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkgewogICAgICAgIGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7CiAgICAgICAgICBpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tlZFtrZXldID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIGZvciAoa2V5IGluIHR3b19tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRba2V5XSkgewogICAgICAgICAgLy8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIHN0YXRlCiAgcC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSkpOwoKfSx7Ii4vSVB2NiI6MywiLi9TZWNvbmRMZXZlbERvbWFpbnMiOjQsIi4vcHVueWNvZGUiOjZ9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMCBieSBAbWF0aGlhcyAqLwo7KGZ1bmN0aW9uKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmCgkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCXZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYKCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCXZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoCgkJZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCgkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkgKiBAbmFtZSBwdW55Y29kZQoJICogQHR5cGUgT2JqZWN0CgkgKi8KCXZhciBwdW55Y29kZSwKCgkvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovCgltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJdE1pbiA9IDEsCgl0TWF4ID0gMjYsCglza2V3ID0gMzgsCglkYW1wID0gNzAwLAoJaW5pdGlhbEJpYXMgPSA3MiwKCWluaXRpYWxOID0gMTI4LCAvLyAweDgwCglkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCglyZWdleFB1bnljb2RlID0gL154bi0tLywKCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgkvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCgliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCglmbG9vciA9IE1hdGguZmxvb3IsCglzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCWtleTsKCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKioKCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJICovCglmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCX0KCgkvKioKCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCSAqIGl0ZW0uCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCXZhciByZXN1bHQgPSBbXTsKCQl3aGlsZSAobGVuZ3RoLS0pIHsKCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX0KCgkvKioKCSAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbAoJICogYWRkcmVzc2VzLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCSAqIGNoYXJhY3Rlci4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrCgkgKiBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHsKCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsKCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQlyZXN1bHQgPSBwYXJ0c1swXSArICdAJzsKCQkJc3RyaW5nID0gcGFydHNbMV07CgkJfQoJCS8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCXZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCSAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoCgkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCSAqIG1hdGNoaW5nIFVURi0xNi4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYAoJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZGVjb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJICovCglmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgY291bnRlciA9IDAsCgkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJICAgIHZhbHVlLAoJCSAgICBleHRyYTsKCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCWlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGVuY29kZQoJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCSAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCXZhciBvdXRwdXQgPSAnJzsKCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCX0KCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CgkJCXJldHVybiBvdXRwdXQ7CgkJfSkuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW4KCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJICovCglmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDIyOwoJCX0KCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gNjU7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA5NzsKCQl9CgkJcmV0dXJuIGJhc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3IKCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCSAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkCgkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJICovCglmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCXJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7Cgl9CgoJLyoqCgkgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLgoJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCSAqIEBwcml2YXRlCgkgKi8KCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCXZhciBrID0gMDsKCQlkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwoJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQlkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7CgkJfQoJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCSAqIHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJLy8gRG9uJ3QgdXNlIFVDUy0yCgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkgICAgb3V0LAoJCSAgICBpID0gMCwKCQkgICAgbiA9IGluaXRpYWxOLAoJCSAgICBiaWFzID0gaW5pdGlhbEJpYXMsCgkJICAgIGJhc2ljLAoJCSAgICBqLAoJCSAgICBpbmRleCwKCQkgICAgb2xkaSwKCQkgICAgdywKCQkgICAgaywKCQkgICAgZGlnaXQsCgkJICAgIHQsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBiYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7CgoJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJLy8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXIKCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJZm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoKCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQl9CgoJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgoJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQl9CgoJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAoJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJaSAlPSBvdXQ7CgoJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJICAgIGlucHV0TGVuZ3RoLAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCSAgICBiYXNlTWludXNULAoJCSAgICBxTWludXNUOwoKCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTsKCgkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkvLyBJbml0aWFsaXplIHRoZSBzdGF0ZQoJCW4gPSBpbml0aWFsTjsKCQlkZWx0YSA9IDA7CgkJYmlhcyA9IGluaXRpYWxCaWFzOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCX0KCQl9CgoJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDsKCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCWlmIChiYXNpY0xlbmd0aCkgewoJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCX0KCgkJLy8gTWFpbiBlbmNvZGluZyBsb29wOgoJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCS8vIGxhcmdlciBvbmU6CgkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CgkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCX0KCQkJfQoKCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQloYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CgkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJbiA9IG07CgoJCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCS8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCgkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJaWYgKHEgPCB0KSB7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQlxTWludXNUID0gcSAtIHQ7CgkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQlzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpCgkJCQkJCSk7CgkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJfQoKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQlkZWx0YSA9IDA7CgkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCX0KCQkJfQoKCQkJKytkZWx0YTsKCQkJKytuOwoKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCSAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgoJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJICogc3RyaW5nLgoJICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCSAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpbgoJICogQVNDSUkuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhCgkgKiBVbmljb2RlIHN0cmluZy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCSAqIGVtYWlsIGFkZHJlc3MuCgkgKi8KCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCglwdW55Y29kZSA9IHsKCQkvKioKCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgU3RyaW5nCgkJICovCgkJJ3ZlcnNpb24nOiAnMS4zLjInLAoJCS8qKgoJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQkndWNzMic6IHsKCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCSdlbmNvZGUnOiB1Y3MyZW5jb2RlCgkJfSwKCQknZGVjb2RlJzogZGVjb2RlLAoJCSdlbmNvZGUnOiBlbmNvZGUsCgkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCX07CgoJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCS8vIGxpa2UgdGhlIGZvbGxvd2luZzoKCWlmICgKCQl0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYKCQl0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJgoJCWRlZmluZS5hbWQKCSkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHB1bnljb2RlOwoJCX0pOwoJfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCS8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCsKCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJfSBlbHNlIHsKCQkJLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJfQoJCX0KCX0gZWxzZSB7CgkJLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgoJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCX0KCn0odGhpcykpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfdXJpanM9cmVxdWlyZSgndXJpanMnKTt2YXIgX3VyaWpzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmlqcyk7dmFyIF9IeXBlcnR5RGlzY292ZXJ5PXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeScpO3ZhciBfSHlwZXJ0eURpc2NvdmVyeTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eURpc2NvdmVyeSk7dmFyIF9TeW5jaGVyPXJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvU3luY2hlcicpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfTt9dmFyIFN1cnZleT17cmVzdWx0czpbXSxfYWRkUmVzcG9uc2U6ZnVuY3Rpb24gX2FkZFJlc3BvbnNlKHJlc3VsdCl7dGhpcy5yZXN1bHRzPXRoaXMucmVzdWx0cy5jb25jYXQoW3Jlc3VsdF0pO319O3ZhciBTdXJ2ZXlSZXBvcnRlcj17X2dldEh5Rm9yOmZ1bmN0aW9uIF9nZXRIeUZvcihwYXJ0aWNpcGFudHMpe3ZhciBfdGhpcz10aGlzO3JldHVybiBQcm9taXNlLmFsbChwYXJ0aWNpcGFudHMubWFwKGZ1bmN0aW9uKHApe3JldHVybiBfdGhpcy5oeXBlcnR5RGlzY292ZXJ5U2VydmljZS5kaXNjb3Zlckh5cGVydGllc1BlclVzZXIocC5lbWFpbCxwLmRvbWFpbikudGhlbihmdW5jdGlvbihoeXBlcnRpZXMpe3JldHVybiBPYmplY3Qua2V5cyhoeXBlcnRpZXMpLm1hcChmdW5jdGlvbihrZXkpe3JldHVybntrZXk6a2V5LGRlc2NyaXB0b3I6aHlwZXJ0aWVzW2tleV0uZGVzY3JpcHRvcixsYXN0TW9kaWZpZWQ6aHlwZXJ0aWVzW2tleV0ubGFzdE1vZGlmaWVkfTt9KS5maWx0ZXIoZnVuY3Rpb24oZGVzYyl7cmV0dXJuIGRlc2MuZGVzY3JpcHRvci5lbmRzV2l0aCgnU3VydmV5T2JzZXJ2ZXInKTt9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEubGFzdE1vZGlmaWVkKTxuZXcgRGF0ZShiLmxhc3RNb2RpZmllZCk/MTotMTt9KS5zaGlmdCgpLmtleTt9KTt9KSk7fSxfY3JlYXRlU3luY2hlcjpmdW5jdGlvbiBfY3JlYXRlU3luY2hlcihzdXJ2ZXksaHlwZXJ0aWVzKXtyZXR1cm4gdGhpcy5zeW5jaGVyLmNyZWF0ZSh0aGlzLm9iamVjdERlc2NVUkwsaHlwZXJ0aWVzLHtzdXJ2ZXk6c3VydmV5fSk7fSxjcmVhdGU6ZnVuY3Rpb24gY3JlYXRlKHN1cnZleSxwYXJ0aWNpcGFudHMpe3ZhciBfdGhpczI9dGhpcztyZXR1cm4gdGhpcy5fZ2V0SHlGb3IocGFydGljaXBhbnRzKS50aGVuKGZ1bmN0aW9uKGh5cGVydGllcyl7cmV0dXJuIF90aGlzMi5fY3JlYXRlU3luY2hlcihzdXJ2ZXksaHlwZXJ0aWVzKTt9KS50aGVuKGZ1bmN0aW9uKGRhdGFPYmplY3RSZXBvcnRlcil7ZGF0YU9iamVjdFJlcG9ydGVyLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4gZXZlbnQuYWNjZXB0KCk7fSk7ZGF0YU9iamVjdFJlcG9ydGVyLm9uQWRkQ2hpbGQoZnVuY3Rpb24oZGF0YUNoaWxkKXtTdXJ2ZXkuX2FkZFJlc3BvbnNlKGRhdGFDaGlsZC52YWx1ZS5yZXNwb25zZSk7fSk7U3VydmV5LmNvbmZpZz1zdXJ2ZXk7cmV0dXJuIFN1cnZleTt9KTt9fTt2YXIgU3VydmV5UmVwb3J0ZXJGYWN0b3J5PWZ1bmN0aW9uIFN1cnZleVJlcG9ydGVyRmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWcpe3ZhciB1cmk9bmV3IF91cmlqczIuZGVmYXVsdChoeXBlcnR5VVJMKTt2YXIgaHlwZXJ0eURpc2NvdmVyeT1uZXcgX0h5cGVydHlEaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCxidXMpO3ZhciBzeW5jaGVyPW5ldyBfU3luY2hlci5TeW5jaGVyKGh5cGVydHlVUkwsYnVzLGNvbmZpZyk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShTdXJ2ZXlSZXBvcnRlcikse2h5cGVydHlEaXNjb3ZlcnlTZXJ2aWNlOmh5cGVydHlEaXNjb3Zlcnksb2JqZWN0RGVzY1VSTDonaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJyt1cmkuaG9zdG5hbWUoKSsnLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29tbXVuaWNhdGlvbicsaHlwZXJ0eVVSTDpoeXBlcnR5VVJMLHN5bmNoZXI6c3luY2hlcn0pO307ZnVuY3Rpb24gYWN0aXZhdGUoaHlwZXJ0eVVSTCxidXMsY29uZmlnKXtyZXR1cm57bmFtZTonU3VydmV5UmVwb3J0ZXInLGluc3RhbmNlOlN1cnZleVJlcG9ydGVyRmFjdG9yeShoeXBlcnR5VVJMLGJ1cyxjb25maWcpfTt9bW9kdWxlLmV4cG9ydHM9ZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7InNlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvSHlwZXJ0eURpc2NvdmVyeSI6MSwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9TeW5jaGVyIjoyLCJ1cmlqcyI6NX1dfSx7fSxbN10pKDcpCn0pOw==",
      "sourceCodeClassname": "SurveyReporter",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10014,
    "version": "0.1",
    "description": "Description of SurveyReporter",
    "language": "Javascript",
    "objectName": "SurveyReporter",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  },
  "UserStatus": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBIeXBlcnR5RGlzY292ZXJ5LmpzIAovLyB2ZXJzaW9uOiAwLjMuMAovLyBMYXN0IGJ1aWxkOiBXZWQgSnVuIDI5IDIwMTYgMTY6NDM6NDEgR01UKzAyMDAgKENFU1QpCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuSHlwZXJ0eURpc2NvdmVyeT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKGMscyl7aWYoIXJbY10pe2lmKCF0W2NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighcyYmdSlyZXR1cm4gdShjLCEwKTtpZihpKXJldHVybiBpKGMsITApO3ZhciBhPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2MrIiciKTt0aHJvdyBhLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGF9dmFyIGY9cltjXT17ZXhwb3J0czp7fX07dFtjXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgcj10W2NdWzFdW2VdO3JldHVybiBvKHI/cjplKX0sZixmLmV4cG9ydHMsZSx0LHIsbil9cmV0dXJuIHJbY10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYz0wO2M8bi5sZW5ndGg7YysrKW8obltjXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5Ijo3fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjh9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzIjo5fV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiOjEwfV0sNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLGk9bihvKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxpWyJkZWZhdWx0Il0pKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpfSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjoxOCwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6NzR9XSw5OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5rZXlzfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI6NzV9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjE4LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjo3NiwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6NzcsIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6NzgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6Nzl9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDEyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDEzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjM1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsYyl7dmFyIHMsdT1uKHQpLGE9byh1Lmxlbmd0aCksZj1pKGMsYSk7aWYoZSYmciE9cil7Zm9yKDthPmY7KWlmKHM9dVtmKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2E+ZjtmKyspaWYoKGV8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo2NCwiLi9fdG8taW9iamVjdCI6NjYsIi4vX3RvLWxlbmd0aCI6Njd9XSwxNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSx7Ii4vX2NvZiI6MTcsIi4vX3drcyI6NzF9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDE4OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjQuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjExfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjoyNX1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjI3LCIuL19pcy1vYmplY3QiOjM1fV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDI0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxjPWUoIi4vX2hpZGUiKSxzPSJwcm90b3R5cGUiLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhLGYsXyxsPWUmdS5GLGQ9ZSZ1LkcscD1lJnUuUyx2PWUmdS5QLHk9ZSZ1LkIsaD1lJnUuVyxiPWQ/bzpvW3RdfHwob1t0XT17fSksbT1iW3NdLGc9ZD9uOnA/blt0XTooblt0XXx8e30pW3NdO2QmJihyPXQpO2ZvcihhIGluIHIpZj0hbCYmZyYmdm9pZCAwIT09Z1thXSxmJiZhIGluIGJ8fChfPWY/Z1thXTpyW2FdLGJbYV09ZCYmImZ1bmN0aW9uIiE9dHlwZW9mIGdbYV0/clthXTp5JiZmP2koXyxuKTpoJiZnW2FdPT1fP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W3NdPWVbc10sdH0oXyk6diYmImZ1bmN0aW9uIj09dHlwZW9mIF8/aShGdW5jdGlvbi5jYWxsLF8pOl8sdiYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVthXT1fLGUmdS5SJiZtJiYhbVthXSYmYyhtLGEsXykpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCx0LmV4cG9ydHM9dX0seyIuL19jb3JlIjoxOCwiLi9fY3R4IjoxOSwiLi9fZ2xvYmFsIjoyNywiLi9faGlkZSI6Mjl9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDI2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxjPWUoIi4vX2FuLW9iamVjdCIpLHM9ZSgiLi9fdG8tbGVuZ3RoIiksdT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLGE9e30sZj17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixfLGwpe3ZhciBkLHAsdix5LGg9bD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLF8sdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgaCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGgpKXtmb3IoZD1zKGUubGVuZ3RoKTtkPm07bSsrKWlmKHk9dD9iKGMocD1lW21dKVswXSxwWzFdKTpiKGVbbV0pLHk9PT1hfHx5PT09ZilyZXR1cm4geX1lbHNlIGZvcih2PWguY2FsbChlKTshKHA9di5uZXh0KCkpLmRvbmU7KWlmKHk9byh2LGIscC52YWx1ZSx0KSx5PT09YXx8eT09PWYpcmV0dXJuIHl9O3IuQlJFQUs9YSxyLlJFVFVSTj1mfSx7Ii4vX2FuLW9iamVjdCI6MTQsIi4vX2N0eCI6MTksIi4vX2lzLWFycmF5LWl0ZXIiOjM0LCIuL19pdGVyLWNhbGwiOjM2LCIuL190by1sZW5ndGgiOjY3LCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6NzJ9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDI4OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDI5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjoyMSwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fcHJvcGVydHktZGVzYyI6NTN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6Mjd9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZmFpbHMiOjI1fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MTd9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MX1dLDM1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2goaSl7dmFyIGM9ZVsicmV0dXJuIl07dGhyb3cgdm9pZCAwIT09YyYmbihjLmNhbGwoZSkpLGl9fX0seyIuL19hbi1vYmplY3QiOjE0fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLG89ZSgiLi9fcHJvcGVydHktZGVzYyIpLGk9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxjPXt9O2UoIi4vX2hpZGUiKShjLGUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4oYyx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSx7Ii4vX2hpZGUiOjI5LCIuL19vYmplY3QtY3JlYXRlIjo0NCwiLi9fcHJvcGVydHktZGVzYyI6NTMsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2xpYnJhcnkiKSxvPWUoIi4vX2V4cG9ydCIpLGk9ZSgiLi9fcmVkZWZpbmUiKSxjPWUoIi4vX2hpZGUiKSxzPWUoIi4vX2hhcyIpLHU9ZSgiLi9faXRlcmF0b3JzIiksYT1lKCIuL19pdGVyLWNyZWF0ZSIpLGY9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxfPWUoIi4vX29iamVjdC1ncG8iKSxsPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD0iQEBpdGVyYXRvciIsdj0ia2V5cyIseT0idmFsdWVzIixoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixiLG0sZyxqKXthKHIsdCxiKTt2YXIgeCx3LGssTz1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBFKXJldHVybiBFW2VdO3N3aXRjaChlKXtjYXNlIHY6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9O2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxNPXQrIiBJdGVyYXRvciIsUD1tPT15LFM9ITEsRT1lLnByb3RvdHlwZSxVPUVbbF18fEVbcF18fG0mJkVbbV0sVD1VfHxPKG0pLFI9bT9QP08oImVudHJpZXMiKTpUOnZvaWQgMCxMPSJBcnJheSI9PXQ/RS5lbnRyaWVzfHxVOlU7aWYoTCYmKGs9XyhMLmNhbGwobmV3IGUpKSxrIT09T2JqZWN0LnByb3RvdHlwZSYmKGYoayxNLCEwKSxufHxzKGssbCl8fGMoayxsLGgpKSksUCYmVSYmVS5uYW1lIT09eSYmKFM9ITAsVD1mdW5jdGlvbigpe3JldHVybiBVLmNhbGwodGhpcyl9KSxuJiYhanx8IWQmJiFTJiZFW2xdfHxjKEUsbCxUKSx1W3RdPVQsdVtNXT1oLG0paWYoeD17dmFsdWVzOlA/VDpPKHkpLGtleXM6Zz9UOk8odiksZW50cmllczpSfSxqKWZvcih3IGluIHgpdyBpbiBFfHxpKEUsdyx4W3ddKTtlbHNlIG8oby5QK28uRiooZHx8UyksdCx4KTtyZXR1cm4geH19LHsiLi9fZXhwb3J0IjoyNCwiLi9faGFzIjoyOCwiLi9faGlkZSI6MjksIi4vX2l0ZXItY3JlYXRlIjozNywiLi9faXRlcmF0b3JzIjo0MSwiLi9fbGlicmFyeSI6NDIsIi4vX29iamVjdC1ncG8iOjQ4LCIuL19yZWRlZmluZSI6NTUsIi4vX3NldC10by1zdHJpbmctdGFnIjo1OCwiLi9fd2tzIjo3MX1dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aVsicmV0dXJuIl09ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goYyl7fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGM9aVtuXSgpO2MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LGUoaSl9Y2F0Y2gocyl7fXJldHVybiByfX0seyIuL193a3MiOjcxfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL190YXNrIikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKGMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixhPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49Yy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2goaSl7dGhyb3cgZT9yKCk6dD12b2lkIDAsaX19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKGEpfTtlbHNlIGlmKGkpe3ZhciBmPSEwLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGEpLm9ic2VydmUoXyx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtfLmRhdGE9Zj0hZn19ZWxzZSBpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYSl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGEpfTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSx7Ii4vX2NvZiI6MTcsIi4vX2dsb2JhbCI6MjcsIi4vX3Rhc2siOjYzfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1kcHMiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKSxjPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oKXt2YXIgdCxyPWUoIi4vX2RvbS1jcmVhdGUiKSgiaWZyYW1lIiksbj1pLmxlbmd0aCxvPSI+Ijtmb3Ioci5zdHlsZS5kaXNwbGF5PSJub25lIixlKCIuL19odG1sIikuYXBwZW5kQ2hpbGQociksci5zcmM9ImphdmFzY3JpcHQ6Iix0PXIuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PC9zY3JpcHQiK28pLHQuY2xvc2UoKSxhPXQuRjtuLS07KWRlbGV0ZSBhW3VdW2lbbl1dO3JldHVybiBhKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8oc1t1XT1uKGUpLHI9bmV3IHMsc1t1XT1udWxsLHJbY109ZSk6cj1hKCksdm9pZCAwPT09dD9yOm8ocix0KX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZG9tLWNyZWF0ZSI6MjIsIi4vX2VudW0tYnVnLWtleXMiOjIzLCIuL19odG1sIjozMCwiLi9fb2JqZWN0LWRwcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjU5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxvPWUoIi4vX2llOC1kb20tZGVmaW5lIiksaT1lKCIuL190by1wcmltaXRpdmUiKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIGMoZSx0LHIpfWNhdGNoKHMpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX29iamVjdC1rZXlzIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixjPWkodCkscz1jLmxlbmd0aCx1PTA7cz51OyluLmYoZSxyPWNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LHsiLi9fYW4tb2JqZWN0IjoxNCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19vYmplY3QtZHAiOjQ1LCIuL19vYmplY3Qta2V5cyI6NTB9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1waWUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3RvLWlvYmplY3QiKSxjPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHM9ZSgiLi9faGFzIiksdT1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtyLmY9ZSgiLi9fZGVzY3JpcHRvcnMiKT9hOmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9Yyh0LCEwKSx1KXRyeXtyZXR1cm4gYShlLHQpfWNhdGNoKHIpe31yZXR1cm4gcyhlLHQpP28oIW4uZi5jYWxsKGUsdCksZVt0XSk6dm9pZCAwfX0seyIuL19kZXNjcmlwdG9ycyI6MjEsIi4vX2hhcyI6MjgsIi4vX2llOC1kb20tZGVmaW5lIjozMSwiLi9fb2JqZWN0LXBpZSI6NTEsIi4vX3Byb3BlcnR5LWRlc2MiOjUzLCIuL190by1pb2JqZWN0Ijo2NiwiLi9fdG8tcHJpbWl0aXZlIjo2OX1dLDQ4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxjPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9jOm51bGx9fSx7Ii4vX2hhcyI6MjgsIi4vX3NoYXJlZC1rZXkiOjU5LCIuL190by1vYmplY3QiOjY4fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLGM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9byhlKSx1PTAsYT1bXTtmb3IociBpbiBzKXIhPWMmJm4ocyxyKSYmYS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihzLHI9dFt1KytdKSYmKH5pKGEscil8fGEucHVzaChyKSk7cmV0dXJuIGF9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjoxNSwiLi9faGFzIjoyOCwiLi9fc2hhcmVkLWtleSI6NTksIi4vX3RvLWlvYmplY3QiOjY2fV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6MjMsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo0OX1dLDUxOltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxjPXt9O2NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixjKX19LHsiLi9fY29yZSI6MTgsIi4vX2V4cG9ydCI6MjQsIi4vX2ZhaWxzIjoyNX1dLDUzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDU0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjI5fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjI5fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjE0LCIuL19jdHgiOjE5LCIuL19pcy1vYmplY3QiOjM1LCIuL19vYmplY3QtZ29wZCI6NDd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLGM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtjJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjoxOCwiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19nbG9iYWwiOjI3LCIuL19vYmplY3QtZHAiOjQ1LCIuL193a3MiOjcxfV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjoyOCwiLi9fb2JqZWN0LWRwIjo0NSwiLi9fd2tzIjo3MX1dLDU5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6NjAsIi4vX3VpZCI6NzB9XSw2MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6Mjd9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixjPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWN8fHZvaWQgMD09KHI9bihjKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4tb2JqZWN0IjoxNCwiLi9fd2tzIjo3MX1dLDYyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxjLHM9U3RyaW5nKG8odCkpLHU9bihyKSxhPXMubGVuZ3RoO3JldHVybiAwPnV8fHU+PWE/ZT8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KHUpLDU1Mjk2Pml8fGk+NTYzMTl8fHUrMT09PWF8fChjPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8Yz41NzM0Mz9lP3MuY2hhckF0KHUpOmk6ZT9zLnNsaWNlKHUsdSsyKTooaS01NTI5Njw8MTApKyhjLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjoyMCwiLi9fdG8taW50ZWdlciI6NjV9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxjPWUoIi4vX2N0eCIpLHM9ZSgiLi9faW52b2tlIiksdT1lKCIuL19odG1sIiksYT1lKCIuL19kb20tY3JlYXRlIiksZj1lKCIuL19nbG9iYWwiKSxfPWYucHJvY2VzcyxsPWYuc2V0SW1tZWRpYXRlLGQ9Zi5jbGVhckltbWVkaWF0ZSxwPWYuTWVzc2FnZUNoYW5uZWwsdj0wLHk9e30saD0ib25yZWFkeXN0YXRlY2hhbmdlIixiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTtsJiZkfHwobD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK3ZdPWZ1bmN0aW9uKCl7cygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoXyk/bj1mdW5jdGlvbihlKXtfLm5leHRUaWNrKGMoYixlLDEpKX06cD8obz1uZXcgcCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPWMoaS5wb3N0TWVzc2FnZSxpLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1oIGluIGEoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYSgic2NyaXB0IikpW2hdPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMoYixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6bCxjbGVhcjpkfX0seyIuL19jb2YiOjE3LCIuL19jdHgiOjE5LCIuL19kb20tY3JlYXRlIjoyMiwiLi9fZ2xvYmFsIjoyNywiLi9faHRtbCI6MzAsIi4vX2ludm9rZSI6MzJ9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo2NX1dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MjAsIi4vX2lvYmplY3QiOjMzfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6NjV9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6MjB9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0IjozNX1dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoIndrcyIpLG89ZSgiLi9fdWlkIiksaT1lKCIuL19nbG9iYWwiKS5TeW1ib2wsYz0iZnVuY3Rpb24iPT10eXBlb2YgaSxzPXQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YyYmaVtlXXx8KGM/aTpvKSgiU3ltYm9sLiIrZSkpfTtzLnN0b3JlPW59LHsiLi9fZ2xvYmFsIjoyNywiLi9fc2hhcmVkIjo2MCwiLi9fdWlkIjo3MH1dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY2xhc3NvZiIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1lKCIuL19pdGVyYXRvcnMiKTt0LmV4cG9ydHM9ZSgiLi9fY29yZSIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWU/ZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldOnZvaWQgMH19LHsiLi9fY2xhc3NvZiI6MTYsIi4vX2NvcmUiOjE4LCIuL19pdGVyYXRvcnMiOjQxLCIuL193a3MiOjcxfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLGM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjoxMiwiLi9faXRlci1kZWZpbmUiOjM4LCIuL19pdGVyLXN0ZXAiOjQwLCIuL19pdGVyYXRvcnMiOjQxLCIuL190by1pb2JqZWN0Ijo2Nn1dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjIxLCIuL19leHBvcnQiOjI0LCIuL19vYmplY3QtZHAiOjQ1fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NTAsIi4vX29iamVjdC1zYXAiOjUyLCIuL190by1vYmplY3QiOjY4fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSw3NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGksYz1lKCIuL19saWJyYXJ5Iikscz1lKCIuL19nbG9iYWwiKSx1PWUoIi4vX2N0eCIpLGE9ZSgiLi9fY2xhc3NvZiIpLGY9ZSgiLi9fZXhwb3J0IiksXz1lKCIuL19pcy1vYmplY3QiKSxsPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLGQ9ZSgiLi9fYW4taW5zdGFuY2UiKSxwPWUoIi4vX2Zvci1vZiIpLHY9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLHk9ZSgiLi9fdGFzayIpLnNldCxoPWUoIi4vX21pY3JvdGFzayIpKCksYj0iUHJvbWlzZSIsbT1zLlR5cGVFcnJvcixnPXMucHJvY2VzcyxqPXNbYl0sZz1zLnByb2Nlc3MseD0icHJvY2VzcyI9PWEoZyksdz1mdW5jdGlvbigpe30saz0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWoucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKHcsdyl9O3JldHVybih4fHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKHcpaW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCksTz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWomJnQ9PT1pfSxNPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBfKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIE8oaixlKT9uZXcgUyhlKTpuZXcgbyhlKX0sUz1vPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBtKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bCh0KSx0aGlzLnJlamVjdD1sKHIpfSxFPWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sVT1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7aChmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTAsYz1mdW5jdGlvbih0KXt2YXIgcixpLGM9bz90Lm9rOnQuZmFpbCxzPXQucmVzb2x2ZSx1PXQucmVqZWN0LGE9dC5kb21haW47dHJ5e2M/KG98fCgyPT1lLl9oJiZMKGUpLGUuX2g9MSksYz09PSEwP3I9bjooYSYmYS5lbnRlcigpLHI9YyhuKSxhJiZhLmV4aXQoKSkscj09PXQucHJvbWlzZT91KG0oIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9TShyKSk/aS5jYWxsKHIscyx1KTpzKHIpKTp1KG4pfWNhdGNoKGYpe3UoZil9fTtyLmxlbmd0aD5pOyljKHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZUKGUpfSl9fSxUPWZ1bmN0aW9uKGUpe3kuY2FsbChzLGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdjtpZihSKGUpJiYodD1FKGZ1bmN0aW9uKCl7eD9nLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj1zLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD14fHxSKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LFI9ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFSKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LEw9ZnVuY3Rpb24oZSl7eS5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgdDt4P2cuZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9cy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxVKHQsITApKX0sQz1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyBtKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PU0oZSkpP2goZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLHUoQyxuLDEpLHUoQSxuLDEpKX1jYXRjaChvKXtBLmNhbGwobixvKX19KTooci5fdj1lLHIuX3M9MSxVKHIsITEpKX1jYXRjaChuKXtBLmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O2t8fChqPWZ1bmN0aW9uKGUpe2QodGhpcyxqLGIsIl9oIiksbChlKSxuLmNhbGwodGhpcyk7dHJ5e2UodShDLHRoaXMsMSksdShBLHRoaXMsMSkpfWNhdGNoKHQpe0EuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShqLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPVAodih0aGlzLGopKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj14P2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJlUodGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9dShDLGUsMSksdGhpcy5yZWplY3Q9dShBLGUsMSl9KSxmKGYuRytmLlcrZi5GKiFrLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosYiksZSgiLi9fc2V0LXNwZWNpZXMiKShiKSxpPWUoIi4vX2NvcmUiKVtiXSxmKGYuUytmLkYqIWssYix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PVAodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihjfHwhayksYix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmTyhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PVAodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGYoZi5TK2YuRiohKGsmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0odyl9KSksYix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1QKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1FKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGM9MTtwKGUsITEsZnVuY3Rpb24oZSl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLHJbc109ZSwtLWN8fG4ocikpfSxvKX0pLC0tY3x8bihyKX0pO3JldHVybiBpJiZvKGkuZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9UCh0KSxuPXIucmVqZWN0LG89RShmdW5jdGlvbigpe3AoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvJiZuKG8uZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoxMSwiLi9fYW4taW5zdGFuY2UiOjEzLCIuL19hbi1vYmplY3QiOjE0LCIuL19jbGFzc29mIjoxNiwiLi9fY29yZSI6MTgsIi4vX2N0eCI6MTksIi4vX2V4cG9ydCI6MjQsIi4vX2Zvci1vZiI6MjYsIi4vX2dsb2JhbCI6MjcsIi4vX2lzLW9iamVjdCI6MzUsIi4vX2l0ZXItZGV0ZWN0IjozOSwiLi9fbGlicmFyeSI6NDIsIi4vX21pY3JvdGFzayI6NDMsIi4vX3JlZGVmaW5lLWFsbCI6NTQsIi4vX3NldC1wcm90byI6NTYsIi4vX3NldC1zcGVjaWVzIjo1NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjU4LCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo2MSwiLi9fdGFzayI6NjMsIi4vX3drcyI6NzF9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjozOCwiLi9fc3RyaW5nLWF0Ijo2Mn1dLDc5OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxjPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7NT51O3UrKyl7dmFyIGE9c1t1XSxmPW5bYV0sXz1mJiZmLnByb3RvdHlwZTtfJiYhX1tjXSYmbyhfLGMsYSksaVthXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjI3LCIuL19oaWRlIjoyOSwiLi9faXRlcmF0b3JzIjo0MSwiLi9fd2tzIjo3MSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjczfV0sODA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiLi9oeXBlcnR5LWRpc2NvdmVyeS9IeXBlcnR5RGlzY292ZXJ5IiksaT1uKG8pO3JbImRlZmF1bHQiXT1pWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL2h5cGVydHktZGlzY292ZXJ5L0h5cGVydHlEaXNjb3ZlcnkiOjgxfV0sODE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKSxpPW4obyksYz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siKSxzPW4oYyksdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSxhPW4odSksZj1lKCIuLi91dGlscy91dGlscyIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsc1siZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBuPXRoaXM7bi5tZXNzYWdlQnVzPXIsbi5kb21haW49KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbixuLmRpc2NvdmVyeVVSTD10fXJldHVybigwLGFbImRlZmF1bHQiXSkoZSxbe2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dD90OnIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOiJkYXRhT2JqZWN0Oi8vIitlfX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUudXJsO24/ZShuKTp0KCJEYXRhT2JqZWN0IG5hbWUgZG9lcyBub3QgZXhpc3QiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10P3Q6ci5kb21haW47dmFyIG89InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSxjPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24rIi8iLGJvZHk6e3Jlc291cmNlOm99fTtyZXR1cm4gY29uc29sZS5sb2coIk1lc3NhZ2U6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxuKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygibWVzc2FnZSByZXBseSIscik7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGM9dm9pZCAwLHM9ci5ib2R5LnZhbHVlO2ZvcihvIGluIHMpaWYodm9pZCAwIT09c1tvXS5sYXN0TW9kaWZpZWQpaWYodm9pZCAwPT09aSlpPW5ldyBEYXRlKHNbb10ubGFzdE1vZGlmaWVkKSxjPW87ZWxzZXt2YXIgdT1uZXcgRGF0ZShzW29dLmxhc3RNb2RpZmllZCk7aS5nZXRUaW1lKCk8dS5nZXRUaW1lKCkmJihpPXUsYz1vKX1jb25zb2xlLmxvZygiTGFzdCBIeXBlcnR5OiAiLGMsaSk7dmFyIGE9YztpZih2b2lkIDA9PT1hKXJldHVybiBuKCJVc2VyIEh5cGVydHkgbm90IGZvdW5kIik7dmFyIGY9e2lkOmUsZGVzY3JpcHRvcjpzW2FdLmRlc2NyaXB0b3IsaHlwZXJ0eVVSTDphfTtjb25zb2xlLmxvZygiPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsZiksdChmKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXQ/dDpyLmRvbWFpbjt2YXIgbz0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLGM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbisiLyIsYm9keTp7cmVzb3VyY2U6b319O3JldHVybiBjb25zb2xlLmxvZygiTWVzc2FnZSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXI6ICIsYyxuLG8pLG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYyxmdW5jdGlvbihyKXtjb25zb2xlLmxvZygiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyIHJlcGx5IixyKTt2YXIgbj1yLmJvZHkudmFsdWU7cmV0dXJuIG4/dm9pZCBlKG4pOnQoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKX0pfSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPV8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuLi91dGlscy91dGlscyI6ODIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6Nn1dLDgyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4hKCgwLHBbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxsWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBmKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIHUoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBfPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGw9bihfKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLHA9bihkKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PWMsci5kZWVwQ2xvbmU9cyxyLmdldFVzZXJVUkxGcm9tRW1haWw9dSxyLmdldFVzZXJFbWFpbEZyb21VUkw9YSxyLmNvbnZlcnRUb1VzZXJVUkw9Zn0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6M31dfSx7fSxbODBdKSg4MCl9KTsKCgp9KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cgOiB7fSkKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgU3luY2hlci5qcyAKLy8gdmVyc2lvbjogMC4zLjAKLy8gTGFzdCBidWlsZDogV2VkIEp1biAyOSAyMDE2IDE2OjQzOjUyIEdNVCswMjAwIChDRVNUKQoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlN5bmNoZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZSh0LHIsbil7ZnVuY3Rpb24gbyhzLGMpe2lmKCFyW3NdKXtpZighdFtzXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmEpcmV0dXJuIGEocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitzKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9dFtzXVsxXVtlXTtyZXR1cm4gbyhyP3I6ZSl9LGwsbC5leHBvcnRzLGUsdCxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe09iamVjdC5vYnNlcnZlJiYhQXJyYXkub2JzZXJ2ZSYmZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5nZXROb3RpZmllcixuPSJwZXJmb3JtQ2hhbmdlIixvPSJfb3JpZ2luYWwiLGk9InNwbGljZSIscz17cHVzaDpmdW5jdGlvbiBhKGUpe3ZhciB0PWFyZ3VtZW50cyxzPWFbb10uYXBwbHkodGhpcyx0KTtyZXR1cm4gcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OnMtdC5sZW5ndGgsYWRkZWRDb3VudDp0Lmxlbmd0aCxyZW1vdmVkOltdfX0pLHN9LHVuc2hpZnQ6ZnVuY3Rpb24gdShlKXt2YXIgdD1hcmd1bWVudHMscz11W29dLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDowLGFkZGVkQ291bnQ6dC5sZW5ndGgscmVtb3ZlZDpbXX19KSxzfSxwb3A6ZnVuY3Rpb24gbCgpe3ZhciBlPXRoaXMubGVuZ3RoLHQ9bFtvXS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmxlbmd0aCE9PWUmJnIodGhpcylbbl0oaSxmdW5jdGlvbigpe3JldHVybntpbmRleDp0aGlzLmxlbmd0aCxhZGRlZENvdW50OjAscmVtb3ZlZDpbdF19fSx0aGlzKSx0fSxzaGlmdDpmdW5jdGlvbiBmKCl7dmFyIGU9dGhpcy5sZW5ndGgsdD1mW29dLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMubGVuZ3RoIT09ZSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OjAsYWRkZWRDb3VudDowLHJlbW92ZWQ6W3RdfX0sdGhpcyksdH0sc3BsaWNlOmZ1bmN0aW9uIGQoZSx0KXt2YXIgcz1hcmd1bWVudHMsYz1kW29dLmFwcGx5KHRoaXMscyk7cmV0dXJuKGMubGVuZ3RofHxzLmxlbmd0aD4yKSYmcih0aGlzKVtuXShpLGZ1bmN0aW9uKCl7cmV0dXJue2luZGV4OmUsYWRkZWRDb3VudDpzLmxlbmd0aC0yLHJlbW92ZWQ6Y319LHRoaXMpLGN9fTtmb3IodmFyIGMgaW4gcylzW2NdW29dPXQucHJvdG90eXBlW2NdLHQucHJvdG90eXBlW2NdPXNbY107dC5vYnNlcnZlPWZ1bmN0aW9uKHQscil7cmV0dXJuIGUub2JzZXJ2ZSh0LHIsWyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLGldKX0sdC51bm9ic2VydmU9ZS51bm9ic2VydmV9KE9iamVjdCxBcnJheSl9LHt9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5IjoxOH1dLDM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIjoxOX1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IjoyMH1dLDU6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjoyMX1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YiOjIyfV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyI6MjN9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyNH1dLDk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyNX1dLDEwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjI2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciI6Mjd9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYz1uKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBhKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbj0oMCxjWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09bil7dmFyIG89KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW8/dm9pZCAwOmEobyx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBzPW4uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjUsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6Nn1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLHU9bihhKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKygidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsdVsiZGVmYXVsdCJdKSh0KSkpO2UucHJvdG90eXBlPSgwLGNbImRlZmF1bHQiXSkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihpWyJkZWZhdWx0Il0/KDAsaVsiZGVmYXVsdCJdKShlLHQpOmUuX19wcm90b19fPXQpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLGlbImRlZmF1bHQiXSkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YiOjE3fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvciIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiKSxjPW4ocyksYT0iZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiYic3ltYm9sIj09dHlwZW9mIGlbImRlZmF1bHQiXT9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOnR5cGVvZiBlfTtyWyJkZWZhdWx0Il09ImZ1bmN0aW9uIj09dHlwZW9mIGNbImRlZmF1bHQiXSYmInN5bWJvbCI9PT1hKGlbImRlZmF1bHQiXSk/ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgY1siZGVmYXVsdCJdJiZlLmNvbnN0cnVjdG9yPT09Y1siZGVmYXVsdCJdPyJzeW1ib2wiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjphKGUpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIjoxMCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvciI6MTF9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1fV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIik7dmFyIG49ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiOjEwMH1dLDIwOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSIpO3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5kZWZpbmVQcm9wZXJ0eShlLHQscil9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjoxMDF9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MTAyfV0sMjI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6MTAzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjoxMDR9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzUsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjoxMDV9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjM1LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDYsIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjEwNywiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjoxMDgsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6MTEyfV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksZSgiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozNSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTA2LCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjEwOSwiLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yIjoxMTAsIi4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlIjoxMTF9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL193a3MtZXh0IikuZigiaXRlcmF0b3IiKX0seyIuLi8uLi9tb2R1bGVzL193a3MtZXh0Ijo5NiwiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjoxMDgsIi4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6MTEyfV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe319LHt9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09biYmbiBpbiBlKXRocm93IFR5cGVFcnJvcihyKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiBlfX0se31dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fdG8tbGVuZ3RoIiksaT1lKCIuL190by1pbmRleCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLHMpe3ZhciBjLGE9bih0KSx1PW8oYS5sZW5ndGgpLGw9aShzLHUpO2lmKGUmJnIhPXIpe2Zvcig7dT5sOylpZihjPWFbbCsrXSxjIT1jKXJldHVybiEwfWVsc2UgZm9yKDt1Pmw7bCsrKWlmKChlfHxsIGluIGEpJiZhW2xdPT09cilyZXR1cm4gZXx8bHx8MDtyZXR1cm4hZSYmLTF9fX0seyIuL190by1pbmRleCI6ODgsIi4vX3RvLWlvYmplY3QiOjkwLCIuL190by1sZW5ndGgiOjkxfV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jb2YiKSxvPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxzPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKHIpe319O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLGM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1zKHQ9T2JqZWN0KGUpLG8pKT9yOmk/bih0KToiT2JqZWN0Ij09KGM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpjfX0seyIuL19jb2YiOjM0LCIuL193a3MiOjk3fV0sMzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LHt9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjoiMi40LjAifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0se31dLDM2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYS1mdW5jdGlvbiIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0seyIuL19hLWZ1bmN0aW9uIjoyOH1dLDM3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0se31dLDM4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0seyIuL19mYWlscyI6NDN9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpLG89ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LHsiLi9fZ2xvYmFsIjo0NSwiLi9faXMtb2JqZWN0Ijo1NH1dLDQwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LHt9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzIiksbz1lKCIuL19vYmplY3QtZ29wcyIpLGk9ZSgiLi9fb2JqZWN0LXBpZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9by5mO2lmKHIpZm9yKHZhciBzLGM9cihlKSxhPWkuZix1PTA7Yy5sZW5ndGg+dTspYS5jYWxsKGUscz1jW3UrK10pJiZ0LnB1c2gocyk7cmV0dXJuIHR9fSx7Ii4vX29iamVjdC1nb3BzIjo3MSwiLi9fb2JqZWN0LWtleXMiOjc0LCIuL19vYmplY3QtcGllIjo3NX1dLDQyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19jdHgiKSxzPWUoIi4vX2hpZGUiKSxjPSJwcm90b3R5cGUiLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1LGwsZixkPWUmYS5GLHA9ZSZhLkcsYj1lJmEuUyxfPWUmYS5QLGg9ZSZhLkIseT1lJmEuVyx2PXA/bzpvW3RdfHwob1t0XT17fSksbT12W2NdLGo9cD9uOmI/blt0XTooblt0XXx8e30pW2NdO3AmJihyPXQpO2Zvcih1IGluIHIpbD0hZCYmaiYmdm9pZCAwIT09alt1XSxsJiZ1IGluIHZ8fChmPWw/alt1XTpyW3VdLHZbdV09cCYmImZ1bmN0aW9uIiE9dHlwZW9mIGpbdV0/clt1XTpoJiZsP2koZixuKTp5JiZqW3VdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0W2NdPWVbY10sdH0oZik6XyYmImZ1bmN0aW9uIj09dHlwZW9mIGY/aShGdW5jdGlvbi5jYWxsLGYpOmYsXyYmKCh2LnZpcnR1YWx8fCh2LnZpcnR1YWw9e30pKVt1XT1mLGUmYS5SJiZtJiYhbVt1XSYmcyhtLHUsZikpKX07YS5GPTEsYS5HPTIsYS5TPTQsYS5QPTgsYS5CPTE2LGEuVz0zMixhLlU9NjQsYS5SPTEyOCx0LmV4cG9ydHM9YX0seyIuL19jb3JlIjozNSwiLi9fY3R4IjozNiwiLi9fZ2xvYmFsIjo0NSwiLi9faGlkZSI6NDd9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2godCl7cmV0dXJuITB9fX0se31dLDQ0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY3R4Iiksbz1lKCIuL19pdGVyLWNhbGwiKSxpPWUoIi4vX2lzLWFycmF5LWl0ZXIiKSxzPWUoIi4vX2FuLW9iamVjdCIpLGM9ZSgiLi9fdG8tbGVuZ3RoIiksYT1lKCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCIpLHU9e30sbD17fSxyPXQuZXhwb3J0cz1mdW5jdGlvbihlLHQscixmLGQpe3ZhciBwLGIsXyxoLHk9ZD9mdW5jdGlvbigpe3JldHVybiBlfTphKGUpLHY9bihyLGYsdD8yOjEpLG09MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgeSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKHkpKXtmb3IocD1jKGUubGVuZ3RoKTtwPm07bSsrKWlmKGg9dD92KHMoYj1lW21dKVswXSxiWzFdKTp2KGVbbV0pLGg9PT11fHxoPT09bClyZXR1cm4gaH1lbHNlIGZvcihfPXkuY2FsbChlKTshKGI9Xy5uZXh0KCkpLmRvbmU7KWlmKGg9byhfLHYsYi52YWx1ZSx0KSxoPT09dXx8aD09PWwpcmV0dXJuIGh9O3IuQlJFQUs9dSxyLlJFVFVSTj1sfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2N0eCI6MzYsIi4vX2lzLWFycmF5LWl0ZXIiOjUyLCIuL19pdGVyLWNhbGwiOjU1LCIuL190by1sZW5ndGgiOjkxLCIuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCI6OTh9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDQ2OltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDQ3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fcHJvcGVydHktZGVzYyI6Nzd9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6NDV9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZmFpbHMiOjQzfV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDUxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6MzR9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vX2NvZiI6MzR9XSw1NDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi9fYW4tb2JqZWN0IjozMX1dLDU2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX29iamVjdC1jcmVhdGUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3NldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuL19oaWRlIikocyxlKCIuL193a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuL19oaWRlIjo0NywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3drcyI6OTd9XSw1NzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19saWJyYXJ5Iiksbz1lKCIuL19leHBvcnQiKSxpPWUoIi4vX3JlZGVmaW5lIikscz1lKCIuL19oaWRlIiksYz1lKCIuL19oYXMiKSxhPWUoIi4vX2l0ZXJhdG9ycyIpLHU9ZSgiLi9faXRlci1jcmVhdGUiKSxsPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZj1lKCIuL19vYmplY3QtZ3BvIiksZD1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxwPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGI9IkBAaXRlcmF0b3IiLF89ImtleXMiLGg9InZhbHVlcyIseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdixtLGosZyl7dShyLHQsdik7dmFyIHcsTyxrLHg9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gVClyZXR1cm4gVFtlXTtzd2l0Y2goZSl7Y2FzZSBfOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIGg6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sQz10KyIgSXRlcmF0b3IiLEU9bT09aCxTPSExLFQ9ZS5wcm90b3R5cGUsUj1UW2RdfHxUW2JdfHxtJiZUW21dLE09Unx8eChtKSxOPW0/RT94KCJlbnRyaWVzIik6TTp2b2lkIDAsUD0iQXJyYXkiPT10P1QuZW50cmllc3x8UjpSO2lmKFAmJihrPWYoUC5jYWxsKG5ldyBlKSksayE9PU9iamVjdC5wcm90b3R5cGUmJihsKGssQywhMCksbnx8YyhrLGQpfHxzKGssZCx5KSkpLEUmJlImJlIubmFtZSE9PWgmJihTPSEwLE09ZnVuY3Rpb24oKXtyZXR1cm4gUi5jYWxsKHRoaXMpfSksbiYmIWd8fCFwJiYhUyYmVFtkXXx8cyhULGQsTSksYVt0XT1NLGFbQ109eSxtKWlmKHc9e3ZhbHVlczpFP006eChoKSxrZXlzOmo/TTp4KF8pLGVudHJpZXM6Tn0sZylmb3IoTyBpbiB3KU8gaW4gVHx8aShULE8sd1tPXSk7ZWxzZSBvKG8uUCtvLkYqKHB8fFMpLHQsdyk7cmV0dXJuIHd9fSx7Ii4vX2V4cG9ydCI6NDIsIi4vX2hhcyI6NDYsIi4vX2hpZGUiOjQ3LCIuL19pdGVyLWNyZWF0ZSI6NTYsIi4vX2l0ZXJhdG9ycyI6NjAsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZ3BvIjo3MiwiLi9fcmVkZWZpbmUiOjc5LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3drcyI6OTd9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGMpe31yZXR1cm4gcn19LHsiLi9fd2tzIjo5N31dLDU5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDYwOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cyIpLG89ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW8oZSkscz1uKGkpLGM9cy5sZW5ndGgsYT0wO2M+YTspaWYoaVtyPXNbYSsrXV09PT10KXJldHVybiByfX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX3RvLWlvYmplY3QiOjkwfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3VpZCIpKCJtZXRhIiksbz1lKCIuL19pcy1vYmplY3QiKSxpPWUoIi4vX2hhcyIpLHM9ZSgiLi9fb2JqZWN0LWRwIikuZixjPTAsYT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSx1PSFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIGEoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxsPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYyx3Ont9fX0pfSxmPWZ1bmN0aW9uKGUsdCl7aWYoIW8oZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFpKGUsbikpe2lmKCFhKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7bChlKX1yZXR1cm4gZVtuXS5pfSxkPWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSxuKSl7aWYoIWEoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7bChlKX1yZXR1cm4gZVtuXS53fSxwPWZ1bmN0aW9uKGUpe3JldHVybiB1JiZiLk5FRUQmJmEoZSkmJiFpKGUsbikmJmwoZSksZX0sYj10LmV4cG9ydHM9e0tFWTpuLE5FRUQ6ITEsZmFzdEtleTpmLGdldFdlYWs6ZCxvbkZyZWV6ZTpwfX0seyIuL19mYWlscyI6NDMsIi4vX2hhcyI6NDYsIi4vX2lzLW9iamVjdCI6NTQsIi4vX29iamVjdC1kcCI6NjYsIi4vX3VpZCI6OTR9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fdGFzayIpLnNldCxpPW4uTXV0YXRpb25PYnNlcnZlcnx8bi5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHM9bi5wcm9jZXNzLGM9bi5Qcm9taXNlLGE9InByb2Nlc3MiPT1lKCIuL19jb2YiKShzKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsdT1mdW5jdGlvbigpe3ZhciBuLG87Zm9yKGEmJihuPXMuZG9tYWluKSYmbi5leGl0KCk7ZTspe289ZS5mbixlPWUubmV4dDt0cnl7bygpfWNhdGNoKGkpe3Rocm93IGU/cigpOnQ9dm9pZCAwLGl9fXQ9dm9pZCAwLG4mJm4uZW50ZXIoKX07aWYoYSlyPWZ1bmN0aW9uKCl7cy5uZXh0VGljayh1KX07ZWxzZSBpZihpKXt2YXIgbD0hMCxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgaSh1KS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxyPWZ1bmN0aW9uKCl7Zi5kYXRhPWw9IWx9fWVsc2UgaWYoYyYmYy5yZXNvbHZlKXt2YXIgZD1jLnJlc29sdmUoKTtyPWZ1bmN0aW9uKCl7ZC50aGVuKHUpfX1lbHNlIHI9ZnVuY3Rpb24oKXtvLmNhbGwobix1KX07cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8scigpKSx0PW99fX0seyIuL19jb2YiOjM0LCIuL19nbG9iYWwiOjQ1LCIuL190YXNrIjo4N31dLDY1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19vYmplY3QtZHBzIiksaT1lKCIuL19lbnVtLWJ1Zy1rZXlzIikscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIiksYz1mdW5jdGlvbigpe30sYT0icHJvdG90eXBlIix1PWZ1bmN0aW9uKCl7dmFyIHQscj1lKCIuL19kb20tY3JlYXRlIikoImlmcmFtZSIpLG49aS5sZW5ndGgsbz0iPiI7Zm9yKHIuc3R5bGUuZGlzcGxheT0ibm9uZSIsZSgiLi9faHRtbCIpLmFwcGVuZENoaWxkKHIpLHIuc3JjPSJqYXZhc2NyaXB0OiIsdD1yLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsdC5vcGVuKCksdC53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDwvc2NyaXB0IitvKSx0LmNsb3NlKCksdT10LkY7bi0tOylkZWxldGUgdVthXVtpW25dXTtyZXR1cm4gdSgpfTt0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KGNbYV09bihlKSxyPW5ldyBjLGNbYV09bnVsbCxyW3NdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjpvKHIsdCl9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2RvbS1jcmVhdGUiOjM5LCIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9faHRtbCI6NDgsIi4vX29iamVjdC1kcHMiOjY3LCIuL19zaGFyZWQta2V5Ijo4M31dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGk9ZSgiLi9fdG8tcHJpbWl0aXZlIikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9aSh0LCEwKSxuKHIpLG8pdHJ5e3JldHVybiBzKGUsdCxyKX1jYXRjaChjKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LHsiLi9fYW4tb2JqZWN0IjozMSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1lKCIuL19vYmplY3Qta2V5cyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIHIscz1pKHQpLGM9cy5sZW5ndGgsYT0wO2M+YTspbi5mKGUscj1zW2ErK10sdFtyXSk7cmV0dXJuIGV9fSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fb2JqZWN0LWtleXMiOjc0fV0sNjg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtcGllIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL190by1pb2JqZWN0Iikscz1lKCIuL190by1wcmltaXRpdmUiKSxjPWUoIi4vX2hhcyIpLGE9ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/dTpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PXModCwhMCksYSl0cnl7cmV0dXJuIHUoZSx0KX1jYXRjaChyKXt9cmV0dXJuIGMoZSx0KT9vKCFuLmYuY2FsbChlLHQpLGVbdF0pOnZvaWQgMH19LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19oYXMiOjQ2LCIuL19pZTgtZG9tLWRlZmluZSI6NDksIi4vX29iamVjdC1waWUiOjc1LCIuL19wcm9wZXJ0eS1kZXNjIjo3NywiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWlvYmplY3QiKSxvPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxjPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YyhlKTpvKG4oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzAsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0MCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjczfV0sNzE6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NDYsIi4vX3NoYXJlZC1rZXkiOjgzLCIuL190by1vYmplY3QiOjkyfV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGM9byhlKSxhPTAsdT1bXTtmb3IociBpbiBjKXIhPXMmJm4oYyxyKSYmdS5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+YTspbihjLHI9dFthKytdKSYmKH5pKHUscil8fHUucHVzaChyKSk7cmV0dXJuIHV9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozMiwiLi9faGFzIjo0NiwiLi9fc2hhcmVkLWtleSI6ODMsIi4vX3RvLWlvYmplY3QiOjkwfV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDAsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3M31dLDc1OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzUsIi4vX2V4cG9ydCI6NDIsIi4vX2ZhaWxzIjo0M31dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjQ3fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjQ3fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjMxLCIuL19jdHgiOjM2LCIuL19pcy1vYmplY3QiOjU0LCIuL19vYmplY3QtZ29wZCI6Njh9XSw4MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxjPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtzJiZ0JiYhdFtjXSYmaS5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozNSwiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19nbG9iYWwiOjQ1LCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MiOjk3fV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo0NiwiLi9fb2JqZWN0LWRwIjo2NiwiLi9fd2tzIjo5N31dLDgzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDV9XSw4NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjoyOCwiLi9fYW4tb2JqZWN0IjozMSwiLi9fd2tzIjo5N31dLDg2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGM9U3RyaW5nKG8odCkpLGE9bihyKSx1PWMubGVuZ3RoO3JldHVybiAwPmF8fGE+PXU/ZT8iIjp2b2lkIDA6KGk9Yy5jaGFyQ29kZUF0KGEpLDU1Mjk2Pml8fGk+NTYzMTl8fGErMT09PXV8fChzPWMuY2hhckNvZGVBdChhKzEpKTw1NjMyMHx8cz41NzM0Mz9lP2MuY2hhckF0KGEpOmk6ZT9jLnNsaWNlKGEsYSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjozNywiLi9fdG8taW50ZWdlciI6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vX2N0eCIpLGM9ZSgiLi9faW52b2tlIiksYT1lKCIuL19odG1sIiksdT1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxkPWwuc2V0SW1tZWRpYXRlLHA9bC5jbGVhckltbWVkaWF0ZSxiPWwuTWVzc2FnZUNoYW5uZWwsXz0wLGg9e30seT0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoaC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9aFtlXTtkZWxldGUgaFtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gaFsrK19dPWZ1bmN0aW9uKCl7YygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKF8pLF99LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIGhbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06Yj8obz1uZXcgYixpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj15IGluIHUoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQodSgic2NyaXB0IikpW3ldPWZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0seyIuL19jb2YiOjM0LCIuL19jdHgiOjM2LCIuL19kb20tY3JlYXRlIjozOSwiLi9fZ2xvYmFsIjo0NSwiLi9faHRtbCI6NDgsIi4vX2ludm9rZSI6NTB9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo4OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6MzcsIi4vX2lvYmplY3QiOjUxfV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6ODl9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6Mzd9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LHsiLi9faXMtb2JqZWN0Ijo1NH1dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG49MCxvPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbitvKS50b1N0cmluZygzNikpfX0se31dLDk1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19jb3JlIiksaT1lKCIuL19saWJyYXJ5Iikscz1lKCIuL193a3MtZXh0IiksYz1lKCIuL19vYmplY3QtZHAiKS5mO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1vLlN5bWJvbHx8KG8uU3ltYm9sPWk/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGModCxlLHt2YWx1ZTpzLmYoZSl9KX19LHsiLi9fY29yZSI6MzUsIi4vX2dsb2JhbCI6NDUsIi4vX2xpYnJhcnkiOjYyLCIuL19vYmplY3QtZHAiOjY2LCIuL193a3MtZXh0Ijo5Nn1dLDk2OltmdW5jdGlvbihlLHQscil7ci5mPWUoIi4vX3drcyIpfSx7Ii4vX3drcyI6OTd9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGksYz10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPXMmJmlbZV18fChzP2k6bykoIlN5bWJvbC4iK2UpKX07Yy5zdG9yZT1ufSx7Ii4vX2dsb2JhbCI6NDUsIi4vX3NoYXJlZCI6ODQsIi4vX3VpZCI6OTR9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NsYXNzb2YiKSxvPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLGk9ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2Vbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXTp2b2lkIDB9fSx7Ii4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fd2tzIjo5N31dLDk5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLG89ZSgiLi9faXRlci1zdGVwIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjksIi4vX2l0ZXItZGVmaW5lIjo1NywiLi9faXRlci1zdGVwIjo1OSwiLi9faXRlcmF0b3JzIjo2MCwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7Y3JlYXRlOmUoIi4vX29iamVjdC1jcmVhdGUiKX0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX29iamVjdC1jcmVhdGUiOjY1fV0sMTAxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMrbi5GKiFlKCIuL19kZXNjcmlwdG9ycyIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTplKCIuL19vYmplY3QtZHAiKS5mfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjM4LCIuL19leHBvcnQiOjQyLCIuL19vYmplY3QtZHAiOjY2fV0sMTAyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBvKG4oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY4LCIuL19vYmplY3Qtc2FwIjo3NiwiLi9fdG8taW9iamVjdCI6OTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1ncG8iKTtlKCIuL19vYmplY3Qtc2FwIikoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3QtZ3BvIjo3MiwiLi9fb2JqZWN0LXNhcCI6NzYsIi4vX3RvLW9iamVjdCI6OTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1vYmplY3QiKSxvPWUoIi4vX29iamVjdC1rZXlzIik7ZSgiLi9fb2JqZWN0LXNhcCIpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0seyIuL19vYmplY3Qta2V5cyI6NzQsIi4vX29iamVjdC1zYXAiOjc2LCIuL190by1vYmplY3QiOjkyfV0sMTA1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0Iik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOmUoIi4vX3NldC1wcm90byIpLnNldH0pfSx7Ii4vX2V4cG9ydCI6NDIsIi4vX3NldC1wcm90byI6ODB9XSwxMDY6W2Z1bmN0aW9uKGUsdCxyKXt9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLHM9ZSgiLi9fbGlicmFyeSIpLGM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL19jdHgiKSx1PWUoIi4vX2NsYXNzb2YiKSxsPWUoIi4vX2V4cG9ydCIpLGY9ZSgiLi9faXMtb2JqZWN0IiksZD0oZSgiLi9fYW4tb2JqZWN0IiksZSgiLi9fYS1mdW5jdGlvbiIpKSxwPWUoIi4vX2FuLWluc3RhbmNlIiksYj1lKCIuL19mb3Itb2YiKSxfPShlKCIuL19zZXQtcHJvdG8iKS5zZXQsZSgiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciIpKSxoPWUoIi4vX3Rhc2siKS5zZXQseT1lKCIuL19taWNyb3Rhc2siKSgpLHY9IlByb21pc2UiLG09Yy5UeXBlRXJyb3Isaj1jLnByb2Nlc3MsZz1jW3ZdLGo9Yy5wcm9jZXNzLHc9InByb2Nlc3MiPT11KGopLE89ZnVuY3Rpb24oKXt9LGs9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1nLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShPLE8pfTtyZXR1cm4od3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihPKWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1nJiZ0PT09aX0sQz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZihlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxFPWZ1bmN0aW9uKGUpe3JldHVybiB4KGcsZSk/bmV3IFMoZSk6bmV3IG8oZSl9LFM9bz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgbSgiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPWQodCksdGhpcy5yZWplY3Q9ZChyKX0sVD1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LFI9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO3koZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixvPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsYT10LnJlamVjdCx1PXQuZG9tYWluO3RyeXtzPyhvfHwoMj09ZS5faCYmUChlKSxlLl9oPTEpLHM9PT0hMD9yPW46KHUmJnUuZW50ZXIoKSxyPXMobiksdSYmdS5leGl0KCkpLHI9PT10LnByb21pc2U/YShtKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUMocikpP2kuY2FsbChyLGMsYSk6YyhyKSk6YShuKX1jYXRjaChsKXthKGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmTShlKX0pfX0sTT1mdW5jdGlvbihlKXtoLmNhbGwoYyxmdW5jdGlvbigpe3ZhciB0LHIsbixvPWUuX3Y7aWYoTihlKSYmKHQ9VChmdW5jdGlvbigpe3c/ai5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sZSk6KHI9Yy5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpvfSk6KG49Yy5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pLGUuX2g9d3x8TihlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxOPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxuPTA7ci5sZW5ndGg+bjspaWYodD1yW24rK10sdC5mYWlsfHwhTih0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxQPWZ1bmN0aW9uKGUpe2guY2FsbChjLGZ1bmN0aW9uKCl7dmFyIHQ7dz9qLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWMub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksUih0LCEwKSl9LEw9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgbSgiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1DKGUpKT95KGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxhKEwsbiwxKSxhKEQsbiwxKSl9Y2F0Y2gobyl7RC5jYWxsKG4sbyl9fSk6KHIuX3Y9ZSxyLl9zPTEsUihyLCExKSl9Y2F0Y2gobil7RC5jYWxsKHtfdzpyLF9kOiExfSxuKX19fTtrfHwoZz1mdW5jdGlvbihlKXtwKHRoaXMsZyx2LCJfaCIpLGQoZSksbi5jYWxsKHRoaXMpO3RyeXtlKGEoTCx0aGlzLDEpLGEoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LG49ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sbi5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoZy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKF8odGhpcyxnKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49dz9qLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZSKHRoaXMsITEpLHIucHJvbWlzZX0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxTPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPWEoTCxlLDEpLAp0aGlzLnJlamVjdD1hKEQsZSwxKX0pLGwobC5HK2wuVytsLkYqIWsse1Byb21pc2U6Z30pLGUoIi4vX3NldC10by1zdHJpbmctdGFnIikoZyx2KSxlKCIuL19zZXQtc3BlY2llcyIpKHYpLGk9ZSgiLi9fY29yZSIpW3ZdLGwobC5TK2wuRiohayx2LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKSxyPXQucmVqZWN0O3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqKHN8fCFrKSx2LHtyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBnJiZ4KGUuY29uc3RydWN0b3IsdGhpcykpcmV0dXJuIGU7dmFyIHQ9RSh0aGlzKSxyPXQucmVzb2x2ZTtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksbChsLlMrbC5GKiEoayYmZSgiLi9faXRlci1kZXRlY3QiKShmdW5jdGlvbihlKXtnLmFsbChlKVsiY2F0Y2giXShPKX0pKSx2LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPVQoZnVuY3Rpb24oKXt2YXIgcj1bXSxpPTAscz0xO2IoZSwhMSxmdW5jdGlvbihlKXt2YXIgYz1pKyssYT0hMTtyLnB1c2godm9pZCAwKSxzKyssdC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7YXx8KGE9ITAscltjXT1lLC0tc3x8bihyKSl9LG8pfSksLS1zfHxuKHIpfSk7cmV0dXJuIGkmJm8oaS5lcnJvciksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG49ci5yZWplY3Qsbz1UKGZ1bmN0aW9uKCl7YihlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8mJm4oby5lcnJvciksci5wcm9taXNlfX0pfSx7Ii4vX2EtZnVuY3Rpb24iOjI4LCIuL19hbi1pbnN0YW5jZSI6MzAsIi4vX2FuLW9iamVjdCI6MzEsIi4vX2NsYXNzb2YiOjMzLCIuL19jb3JlIjozNSwiLi9fY3R4IjozNiwiLi9fZXhwb3J0Ijo0MiwiLi9fZm9yLW9mIjo0NCwiLi9fZ2xvYmFsIjo0NSwiLi9faXMtb2JqZWN0Ijo1NCwiLi9faXRlci1kZXRlY3QiOjU4LCIuL19saWJyYXJ5Ijo2MiwiLi9fbWljcm90YXNrIjo2NCwiLi9fcmVkZWZpbmUtYWxsIjo3OCwiLi9fc2V0LXByb3RvIjo4MCwiLi9fc2V0LXNwZWNpZXMiOjgxLCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODIsIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiOjg1LCIuL190YXNrIjo4NywiLi9fd2tzIjo5N31dLDEwODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19zdHJpbmctYXQiKSghMCk7ZSgiLi9faXRlci1kZWZpbmUiKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSx7Ii4vX2l0ZXItZGVmaW5lIjo1NywiLi9fc3RyaW5nLWF0Ijo4Nn1dLDEwOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2hhcyIpLGk9ZSgiLi9fZGVzY3JpcHRvcnMiKSxzPWUoIi4vX2V4cG9ydCIpLGM9ZSgiLi9fcmVkZWZpbmUiKSxhPWUoIi4vX21ldGEiKS5LRVksdT1lKCIuL19mYWlscyIpLGw9ZSgiLi9fc2hhcmVkIiksZj1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGQ9ZSgiLi9fdWlkIikscD1lKCIuL193a3MiKSxiPWUoIi4vX3drcy1leHQiKSxfPWUoIi4vX3drcy1kZWZpbmUiKSxoPWUoIi4vX2tleW9mIikseT1lKCIuL19lbnVtLWtleXMiKSx2PWUoIi4vX2lzLWFycmF5IiksbT1lKCIuL19hbi1vYmplY3QiKSxqPWUoIi4vX3RvLWlvYmplY3QiKSxnPWUoIi4vX3RvLXByaW1pdGl2ZSIpLHc9ZSgiLi9fcHJvcGVydHktZGVzYyIpLE89ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpLGs9ZSgiLi9fb2JqZWN0LWdvcG4tZXh0IikseD1lKCIuL19vYmplY3QtZ29wZCIpLEM9ZSgiLi9fb2JqZWN0LWRwIiksRT1lKCIuL19vYmplY3Qta2V5cyIpLFM9eC5mLFQ9Qy5mLFI9ay5mLE09bi5TeW1ib2wsTj1uLkpTT04sUD1OJiZOLnN0cmluZ2lmeSxEPSJwcm90b3R5cGUiLEw9cCgiX2hpZGRlbiIpLEE9cCgidG9QcmltaXRpdmUiKSxGPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEk9bCgic3ltYm9sLXJlZ2lzdHJ5IiksVT1sKCJzeW1ib2xzIiksVj1sKCJvcC1zeW1ib2xzIiksej1PYmplY3RbRF0sSD0iZnVuY3Rpb24iPT10eXBlb2YgTSxCPW4uUU9iamVjdCxXPSFCfHwhQltEXXx8IUJbRF0uZmluZENoaWxkLEo9aSYmdShmdW5jdGlvbigpe3JldHVybiA3IT1PKFQoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49Uyh6LHQpO24mJmRlbGV0ZSB6W3RdLFQoZSx0LHIpLG4mJmUhPT16JiZUKHosdCxuKX06VCxZPWZ1bmN0aW9uKGUpe3ZhciB0PVVbZV09TyhNW0RdKTtyZXR1cm4gdC5faz1lLHR9LHE9SCYmInN5bWJvbCI9PXR5cGVvZiBNLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNfSxLPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PXomJksoVix0LHIpLG0oZSksdD1nKHQsITApLG0ociksbyhVLHQpPyhyLmVudW1lcmFibGU/KG8oZSxMKSYmZVtMXVt0XSYmKGVbTF1bdF09ITEpLHI9TyhyLHtlbnVtZXJhYmxlOncoMCwhMSl9KSk6KG8oZSxMKXx8VChlLEwsdygxLHt9KSksZVtMXVt0XT0hMCksSihlLHQscikpOlQoZSx0LHIpfSxHPWZ1bmN0aW9uKGUsdCl7bShlKTtmb3IodmFyIHIsbj15KHQ9aih0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylLKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LFo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9PKGUpOkcoTyhlKSx0KX0sWD1mdW5jdGlvbihlKXt2YXIgdD1GLmNhbGwodGhpcyxlPWcoZSwhMCkpO3JldHVybiB0aGlzPT09eiYmbyhVLGUpJiYhbyhWLGUpPyExOnR8fCFvKHRoaXMsZSl8fCFvKFUsZSl8fG8odGhpcyxMKSYmdGhpc1tMXVtlXT90OiEwfSwkPWZ1bmN0aW9uKGUsdCl7aWYoZT1qKGUpLHQ9Zyh0LCEwKSxlIT09enx8IW8oVSx0KXx8byhWLHQpKXt2YXIgcj1TKGUsdCk7cmV0dXJuIXJ8fCFvKFUsdCl8fG8oZSxMKSYmZVtMXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9UihqKGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKFUsdD1yW2krK10pfHx0PT1MfHx0PT1hfHxuLnB1c2godCk7cmV0dXJuIG59LGVlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWU9PT16LG49UihyP1Y6aihlKSksaT1bXSxzPTA7bi5sZW5ndGg+czspbyhVLHQ9bltzKytdKSYmKHI/byh6LHQpOiEwKSYmaS5wdXNoKFVbdF0pO3JldHVybiBpfTtIfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PXomJnQuY2FsbChWLHIpLG8odGhpcyxMKSYmbyh0aGlzW0xdLGUpJiYodGhpc1tMXVtlXT0hMSksSih0aGlzLGUsdygxLHIpKX07cmV0dXJuIGkmJlcmJkooeixlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxZKGUpfSxjKE1bRF0sInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPSQsQy5mPUssZSgiLi9fb2JqZWN0LWdvcG4iKS5mPWsuZj1RLGUoIi4vX29iamVjdC1waWUiKS5mPVgsZSgiLi9fb2JqZWN0LWdvcHMiKS5mPWVlLGkmJiFlKCIuL19saWJyYXJ5IikmJmMoeiwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLGIuZj1mdW5jdGlvbihlKXtyZXR1cm4gWShwKGUpKX0pLHMocy5HK3MuVytzLkYqIUgse1N5bWJvbDpNfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KXAodGVbcmUrK10pO2Zvcih2YXIgdGU9RShwLnN0b3JlKSxyZT0wO3RlLmxlbmd0aD5yZTspXyh0ZVtyZSsrXSk7cyhzLlMrcy5GKiFILCJTeW1ib2wiLHsiZm9yIjpmdW5jdGlvbihlKXtyZXR1cm4gbyhJLGUrPSIiKT9JW2VdOklbZV09TShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJuIGgoSSxlKTt0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Vz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Vz0hMX19KSxzKHMuUytzLkYqIUgsIk9iamVjdCIse2NyZWF0ZTpaLGRlZmluZVByb3BlcnR5OkssZGVmaW5lUHJvcGVydGllczpHLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZWV9KSxOJiZzKHMuUytzLkYqKCFIfHx1KGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1QKFtlXSl8fCJ7fSIhPVAoe2E6ZX0pfHwie30iIT1QKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIXEoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KW4ucHVzaChhcmd1bWVudHNbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJnYodCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLHEodCk/dm9pZCAwOnR9KSxuWzFdPXQsUC5hcHBseShOLG4pfX19KSxNW0RdW0FdfHxlKCIuL19oaWRlIikoTVtEXSxBLE1bRF0udmFsdWVPZiksZihNLCJTeW1ib2wiKSxmKE1hdGgsIk1hdGgiLCEwKSxmKG4uSlNPTiwiSlNPTiIsITApfSx7Ii4vX2FuLW9iamVjdCI6MzEsIi4vX2Rlc2NyaXB0b3JzIjozOCwiLi9fZW51bS1rZXlzIjo0MSwiLi9fZXhwb3J0Ijo0MiwiLi9fZmFpbHMiOjQzLCIuL19nbG9iYWwiOjQ1LCIuL19oYXMiOjQ2LCIuL19oaWRlIjo0NywiLi9faXMtYXJyYXkiOjUzLCIuL19rZXlvZiI6NjEsIi4vX2xpYnJhcnkiOjYyLCIuL19tZXRhIjo2MywiLi9fb2JqZWN0LWNyZWF0ZSI6NjUsIi4vX29iamVjdC1kcCI6NjYsIi4vX29iamVjdC1nb3BkIjo2OCwiLi9fb2JqZWN0LWdvcG4iOjcwLCIuL19vYmplY3QtZ29wbi1leHQiOjY5LCIuL19vYmplY3QtZ29wcyI6NzEsIi4vX29iamVjdC1rZXlzIjo3NCwiLi9fb2JqZWN0LXBpZSI6NzUsIi4vX3Byb3BlcnR5LWRlc2MiOjc3LCIuL19yZWRlZmluZSI6NzksIi4vX3NldC10by1zdHJpbmctdGFnIjo4MiwiLi9fc2hhcmVkIjo4NCwiLi9fdG8taW9iamVjdCI6OTAsIi4vX3RvLXByaW1pdGl2ZSI6OTMsIi4vX3VpZCI6OTQsIi4vX3drcyI6OTcsIi4vX3drcy1kZWZpbmUiOjk1LCIuL193a3MtZXh0Ijo5Nn1dLDExMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4vX3drcy1kZWZpbmUiKSgiYXN5bmNJdGVyYXRvciIpfSx7Ii4vX3drcy1kZWZpbmUiOjk1fV0sMTExOltmdW5jdGlvbihlLHQscil7ZSgiLi9fd2tzLWRlZmluZSIpKCJvYnNlcnZhYmxlIil9LHsiLi9fd2tzLWRlZmluZSI6OTV9XSwxMTI6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuL2VzNi5hcnJheS5pdGVyYXRvciIpO2Zvcih2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2hpZGUiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksYz1bIk5vZGVMaXN0IiwiRE9NVG9rZW5MaXN0IiwiTWVkaWFMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJDU1NSdWxlTGlzdCJdLGE9MDs1PmE7YSsrKXt2YXIgdT1jW2FdLGw9blt1XSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW3NdJiZvKGYscyx1KSxpW3VdPWkuQXJyYXl9fSx7Ii4vX2dsb2JhbCI6NDUsIi4vX2hpZGUiOjQ3LCIuL19pdGVyYXRvcnMiOjYwLCIuL193a3MiOjk3LCIuL2VzNi5hcnJheS5pdGVyYXRvciI6OTl9XSwxMTM6W2Z1bmN0aW9uKGUsdCxyKXt3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5nPVtdLHRoaXMuaz1lfWZ1bmN0aW9uIHIoZSl7IWZ1bmN0aW9uIHIoKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7bi5sZW5ndGgmJmUuayhuLGUpLGUuZj1zZXRUaW1lb3V0KHIsdC5fcGVyaW9kKX0oKX1mdW5jdGlvbiBuKHQpe3ZhciByLG49e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxhZGRlZE5vZGVzOltdLHJlbW92ZWROb2RlczpbXSxwcmV2aW91c1NpYmxpbmc6bnVsbCxuZXh0U2libGluZzpudWxsLGF0dHJpYnV0ZU5hbWU6bnVsbCxhdHRyaWJ1dGVOYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpudWxsfTtmb3IociBpbiB0KW5bcl0hPT1lJiZ0W3JdIT09ZSYmKG5bcl09dFtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWMoZSx0KTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIG8sYT1uLmxlbmd0aDt0LmEmJnIuYSYmaShuLGUsci5hLHQuZCksKHQuYnx8dC5lKSYmKG89cyhuLGUscix0KSksKG98fG4ubGVuZ3RoIT09YSkmJihyPWMoZSx0KSl9fWZ1bmN0aW9uIGkodCxyLG8saSl7Zm9yKHZhciBzLGMsYT17fSx1PXIuYXR0cmlidXRlcyxsPXUubGVuZ3RoO2wtLTspcz11W2xdLGM9cy5uYW1lLGkmJmlbY109PT1lfHwocy52YWx1ZSE9PW9bY10mJnQucHVzaChuKHt0eXBlOiJhdHRyaWJ1dGVzIix0YXJnZXQ6cixhdHRyaWJ1dGVOYW1lOmMsb2xkVmFsdWU6b1tjXSxhdHRyaWJ1dGVOYW1lc3BhY2U6cy5uYW1lc3BhY2VVUkl9KSksYVtjXT0hMCk7Zm9yKGMgaW4gbylhW2NdfHx0LnB1c2gobih7dGFyZ2V0OnIsdHlwZToiYXR0cmlidXRlcyIsYXR0cmlidXRlTmFtZTpjLG9sZFZhbHVlOm9bY119KSl9ZnVuY3Rpb24gcyh0LHIsbyxzKXtmdW5jdGlvbiBjKGUscixvLGMsYSl7dmFyIGw9ZS5sZW5ndGgtMTthPS1+KChsLWEpLzIpO2Zvcih2YXIgZixkLHA7cD1lLnBvcCgpOylmPW9bcC5oXSxkPWNbcC5pXSxzLmImJmEmJk1hdGguYWJzKHAuaC1wLmkpPj1sJiYodC5wdXNoKG4oe3R5cGU6ImNoaWxkTGlzdCIsdGFyZ2V0OnIsYWRkZWROb2RlczpbZl0scmVtb3ZlZE5vZGVzOltmXSxuZXh0U2libGluZzpmLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzpmLnByZXZpb3VzU2libGluZ30pKSxhLS0pLHMuYSYmZC5hJiZpKHQsZixkLmEscy5kKSxzLmMmJjM9PT1mLm5vZGVUeXBlJiZmLm5vZGVWYWx1ZSE9PWQuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpmfSkpLHMuZSYmdShmLGQpfWZ1bmN0aW9uIHUocixvKXtmb3IodmFyIGQscCxiLF8saCx5PXIuY2hpbGROb2Rlcyx2PW8uYixtPXkubGVuZ3RoLGo9dj92Lmxlbmd0aDowLGc9MCx3PTAsTz0wO20+d3x8aj5POylfPXlbd10saD0oYj12W09dKSYmYi5qLF89PT1oPyhzLmEmJmIuYSYmaSh0LF8sYi5hLHMuZCkscy5jJiZiLmMhPT1lJiZfLm5vZGVWYWx1ZSE9PWIuYyYmdC5wdXNoKG4oe3R5cGU6ImNoYXJhY3RlckRhdGEiLHRhcmdldDpffSkpLHAmJmMocCxyLHksdixnKSxzLmUmJihfLmNoaWxkTm9kZXMubGVuZ3RofHxiLmImJmIuYi5sZW5ndGgpJiZ1KF8sYiksdysrLE8rKyk6KGw9ITAsZHx8KGQ9e30scD1bXSksXyYmKGRbYj1hKF8pXXx8KGRbYl09ITAsLTE9PT0oYj1mKHYsXyxPLCJqIikpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpyLGFkZGVkTm9kZXM6W19dLG5leHRTaWJsaW5nOl8ubmV4dFNpYmxpbmcscHJldmlvdXNTaWJsaW5nOl8ucHJldmlvdXNTaWJsaW5nfSkpLGcrKyk6cC5wdXNoKHtoOncsaTpifSkpLHcrKyksaCYmaCE9PXlbd10mJihkW2I9YShoKV18fChkW2JdPSEwLC0xPT09KGI9Zih5LGgsdykpP3MuYiYmKHQucHVzaChuKHt0eXBlOiJjaGlsZExpc3QiLHRhcmdldDpvLmoscmVtb3ZlZE5vZGVzOltoXSxuZXh0U2libGluZzp2W08rMV0scHJldmlvdXNTaWJsaW5nOnZbTy0xXX0pKSxnLS0pOnAucHVzaCh7aDpiLGk6T30pKSxPKyspKTtwJiZjKHAscix5LHYsZyl9dmFyIGw7cmV0dXJuIHUocixvKSxsfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj0hMDtyZXR1cm4gZnVuY3Rpb24gbihlKXt2YXIgbz17ajplfTtyZXR1cm4hdC5jfHwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGU/KHQuYSYmciYmMT09PWUubm9kZVR5cGUmJihvLmE9bChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5kJiYhdC5kW3IubmFtZV18fChlW3IubmFtZV09ci52YWx1ZSksZX0pKSxyJiYodC5ifHx0LmN8fHQuYSYmdC5lKSYmKG8uYj11KGUuY2hpbGROb2RlcyxuKSkscj10LmUpOm8uYz1lLm5vZGVWYWx1ZSxvfShlKX1mdW5jdGlvbiBhKGUpe3RyeXtyZXR1cm4gZS5pZHx8KGUubW9faWQ9ZS5tb19pZHx8ZCsrKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGUubm9kZVZhbHVlfWNhdGNoKHIpe3JldHVybiBkKyt9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXI9dChyLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBmKGUsdCxyLG4pe2Zvcig7cjxlLmxlbmd0aDtyKyspaWYoKG4/ZVtyXVtuXTplW3JdKT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9dC5fcGVyaW9kPTMwLHQucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXthOiEhKHQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXJ8fHQuYXR0cmlidXRlT2xkVmFsdWUpLGI6ISF0LmNoaWxkTGlzdCxlOiEhdC5zdWJ0cmVlLGM6ISghdC5jaGFyYWN0ZXJEYXRhJiYhdC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpfSxpPXRoaXMuZyxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5tPT09ZSYmaS5zcGxpY2UocywxKTt0LmF0dHJpYnV0ZUZpbHRlciYmKG4uZD1sKHQuYXR0cmlidXRlRmlsdGVyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09ITAsZX0pKSxpLnB1c2goe206ZSxsOm8oZSxuKX0pLHRoaXMuZnx8cih0aGlzKX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmcscj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ubChlKTtyZXR1cm4gZX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMuZz1bXSxjbGVhclRpbWVvdXQodGhpcy5mKSx0aGlzLmY9bnVsbH19O3ZhciBkPTE7cmV0dXJuIHR9KHZvaWQgMCl9LHt9XSwxMTQ6W2Z1bmN0aW9uKGUsdCxyKXtPYmplY3Qub2JzZXJ2ZXx8ZnVuY3Rpb24oZSx0LHIsbil7InVzZSBzdHJpY3QiO3ZhciBvLGkscz1bImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInJlY29uZmlndXJlIiwic2V0UHJvdG90eXBlIiwicHJldmVudEV4dGVuc2lvbnMiXSxjPXQuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1lLmNhbGwodCl9fShlLnByb3RvdHlwZS50b1N0cmluZyksYT10LnByb3RvdHlwZS5pbmRleE9mP3QuaW5kZXhPZnx8ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSxyLG4pfTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXJ8fDA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LHU9ci5NYXAhPT1uJiZNYXAucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1hcH06ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybntzaXplOjAsaGFzOmZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCk+LTF9LGdldDpmdW5jdGlvbihyKXtyZXR1cm4gdFthKGUscildfSxzZXQ6ZnVuY3Rpb24ocixuKXt2YXIgbz1hKGUscik7LTE9PT1vPyhlLnB1c2gociksdC5wdXNoKG4pLHRoaXMuc2l6ZSsrKTp0W29dPW59LCJkZWxldGUiOmZ1bmN0aW9uKHIpe3ZhciBuPWEoZSxyKTtuPi0xJiYoZS5zcGxpY2UobiwxKSx0LnNwbGljZShuLDEpLHRoaXMuc2l6ZS0tKX0sZm9yRWFjaDpmdW5jdGlvbihyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyLmNhbGwoYXJndW1lbnRzWzFdLHRbbl0sZVtuXSx0aGlzKX19fSxsPWUuZ2V0T3duUHJvcGVydHlOYW1lcz9mdW5jdGlvbigpe3ZhciB0PWUuZ2V0T3duUHJvcGVydHlOYW1lczt0cnl7YXJndW1lbnRzLmNhbGxlZX1jYXRjaChyKXt2YXIgbj0odChhKS5qb2luKCIgIikrIiAiKS5yZXBsYWNlKC9wcm90b3R5cGUgfGxlbmd0aCB8bmFtZSAvZywiIikuc2xpY2UoMCwtMSkuc3BsaXQoIiAiKTtuLmxlbmd0aCYmKHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWZvcih2YXIgbyxpPTA7aTxuLmxlbmd0aDspKG89YShyLG5baSsrXSkpPi0xJiZyLnNwbGljZShvLDEpO3JldHVybiByfSl9cmV0dXJuIHR9KCk6ZnVuY3Rpb24odCl7dmFyIHIsbixvPVtdO2lmKCJoYXNPd25Qcm9wZXJ0eSJpbiB0KWZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmby5wdXNoKHIpO2Vsc2V7bj1lLmhhc093blByb3BlcnR5O2ZvcihyIGluIHQpbi5jYWxsKHQscikmJm8ucHVzaChyKX1yZXR1cm4gYyh0KSYmby5wdXNoKCJsZW5ndGgiKSxvfSxmPWUuZ2V0UHJvdG90eXBlT2YsZD1lLmRlZmluZVByb3BlcnRpZXMmJmUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHA9ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHIud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbigpe3ZhciBlPStuZXcgRGF0ZSx0PWU7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigodD0rbmV3IERhdGUpLWUpfSwxNyl9fSgpLGI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8uZ2V0KGUpO24/KGgobixlKSxqKGUsbix0LHIpKToobj1fKGUpLGooZSxuLHQsciksMT09PW8uc2l6ZSYmcCh5KSl9LF89ZnVuY3Rpb24odCxyKXt2YXIgbixpPWwodCkscz1bXSxjPTAscj17aGFuZGxlcnM6dSgpLGZyb3plbjplLmlzRnJvemVuP2UuaXNGcm96ZW4odCk6ITEsZXh0ZW5zaWJsZTplLmlzRXh0ZW5zaWJsZT9lLmlzRXh0ZW5zaWJsZSh0KTohMCxwcm90bzpmJiZmKHQpLHByb3BlcnRpZXM6aSx2YWx1ZXM6cyxub3RpZmllcjptKHQscil9O2lmKGQpZm9yKG49ci5kZXNjcmlwdG9ycz1bXTtjPGkubGVuZ3RoOyluW2NdPWQodCxpW2NdKSxzW2NdPXRbaVtjKytdXTtlbHNlIGZvcig7YzxpLmxlbmd0aDspc1tjXT10W2lbYysrXV07cmV0dXJuIG8uc2V0KHQscikscn0saD1mdW5jdGlvbigpe3ZhciB0PWQ/ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaT10LnByb3BlcnRpZXNbcl0scz1lW2ldLGM9dC52YWx1ZXNbcl0sYT10LmRlc2NyaXB0b3JzW3JdOyJ2YWx1ZSJpbiBvJiYoYz09PXM/MD09PWMmJjEvYyE9PTEvczpjPT09Y3x8cz09PXMpJiYoZyhlLHQse25hbWU6aSx0eXBlOiJ1cGRhdGUiLG9iamVjdDplLG9sZFZhbHVlOmN9LG4pLHQudmFsdWVzW3JdPXMpLCFhLmNvbmZpZ3VyYWJsZXx8by5jb25maWd1cmFibGUmJm8ud3JpdGFibGU9PT1hLndyaXRhYmxlJiZvLmVudW1lcmFibGU9PT1hLmVudW1lcmFibGUmJm8uZ2V0PT09YS5nZXQmJm8uc2V0PT09YS5zZXR8fChnKGUsdCx7bmFtZTppLHR5cGU6InJlY29uZmlndXJlIixvYmplY3Q6ZSxvbGRWYWx1ZTpjfSxuKSx0LmRlc2NyaXB0b3JzW3JdPW8pfTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10LnByb3BlcnRpZXNbcl0saT1lW29dLHM9dC52YWx1ZXNbcl07KHM9PT1pPzA9PT1zJiYxL3MhPT0xL2k6cz09PXN8fGk9PT1pKSYmKGcoZSx0LHtuYW1lOm8sdHlwZToidXBkYXRlIixvYmplY3Q6ZSxvbGRWYWx1ZTpzfSxuKSx0LnZhbHVlc1tyXT1pKX0scj1kP2Z1bmN0aW9uKGUscixuLG8saSl7Zm9yKHZhciBzLGM9ci5sZW5ndGg7biYmYy0tOyludWxsIT09cltjXSYmKHM9ZChlLHJbY10pLG4tLSxzP3QoZSxvLGMsaSxzKTooZyhlLG8se25hbWU6cltjXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm8udmFsdWVzW2NdfSxpKSxvLnByb3BlcnRpZXMuc3BsaWNlKGMsMSksby52YWx1ZXMuc3BsaWNlKGMsMSksby5kZXNjcmlwdG9ycy5zcGxpY2UoYywxKSkpfTpmdW5jdGlvbihlLHQscixuLG8pe2Zvcih2YXIgaT10Lmxlbmd0aDtyJiZpLS07KW51bGwhPT10W2ldJiYoZyhlLG4se25hbWU6dFtpXSx0eXBlOiJkZWxldGUiLG9iamVjdDplLG9sZFZhbHVlOm4udmFsdWVzW2ldfSxvKSxuLnByb3BlcnRpZXMuc3BsaWNlKGksMSksbi52YWx1ZXMuc3BsaWNlKGksMSksci0tKX07cmV0dXJuIGZ1bmN0aW9uKG4sbyxpKXtpZihuLmhhbmRsZXJzLnNpemUmJiFuLmZyb3plbil7dmFyIHMsYyx1LHAsYixfLGgseSx2PW4udmFsdWVzLG09bi5kZXNjcmlwdG9ycyxqPTA7aWYobi5leHRlbnNpYmxlKWlmKHM9bi5wcm9wZXJ0aWVzLnNsaWNlKCksYz1zLmxlbmd0aCx1PWwobyksbSl7Zm9yKDtqPHUubGVuZ3RoOyliPXVbaisrXSxwPWEocyxiKSx5PWQobyxiKSwtMT09PXA/KGcobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksdi5wdXNoKG9bYl0pLG0ucHVzaCh5KSk6KHNbcF09bnVsbCxjLS0sdChvLG4scCxpLHkpKTtyKG8scyxjLG4saSksZS5pc0V4dGVuc2libGUobyl8fChuLmV4dGVuc2libGU9ITEsZyhvLG4se3R5cGU6InByZXZlbnRFeHRlbnNpb25zIixvYmplY3Q6b30saSksbi5mcm96ZW49ZS5pc0Zyb3plbihvKSl9ZWxzZXtmb3IoO2o8dS5sZW5ndGg7KWI9dVtqKytdLHA9YShzLGIpLF89b1tiXSwtMT09PXA/KGcobyxuLHtuYW1lOmIsdHlwZToiYWRkIixvYmplY3Q6b30saSksbi5wcm9wZXJ0aWVzLnB1c2goYiksdi5wdXNoKF8pKTooc1twXT1udWxsLGMtLSx0KG8sbixwLGkpKTtyKG8scyxjLG4saSl9ZWxzZSBpZighbi5mcm96ZW4pe2Zvcig7ajxzLmxlbmd0aDtqKyspYj1zW2pdLHQobyxuLGosaSxkKG8sYikpO2UuaXNGcm96ZW4obykmJihuLmZyb3plbj0hMCl9ZiYmKGg9ZihvKSxoIT09bi5wcm90byYmKGcobyxuLHt0eXBlOiJzZXRQcm90b3R5cGUiLG5hbWU6Il9fcHJvdG9fXyIsb2JqZWN0Om8sb2xkVmFsdWU6bi5wcm90b30pLG4ucHJvdG89aCkpfX19KCkseT1mdW5jdGlvbigpe28uc2l6ZSYmKG8uZm9yRWFjaChoKSxpLmZvckVhY2godikscCh5KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNoYW5nZVJlY29yZHM7ci5sZW5ndGgmJihlLmNoYW5nZVJlY29yZHM9W10sdChyKSl9LG09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1vLmdldChlKSksdCYmdC5ub3RpZmllcnx8e25vdGlmeTpmdW5jdGlvbih0KXt0LnR5cGU7dmFyIHI9by5nZXQoZSk7aWYocil7dmFyIG4saT17b2JqZWN0OmV9O2ZvcihuIGluIHQpIm9iamVjdCIhPT1uJiYoaVtuXT10W25dKTtnKGUscixpKX19LHBlcmZvcm1DaGFuZ2U6ZnVuY3Rpb24odCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nIGNoYW5nZVR5cGUiKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgcGVyZm9ybSBub24tZnVuY3Rpb24iKTt2YXIgaSxzLGM9by5nZXQoZSksYT1hcmd1bWVudHNbMl0sdT1hPT09bj9yKCk6ci5jYWxsKGEpO2lmKGMmJmgoYyxlLHQpLGMmJnUmJiJvYmplY3QiPT10eXBlb2YgdSl7cz17b2JqZWN0OmUsdHlwZTp0fTtmb3IoaSBpbiB1KSJvYmplY3QiIT09aSYmInR5cGUiIT09aSYmKHNbaV09dVtpXSk7ZyhlLGMscyl9fX19LGo9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aS5nZXQocik7b3x8aS5zZXQocixvPXtvYnNlcnZlZDp1KCksY2hhbmdlUmVjb3JkczpbXX0pLG8ub2JzZXJ2ZWQuc2V0KGUse2FjY2VwdExpc3Q6bi5zbGljZSgpLGRhdGE6dH0pLHQuaGFuZGxlcnMuc2V0KHIsbyl9LGc9ZnVuY3Rpb24oZSx0LHIsbil7dC5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQub2JzZXJ2ZWQuZ2V0KGUpLmFjY2VwdExpc3Q7KCJzdHJpbmciIT10eXBlb2Ygbnx8LTE9PT1hKG8sbikpJiZhKG8sci50eXBlKT4tMSYmdC5jaGFuZ2VSZWNvcmRzLnB1c2gocil9KX07bz11KCksaT11KCksZS5vYnNlcnZlPWZ1bmN0aW9uKHQscixvKXtpZighdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3Qgb2JzZXJ2ZSBub24tb2JqZWN0Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0Lm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7aWYoZS5pc0Zyb3plbiYmZS5pc0Zyb3plbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qub2JzZXJ2ZSBjYW5ub3QgZGVsaXZlciB0byBhIGZyb3plbiBmdW5jdGlvbiBvYmplY3QiKTtpZihvPT09bilvPXM7ZWxzZSBpZighb3x8Im9iamVjdCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IHRvIE9iamVjdC5vYnNlcnZlIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKTtyZXR1cm4gYih0LHIsbyksdH0sZS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8Im9iamVjdCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QudW5vYnNlcnZlIGNhbm5vdCB1bm9ic2VydmUgbm9uLW9iamVjdCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC51bm9ic2VydmUgY2Fubm90IGRlbGl2ZXIgdG8gbm9uLWZ1bmN0aW9uIik7dmFyIHIsbj1pLmdldCh0KTtyZXR1cm4gbiYmKHI9bi5vYnNlcnZlZC5nZXQoZSkpJiYobi5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aChlLmRhdGEsdCl9KSxwKGZ1bmN0aW9uKCl7dihuLHQpfSksMT09PW4ub2JzZXJ2ZWQuc2l6ZSYmbi5vYnNlcnZlZC5oYXMoZSk/aVsiZGVsZXRlIl0odCk6bi5vYnNlcnZlZFsiZGVsZXRlIl0oZSksMT09PXIuZGF0YS5oYW5kbGVycy5zaXplP29bImRlbGV0ZSJdKGUpOnIuZGF0YS5oYW5kbGVyc1siZGVsZXRlIl0odCkpLGV9LGUuZ2V0Tm90aWZpZXI9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmdldE5vdGlmaWVyIGNhbm5vdCBnZXROb3RpZmllciBub24tb2JqZWN0Iik7cmV0dXJuIGUuaXNGcm96ZW4mJmUuaXNGcm96ZW4odCk/bnVsbDptKHQpfSxlLmRlbGl2ZXJDaGFuZ2VSZWNvcmRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyBjYW5ub3QgZGVsaXZlciB0byBub24tZnVuY3Rpb24iKTt2YXIgdD1pLmdldChlKTt0JiYodC5vYnNlcnZlZC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aChlLmRhdGEsdCl9KSx2KHQsZSkpfX0oT2JqZWN0LEFycmF5LHRoaXMpfSx7fV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuRGF0YU9iamVjdE9ic2VydmVyPXIuRGF0YU9iamVjdFJlcG9ydGVyPXIuU3luY2hlcj12b2lkIDAsZSgibXV0YXRpb25vYnNlcnZlci1zaGltIiksZSgib2JqZWN0Lm9ic2VydmUiKSxlKCJhcnJheS5vYnNlcnZlIik7dmFyIG89ZSgiLi9zeW5jaGVyL1N5bmNoZXIiKSxpPW4obykscz1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIiksYz1uKHMpLGE9ZSgiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciIpLHU9bihhKTtyLlN5bmNoZXI9aVsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdFJlcG9ydGVyPWNbImRlZmF1bHQiXSxyLkRhdGFPYmplY3RPYnNlcnZlcj11WyJkZWZhdWx0Il19LHsiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6MTE4LCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjoxMTksIi4vc3luY2hlci9TeW5jaGVyIjoxMjIsImFycmF5Lm9ic2VydmUiOjEsIm11dGF0aW9ub2JzZXJ2ZXItc2hpbSI6MTEzLCJvYmplY3Qub2JzZXJ2ZSI6MTE0fV0sMTE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksdT1uKGEpLGw9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksZj1uKGwpLGQ9ZSgiLi9TeW5jT2JqZWN0IikscD1uKGQpLGI9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxfPW4oYiksaD1lKCIuLi91dGlscy91dGlscy5qcyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIGM9dGhpcztjLl9zeW5jaGVyPXQsYy5fdXJsPXIsYy5fc2NoZW1hPW4sYy5fc3RhdHVzPW8sYy5fc3luY09iaj1uZXcgcFsiZGVmYXVsdCJdKGkpLGMuX2NoaWxkcmVucz1zLGMuX3ZlcnNpb249MCxjLl9jaGlsZElkPTAsYy5fY2hpbGRyZW5PYmplY3RzPXt9LGMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMuX293bmVyPXQuX293bmVyLGMuX2J1cz10Ll9idXN9cmV0dXJuKDAsZlsiZGVmYXVsdCJdKShlLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO3QuX2NoaWxkcmVucyYmdC5fY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89cituLGk9dC5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpjb25zb2xlLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfX0pO3QuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsY1siZGVmYXVsdCJdKShlLl9jaGlsZHJlbk9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hpbGRyZW5PYmplY3RzW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ci5fY2hpbGRJZCsrO3ZhciBuPXIuX293bmVyKyIjIityLl9jaGlsZElkLG89ci5fdXJsKyIvY2hpbGRyZW4vIitlLHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLl9vd25lcix0bzpvLGJvZHk6e3Jlc291cmNlOm4sdmFsdWU6dH19O3JldHVybiBuZXcgaVsiZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe3ZhciBpPXIuX2J1cy5wb3N0TWVzc2FnZShzKTtjb25zb2xlLmxvZygiY3JlYXRlLXJlcG9ydGVyLWNoaWxkKCAiK3IuX293bmVyKyIgKTogIixzKTt2YXIgYz1uZXcgX1siZGVmYXVsdCJdKHIsbix0LHIuX293bmVyLGkpO2Mub25DaGFuZ2UoZnVuY3Rpb24oZSl7ci5fb25DaGFuZ2UoZSx7cGF0aDpvLGNoaWxkSWQ6bn0pfSksci5fY2hpbGRyZW5PYmplY3RzW25dPWMsZShjKX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlO2NvbnNvbGUubG9nKCJjcmVhdGUtb2JzZXJ2ZXItY2hpbGQoICIrdC5fb3duZXIrIiApOiAiLGUpO3ZhciBuPW5ldyBfWyJkZWZhdWx0Il0odCxyLGUuYm9keS52YWx1ZSk7dC5fY2hpbGRyZW5PYmplY3RzW3JdPW4sc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzb3VyY2U6dC5fb3duZXJ9fSl9KTt2YXIgbz17dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdXJsOmUudG8sdmFsdWU6ZS5ib2R5LnZhbHVlLGNoaWxkSWQ6cixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uQWRkQ2hpbGRyZW5IYW5kbGVyJiYoY29uc29sZS5sb2coIkFERC1DSElMRFJFTi1FVkVOVDogIixvKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcihvKSl9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKyssIm9uIj09PXIuX3N0YXR1cyl7dmFyIG49e3R5cGU6InVwZGF0ZSIsZnJvbTpyLl91cmwsdG86ci5fdXJsKyIvY2hhbmdlcyIsYm9keTp7dmVyc2lvbjpyLl92ZXJzaW9uLHNvdXJjZTpyLl9vd25lcixhdHRyaWJ1dGU6ZS5maWVsZH19O2Uub1R5cGU9PT1kLk9iamVjdFR5cGUuT0JKRUNUP2UuY1R5cGUhPT1kLkNoYW5nZVR5cGUuUkVNT1ZFJiYobi5ib2R5LnZhbHVlPWUuZGF0YSk6KG4uYm9keS5hdHRyaWJ1dGVUeXBlPWUub1R5cGUsbi5ib2R5LnZhbHVlPWUuZGF0YSxlLmNUeXBlIT09ZC5DaGFuZ2VUeXBlLlVQREFURSYmKG4uYm9keS5vcGVyYXRpb249ZS5jVHlwZSkpLHQmJihuLnRvPXQucGF0aCxuLmJvZHkucmVzb3VyY2U9dC5jaGlsZElkKSxyLl9idXMucG9zdE1lc3NhZ2Uobil9fX0se2tleToiX2NoYW5nZU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuX3ZlcnNpb24rMT09PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uKys7dmFyIG49dC5ib2R5LmF0dHJpYnV0ZSxvPSgwLGguZGVlcENsb25lKSh0LmJvZHkudmFsdWUpLGk9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5hdHRyaWJ1dGVUeXBlPT09ZC5PYmplY3RUeXBlLkFSUkFZKWlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuQUREKXt2YXIgcz1pLm9iaixjPWkubGFzdDtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHMsW2MsMF0uY29uY2F0KG8pKX1lbHNlIGlmKHQuYm9keS5vcGVyYXRpb249PT1kLkNoYW5nZVR5cGUuUkVNT1ZFKXt2YXIgYT1pLm9iaix1PWkubGFzdDthLnNwbGljZSh1LG8pfWVsc2UgaS5vYmpbaS5sYXN0XT1vO2Vsc2UgdC5ib2R5LnZhbHVlP2kub2JqW2kubGFzdF09bzpkZWxldGUgaS5vYmpbaS5sYXN0XX1lbHNlIGNvbnNvbGUubG9nKCJVTlNZTkNIUk9OSVpFRCBWRVJTSU9OOiAoZGF0YSA9PiAiK3IuX3ZlcnNpb24rIiwgbXNnID0+ICIrdC5ib2R5LnZlcnNpb24rIikiKX19LHtrZXk6Il9jaGFuZ2VDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztjb25zb2xlLmxvZygiQ2hhbmdlIGNoaWxkcmVuOiAiLHQuX293bmVyLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXQuX2NoaWxkcmVuT2JqZWN0c1tyXTtuP3QuX2NoYW5nZU9iamVjdChuLl9zeW5jT2JqLGUpOmNvbnNvbGUubG9nKCJObyBjaGlsZHJlbiBmb3VuZCBmb3I6ICIscil9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT15LHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiLi9EYXRhT2JqZWN0Q2hpbGQiOjExNywiLi9TeW5jT2JqZWN0IjoxMjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksYz1uKHMpLGE9ZSgiLi9TeW5jT2JqZWN0IiksdT1uKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLG8scyl7KDAsaVsiZGVmYXVsdCJdKSh0aGlzLGUpO3ZhciBjPXRoaXM7Yy5fcGFyZW50PXQsYy5fY2hpbGRJZD1yLGMuX293bmVyPW8sYy5fbXNnSWQ9cyxjLl9zeW5jT2JqPW5ldyB1WyJkZWZhdWx0Il0obiksYy5fYnVzPXQuX2J1cyxjLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fb3duZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2RlbGV0ZSBlLl9wYXJlbnQuX2NoaWxkcmVuW2UuX2NoaWxkSWRdLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7ZSh0KX0pfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmJvZHkuc291cmNlLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiZ0Ll9vblJlc3BvbnNlSGFuZGxlcihyKX19LHtrZXk6ImNoaWxkSWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZElkfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19XSksZX0oKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vU3luY09iamVjdCI6MTIxLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTE4OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9bihzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLF89bihiKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bihoKSx2PWUoIi4vRGF0YU9iamVjdCIpLG09bih2KSxqPWUoIi4vRGF0YU9iamVjdENoaWxkIiksZz1uKGopLHc9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixvLHMsYSxsKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGY9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8scy5kYXRhLGEpKSxkPWY7cmV0dXJuIGQuX3ZlcnNpb249bCxkLl9maWx0ZXJzPXt9LGQuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtkLl9vbkZpbHRlcihlKX0pLCgwLGlbImRlZmF1bHQiXSkocy5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cy5jaGlsZHJlbnNbZV07ZC5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBnWyJkZWZhdWx0Il0oZCxlLHQpfSksZC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSxmfXJldHVybigwLHlbImRlZmF1bHQiXSkodCxlKSwoMCxmWyJkZWZhdWx0Il0pKHQsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxfWyJkZWZhdWx0Il0pKCgwLGNbImRlZmF1bHQiXSkodC5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsX1siZGVmYXVsdCJdKSgoMCxjWyJkZWZhdWx0Il0pKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTp3LkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9dy5BTlk6KG4udHlwZT13LlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT13LkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PXcuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT13LkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShtWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1PLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMTYsIi4vRGF0YU9iamVjdENoaWxkIjoxMTcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTE5OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGM9bihzKSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLHU9bihhKSxsPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGY9bihsKSxkPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIikscD1uKGQpLGI9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpLF89bihiKSxoPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpLHk9bihoKSx2PWUoIi4vRGF0YU9iamVjdCIpLG09bih2KSxqPWUoIi4uL3V0aWxzL3V0aWxzLmpzIiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLG8saSxzKXsoMCx1WyJkZWZhdWx0Il0pKHRoaXMsdCk7dmFyIGE9KDAscFsiZGVmYXVsdCJdKSh0aGlzLCgwLGNbImRlZmF1bHQiXSkodCkuY2FsbCh0aGlzLGUscixuLG8saSxzKSksbD1hO3JldHVybiBsLl9zdWJzY3JpcHRpb25zPXt9LGwuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLSIrcisiLVNFTkQ6ICIsZSksbC5fb25DaGFuZ2UoZSl9KSxsLl9hbGxvY2F0ZUxpc3RlbmVycygpLGF9cmV0dXJuKDAseVsiZGVmYXVsdCJdKSh0LGUpLCgwLGZbImRlZmF1bHQiXSkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX29iamVjdExpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0LSIrZS5fdXJsKyItUkNWOiAiLHQpLHQudHlwZSl7Y2FzZSJyZXNwb25zZSI6ZS5fb25SZXNwb25zZSh0KTticmVhaztjYXNlInJlYWQiOmUuX29uUmVhZCh0KX19KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLF9bImRlZmF1bHQiXSkoKDAsY1siZGVmYXVsdCJdKSh0LnByb3RvdHlwZSksIl9yZWxlYXNlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJpbnZpdGVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiY3JlYXRlIixmcm9tOnQuX3N5bmNoZXIuX293bmVyLHRvOnQuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTp0Ll91cmwsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTp0Ll9zeW5jT2JqLmRhdGEsYXV0aG9yaXNlOmV9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblN1YnNjcmlwdGlvbkhhbmRsZXI9ZX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJvblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVhZEhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJvbiJ9O3QuX3N1YnNjcmlwdGlvbnNbcl09bjt2YXIgbz17fTtyZXR1cm4oMCxpWyJkZWZhdWx0Il0pKHQuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10Ll9jaGlsZHJlbk9iamVjdHNbZV0uZGF0YTtvW2VdPSgwLGouZGVlcENsb25lKShyKX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCxzY2hlbWE6dC5fc2NoZW1hLHZlcnNpb246dC5fdmVyc2lvbix2YWx1ZTp7ZGF0YTooMCxqLmRlZXBDbG9uZSkodC5kYXRhKSxjaGlsZHJlbnM6b319fSksbn0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMyxkZXNjOnJ9fSl9fTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG4pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgbz17dHlwZTplLmJvZHkudHlwZSx1cmw6cixvYmplY3Q6bn07dC5fb25TdWJzY3JpcHRpb25IYW5kbGVyJiYoY29uc29sZS5sb2coIlVOLVNVQlNDUklQVElPTi1FVkVOVDogIixvKSx0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXIobykpfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuZnJvbSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmKGNvbnNvbGUubG9nKCJSRVNQT05TRS1FVkVOVDogIixyKSx0Ll9vblJlc3BvbnNlSGFuZGxlcihyKSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOigwLGouZGVlcENsb25lKSh0LmRhdGEpfX0pfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uUmVhZEhhbmRsZXImJihjb25zb2xlLmxvZygiUkVBRC1FVkVOVDogIixyKSx0Ll9vblJlYWRIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShtWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1nLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiLi9EYXRhT2JqZWN0IjoxMTYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NiwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOjE2fV0sMTIwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpLGM9bihzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvKXsoMCxpWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPW8scy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGNbImRlZmF1bHQiXSkoZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImFwcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KX0pfX0se2tleToiY2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbn19XSksZX0oKTtyWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayI6MTIsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyI6MTN9XSwxMjE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5PYmplY3RUeXBlPXIuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGw9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAsbC5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyBkLHIuX2RhdGEpfXJldHVybigwLHVbImRlZmF1bHQiXSkoZSxbe2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9fSx7a2V5OiJmaW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIuIik7cmV0dXJuIHRoaXMuX2ZpbmRXaXRoU3BsaXQodCl9fSx7a2V5OiJmaW5kQmVmb3JlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17fSxyPWUuc3BsaXQoIi4iKTtyZXR1cm4gdC5sYXN0PXIucG9wKCksdC5vYmo9dGhpcy5fZmluZFdpdGhTcGxpdChyKSx0fX0se2tleToiX2ZpbmRXaXRoU3BsaXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0PXRbZV19KSx0fX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX2lzT2JzZXJ2YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1PYmplY3R8fGUuY29uc3RydWN0b3I9PT1BcnJheX19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBuPWZ1bmN0aW9uKHQpe3IuX29uQ2hhbmdlcyhlLHQpfTtpZih0LmNvbnN0cnVjdG9yPT09T2JqZWN0KXtPYmplY3Qub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KXIuX2lzT2JzZXJ2YWJsZSh0W29dKSYmci5faW50ZXJuYWxPYnNlcnZlKGVbIm5ldyJdKG8pLHRbb10pfWVsc2UgaWYodC5jb25zdHJ1Y3Rvcj09PUFycmF5KXtBcnJheS5vYnNlcnZlKHQsbik7Zm9yKHZhciBpIGluIHQpaWYoci5faXNPYnNlcnZhYmxlKHRbaV0pKXt2YXIgcz1lWyJuZXciXShuZXcgcCh0W2ldLGkpKTtyLl9pbnRlcm5hbE9ic2VydmUocyx0W2ldKX19fX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gdCl7dmFyIG89dFtuXS5vYmplY3QsaT12b2lkIDA7aWYoby5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKGk9Xy5PQkpFQ1QpLG8uY29uc3RydWN0b3I9PT1BcnJheSYmKGk9Xy5BUlJBWSksInNwbGljZSI9PT10W25dLnR5cGUpIWZ1bmN0aW9uKCl7dmFyIHM9dFtuXS5pbmRleCxjPWVbIm5ldyJdKCIiK3MpLGE9Yy50b1N0cmluZygpLHU9dFtuXS5yZW1vdmVkLmxlbmd0aDtpZigwIT09dSl7dmFyIGY9dFtuXS5yZW1vdmVkO2YuZm9yRWFjaChmdW5jdGlvbih0LG4pe3IuX2lzT2JzZXJ2YWJsZSh0KSYmZS5yZW1vdmVJbmRleChzK24pfSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmEsZGF0YTp1fSl9dmFyIGQ9dFtuXS5hZGRlZENvdW50O2lmKDAhPT1kKXt2YXIgXz1vLnNsaWNlKHMscytkKTtfLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihyLl9pc09ic2VydmFibGUodCkpe3ZhciBvPWVbIm5ldyJdKG5ldyBwKHQscytuKSk7ci5faW50ZXJuYWxPYnNlcnZlKG8sdCl9fSksci5fZmlyZUV2ZW50KHtjVHlwZTpiLkFERCxvVHlwZTppLGZpZWxkOmEsZGF0YTooMCxsLmRlZXBDbG9uZSkoXyl9KX1zIT09by5sZW5ndGgtMSYmZS5yZUluZGV4RnJvbShvKX0oKTtlbHNle3ZhciBzPWVbIm5ldyJdKHRbbl0ubmFtZSksYz1zLnRvU3RyaW5nKCk7CmlmKC0xIT09Yy5pbmRleE9mKCJTeW1ib2wiKSljb250aW51ZTt2YXIgYT1vW3Rbbl0ubmFtZV07InVwZGF0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yi5VUERBVEUsb1R5cGU6aSxmaWVsZDpjLGRhdGE6KDAsbC5kZWVwQ2xvbmUpKGEpfSksImFkZCI9PT10W25dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUocyxhKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmIuQURELG9UeXBlOmksZmllbGQ6YyxkYXRhOigwLGwuZGVlcENsb25lKShhKX0pKSwiZGVsZXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpiLlJFTU9WRSxvVHlwZTppLGZpZWxkOmN9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4oMCx1WyJkZWZhdWx0Il0pKGUsW3trZXk6InJlbW92ZUluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fb2JzZXJ2YWJsZXNbZV19fSx7a2V5OiJyZUluZGV4RnJvbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsoMCxpWyJkZWZhdWx0Il0pKHRoaXMuX29ic2VydmFibGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXQuX29ic2VydmFibGVzW3JdLG89ZS5pbmRleE9mKG4ub2JqKTtuLmlkeCE9byYmKG4uaWR4PW8sZGVsZXRlIHQuX29ic2VydmFibGVzW3JdLHQuX29ic2VydmFibGVzW29dPW4pfSl9fSx7a2V5OiJuZXciLHZhbHVlOmZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PXAmJih0aGlzLl9vYnNlcnZhYmxlc1tlLmlkeF09ZSk7dmFyIHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0Ll9wYXRoLnB1c2goZSksdH19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBlO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fcGF0aC5wdXNoKGUpfSksdH19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLl9wYXRoLmZvckVhY2goZnVuY3Rpb24odCxyKXswPT09cj9lPXQudG9TdHJpbmcoKTplKz0iLiIrdC50b1N0cmluZygpfSksZX19XSksZX0oKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLGNbImRlZmF1bHQiXSkodGhpcyxlKSx0aGlzLm9iaj10LHRoaXMuaWR4PXJ9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHgudG9TdHJpbmcoKX19XSksZX0oKSxiPXIuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LF89ci5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07clsiZGVmYXVsdCJdPWZ9LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEyMywiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIiksYz1uKHMpLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIiksdT1uKGEpLGw9ZSgiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCksZD1lKCIuL0RhdGFPYmplY3RPYnNlcnZlciIpLHA9bihkKSxiPWUoIi4vRGF0YVByb3Zpc2lvbmFsIiksXz1uKGIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxjWyJkZWZhdWx0Il0pKHRoaXMsZSk7dmFyIG89dGhpcztvLl9vd25lcj10LG8uX2J1cz1yLG8uX3N1YlVSTD1uLnJ1bnRpbWVVUkwrIi9zbSIsby5fcmVwb3J0ZXJzPXt9LG8uX29ic2VydmVycz17fSxvLl9wcm92aXNpb25hbHM9e30sci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2lmKGUuZnJvbSE9PXQpc3dpdGNoKGNvbnNvbGUubG9nKCJTeW5jaGVyLVJDVjogIixlKSxlLnR5cGUpe2Nhc2UiZm9yd2FyZCI6by5fb25Gb3J3YXJkKGUpO2JyZWFrO2Nhc2UiY3JlYXRlIjpvLl9vblJlbW90ZUNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6by5fb25SZW1vdGVEZWxldGUoZSl9fSl9cmV0dXJuKDAsdVsiZGVmYXVsdCJdKShlLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3IucmVwb3J0ZXI9bi5fb3duZXIsci5zY2hlbWE9ZTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpWyJkZWZhdWx0Il0oZnVuY3Rpb24odCxpKXtuLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihvKXtpZihjb25zb2xlLmxvZygiY3JlYXRlLXJlc3BvbnNlOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlKXt2YXIgcz1vLmJvZHkucmVzb3VyY2UsYz1uZXcgZlsiZGVmYXVsdCJdKG4scyxlLCJvbiIscixvLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpO24uX3JlcG9ydGVyc1tzXT1jLHQoYyl9ZWxzZSBpKG8uYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJzdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3NjaGVtYTplLHJlc291cmNlOnR9fTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihvLGkpe3IuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe2NvbnNvbGUubG9nKCJzdWJzY3JpYmUtcmVzcG9uc2U6ICIsbik7dmFyIHM9ci5fcHJvdmlzaW9uYWxzW3RdO2lmKGRlbGV0ZSByLl9wcm92aXNpb25hbHNbdF0scyYmcy5fcmVsZWFzZUxpc3RlbmVycygpLG4uYm9keS5jb2RlPDIwMClzPW5ldyBfWyJkZWZhdWx0Il0oci5fb3duZXIsdCxyLl9idXMsbi5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSxyLl9wcm92aXNpb25hbHNbdF09cztlbHNlIGlmKDIwMD09PW4uYm9keS5jb2RlKXt2YXIgYz1uZXcgcFsiZGVmYXVsdCJdKHIsdCxlLCJvbiIsbi5ib2R5LnZhbHVlLHMuY2hpbGRyZW4sbi5ib2R5LnZlcnNpb24pO3IuX29ic2VydmVyc1t0XT1jLG8oYykscy5hcHBseShjKX1lbHNlIGkobi5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IGlbImRlZmF1bHQiXShmdW5jdGlvbihlLG4pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKCJyZWFkLXJlc3BvbnNlOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlP2UodC5ib2R5LnZhbHVlKTpuKHQuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJvbk5vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Ob3RpZmljYXRpb25IYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fcmVwb3J0ZXJzW2UuYm9keS50b107ci5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPXt0eXBlOmUudHlwZSxmcm9tOmUuYm9keS5zb3VyY2UsdXJsOnIsc2NoZW1hOmUuYm9keS5zY2hlbWEsdmFsdWU6ZS5ib2R5LnZhbHVlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm5bImRlbGV0ZSJdKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG8pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihvKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksZX0oKTtyWyJkZWZhdWx0Il09aCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vRGF0YU9iamVjdE9ic2VydmVyIjoxMTgsIi4vRGF0YU9iamVjdFJlcG9ydGVyIjoxMTksIi4vRGF0YVByb3Zpc2lvbmFsIjoxMjAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2siOjEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiOjEzfV0sMTIzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gbyhlKXtpZighZSl0aHJvdyBFcnJvcigiVVJMIGlzIG5lZWRlZCB0byBzcGxpdCIpO3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgbz17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBvfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIikscj17dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX07cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hKCgwLGJbImRlZmF1bHQiXSkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZSgoMCxkWyJkZWZhdWx0Il0pKGUpKTp2b2lkIDB9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX1mdW5jdGlvbiB1KGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBsKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PW8oZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBmPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeSIpLGQ9bihmKSxwPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpLGI9bihwKTtyLmRpdmlkZVVSTD1vLHIuZGl2aWRlRW1haWw9aSxyLmVtcHR5T2JqZWN0PXMsci5kZWVwQ2xvbmU9YyxyLmdldFVzZXJVUkxGcm9tRW1haWw9YSxyLmdldFVzZXJFbWFpbEZyb21VUkw9dSxyLmNvbnZlcnRUb1VzZXJVUkw9bH0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkiOjIsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6N31dfSx7fSxbMTE1XSkoMTE1KX0pOwoKCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLyohCiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHMKICogSVB2NiBTdXBwb3J0CiAqCiAqIFZlcnNpb246IDEuMTguMQogKgogKiBBdXRob3I6IFJvZG5leSBSZWhtCiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzLwogKgogKiBMaWNlbnNlZCB1bmRlcgogKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UKICoKICovCgooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgIGRlZmluZShmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuSVB2NiA9IGZhY3Rvcnkocm9vdCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChyb290KSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvKgogIHZhciBfaW4gPSAiZmU4MDowMDAwOjAwMDA6MDAwMDowMjA0OjYxZmY6ZmU5ZDpmMTU2IjsKICB2YXIgX291dCA9IElQdjYuYmVzdChfaW4pOwogIHZhciBfZXhwZWN0ZWQgPSAiZmU4MDo6MjA0OjYxZmY6ZmU5ZDpmMTU2IjsKCiAgY29uc29sZS5sb2coX2luLCBfb3V0LCBfZXhwZWN0ZWQsIF9vdXQgPT09IF9leHBlY3RlZCk7CiAgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IElQdjYgdmFyaWFibGUsIGlmIGFueQogIHZhciBfSVB2NiA9IHJvb3QgJiYgcm9vdC5JUHY2OwoKICBmdW5jdGlvbiBiZXN0UHJlc2VudGF0aW9uKGFkZHJlc3MpIHsKICAgIC8vIGJhc2VkIG9uOgogICAgLy8gSmF2YXNjcmlwdCB0byB0ZXN0IGFuIElQdjYgYWRkcmVzcyBmb3IgcHJvcGVyIGZvcm1hdCwgYW5kIHRvCiAgICAvLyBwcmVzZW50IHRoZSAiYmVzdCB0ZXh0IHJlcHJlc2VudGF0aW9uIiBhY2NvcmRpbmcgdG8gSUVURiBEcmFmdCBSRkMgYXQKICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQKICAgIC8vIDggRmViIDIwMTAgUmljaCBCcm93biwgRGFydHdhcmUsIExMQwogICAgLy8gUGxlYXNlIGZlZWwgZnJlZSB0byB1c2UgdGhpcyBjb2RlIGFzIGxvbmcgYXMgeW91IHByb3ZpZGUgYSBsaW5rIHRvCiAgICAvLyBodHRwOi8vd3d3LmludGVybWFwcGVyLmNvbQogICAgLy8gaHR0cDovL2ludGVybWFwcGVyLmNvbS9zdXBwb3J0L3Rvb2xzL0lQVjYtVmFsaWRhdG9yLmFzcHgKICAgIC8vIGh0dHA6Ly9kb3dubG9hZC5kYXJ0d2FyZS5jb20vdGhpcmRwYXJ0eS9pcHY2dmFsaWRhdG9yLmpzCgogICAgdmFyIF9hZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpOwogICAgdmFyIHNlZ21lbnRzID0gX2FkZHJlc3Muc3BsaXQoJzonKTsKICAgIHZhciBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CiAgICB2YXIgdG90YWwgPSA4OwoKICAgIC8vIHRyaW0gY29sb25zICg6OiBvciA6OmE6Yjpj4oCmIG9yIOKApmE6YjpjOjopCiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnICYmIHNlZ21lbnRzWzFdID09PSAnJyAmJiBzZWdtZW50c1syXSA9PT0gJycpIHsKICAgICAgLy8gbXVzdCBoYXZlIGJlZW4gOjoKICAgICAgLy8gcmVtb3ZlIGZpcnN0IHR3byBpdGVtcwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgICBzZWdtZW50cy5zaGlmdCgpOwogICAgfSBlbHNlIGlmIChzZWdtZW50c1swXSA9PT0gJycgJiYgc2VnbWVudHNbMV0gPT09ICcnKSB7CiAgICAgIC8vIG11c3QgaGF2ZSBiZWVuIDo6eHh4eAogICAgICAvLyByZW1vdmUgdGhlIGZpcnN0IGl0ZW0KICAgICAgc2VnbWVudHMuc2hpZnQoKTsKICAgIH0gZWxzZSBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnICYmIHNlZ21lbnRzW2xlbmd0aCAtIDJdID09PSAnJykgewogICAgICAvLyBtdXN0IGhhdmUgYmVlbiB4eHh4OjoKICAgICAgc2VnbWVudHMucG9wKCk7CiAgICB9CgogICAgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOwoKICAgIC8vIGFkanVzdCB0b3RhbCBzZWdtZW50cyBmb3IgSVB2NCB0cmFpbGVyCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0uaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAvLyBmb3VuZCBhICIuIiB3aGljaCBtZWFucyBJUHY0CiAgICAgIHRvdGFsID0gNzsKICAgIH0KCiAgICAvLyBmaWxsIGVtcHR5IHNlZ21lbnRzIHRoZW0gd2l0aCAiMDAwMCIKICAgIHZhciBwb3M7CiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKHNlZ21lbnRzW3Bvc10gPT09ICcnKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgdG90YWwpIHsKICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMSwgJzAwMDAnKTsKICAgICAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA8IHRvdGFsKSB7CiAgICAgICAgc2VnbWVudHMuc3BsaWNlKHBvcywgMCwgJzAwMDAnKTsKICAgICAgfQogICAgfQoKICAgIC8vIHN0cmlwIGxlYWRpbmcgemVyb3MKICAgIHZhciBfc2VnbWVudHM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgX3NlZ21lbnRzID0gc2VnbWVudHNbaV0uc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMgOyBqKyspIHsKICAgICAgICBpZiAoX3NlZ21lbnRzWzBdID09PSAnMCcgJiYgX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIF9zZWdtZW50cy5zcGxpY2UoMCwxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZWdtZW50c1tpXSA9IF9zZWdtZW50cy5qb2luKCcnKTsKICAgIH0KCiAgICAvLyBmaW5kIGxvbmdlc3Qgc2VxdWVuY2Ugb2YgemVyb2VzIGFuZCBjb2FsZXNjZSB0aGVtIGludG8gb25lIHNlZ21lbnQKICAgIHZhciBiZXN0ID0gLTE7CiAgICB2YXIgX2Jlc3QgPSAwOwogICAgdmFyIF9jdXJyZW50ID0gMDsKICAgIHZhciBjdXJyZW50ID0gLTE7CiAgICB2YXIgaW56ZXJvZXMgPSBmYWxzZTsKICAgIC8vIGk7IGFscmVhZHkgZGVjbGFyZWQKCiAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkrKykgewogICAgICBpZiAoaW56ZXJvZXMpIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgX2N1cnJlbnQgKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW56ZXJvZXMgPSBmYWxzZTsKICAgICAgICAgIGlmIChfY3VycmVudCA+IF9iZXN0KSB7CiAgICAgICAgICAgIGJlc3QgPSBjdXJyZW50OwogICAgICAgICAgICBfYmVzdCA9IF9jdXJyZW50OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VnbWVudHNbaV0gPT09ICcwJykgewogICAgICAgICAgaW56ZXJvZXMgPSB0cnVlOwogICAgICAgICAgY3VycmVudCA9IGk7CiAgICAgICAgICBfY3VycmVudCA9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKF9jdXJyZW50ID4gX2Jlc3QpIHsKICAgICAgYmVzdCA9IGN1cnJlbnQ7CiAgICAgIF9iZXN0ID0gX2N1cnJlbnQ7CiAgICB9CgogICAgaWYgKF9iZXN0ID4gMSkgewogICAgICBzZWdtZW50cy5zcGxpY2UoYmVzdCwgX2Jlc3QsICcnKTsKICAgIH0KCiAgICBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7CgogICAgLy8gYXNzZW1ibGUgcmVtYWluaW5nIHNlZ21lbnRzCiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICBpZiAoc2VnbWVudHNbMF0gPT09ICcnKSAgewogICAgICByZXN1bHQgPSAnOic7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHJlc3VsdCArPSBzZWdtZW50c1tpXTsKICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmVzdWx0ICs9ICc6JzsKICAgIH0KCiAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMV0gPT09ICcnKSB7CiAgICAgIHJlc3VsdCArPSAnOic7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAvKmpzaGludCB2YWxpZHRoaXM6IHRydWUgKi8KICAgIGlmIChyb290LklQdjYgPT09IHRoaXMpIHsKICAgICAgcm9vdC5JUHY2ID0gX0lQdjY7CiAgICB9CiAgCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBiZXN0OiBiZXN0UHJlc2VudGF0aW9uLAogICAgbm9Db25mbGljdDogbm9Db25mbGljdAogIH07Cn0pKTsKCn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKiBTZWNvbmQgTGV2ZWwgRG9tYWluIChTTEQpIFN1cHBvcnQKICoKICogVmVyc2lvbjogMS4xOC4xCiAqCiAqIEF1dGhvcjogUm9kbmV5IFJlaG0KICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvCiAqCiAqIExpY2Vuc2VkIHVuZGVyCiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZQogKgogKi8KCihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICd1c2Ugc3RyaWN0JzsKICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanMKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICAvLyBOb2RlCiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgZGVmaW5lKGZhY3RvcnkpOwogIH0gZWxzZSB7CiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KQogICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBmYWN0b3J5KHJvb3QpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAocm9vdCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gc2F2ZSBjdXJyZW50IFNlY29uZExldmVsRG9tYWlucyB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9TZWNvbmRMZXZlbERvbWFpbnMgPSByb290ICYmIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zOwoKICB2YXIgU0xEID0gewogICAgLy8gbGlzdCBvZiBrbm93biBTZWNvbmQgTGV2ZWwgRG9tYWlucwogICAgLy8gY29udmVydGVkIGxpc3Qgb2YgU0xEcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYXZpbmdtaWxsZXIvc2Vjb25kLWxldmVsLWRvbWFpbnMKICAgIC8vIC0tLS0KICAgIC8vIHB1YmxpY3N1ZmZpeC5vcmcgaXMgbW9yZSBjdXJyZW50IGFuZCBhY3R1YWxseSB1c2VkIGJ5IGEgY291cGxlIG9mIGJyb3dzZXJzIGludGVybmFsbHkuCiAgICAvLyBkb3duc2lkZSBpcyBpdCBhbHNvIGNvbnRhaW5zIGRvbWFpbnMgbGlrZSAiZHluZG5zLm9yZyIgLSB3aGljaCBpcyBmaW5lIGZvciB0aGUgc2VjdXJpdHkKICAgIC8vIGlzc3VlcyBicm93c2VyIGhhdmUgdG8gZGVhbCB3aXRoIChTT1AgZm9yIGNvb2tpZXMsIGV0YykgLSBidXQgaXMgd2F5IG92ZXJib2FyZCBmb3IgVVJJLmpzCiAgICAvLyAtLS0tCiAgICBsaXN0OiB7CiAgICAgICdhYyc6JyBjb20gZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdhZSc6JyBhYyBjbyBnb3YgbWlsIG5hbWUgbmV0IG9yZyBwcm8gc2NoICcsCiAgICAgICdhZic6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdhbCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnYW8nOicgY28gZWQgZ3YgaXQgb2cgcGIgJywKICAgICAgJ2FyJzonIGNvbSBlZHUgZ29iIGdvdiBpbnQgbWlsIG5ldCBvcmcgdHVyICcsCiAgICAgICdhdCc6JyBhYyBjbyBndiBvciAnLAogICAgICAnYXUnOicgYXNuIGNvbSBjc2lybyBlZHUgZ292IGlkIG5ldCBvcmcgJywKICAgICAgJ2JhJzonIGNvIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnIHJzIHVuYmkgdW5tbyB1bnNhIHVudHogdW56ZSAnLAogICAgICAnYmInOicgYml6IGNvIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyBzdG9yZSB0diAnLAogICAgICAnYmgnOicgYml6IGNjIGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnYm4nOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnYm8nOicgY29tIGVkdSBnb2IgZ292IGludCBtaWwgbmV0IG9yZyB0diAnLAogICAgICAnYnInOicgYWRtIGFkdiBhZ3IgYW0gYXJxIGFydCBhdG8gYiBiaW8gYmxvZyBibWQgY2ltIGNuZyBjbnQgY29tIGNvb3AgZWNuIGVkdSBlbmcgZXNwIGV0YyBldGkgZmFyIGZsb2cgZm0gZm5kIGZvdCBmc3QgZzEyIGdnZiBnb3YgaW1iIGluZCBpbmYgam9yIGp1cyBsZWwgbWF0IG1lZCBtaWwgbXVzIG5ldCBub20gbm90IG50ciBvZG8gb3JnIHBwZyBwcm8gcHNjIHBzaSBxc2wgcmVjIHNsZyBzcnYgdG1wIHRyZCB0dXIgdHYgdmV0IHZsb2cgd2lraSB6bGcgJywKICAgICAgJ2JzJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ2J6JzonIGR1IGV0IG9tIG92IHJnICcsCiAgICAgICdjYSc6JyBhYiBiYyBtYiBuYiBuZiBubCBucyBudCBudSBvbiBwZSBxYyBzayB5ayAnLAogICAgICAnY2snOicgYml6IGNvIGVkdSBnZW4gZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnY24nOicgYWMgYWggYmogY29tIGNxIGVkdSBmaiBnZCBnb3YgZ3MgZ3ggZ3ogaGEgaGIgaGUgaGkgaGwgaG4gamwganMganggbG4gbWlsIG5ldCBubSBueCBvcmcgcWggc2Mgc2Qgc2ggc24gc3ggdGogdHcgeGogeHogeW4gemogJywKICAgICAgJ2NvJzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbm9tIG9yZyAnLAogICAgICAnY3InOicgYWMgYyBjbyBlZCBmaSBnbyBvciBzYSAnLAogICAgICAnY3knOicgYWMgYml6IGNvbSBla2xvZ2VzIGdvdiBsdGQgbmFtZSBuZXQgb3JnIHBhcmxpYW1lbnQgcHJlc3MgcHJvIHRtICcsCiAgICAgICdkbyc6JyBhcnQgY29tIGVkdSBnb2IgZ292IG1pbCBuZXQgb3JnIHNsZCB3ZWIgJywKICAgICAgJ2R6JzonIGFydCBhc3NvIGNvbSBlZHUgZ292IG5ldCBvcmcgcG9sICcsCiAgICAgICdlYyc6JyBjb20gZWR1IGZpbiBnb3YgaW5mbyBtZWQgbWlsIG5ldCBvcmcgcHJvICcsCiAgICAgICdlZyc6JyBjb20gZWR1IGV1biBnb3YgbWlsIG5hbWUgbmV0IG9yZyBzY2kgJywKICAgICAgJ2VyJzonIGNvbSBlZHUgZ292IGluZCBtaWwgbmV0IG9yZyByb2NoZXN0IHcgJywKICAgICAgJ2VzJzonIGNvbSBlZHUgZ29iIG5vbSBvcmcgJywKICAgICAgJ2V0JzonIGJpeiBjb20gZWR1IGdvdiBpbmZvIG5hbWUgbmV0IG9yZyAnLAogICAgICAnZmonOicgYWMgYml6IGNvbSBpbmZvIG1pbCBuYW1lIG5ldCBvcmcgcHJvICcsCiAgICAgICdmayc6JyBhYyBjbyBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ2ZyJzonIGFzc28gY29tIGYgZ291diBub20gcHJkIHByZXNzZSB0bSAnLAogICAgICAnZ2cnOicgY28gbmV0IG9yZyAnLAogICAgICAnZ2gnOicgY29tIGVkdSBnb3YgbWlsIG9yZyAnLAogICAgICAnZ24nOicgYWMgY29tIGdvdiBuZXQgb3JnICcsCiAgICAgICdncic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnZ3QnOicgY29tIGVkdSBnb2IgaW5kIG1pbCBuZXQgb3JnICcsCiAgICAgICdndSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdoayc6JyBjb20gZWR1IGdvdiBpZHYgbmV0IG9yZyAnLAogICAgICAnaHUnOicgMjAwMCBhZ3JhciBib2x0IGNhc2lubyBjaXR5IGNvIGVyb3RpY2EgZXJvdGlrYSBmaWxtIGZvcnVtIGdhbWVzIGhvdGVsIGluZm8gaW5nYXRsYW4gam9nYXN6IGtvbnl2ZWxvIGxha2FzIG1lZGlhIG5ld3Mgb3JnIHByaXYgcmVrbGFtIHNleCBzaG9wIHNwb3J0IHN1bGkgc3pleCB0bSB0b3pzZGUgdXRhemFzIHZpZGVvICcsCiAgICAgICdpZCc6JyBhYyBjbyBnbyBtaWwgbmV0IG9yIHNjaCB3ZWIgJywKICAgICAgJ2lsJzonIGFjIGNvIGdvdiBpZGYgazEyIG11bmkgbmV0IG9yZyAnLAogICAgICAnaW4nOicgYWMgY28gZWR1IGVybmV0IGZpcm0gZ2VuIGdvdiBpIGluZCBtaWwgbmV0IG5pYyBvcmcgcmVzICcsCiAgICAgICdpcSc6JyBjb20gZWR1IGdvdiBpIG1pbCBuZXQgb3JnICcsCiAgICAgICdpcic6JyBhYyBjbyBkbnNzZWMgZ292IGkgaWQgbmV0IG9yZyBzY2ggJywKICAgICAgJ2l0JzonIGVkdSBnb3YgJywKICAgICAgJ2plJzonIGNvIG5ldCBvcmcgJywKICAgICAgJ2pvJzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICdqcCc6JyBhYyBhZCBjbyBlZCBnbyBnciBsZyBuZSBvciAnLAogICAgICAna2UnOicgYWMgY28gZ28gaW5mbyBtZSBtb2JpIG5lIG9yIHNjICcsCiAgICAgICdraCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyBwZXIgJywKICAgICAgJ2tpJzonIGJpeiBjb20gZGUgZWR1IGdvdiBpbmZvIG1vYiBuZXQgb3JnIHRlbCAnLAogICAgICAna20nOicgYXNzbyBjb20gY29vcCBlZHUgZ291diBrIG1lZGVjaW4gbWlsIG5vbSBub3RhaXJlcyBwaGFybWFjaWVucyBwcmVzc2UgdG0gdmV0ZXJpbmFpcmUgJywKICAgICAgJ2tuJzonIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAna3InOicgYWMgYnVzYW4gY2h1bmdidWsgY2h1bmduYW0gY28gZGFlZ3UgZGFlamVvbiBlcyBnYW5nd29uIGdvIGd3YW5nanUgZ3llb25nYnVrIGd5ZW9uZ2dpIGd5ZW9uZ25hbSBocyBpbmNoZW9uIGplanUgamVvbmJ1ayBqZW9ubmFtIGsga2cgbWlsIG1zIG5lIG9yIHBlIHJlIHNjIHNlb3VsIHVsc2FuICcsCiAgICAgICdrdyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreSc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdreic6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbGInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbGsnOicgYXNzbiBjb20gZWR1IGdvdiBncnAgaG90ZWwgaW50IGx0ZCBuZXQgbmdvIG9yZyBzY2ggc29jIHdlYiAnLAogICAgICAnbHInOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnbHYnOicgYXNuIGNvbSBjb25mIGVkdSBnb3YgaWQgbWlsIG5ldCBvcmcgJywKICAgICAgJ2x5JzonIGNvbSBlZHUgZ292IGlkIG1lZCBuZXQgb3JnIHBsYyBzY2ggJywKICAgICAgJ21hJzonIGFjIGNvIGdvdiBtIG5ldCBvcmcgcHJlc3MgJywKICAgICAgJ21jJzonIGFzc28gdG0gJywKICAgICAgJ21lJzonIGFjIGNvIGVkdSBnb3YgaXRzIG5ldCBvcmcgcHJpdiAnLAogICAgICAnbWcnOicgY29tIGVkdSBnb3YgbWlsIG5vbSBvcmcgcHJkIHRtICcsCiAgICAgICdtayc6JyBjb20gZWR1IGdvdiBpbmYgbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbWwnOicgY29tIGVkdSBnb3YgbmV0IG9yZyBwcmVzc2UgJywKICAgICAgJ21uJzonIGVkdSBnb3Ygb3JnICcsCiAgICAgICdtbyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdCc6JyBjb20gZWR1IGdvdiBuZXQgb3JnICcsCiAgICAgICdtdic6JyBhZXJvIGJpeiBjb20gY29vcCBlZHUgZ292IGluZm8gaW50IG1pbCBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyAnLAogICAgICAnbXcnOicgYWMgY28gY29tIGNvb3AgZWR1IGdvdiBpbnQgbXVzZXVtIG5ldCBvcmcgJywKICAgICAgJ214JzonIGNvbSBlZHUgZ29iIG5ldCBvcmcgJywKICAgICAgJ215JzonIGNvbSBlZHUgZ292IG1pbCBuYW1lIG5ldCBvcmcgc2NoICcsCiAgICAgICduZic6JyBhcnRzIGNvbSBmaXJtIGluZm8gbmV0IG90aGVyIHBlciByZWMgc3RvcmUgd2ViICcsCiAgICAgICduZyc6JyBiaXogY29tIGVkdSBnb3YgbWlsIG1vYmkgbmFtZSBuZXQgb3JnIHNjaCAnLAogICAgICAnbmknOicgYWMgY28gY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnICcsCiAgICAgICducCc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAnbnInOicgYml6IGNvbSBlZHUgZ292IGluZm8gbmV0IG9yZyAnLAogICAgICAnb20nOicgYWMgYml6IGNvIGNvbSBlZHUgZ292IG1lZCBtaWwgbXVzZXVtIG5ldCBvcmcgcHJvIHNjaCAnLAogICAgICAncGUnOicgY29tIGVkdSBnb2IgbWlsIG5ldCBub20gb3JnIHNsZCAnLAogICAgICAncGgnOicgY29tIGVkdSBnb3YgaSBtaWwgbmV0IG5nbyBvcmcgJywKICAgICAgJ3BrJzonIGJpeiBjb20gZWR1IGZhbSBnb2IgZ29rIGdvbiBnb3AgZ29zIGdvdiBuZXQgb3JnIHdlYiAnLAogICAgICAncGwnOicgYXJ0IGJpYWx5c3RvayBiaXogY29tIGVkdSBnZGEgZ2RhbnNrIGdvcnpvdyBnb3YgaW5mbyBrYXRvd2ljZSBrcmFrb3cgbG9keiBsdWJsaW4gbWlsIG5ldCBuZ28gb2xzenR5biBvcmcgcG96bmFuIHB3ciByYWRvbSBzbHVwc2sgc3pjemVjaW4gdG9ydW4gd2Fyc3phd2Egd2F3IHdyb2Mgd3JvY2xhdyB6Z29yYSAnLAogICAgICAncHInOicgYWMgYml6IGNvbSBlZHUgZXN0IGdvdiBpbmZvIGlzbGEgbmFtZSBuZXQgb3JnIHBybyBwcm9mICcsCiAgICAgICdwcyc6JyBjb20gZWR1IGdvdiBuZXQgb3JnIHBsbyBzZWMgJywKICAgICAgJ3B3JzonIGJlbGF1IGNvIGVkIGdvIG5lIG9yICcsCiAgICAgICdybyc6JyBhcnRzIGNvbSBmaXJtIGluZm8gbm9tIG50IG9yZyByZWMgc3RvcmUgdG0gd3d3ICcsCiAgICAgICdycyc6JyBhYyBjbyBlZHUgZ292IGluIG9yZyAnLAogICAgICAnc2InOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2MnOicgY29tIGVkdSBnb3YgbmV0IG9yZyAnLAogICAgICAnc2gnOicgY28gY29tIGVkdSBnb3YgbmV0IG5vbSBvcmcgJywKICAgICAgJ3NsJzonIGNvbSBlZHUgZ292IG5ldCBvcmcgJywKICAgICAgJ3N0JzonIGNvIGNvbSBjb25zdWxhZG8gZWR1IGVtYmFpeGFkYSBnb3YgbWlsIG5ldCBvcmcgcHJpbmNpcGUgc2FvdG9tZSBzdG9yZSAnLAogICAgICAnc3YnOicgY29tIGVkdSBnb2Igb3JnIHJlZCAnLAogICAgICAnc3onOicgYWMgY28gb3JnICcsCiAgICAgICd0cic6JyBhdiBiYnMgYmVsIGJpeiBjb20gZHIgZWR1IGdlbiBnb3YgaW5mbyBrMTIgbmFtZSBuZXQgb3JnIHBvbCB0ZWwgdHNrIHR2IHdlYiAnLAogICAgICAndHQnOicgYWVybyBiaXogY2F0IGNvIGNvbSBjb29wIGVkdSBnb3YgaW5mbyBpbnQgam9icyBtaWwgbW9iaSBtdXNldW0gbmFtZSBuZXQgb3JnIHBybyB0ZWwgdHJhdmVsICcsCiAgICAgICd0dyc6JyBjbHViIGNvbSBlYml6IGVkdSBnYW1lIGdvdiBpZHYgbWlsIG5ldCBvcmcgJywKICAgICAgJ211JzonIGFjIGNvIGNvbSBnb3YgbmV0IG9yIG9yZyAnLAogICAgICAnbXonOicgYWMgY28gZWR1IGdvdiBvcmcgJywKICAgICAgJ25hJzonIGNvIGNvbSAnLAogICAgICAnbnonOicgYWMgY28gY3JpIGdlZWsgZ2VuIGdvdnQgaGVhbHRoIGl3aSBtYW9yaSBtaWwgbmV0IG9yZyBwYXJsaWFtZW50IHNjaG9vbCAnLAogICAgICAncGEnOicgYWJvIGFjIGNvbSBlZHUgZ29iIGluZyBtZWQgbmV0IG5vbSBvcmcgc2xkICcsCiAgICAgICdwdCc6JyBjb20gZWR1IGdvdiBpbnQgbmV0IG5vbWUgb3JnIHB1YmwgJywKICAgICAgJ3B5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgb3JnICcsCiAgICAgICdxYSc6JyBjb20gZWR1IGdvdiBtaWwgbmV0IG9yZyAnLAogICAgICAncmUnOicgYXNzbyBjb20gbm9tICcsCiAgICAgICdydSc6JyBhYyBhZHlnZXlhIGFsdGFpIGFtdXIgYXJraGFuZ2Vsc2sgYXN0cmFraGFuIGJhc2hraXJpYSBiZWxnb3JvZCBiaXIgYnJ5YW5zayBidXJ5YXRpYSBjYmcgY2hlbCBjaGVseWFiaW5zayBjaGl0YSBjaHVrb3RrYSBjaHV2YXNoaWEgY29tIGRhZ2VzdGFuIGUtYnVyZyBlZHUgZ292IGdyb3pueSBpbnQgaXJrdXRzayBpdmFub3ZvIGl6aGV2c2sgamFyIGpvc2hrYXItb2xhIGthbG15a2lhIGthbHVnYSBrYW1jaGF0a2Ega2FyZWxpYSBrYXphbiBrY2hyIGtlbWVyb3ZvIGtoYWJhcm92c2sga2hha2Fzc2lhIGtodiBraXJvdiBrb2VuaWcga29taSBrb3N0cm9tYSBrcmFub3lhcnNrIGt1YmFuIGt1cmdhbiBrdXJzayBsaXBldHNrIG1hZ2FkYW4gbWFyaSBtYXJpLWVsIG1hcmluZSBtaWwgbW9yZG92aWEgbW9zcmVnIG1zayBtdXJtYW5zayBuYWxjaGlrIG5ldCBubm92IG5vdiBub3Zvc2liaXJzayBuc2sgb21zayBvcmVuYnVyZyBvcmcgb3J5b2wgcGVuemEgcGVybSBwcCBwc2tvdiBwdHogcm5kIHJ5YXphbiBzYWtoYWxpbiBzYW1hcmEgc2FyYXRvdiBzaW1iaXJzayBzbW9sZW5zayBzcGIgc3RhdnJvcG9sIHN0diBzdXJndXQgdGFtYm92IHRhdGFyc3RhbiB0b20gdG9tc2sgdHNhcml0c3luIHRzayB0dWxhIHR1dmEgdHZlciB0eXVtZW4gdWRtIHVkbXVydGlhIHVsYW4tdWRlIHZsYWRpa2F2a2F6IHZsYWRpbWlyIHZsYWRpdm9zdG9rIHZvbGdvZ3JhZCB2b2xvZ2RhIHZvcm9uZXpoIHZybiB2eWF0a2EgeWFrdXRpYSB5YW1hbCB5ZWthdGVyaW5idXJnIHl1emhuby1zYWtoYWxpbnNrICcsCiAgICAgICdydyc6JyBhYyBjbyBjb20gZWR1IGdvdXYgZ292IGludCBtaWwgbmV0ICcsCiAgICAgICdzYSc6JyBjb20gZWR1IGdvdiBtZWQgbmV0IG9yZyBwdWIgc2NoICcsCiAgICAgICdzZCc6JyBjb20gZWR1IGdvdiBpbmZvIG1lZCBuZXQgb3JnIHR2ICcsCiAgICAgICdzZSc6JyBhIGFjIGIgYmQgYyBkIGUgZiBnIGggaSBrIGwgbSBuIG8gb3JnIHAgcGFydGkgcHAgcHJlc3MgciBzIHQgdG0gdSB3IHggeSB6ICcsCiAgICAgICdzZyc6JyBjb20gZWR1IGdvdiBpZG4gbmV0IG9yZyBwZXIgJywKICAgICAgJ3NuJzonIGFydCBjb20gZWR1IGdvdXYgb3JnIHBlcnNvIHVuaXYgJywKICAgICAgJ3N5JzonIGNvbSBlZHUgZ292IG1pbCBuZXQgbmV3cyBvcmcgJywKICAgICAgJ3RoJzonIGFjIGNvIGdvIGluIG1pIG5ldCBvciAnLAogICAgICAndGonOicgYWMgYml6IGNvIGNvbSBlZHUgZ28gZ292IGluZm8gaW50IG1pbCBuYW1lIG5ldCBuaWMgb3JnIHRlc3Qgd2ViICcsCiAgICAgICd0bic6JyBhZ3JpbmV0IGNvbSBkZWZlbnNlIGVkdW5ldCBlbnMgZmluIGdvdiBpbmQgaW5mbyBpbnRsIG1pbmNvbSBuYXQgbmV0IG9yZyBwZXJzbyBybnJ0IHJucyBybnUgdG91cmlzbSAnLAogICAgICAndHonOicgYWMgY28gZ28gbmUgb3IgJywKICAgICAgJ3VhJzonIGJpeiBjaGVya2Fzc3kgY2hlcm5pZ292IGNoZXJub3Z0c3kgY2sgY24gY28gY29tIGNyaW1lYSBjdiBkbiBkbmVwcm9wZXRyb3ZzayBkb25ldHNrIGRwIGVkdSBnb3YgaWYgaW4gaXZhbm8tZnJhbmtpdnNrIGtoIGtoYXJrb3Yga2hlcnNvbiBraG1lbG5pdHNraXkga2lldiBraXJvdm9ncmFkIGttIGtyIGtzIGt2IGxnIGx1Z2Fuc2sgbHV0c2sgbHZpdiBtZSBtayBuZXQgbmlrb2xhZXYgb2Qgb2Rlc3NhIG9yZyBwbCBwb2x0YXZhIHBwIHJvdm5vIHJ2IHNlYmFzdG9wb2wgc3VteSB0ZSB0ZXJub3BpbCB1emhnb3JvZCB2aW5uaWNhIHZuIHphcG9yaXpoemhlIHpoaXRvbWlyIHpwIHp0ICcsCiAgICAgICd1Zyc6JyBhYyBjbyBnbyBuZSBvciBvcmcgc2MgJywKICAgICAgJ3VrJzonIGFjIGJsIGJyaXRpc2gtbGlicmFyeSBjbyBjeW0gZ292IGdvdnQgaWNuZXQgamV0IGxlYSBsdGQgbWUgbWlsIG1vZCBuYXRpb25hbC1saWJyYXJ5LXNjb3RsYW5kIG5lbCBuZXQgbmhzIG5pYyBubHMgb3JnIG9yZ24gcGFybGlhbWVudCBwbGMgcG9saWNlIHNjaCBzY290IHNvYyAnLAogICAgICAndXMnOicgZG5pIGZlZCBpc2Ega2lkcyBuc24gJywKICAgICAgJ3V5JzonIGNvbSBlZHUgZ3ViIG1pbCBuZXQgb3JnICcsCiAgICAgICd2ZSc6JyBjbyBjb20gZWR1IGdvYiBpbmZvIG1pbCBuZXQgb3JnIHdlYiAnLAogICAgICAndmknOicgY28gY29tIGsxMiBuZXQgb3JnICcsCiAgICAgICd2bic6JyBhYyBiaXogY29tIGVkdSBnb3YgaGVhbHRoIGluZm8gaW50IG5hbWUgbmV0IG9yZyBwcm8gJywKICAgICAgJ3llJzonIGNvIGNvbSBnb3YgbHRkIG1lIG5ldCBvcmcgcGxjICcsCiAgICAgICd5dSc6JyBhYyBjbyBlZHUgZ292IG9yZyAnLAogICAgICAnemEnOicgYWMgYWdyaWMgYWx0IGJvdXJzZSBjaXR5IGNvIGN5YmVybmV0IGRiIGVkdSBnb3YgZ3JvbmRhciBpYWNjZXNzIGltdCBpbmNhIGxhbmRlc2lnbiBsYXcgbWlsIG5ldCBuZ28gbmlzIG5vbSBvbGl2ZXR0aSBvcmcgcGl4IHNjaG9vbCB0bSB3ZWIgJywKICAgICAgJ3ptJzonIGFjIGNvIGNvbSBlZHUgZ292IG5ldCBvcmcgc2NoICcKICAgIH0sCiAgICAvLyBnb3JoaWxsIDIwMTMtMTAtMjU6IFVzaW5nIGluZGV4T2YoKSBpbnN0ZWFkIFJlZ2V4cCgpLiBTaWduaWZpY2FudCBib29zdAogICAgLy8gaW4gYm90aCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IGZvb3RwcmludC4gTm8gaW5pdGlhbGl6YXRpb24gcmVxdWlyZWQuCiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS91cmktanMtc2xkLXJlZ2V4LXZzLWJpbmFyeS1zZWFyY2gvNAogICAgLy8gRm9sbG93aW5nIG1ldGhvZHMgdXNlIGxhc3RJbmRleE9mKCkgcmF0aGVyIHRoYW4gYXJyYXkuc3BsaXQoKSBpbiBvcmRlcgogICAgLy8gdG8gYXZvaWQgYW55IG1lbW9yeSBhbGxvY2F0aW9ucy4KICAgIGhhczogZnVuY3Rpb24oZG9tYWluKSB7CiAgICAgIHZhciB0bGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKHRsZE9mZnNldCA8PSAwIHx8IHRsZE9mZnNldCA+PSAoZG9tYWluLmxlbmd0aC0xKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIHNsZExpc3QgPSBTTEQubGlzdFtkb21haW4uc2xpY2UodGxkT2Zmc2V0KzEpXTsKICAgICAgaWYgKCFzbGRMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiBzbGRMaXN0LmluZGV4T2YoJyAnICsgZG9tYWluLnNsaWNlKHNsZE9mZnNldCsxLCB0bGRPZmZzZXQpICsgJyAnKSA+PSAwOwogICAgfSwKICAgIGlzOiBmdW5jdGlvbihkb21haW4pIHsKICAgICAgdmFyIHRsZE9mZnNldCA9IGRvbWFpbi5sYXN0SW5kZXhPZignLicpOwogICAgICBpZiAodGxkT2Zmc2V0IDw9IDAgfHwgdGxkT2Zmc2V0ID49IChkb21haW4ubGVuZ3RoLTEpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHZhciBzbGRPZmZzZXQgPSBkb21haW4ubGFzdEluZGV4T2YoJy4nLCB0bGRPZmZzZXQtMSk7CiAgICAgIGlmIChzbGRPZmZzZXQgPj0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHNsZExpc3QuaW5kZXhPZignICcgKyBkb21haW4uc2xpY2UoMCwgdGxkT2Zmc2V0KSArICcgJykgPj0gMDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uKGRvbWFpbikgewogICAgICB2YXIgdGxkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgIGlmICh0bGRPZmZzZXQgPD0gMCB8fCB0bGRPZmZzZXQgPj0gKGRvbWFpbi5sZW5ndGgtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkT2Zmc2V0ID0gZG9tYWluLmxhc3RJbmRleE9mKCcuJywgdGxkT2Zmc2V0LTEpOwogICAgICBpZiAoc2xkT2Zmc2V0IDw9IDAgfHwgc2xkT2Zmc2V0ID49ICh0bGRPZmZzZXQtMSkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgc2xkTGlzdCA9IFNMRC5saXN0W2RvbWFpbi5zbGljZSh0bGRPZmZzZXQrMSldOwogICAgICBpZiAoIXNsZExpc3QpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBpZiAoc2xkTGlzdC5pbmRleE9mKCcgJyArIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSwgdGxkT2Zmc2V0KSArICcgJykgPCAwKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbWFpbi5zbGljZShzbGRPZmZzZXQrMSk7CiAgICB9LAogICAgbm9Db25mbGljdDogZnVuY3Rpb24oKXsKICAgICAgaWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zID09PSB0aGlzKSB7CiAgICAgICAgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgPSBfU2Vjb25kTGV2ZWxEb21haW5zOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CgogIHJldHVybiBTTEQ7Cn0pKTsKCn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKiEKICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMcwogKgogKiBWZXJzaW9uOiAxLjE4LjEKICoKICogQXV0aG9yOiBSb2RuZXkgUmVobQogKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy8KICoKICogTGljZW5zZWQgdW5kZXIKICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlCiAqCiAqLwooZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAndXNlIHN0cmljdCc7CiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzCiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgewogICAgLy8gTm9kZQogICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpOwogIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuCiAgICBkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgIHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHsKICAndXNlIHN0cmljdCc7CiAgLypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi8KICAvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZQogIC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi8KCiAgLy8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55CiAgdmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJOwoKICBmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7CiAgICB2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxOwogICAgdmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7CgogICAgLy8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkCiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgaWYgKF9iYXNlU3VwcGxpZWQpIHsKICAgICAgICAgIHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IFVSSSh1cmwpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFVSSSgpOwogICAgfQoKICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoX3VybFN1cHBsaWVkKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXJsID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhyZWYodXJsKTsKCiAgICAvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3IKICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIFVSSS52ZXJzaW9uID0gJzEuMTguMSc7CgogIHZhciBwID0gVVJJLnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKCiAgZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2MwogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7CiAgfQoKICBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7CiAgICAvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZQogICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuICdVbmRlZmluZWQnOwogICAgfQoKICAgIHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHsKICAgIHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7CiAgfQoKICBmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkgewogICAgdmFyIGxvb2t1cCA9IHt9OwogICAgdmFyIGksIGxlbmd0aDsKCiAgICBpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7CiAgICAgIGxvb2t1cCA9IG51bGw7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgbG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxvb2t1cFt2YWx1ZV0gPSB0cnVlOwogICAgfQoKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgdmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZAogICAgICAgIHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovCiAgICAgIGlmIChfbWF0Y2gpIHsKICAgICAgICBkYXRhLnNwbGljZShpLCAxKTsKICAgICAgICBsZW5ndGgtLTsKICAgICAgICBpLS07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGg7CgogICAgLy8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwCiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgLy8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSkKICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICB2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTsKICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKF90eXBlID09PSAnUmVnRXhwJykgewogICAgICAgIGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHsKICAgIGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50CiAgICBpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgb25lLnNvcnQoKTsKICAgIHR3by5zb3J0KCk7CgogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIGlmIChvbmVbaV0gIT09IHR3b1tpXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkgewogICAgdmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXC8rfFwvKyQvZzsKICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7CiAgfQoKICBVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICBob3N0bmFtZTogbnVsbCwKICAgICAgdXJuOiBudWxsLAogICAgICBwb3J0OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICBxdWVyeTogbnVsbCwKICAgICAgZnJhZ21lbnQ6IG51bGwsCiAgICAgIC8vIHN0YXRlCiAgICAgIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywKICAgICAgZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2UKICAgIH07CiAgfTsKICAvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpCiAgVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlOwogIC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKQogIFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTsKICAvLyBzdGF0aWMgcHJvcGVydGllcwogIFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTsKICBVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcLi1dL2k7CiAgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7CiAgLy8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlPwogIFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfVwuXGR7MSwzfSQvOwogIC8vIGNyZWRpdHMgdG8gUmljaCBCcm93bgogIC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NgogIC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0CiAgVVJJLmlwNl9leHByZXNzaW9uID0gL15ccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKSkoJS4rKT9ccyokLzsKICAvLyBleHByZXNzaW9uIHVzZWQgaXMgImdydWJlciByZXZpc2VkIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGUKICAvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXQKICAvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4CiAgLy8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sCiAgVVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXGIoKD86W2Etel1bXHctXSs6KD86XC97MSwzfXxbYS16MC05JV0pfHd3d1xkezAsM31bLl18W2EtejAtOS5cLV0rWy5dW2Etel17Miw0fVwvKSg/OlteXHMoKTw+XSt8XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKSkrKD86XCgoW15ccygpPD5dK3woXChbXlxzKCk8Pl0rXCkpKSpcKXxbXlxzYCEoKVxbXF17fTs6JyIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7CiAgVVJJLmZpbmRVcmkgPSB7CiAgICAvLyB2YWxpZCAic2NoZW1lOi8vIiBvciAid3d3LiIKICAgIHN0YXJ0OiAvXGIoPzooW2Etel1bYS16MC05ListXSo6XC9cLyl8d3d3XC4pL2dpLAogICAgLy8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlCiAgICBlbmQ6IC9bXHNcclxuXXwkLywKICAgIC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cAogICAgdHJpbTogL1tgISgpXFtcXXt9OzonIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8KICB9OwogIC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbAogIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0cwogIFVSSS5kZWZhdWx0UG9ydHMgPSB7CiAgICBodHRwOiAnODAnLAogICAgaHR0cHM6ICc0NDMnLAogICAgZnRwOiAnMjEnLAogICAgZ29waGVyOiAnNzAnLAogICAgd3M6ICc4MCcsCiAgICB3c3M6ICc0NDMnCiAgfTsKICAvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2CiAgLy8gQUxQSEEgRElHSVQgIi0iICIuIiAiXyIgIn4iICIhIiAiJCIgIiYiICInIiAiKCIgIikiICIqIiAiKyIgIiwiICI7IiAiPSIgJWVuY29kZWQKICAvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtCiAgVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVwuLV0vOwogIC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZQogIFVSSS5kb21BdHRyaWJ1dGVzID0gewogICAgJ2EnOiAnaHJlZicsCiAgICAnYmxvY2txdW90ZSc6ICdjaXRlJywKICAgICdsaW5rJzogJ2hyZWYnLAogICAgJ2Jhc2UnOiAnaHJlZicsCiAgICAnc2NyaXB0JzogJ3NyYycsCiAgICAnZm9ybSc6ICdhY3Rpb24nLAogICAgJ2ltZyc6ICdzcmMnLAogICAgJ2FyZWEnOiAnaHJlZicsCiAgICAnaWZyYW1lJzogJ3NyYycsCiAgICAnZW1iZWQnOiAnc3JjJywKICAgICdzb3VyY2UnOiAnc3JjJywKICAgICd0cmFjayc6ICdzcmMnLAogICAgJ2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9ImltYWdlIgogICAgJ2F1ZGlvJzogJ3NyYycsCiAgICAndmlkZW8nOiAnc3JjJwogIH07CiAgVVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT0iaW1hZ2UiCiAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTsKICB9OwoKICBmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTEKICAgIHJldHVybiBlc2NhcGUodmFsdWUpOwogIH0KCiAgLy8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NgogIGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHsKICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudAogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpCiAgICAgIC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpCiAgICAgIC5yZXBsYWNlKC9cKi9nLCAnJTJBJyk7CiAgfQogIFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7CiAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICBVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSB1bmVzY2FwZTsKICB9OwogIFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDsKICB9OwogIFVSSS5jaGFyYWN0ZXJzID0gewogICAgcGF0aG5hbWU6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyAtLl9+IScoKSoKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyQic6ICcrJywKICAgICAgICAgICclMkMnOiAnLCcsCiAgICAgICAgICAnJTNCJzogJzsnLAogICAgICAgICAgJyUzRCc6ICc9JywKICAgICAgICAgICclM0EnOiAnOicsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWNvZGU6IHsKICAgICAgICBleHByZXNzaW9uOiAvW1wvXD8jXS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXJ2ZWQ6IHsKICAgICAgZW5jb2RlOiB7CiAgICAgICAgLy8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkCiAgICAgICAgLy8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy4KICAgICAgICBleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsCiAgICAgICAgbWFwOiB7CiAgICAgICAgICAvLyBnZW4tZGVsaW1zCiAgICAgICAgICAnJTNBJzogJzonLAogICAgICAgICAgJyUyRic6ICcvJywKICAgICAgICAgICclM0YnOiAnPycsCiAgICAgICAgICAnJTIzJzogJyMnLAogICAgICAgICAgJyU1Qic6ICdbJywKICAgICAgICAgICclNUQnOiAnXScsCiAgICAgICAgICAnJTQwJzogJ0AnLAogICAgICAgICAgLy8gc3ViLWRlbGltcwogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI2JzogJyYnLAogICAgICAgICAgJyUyNyc6ICdcJycsCiAgICAgICAgICAnJTI4JzogJygnLAogICAgICAgICAgJyUyOSc6ICcpJywKICAgICAgICAgICclMkEnOiAnKicsCiAgICAgICAgICAnJTJCJzogJysnLAogICAgICAgICAgJyUyQyc6ICcsJywKICAgICAgICAgICclM0InOiAnOycsCiAgICAgICAgICAnJTNEJzogJz0nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdXJucGF0aDogewogICAgICAvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlCiAgICAgIC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCAiLSIsICIuIiwgYW5kICJfIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dAogICAgICAvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvCiAgICAgIC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzCiAgICAgIC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXQKICAgICAgLy8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuCiAgICAgIC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy4KICAgICAgZW5jb2RlOiB7CiAgICAgICAgZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLAogICAgICAgIG1hcDogewogICAgICAgICAgJyUyMSc6ICchJywKICAgICAgICAgICclMjQnOiAnJCcsCiAgICAgICAgICAnJTI3JzogJ1wnJywKICAgICAgICAgICclMjgnOiAnKCcsCiAgICAgICAgICAnJTI5JzogJyknLAogICAgICAgICAgJyUyQSc6ICcqJywKICAgICAgICAgICclMkInOiAnKycsCiAgICAgICAgICAnJTJDJzogJywnLAogICAgICAgICAgJyUzQic6ICc7JywKICAgICAgICAgICclM0QnOiAnPScsCiAgICAgICAgICAnJTQwJzogJ0AnCiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgInJlc2VydmVkIiBjaGFyYWN0ZXJzIHRoYXQKICAgICAgLy8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuCiAgICAgIGRlY29kZTogewogICAgICAgIGV4cHJlc3Npb246IC9bXC9cPyM6XS9nLAogICAgICAgIG1hcDogewogICAgICAgICAgJy8nOiAnJTJGJywKICAgICAgICAgICc/JzogJyUzRicsCiAgICAgICAgICAnIyc6ICclMjMnLAogICAgICAgICAgJzonOiAnJTNBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7CiAgICB2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgcmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDsKICB9OwogIFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgc3RyaW5nICs9ICcnOwogICAgaWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkgewogICAgICBlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnJTIwJykgOiBzdHJpbmcpOwogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLAogICAgICAvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmcKICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyCiAgICAgIHJldHVybiBzdHJpbmc7CiAgICB9CiAgfTsKICAvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zCiAgdmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9OwogIHZhciBfcGFydDsKICB2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICByZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsCiAgICAgICAgLy8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nCiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84NwogICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTIKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CiAgICB9OwogIH07CgogIGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7CiAgICBVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7CiAgICBVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTsKICB9CgogIHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgLy8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGUKICAgICAgLy8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlCiAgICAgIC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZQogICAgICAvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlICJmcmVzaCIuCiAgICAgIHZhciBhY3R1YWxDb2RpbmdGdW5jOwogICAgICBpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7CiAgICAgICAgYWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgICAgIHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7CgogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTsKICAgIH07CiAgfTsKCiAgLy8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuCiAgVVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpOwogIFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTsKICBVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpOwogIFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7CgogIFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpOwoKICBVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICB2YXIgcG9zOwogICAgaWYgKCFwYXJ0cykgewogICAgICBwYXJ0cyA9IHt9OwogICAgfQogICAgLy8gW3Byb3RvY29sIjovLyJbdXNlcm5hbWVbIjoicGFzc3dvcmRdIkAiXWhvc3RuYW1lWyI6InBvcnRdIi8iP11bcGF0aF1bIj8icXVlcnlzdHJpbmddWyIjImZyYWdtZW50XQoKICAgIC8vIGV4dHJhY3QgZnJhZ21lbnQKICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7CiAgICBpZiAocG9zID4gLTEpIHsKICAgICAgLy8gZXNjYXBpbmc/CiAgICAgIHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeQogICAgcG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTsKICAgIGlmIChwb3MgPiAtMSkgewogICAgICAvLyBlc2NhcGluZz8KICAgICAgcGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7CiAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIH0KCiAgICAvLyBleHRyYWN0IHByb3RvY29sCiAgICBpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykgewogICAgICAvLyByZWxhdGl2ZS1zY2hlbWUKICAgICAgcGFydHMucHJvdG9jb2wgPSBudWxsOwogICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpOwogICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICBzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7CiAgICB9IGVsc2UgewogICAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpOwogICAgICBpZiAocG9zID4gLTEpIHsKICAgICAgICBwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsOwogICAgICAgIGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7CiAgICAgICAgICAvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGgKICAgICAgICAgIHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykgewogICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTsKCiAgICAgICAgICAvLyBleHRyYWN0ICJ1c2VyOnBhc3NAaG9zdDpwb3J0IgogICAgICAgICAgc3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpOwogICAgICAgICAgcGFydHMudXJuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoCiAgICBwYXJ0cy5wYXRoID0gc3RyaW5nOwoKICAgIC8vIGFuZCB3ZSdyZSBkb25lCiAgICByZXR1cm4gcGFydHM7CiAgfTsKICBVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykgewogICAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuCiAgICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXMKICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNAogICAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTYKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFwvZywgJy8nKTsKCiAgICAvLyBleHRyYWN0IGhvc3Q6cG9ydAogICAgdmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgYnJhY2tldFBvczsKICAgIHZhciB0OwoKICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgIHBvcyA9IHN0cmluZy5sZW5ndGg7CiAgICB9CgogICAgaWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykgewogICAgICAvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNgogICAgICAvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0cwogICAgICAvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpCiAgICAgIGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpOwogICAgICBwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDsKICAgICAgcGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDsKICAgICAgaWYgKHBhcnRzLnBvcnQgPT09ICcvJykgewogICAgICAgIHBhcnRzLnBvcnQgPSBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7CiAgICAgIHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTsKICAgICAgdmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpOwogICAgICBpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHsKICAgICAgICAvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnQKICAgICAgICAvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlcgogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7CiAgICAgICAgcGFydHMucG9ydCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpOwogICAgICAgIHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsOwogICAgICAgIHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHBvcysrOwogICAgICBzdHJpbmcgPSAnLycgKyBzdHJpbmc7CiAgICB9CgogICAgcmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7CiAgfTsKICBVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICBzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTsKICAgIHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpOwogIH07CiAgVVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7CiAgICAvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkCiAgICB2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7CiAgICB2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTsKICAgIHZhciB0OwoKICAgIC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aAogICAgaWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkgewogICAgICB0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsOwogICAgICB0LnNoaWZ0KCk7CiAgICAgIHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDsKICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRzLnVzZXJuYW1lID0gbnVsbDsKICAgICAgcGFydHMucGFzc3dvcmQgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBzdHJpbmc7CiAgfTsKICBVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkgewogICAgaWYgKCFzdHJpbmcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSAiPyJbbmFtZSI9InZhbHVlIiYiXSsKICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cPyomKnwmKyQvZywgJycpOwoKICAgIGlmICghc3RyaW5nKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KCiAgICB2YXIgaXRlbXMgPSB7fTsKICAgIHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTsKICAgIHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoOwogICAgdmFyIHYsIG5hbWUsIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdiA9IHNwbGl0c1tpXS5zcGxpdCgnPScpOwogICAgICBuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7CiAgICAgIC8vIG5vICI9IiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnMKICAgICAgdmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsOwoKICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkgewogICAgICAgIGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7CiAgICAgICAgICBpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07CiAgICAgICAgfQoKICAgICAgICBpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtc1tuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZW1zOwogIH07CgogIFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy5wcm90b2NvbCkgewogICAgICB0ICs9IHBhcnRzLnByb3RvY29sICsgJzonOwogICAgfQoKICAgIGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkgewogICAgICB0ICs9ICcvLyc7CiAgICB9CgogICAgdCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7CgogICAgaWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykgewogICAgICBpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgdCArPSAnLyc7CiAgICAgIH0KCiAgICAgIHQgKz0gcGFydHMucGF0aDsKICAgIH0KCiAgICBpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkgewogICAgICB0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5OwogICAgfQoKICAgIGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7CiAgICAgIHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7CiAgICB9CiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykgewogICAgdmFyIHQgPSAnJzsKCiAgICBpZiAoIXBhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7CiAgICAgIHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7CiAgICB9IGVsc2UgewogICAgICB0ICs9IHBhcnRzLmhvc3RuYW1lOwogICAgfQoKICAgIGlmIChwYXJ0cy5wb3J0KSB7CiAgICAgIHQgKz0gJzonICsgcGFydHMucG9ydDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9OwogIFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICByZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7CiAgfTsKICBVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB2YXIgdCA9ICcnOwoKICAgIGlmIChwYXJ0cy51c2VybmFtZSkgewogICAgICB0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpOwogICAgfQoKICAgIGlmIChwYXJ0cy5wYXNzd29yZCkgewogICAgICB0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpOwogICAgfQoKICAgIGlmICh0KSB7CiAgICAgIHQgKz0gJ0AnOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CiAgVVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbAogICAgLy8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWQKICAgIC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IQogICAgLy8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZAogICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZQoKICAgIHZhciB0ID0gJyc7CiAgICB2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDsKICAgIGZvciAoa2V5IGluIGRhdGEpIHsKICAgICAgaWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7CiAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtrZXldKSkgewogICAgICAgICAgdW5pcXVlID0ge307CiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0LnN1YnN0cmluZygxKTsKICB9OwogIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHsKICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQKICAgIC8vIGRvbid0IGFwcGVuZCAiPSIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb24KICAgIHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpOwogIH07CgogIFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dOwogICAgICB9CgogICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSBbdmFsdWVdOwogICAgICB9CgogICAgICBkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHsKICAgIHZhciBpLCBsZW5ndGgsIGtleTsKCiAgICBpZiAoaXNBcnJheShuYW1lKSkgewogICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykgewogICAgICBmb3IgKGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKG5hbWUudGVzdChrZXkpKSB7CiAgICAgICAgICBkYXRhW2tleV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JykgewogICAgICBmb3IgKGtleSBpbiBuYW1lKSB7CiAgICAgICAgaWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHsKICAgICAgICAgIFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykgewogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHsKICAgICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHsKICAgICAgICAgIGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICBkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhW25hbWVdID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpOwogICAgfQogIH07CiAgVVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7CiAgICBzd2l0Y2ggKGdldFR5cGUobmFtZSkpIHsKICAgICAgY2FzZSAnU3RyaW5nJzoKICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1JlZ0V4cCc6CiAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgIGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpKSB7CiAgICAgICAgICAgIGlmIChuYW1lLnRlc3Qoa2V5KSAmJiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCBVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCB2YWx1ZSkpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGNhc2UgJ09iamVjdCc6CiAgICAgICAgZm9yICh2YXIgX2tleSBpbiBuYW1lKSB7CiAgICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwgX2tleSkpIHsKICAgICAgICAgICAgaWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwgX2tleSwgbmFtZVtfa2V5XSkpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpOwogICAgfQoKICAgIHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHsKICAgICAgY2FzZSAnVW5kZWZpbmVkJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSkKICAgICAgICByZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7CgogICAgICBjYXNlICdCb29sZWFuJzoKICAgICAgICAvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5CiAgICAgICAgdmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7CiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBfYm9vbHk7CgogICAgICBjYXNlICdGdW5jdGlvbic6CiAgICAgICAgLy8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uCiAgICAgICAgcmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7CgogICAgICBjYXNlICdBcnJheSc6CiAgICAgICAgaWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDsKICAgICAgICByZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnUmVnRXhwJzoKICAgICAgICBpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgY2FzZSAnTnVtYmVyJzoKICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7CiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwogICAgICBjYXNlICdTdHJpbmcnOgogICAgICAgIGlmICghaXNBcnJheShkYXRhW25hbWVdKSkgewogICAgICAgICAgcmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF3aXRoaW5BcnJheSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpOwogICAgfQogIH07CgoKICBVUkkuam9pblBhdGhzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQgPSBbXTsKICAgIHZhciBzZWdtZW50cyA9IFtdOwogICAgdmFyIG5vbkVtcHR5U2VnbWVudHMgPSAwOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB1cmwgPSBuZXcgVVJJKGFyZ3VtZW50c1tpXSk7CiAgICAgIGlucHV0LnB1c2godXJsKTsKICAgICAgdmFyIF9zZWdtZW50cyA9IHVybC5zZWdtZW50KCk7CiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgX3NlZ21lbnRzLmxlbmd0aDsgcysrKSB7CiAgICAgICAgaWYgKHR5cGVvZiBfc2VnbWVudHNbc10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKF9zZWdtZW50c1tzXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3NlZ21lbnRzW3NdKSB7CiAgICAgICAgICBub25FbXB0eVNlZ21lbnRzKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFzZWdtZW50cy5sZW5ndGggfHwgIW5vbkVtcHR5U2VnbWVudHMpIHsKICAgICAgcmV0dXJuIG5ldyBVUkkoJycpOwogICAgfQoKICAgIHZhciB1cmkgPSBuZXcgVVJJKCcnKS5zZWdtZW50KHNlZ21lbnRzKTsKCiAgICBpZiAoaW5wdXRbMF0ucGF0aCgpID09PSAnJyB8fCBpbnB1dFswXS5wYXRoKCkuc2xpY2UoMCwgMSkgPT09ICcvJykgewogICAgICB1cmkucGF0aCgnLycgKyB1cmkucGF0aCgpKTsKICAgIH0KCiAgICByZXR1cm4gdXJpLm5vcm1hbGl6ZSgpOwogIH07CgogIFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTsKICAgIHZhciBwb3M7CgogICAgLy8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyCiAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7CiAgICAgICAgcG9zLS07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocG9zIDwgMSkgewogICAgICByZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJzsKICAgIH0KCiAgICAvLyByZXZlcnQgdG8gbGFzdCAvCiAgICBpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHsKICAgICAgcG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7CiAgICB9CgogICAgcmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7CiAgfTsKCiAgVVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7CiAgICB2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDsKICAgIHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kOwogICAgdmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07CiAgICB2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVsiJ10/JC9pOwoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTsKICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDsKICAgICAgaWYgKG9wdGlvbnMuaWdub3JlSHRtbCkgewogICAgICAgIC8vIGF0dHJpYnV0KGU9WyInXT8kKQogICAgICAgIHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTsKICAgICAgICBpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpOwogICAgICB2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpOwogICAgICBpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7CiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTsKICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpOwogICAgICBfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoOwogICAgfQoKICAgIF9zdGFydC5sYXN0SW5kZXggPSAwOwogICAgcmV0dXJuIHN0cmluZzsKICB9OwoKICBVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHsKICAgIC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KQogICAgLy8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanMKCiAgICBpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAvLyB0ZXN0IHB1bnljb2RlCiAgICAgIGlmICghcHVueWNvZGUpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpOwogICAgICB9CgogICAgICBpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub0NvbmZsaWN0CiAgVVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHsKICAgIGlmIChyZW1vdmVBbGwpIHsKICAgICAgdmFyIHVuY29uZmxpY3RlZCA9IHsKICAgICAgICBVUkk6IHRoaXMubm9Db25mbGljdCgpCiAgICAgIH07CgogICAgICBpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7CiAgICAgIH0KCiAgICAgIGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICBpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpOwogICAgICB9CgogICAgICByZXR1cm4gdW5jb25mbGljdGVkOwogICAgfSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykgewogICAgICByb290LlVSSSA9IF9VUkk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHsKICAgIGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7CiAgICAgIHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC5jbG9uZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIG5ldyBVUkkodGhpcyk7CiAgfTsKCiAgcC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7CiAgfTsKCgogIGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpewogICAgcmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDsKICAgICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXsKICAgIHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkgewogICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodiAhPT0gbnVsbCkgewogICAgICAgICAgdiA9IHYgKyAnJzsKICAgICAgICAgIGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkgewogICAgICAgICAgICB2ID0gdi5zdWJzdHJpbmcoMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9wYXJ0c1tfcGFydF0gPSB2OwogICAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgfTsKICB9CgogIHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpOwogIHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpOwogIHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpOwogIHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpOwogIHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTsKICBwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpOwogIHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7CgogIHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7CiAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDsKICB9OwogIHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICB2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpOwogICAgcmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7CiAgfTsKCiAgcC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwogICAgICByZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzOwogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nOwogICAgICB9CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnBhdGggPSBwLnBhdGhuYW1lOwogIHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7CiAgICB2YXIga2V5OwoKICAgIGlmIChocmVmID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgIH0KCiAgICB0aGlzLl9zdHJpbmcgPSAnJzsKICAgIHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpOwoKICAgIHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTsKICAgIHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTsKICAgIGlmIChocmVmLm5vZGVOYW1lKSB7CiAgICAgIHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpOwogICAgICBocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnOwogICAgICBfb2JqZWN0ID0gZmFsc2U7CiAgICB9CgogICAgLy8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0CiAgICAvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6CiAgICAvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uCiAgICAvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2gKICAgIC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnQKICAgIC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmljawogICAgLy8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKQogICAgaWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpOwogICAgfSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHsKICAgICAgdmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7CiAgICAgIGZvciAoa2V5IGluIHNyYykgewogICAgICAgIGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkgewogICAgICAgICAgdGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpOwogICAgfQoKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29ycwogIHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7CiAgICB2YXIgaXAgPSBmYWxzZTsKICAgIHZhciBpcDQgPSBmYWxzZTsKICAgIHZhciBpcDYgPSBmYWxzZTsKICAgIHZhciBuYW1lID0gZmFsc2U7CiAgICB2YXIgc2xkID0gZmFsc2U7CiAgICB2YXIgaWRuID0gZmFsc2U7CiAgICB2YXIgcHVueWNvZGUgPSBmYWxzZTsKICAgIHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47CgogICAgaWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7CiAgICAgIHJlbGF0aXZlID0gZmFsc2U7CiAgICAgIGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgaXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpcCA9IGlwNCB8fCBpcDY7CiAgICAgIG5hbWUgPSAhaXA7CiAgICAgIHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICBpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTsKICAgICAgcHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgfQoKICAgIHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3JlbGF0aXZlJzoKICAgICAgICByZXR1cm4gcmVsYXRpdmU7CgogICAgICBjYXNlICdhYnNvbHV0ZSc6CiAgICAgICAgcmV0dXJuICFyZWxhdGl2ZTsKCiAgICAgIC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uCiAgICAgIGNhc2UgJ2RvbWFpbic6CiAgICAgIGNhc2UgJ25hbWUnOgogICAgICAgIHJldHVybiBuYW1lOwoKICAgICAgY2FzZSAnc2xkJzoKICAgICAgICByZXR1cm4gc2xkOwoKICAgICAgY2FzZSAnaXAnOgogICAgICAgIHJldHVybiBpcDsKCiAgICAgIGNhc2UgJ2lwNCc6CiAgICAgIGNhc2UgJ2lwdjQnOgogICAgICBjYXNlICdpbmV0NCc6CiAgICAgICAgcmV0dXJuIGlwNDsKCiAgICAgIGNhc2UgJ2lwNic6CiAgICAgIGNhc2UgJ2lwdjYnOgogICAgICBjYXNlICdpbmV0Nic6CiAgICAgICAgcmV0dXJuIGlwNjsKCiAgICAgIGNhc2UgJ2lkbic6CiAgICAgICAgcmV0dXJuIGlkbjsKCiAgICAgIGNhc2UgJ3VybCc6CiAgICAgICAgcmV0dXJuICF0aGlzLl9wYXJ0cy51cm47CgogICAgICBjYXNlICd1cm4nOgogICAgICAgIHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjsKCiAgICAgIGNhc2UgJ3B1bnljb2RlJzoKICAgICAgICByZXR1cm4gcHVueWNvZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgLy8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb24KICB2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDsKICB2YXIgX3BvcnQgPSBwLnBvcnQ7CiAgdmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7CgogIHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodikgewogICAgICAgIC8vIGFjY2VwdCB0cmFpbGluZyA6Ly8KICAgICAgICB2ID0gdi5yZXBsYWNlKC86KFwvXC8pPyQvLCAnJyk7CgogICAgICAgIGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblwndCBzdGFydCB3aXRoIFtBLVpdJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpOwogIH07CiAgcC5zY2hlbWUgPSBwLnByb3RvY29sOwogIHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICBpZiAodiA9PT0gMCkgewogICAgICAgIHYgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodikgewogICAgICAgIHYgKz0gJyc7CiAgICAgICAgaWYgKHYuY2hhckF0KDApID09PSAnOicpIHsKICAgICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwogIHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIHggPSB7fTsKICAgICAgdmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7CiAgICAgIGlmIChyZXMgIT09ICcvJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lICInICsgdiArICciIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7CiAgICAgIH0KCiAgICAgIHYgPSB4Lmhvc3RuYW1lOwogICAgfQogICAgcmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTsKICB9OwoKICAvLyBjb21wb3VuZCBhY2Nlc3NvcnMKICBwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7CiAgICAgIHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpOwogICAgICBpZiAoIWF1dGhvcml0eSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9yaWdpbiA9IFVSSSh2KTsKICAgICAgdGhpcwogICAgICAgIC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSkKICAgICAgICAuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSkKICAgICAgICAuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTsKICAgICAgaWYgKHJlcyAhPT0gJy8nKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgIicgKyB2ICsgJyIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJzsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpOwogICAgICBpZiAocmVzICE9PSAnLycpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTsKICAgICAgcmV0dXJuIHQgPyB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSkgOiB0OwogICAgfSBlbHNlIHsKICAgICAgaWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykgewogICAgICAgIHYgKz0gJ0AnOwogICAgICB9CgogICAgICBVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIHZhciBwYXJ0czsKCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTsKICAgIH0KCiAgICBwYXJ0cyA9IFVSSS5wYXJzZSh2KTsKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoOwogICAgdGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTsKICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7CiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvLyBmcmFjdGlvbiBhY2Nlc3NvcnMKICBwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAid3d3IiBmcm9tICJ3d3cuZXhhbXBsZS5vcmciCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnQKICAgICAgdmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDsKICAgICAgdmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTsKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpOwoKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7CiAgICAgICAgdiArPSAnLic7CiAgICAgIH0KCiAgICAgIGlmICh2KSB7CiAgICAgICAgVVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7CiAgICAgIH0KCiAgICAgIHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy8gY29udmVuaWVuY2UsIHJldHVybiAiZXhhbXBsZS5vcmciIGZyb20gInd3dy5leGFtcGxlLm9yZyIKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpbgogICAgICB2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cLi9nKTsKICAgICAgaWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lOwogICAgICB9CgogICAgICAvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudAogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7CiAgICAgIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7CiAgICAgIHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJzsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7CiAgICAgIH0KCiAgICAgIFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpOwoKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIGJ1aWxkID0gdjsKICAgICAgdiA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICAvLyByZXR1cm4gIm9yZyIgZnJvbSAid3d3LmV4YW1wbGUub3JnIgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpOwogICAgICB2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpOwoKICAgICAgaWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICByZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkOwogICAgICB9CgogICAgICByZXR1cm4gdGxkOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlcGxhY2U7CgogICAgICBpZiAoIXYpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpOwogICAgICB9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkgewogICAgICAgIGlmIChTTEQgJiYgU0xELmlzKHYpKSB7CiAgICAgICAgICByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7CiAgICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCAiJyArIHYgKyAnIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHsKICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7CiAgICAgIH0KCiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsKICBwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7CiAgICBpZiAodGhpcy5fcGFydHMudXJuKSB7CiAgICAgIHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7CiAgICB9CgogICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHsKICAgICAgICByZXR1cm4gJy8nOwogICAgICB9CgogICAgICB2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTsKICAgICAgdmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzOwoKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoOwogICAgICB2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7CiAgICAgIHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTsKCiAgICAgIC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2gKICAgICAgaWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgICAgaWYgKCF2KSB7CiAgICAgICAgICB2ID0gJy8nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHYuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgICAgIHYgPSAnLycgKyB2OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2gKICAgICAgaWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7CiAgICAgICAgdiArPSAnLyc7CiAgICAgIH0KCiAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgdGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkgewogICAgICBpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpOwogICAgICB2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpOwoKICAgICAgcmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlczsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7CgogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcvJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgaWYgKHYubWF0Y2goL1wuP1wvLykpIHsKICAgICAgICBtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpOwogICAgICB2ID0gVVJJLnJlY29kZVBhdGgodik7CiAgICAgIHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7CgogICAgICBpZiAobXV0YXRlZERpcmVjdG9yeSkgewogICAgICAgIHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9OwogIHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpczsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHsKICAgICAgaWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpOwogICAgICB2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgICAgdmFyIHMsIHJlczsKCiAgICAgIGlmIChwb3MgPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICAvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLikKICAgICAgcyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7CiAgICAgIHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7CiAgICAgIHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7CiAgICB9IGVsc2UgewogICAgICBpZiAodi5jaGFyQXQoMCkgPT09ICcuJykgewogICAgICAgIHYgPSB2LnN1YnN0cmluZygxKTsKICAgICAgfQoKICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7CiAgICAgIHZhciByZXBsYWNlOwoKICAgICAgaWYgKCFzdWZmaXgpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgfSBlbHNlIGlmICghdikgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpOwogICAgICB9CgogICAgICBpZiAocmVwbGFjZSkgewogICAgICAgIHYgPSBVUkkucmVjb2RlUGF0aCh2KTsKICAgICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpOwogICAgICB9CgogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgcC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHsKICAgIHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7CiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aCgpOwogICAgdmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJzsKICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTsKCiAgICBpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykgewogICAgICBidWlsZCA9IHY7CiAgICAgIHYgPSBzZWdtZW50OwogICAgICBzZWdtZW50ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgIicgKyBzZWdtZW50ICsgJyIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7CiAgICB9CgogICAgaWYgKGFic29sdXRlKSB7CiAgICAgIHNlZ21lbnRzLnNoaWZ0KCk7CiAgICB9CgogICAgaWYgKHNlZ21lbnQgPCAwKSB7CiAgICAgIC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmQKICAgICAgc2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApOwogICAgfQoKICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHsKICAgICAgLypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi8KICAgICAgcmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZAogICAgICAgID8gc2VnbWVudHMKICAgICAgICA6IHNlZ21lbnRzW3NlZ21lbnRdOwogICAgICAvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi8KICAgIH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIGlmIChpc0FycmF5KHYpKSB7CiAgICAgICAgc2VnbWVudHMgPSBbXTsKICAgICAgICAvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXkKICAgICAgICBmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkgewogICAgICAgICAgICBzZWdtZW50cy5wb3AoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2ID0gdHJpbVNsYXNoZXModik7CiAgICAgICAgaWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7CiAgICAgICAgICAvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuCiAgICAgICAgICAvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXIKICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWdtZW50cy5wdXNoKHYpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHYpIHsKICAgICAgICBzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTsKICAgICAgfQogICAgfQoKICAgIGlmIChhYnNvbHV0ZSkgewogICAgICBzZWdtZW50cy51bnNoaWZ0KCcnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpOwogIH07CiAgcC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkgewogICAgdmFyIHNlZ21lbnRzLCBpLCBsOwoKICAgIGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHsKICAgICAgYnVpbGQgPSB2OwogICAgICB2ID0gc2VnbWVudDsKICAgICAgc2VnbWVudCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTsKICAgICAgaWYgKCFpc0FycmF5KHNlZ21lbnRzKSkgewogICAgICAgIHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2VnbWVudHM7CiAgICB9CgogICAgaWYgKCFpc0FycmF5KHYpKSB7CiAgICAgIHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7CiAgICB9IGVsc2UgewogICAgICBmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2W2ldID0gVVJJLmVuY29kZSh2W2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpOwogIH07CgogIC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZwogIHZhciBxID0gcC5xdWVyeTsKICBwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHsKICAgIGlmICh2ID09PSB0cnVlKSB7CiAgICAgIHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpOwogICAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpOwogICAgfQogIH07CiAgcC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkgewogICAgdmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsOwogICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHsKICAgICAgICBpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkgewogICAgICAgICAgZGF0YVtrZXldID0gbmFtZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTsKICAgIH0KCiAgICB0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7CiAgICAgIGJ1aWxkID0gdmFsdWU7CiAgICB9CgogICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7CiAgICB2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgVVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTsKICAgIHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTsKICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHsKICAgICAgYnVpbGQgPSB2YWx1ZTsKICAgIH0KCiAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHsKICAgIHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgcmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpOwogIH07CiAgcC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5OwogIHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTsKICBwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7CiAgcC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5OwoKICAvLyBzYW5pdGl6aW5nIFVSTHMKICBwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICByZXR1cm4gdGhpcwogICAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUGF0aChmYWxzZSkKICAgICAgICAubm9ybWFsaXplUXVlcnkoZmFsc2UpCiAgICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAgIC5idWlsZCgpOwogICAgfQoKICAgIHJldHVybiB0aGlzCiAgICAgIC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKQogICAgICAubm9ybWFsaXplUG9ydChmYWxzZSkKICAgICAgLm5vcm1hbGl6ZVBhdGgoZmFsc2UpCiAgICAgIC5ub3JtYWxpemVRdWVyeShmYWxzZSkKICAgICAgLm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKQogICAgICAuYnVpbGQoKTsKICB9OwogIHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICBpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHsKICAgICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7CiAgICAgICAgdGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpOwogICAgICB9CgogICAgICB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwogIHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICAvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHQKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7CiAgICAgIHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsOwogICAgICB0aGlzLmJ1aWxkKCFidWlsZCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkgewogICAgdmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDsKICAgIGlmICghX3BhdGgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnVybikgewogICAgICB0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7CiAgICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgaWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTsKCiAgICB2YXIgX3dhc19yZWxhdGl2ZTsKICAgIHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJzsKICAgIHZhciBfcGFyZW50LCBfcG9zOwoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocwogICAgaWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIF93YXNfcmVsYXRpdmUgPSB0cnVlOwogICAgICBfcGF0aCA9ICcvJyArIF9wYXRoOwogICAgfQoKICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3RvcmllcykKICAgIGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykgewogICAgICBfcGF0aCArPSAnLyc7CiAgICB9CgogICAgLy8gcmVzb2x2ZSBzaW1wbGVzCiAgICBfcGF0aCA9IF9wYXRoCiAgICAgIC5yZXBsYWNlKC8oXC8oXC5cLykrKXwoXC9cLiQpL2csICcvJykKICAgICAgLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwoKICAgIC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50cwogICAgaWYgKF93YXNfcmVsYXRpdmUpIHsKICAgICAgX2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFwuXC5cLykrLykgfHwgJyc7CiAgICAgIGlmIChfbGVhZGluZ1BhcmVudHMpIHsKICAgICAgICBfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07CiAgICAgIH0KICAgIH0KCiAgICAvLyByZXNvbHZlIHBhcmVudHMKICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIF9wYXJlbnQgPSBfcGF0aC5zZWFyY2goL1wvXC5cLihcL3wkKS8pOwogICAgICBpZiAoX3BhcmVudCA9PT0gLTEpIHsKICAgICAgICAvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlCiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkgewogICAgICAgIC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXQKICAgICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgX3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpOwogICAgICBpZiAoX3BvcyA9PT0gLTEpIHsKICAgICAgICBfcG9zID0gX3BhcmVudDsKICAgICAgfQogICAgICBfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7CiAgICB9CgogICAgLy8gcmV2ZXJ0IHRvIHJlbGF0aXZlCiAgICBpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7CiAgICAgIF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDsKICAgIHRoaXMuYnVpbGQoIWJ1aWxkKTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDsKICBwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHsKICAgIGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7CiAgICAgIGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5fcGFydHMucXVlcnkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTsKICAgICAgfQoKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7CiAgICBpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7CiAgICAgIHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDsKICAgICAgdGhpcy5idWlsZCghYnVpbGQpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CiAgcC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5OwogIHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7CgogIHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkgewogICAgLy8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0CiAgICB2YXIgZSA9IFVSSS5lbmNvZGU7CiAgICB2YXIgZCA9IFVSSS5kZWNvZGU7CgogICAgVVJJLmVuY29kZSA9IGVzY2FwZTsKICAgIFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7CiAgICB0cnkgewogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgVVJJLmVuY29kZSA9IGU7CiAgICAgIFVSSS5kZWNvZGUgPSBkOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcC51bmljb2RlID0gZnVuY3Rpb24oKSB7CiAgICAvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXQKICAgIHZhciBlID0gVVJJLmVuY29kZTsKICAgIHZhciBkID0gVVJJLmRlY29kZTsKCiAgICBVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50OwogICAgVVJJLmRlY29kZSA9IHVuZXNjYXBlOwogICAgdHJ5IHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIFVSSS5lbmNvZGUgPSBlOwogICAgICBVUkkuZGVjb2RlID0gZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmkgPSB0aGlzLmNsb25lKCk7CiAgICAvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NgogICAgdXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7CiAgICB2YXIgdCA9ICcnOwogICAgaWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHsKICAgICAgdCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7CiAgICB9CgogICAgaWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHsKICAgICAgaWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkgewogICAgICAgIHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpOwogICAgICAgIGlmICh1cmkuX3BhcnRzLnBvcnQpIHsKICAgICAgICAgIHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0ICs9IHVyaS5ob3N0KCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHQgKz0gJy8nOwogICAgfQoKICAgIHQgKz0gdXJpLnBhdGgodHJ1ZSk7CiAgICBpZiAodXJpLl9wYXJ0cy5xdWVyeSkgewogICAgICB2YXIgcSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7CiAgICAgICAgcSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpCiAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJTI2Jyk7CgogICAgICAgIGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkKICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyUyNicpOwogICAgICAgIH0KICAgICAgfQogICAgICB0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpOwogICAgcmV0dXJuIHQ7CiAgfTsKCiAgLy8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzCiAgcC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTsKICAgIHZhciBiYXNlZGlyLCBpLCBwOwoKICAgIGlmICh0aGlzLl9wYXJ0cy51cm4pIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpOwogICAgfQoKICAgIGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7CiAgICAgIGJhc2UgPSBuZXcgVVJJKGJhc2UpOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sOwogICAgfQoKICAgIGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgewogICAgICByZXR1cm4gcmVzb2x2ZWQ7CiAgICB9CgogICAgZm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7CiAgICAgIHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdOwogICAgfQoKICAgIGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoOwogICAgICBpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkgewogICAgICAgIHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5OwogICAgICB9CiAgICB9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHsKICAgICAgcmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nOwogICAgfQoKICAgIGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHsKICAgICAgYmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7CiAgICAgIGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnOwogICAgICByZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7CiAgICAgIHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTsKICAgIH0KCiAgICByZXNvbHZlZC5idWlsZCgpOwogICAgcmV0dXJuIHJlc29sdmVkOwogIH07CiAgcC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkgewogICAgdmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpOwogICAgdmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoOwoKICAgIGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTsKICAgIH0KCiAgICBiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTsKICAgIHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7CiAgICBiYXNlUGFydHMgPSBiYXNlLl9wYXJ0czsKICAgIHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTsKICAgIGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7CgogICAgaWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7CiAgICB9CgogICAgaWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHsKICAgICAgcmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgICB9CgogICAgaWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkgewogICAgICByZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDsKICAgICAgcmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiByZWxhdGl2ZS5idWlsZCgpOwogICAgfQoKICAgIGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7CiAgICAgIHJlbGF0aXZlUGFydHMucGF0aCA9ICcnOwogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoCiAgICBjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTsKCiAgICAvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguCiAgICBpZiAoIWNvbW1vbikgewogICAgICByZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTsKICAgIH0KCiAgICB2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoCiAgICAgIC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkKICAgICAgLnJlcGxhY2UoL1teXC9dKiQvLCAnJykKICAgICAgLnJlcGxhY2UoLy4qP1wvL2csICcuLi8nKTsKCiAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7CgogICAgcmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7CiAgfTsKCiAgLy8gY29tcGFyaW5nIFVSSXMKICBwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkgewogICAgdmFyIG9uZSA9IHRoaXMuY2xvbmUoKTsKICAgIHZhciB0d28gPSBuZXcgVVJJKHVyaSk7CiAgICB2YXIgb25lX21hcCA9IHt9OwogICAgdmFyIHR3b19tYXAgPSB7fTsKICAgIHZhciBjaGVja2VkID0ge307CiAgICB2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTsKCiAgICBvbmUubm9ybWFsaXplKCk7CiAgICB0d28ubm9ybWFsaXplKCk7CgogICAgLy8gZXhhY3QgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gZXh0cmFjdCBxdWVyeSBzdHJpbmcKICAgIG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpOwogICAgdHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7CiAgICBvbmUucXVlcnkoJycpOwogICAgdHdvLnF1ZXJ5KCcnKTsKCiAgICAvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2gKICAgIGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZAogICAgaWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpOwogICAgdHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7CgogICAgZm9yIChrZXkgaW4gb25lX21hcCkgewogICAgICBpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkgewogICAgICAgIGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7CiAgICAgICAgICBpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tlZFtrZXldID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIGZvciAoa2V5IGluIHR3b19tYXApIHsKICAgICAgaWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRba2V5XSkgewogICAgICAgICAgLy8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIHN0YXRlCiAgcC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7CiAgICB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2OwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgcmV0dXJuIFVSSTsKfSkpOwoKfSx7Ii4vSVB2NiI6MywiLi9TZWNvbmRMZXZlbERvbWFpbnMiOjQsIi4vcHVueWNvZGUiOjZ9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMCBieSBAbWF0aGlhcyAqLwo7KGZ1bmN0aW9uKHJvb3QpIHsKCgkvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCgl2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmCgkJIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0czsKCXZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYKCQkhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKCXZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CglpZiAoCgkJZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwKCQlmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fAoJCWZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbAoJKSB7CgkJcm9vdCA9IGZyZWVHbG9iYWw7Cgl9CgoJLyoqCgkgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCgkgKiBAbmFtZSBwdW55Y29kZQoJICogQHR5cGUgT2JqZWN0CgkgKi8KCXZhciBwdW55Y29kZSwKCgkvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovCgltYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xCgoJLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwoJYmFzZSA9IDM2LAoJdE1pbiA9IDEsCgl0TWF4ID0gMjYsCglza2V3ID0gMzgsCglkYW1wID0gNzAwLAoJaW5pdGlhbEJpYXMgPSA3MiwKCWluaXRpYWxOID0gMTI4LCAvLyAweDgwCglkZWxpbWl0ZXIgPSAnLScsIC8vICdceDJEJwoKCS8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCglyZWdleFB1bnljb2RlID0gL154bi0tLywKCXJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKCXJlZ2V4U2VwYXJhdG9ycyA9IC9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9ycwoKCS8qKiBFcnJvciBtZXNzYWdlcyAqLwoJZXJyb3JzID0gewoJCSdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsCgkJJ25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJywKCQknaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwoJfSwKCgkvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovCgliYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCglmbG9vciA9IE1hdGguZmxvb3IsCglzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLAoKCS8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi8KCWtleTsKCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKioKCSAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLgoJICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLgoJICovCglmdW5jdGlvbiBlcnJvcih0eXBlKSB7CgkJdGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTsKCX0KCgkvKioKCSAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKCSAqIGl0ZW0uCgkgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uCgkgKi8KCWZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKCQl2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwoJCXZhciByZXN1bHQgPSBbXTsKCQl3aGlsZSAobGVuZ3RoLS0pIHsKCQkJcmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTsKCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX0KCgkvKioKCSAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbAoJICogYWRkcmVzc2VzLgoJICogQHByaXZhdGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuCgkgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKCSAqIGNoYXJhY3Rlci4KCSAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrCgkgKiBmdW5jdGlvbi4KCSAqLwoJZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHsKCQl2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsKCQkJLy8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZQoJCQkvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LgoJCQlyZXN1bHQgPSBwYXJ0c1swXSArICdAJzsKCQkJc3RyaW5nID0gcGFydHNbMV07CgkJfQoJCS8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy4KCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CgkJdmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpOwoJCXZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTsKCQlyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGUKCSAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKCSAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoCgkgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCwKCSAqIG1hdGNoaW5nIFVURi0xNi4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYAoJICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+CgkgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgoJICogQG5hbWUgZGVjb2RlCgkgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLgoJICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgoJICovCglmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykgewoJCXZhciBvdXRwdXQgPSBbXSwKCQkgICAgY291bnRlciA9IDAsCgkJICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsCgkJICAgIHZhbHVlLAoJCSAgICBleHRyYTsKCQl3aGlsZSAoY291bnRlciA8IGxlbmd0aCkgewoJCQl2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgkJCWlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKCQkJCS8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlcgoJCQkJZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspOwoJCQkJaWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGUKCQkJCQlvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dAoJCQkJCS8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgoJCQkJCW91dHB1dC5wdXNoKHZhbHVlKTsKCQkJCQljb3VudGVyLS07CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlvdXRwdXQucHVzaCh2YWx1ZSk7CgkJCX0KCQl9CgkJcmV0dXJuIG91dHB1dDsKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYAoJICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKCSAqIEBuYW1lIGVuY29kZQoJICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KCSAqLwoJZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkgewoJCXJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7CgkJCXZhciBvdXRwdXQgPSAnJzsKCQkJaWYgKHZhbHVlID4gMHhGRkZGKSB7CgkJCQl2YWx1ZSAtPSAweDEwMDAwOwoJCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7CgkJCQl2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7CgkJCX0KCQkJb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CgkJCXJldHVybiBvdXRwdXQ7CgkJfSkuam9pbignJyk7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuCgkgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuCgkgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW4KCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKCSAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLgoJICovCglmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7CgkJaWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHsKCQkJcmV0dXJuIGNvZGVQb2ludCAtIDIyOwoJCX0KCQlpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewoJCQlyZXR1cm4gY29kZVBvaW50IC0gNjU7CgkJfQoJCWlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7CgkJCXJldHVybiBjb2RlUG9pbnQgLSA5NzsKCQl9CgkJcmV0dXJuIGJhc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCgkgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWAKCSAqIEBwcml2YXRlCgkgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgoJICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3IKCSAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlCgkgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKCSAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkCgkgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLgoJICovCglmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKCQkvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWgoJCS8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOQoJCXJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7Cgl9CgoJLyoqCgkgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLgoJICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKCSAqIEBwcml2YXRlCgkgKi8KCWZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkgewoJCXZhciBrID0gMDsKCQlkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwoJCWRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTsKCQlmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkgewoJCQlkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7CgkJfQoJCXJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKCSAqIHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CgkJLy8gRG9uJ3QgdXNlIFVDUy0yCgkJdmFyIG91dHB1dCA9IFtdLAoJCSAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCwKCQkgICAgb3V0LAoJCSAgICBpID0gMCwKCQkgICAgbiA9IGluaXRpYWxOLAoJCSAgICBiaWFzID0gaW5pdGlhbEJpYXMsCgkJICAgIGJhc2ljLAoJCSAgICBqLAoJCSAgICBpbmRleCwKCQkgICAgb2xkaSwKCQkgICAgdywKCQkgICAgaywKCQkgICAgZGlnaXQsCgkJICAgIHQsCgkJICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwoJCSAgICBiYXNlTWludXNUOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGUKCQkvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weQoJCS8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKCQliYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7CgkJaWYgKGJhc2ljIDwgMCkgewoJCQliYXNpYyA9IDA7CgkJfQoKCQlmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewoJCQkvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKCQkJaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewoJCQkJZXJyb3IoJ25vdC1iYXNpYycpOwoJCQl9CgkJCW91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpOwoJCX0KCgkJLy8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZQoJCS8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoJCWZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7CgoJCQkvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuCgkJCS8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCwKCQkJLy8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXIKCQkJLy8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmcKCQkJLy8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC4KCQkJZm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoKCQkJCWlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkgewoJCQkJCWVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CgkJCQl9CgoJCQkJZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7CgoJCQkJaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWkgKz0gZGlnaXQgKiB3OwoJCQkJdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7CgoJCQkJaWYgKGRpZ2l0IDwgdCkgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCWlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHsKCQkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJCX0KCgkJCQl3ICo9IGJhc2VNaW51c1Q7CgoJCQl9CgoJCQlvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTsKCQkJYmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7CgoJCQkvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAoJCQkvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoJCQlpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJbiArPSBmbG9vcihpIC8gb3V0KTsKCQkJaSAlPSBvdXQ7CgoJCQkvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0CgkJCW91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTsKCgkJfQoKCQlyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGEKCSAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KCSAqLwoJZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CgkJdmFyIG4sCgkJICAgIGRlbHRhLAoJCSAgICBoYW5kbGVkQ1BDb3VudCwKCQkgICAgYmFzaWNMZW5ndGgsCgkJICAgIGJpYXMsCgkJICAgIGosCgkJICAgIG0sCgkJICAgIHEsCgkJICAgIGssCgkJICAgIHQsCgkJICAgIGN1cnJlbnRWYWx1ZSwKCQkgICAgb3V0cHV0ID0gW10sCgkJICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovCgkJICAgIGlucHV0TGVuZ3RoLAoJCSAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KCQkgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAoJCSAgICBiYXNlTWludXNULAoJCSAgICBxTWludXNUOwoKCQkvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlCgkJaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTsKCgkJLy8gQ2FjaGUgdGhlIGxlbmd0aAoJCWlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoOwoKCQkvLyBJbml0aWFsaXplIHRoZSBzdGF0ZQoJCW4gPSBpbml0aWFsTjsKCQlkZWx0YSA9IDA7CgkJYmlhcyA9IGluaXRpYWxCaWFzOwoKCQkvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzCgkJZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgkJCWlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CgkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7CgkJCX0KCQl9CgoJCWhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoOwoKCQkvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDsKCQkvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuCgoJCS8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlcgoJCWlmIChiYXNpY0xlbmd0aCkgewoJCQlvdXRwdXQucHVzaChkZWxpbWl0ZXIpOwoJCX0KCgkJLy8gTWFpbiBlbmNvZGluZyBsb29wOgoJCXdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7CgoJCQkvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0CgkJCS8vIGxhcmdlciBvbmU6CgkJCWZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7CgkJCQljdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCQkJCWlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7CgkJCQkJbSA9IGN1cnJlbnRWYWx1ZTsKCQkJCX0KCQkJfQoKCQkJLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAoJCQkvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoJCQloYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7CgkJCWlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CgkJCQllcnJvcignb3ZlcmZsb3cnKTsKCQkJfQoKCQkJZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTsKCQkJbiA9IG07CgoJCQlmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewoJCQkJY3VycmVudFZhbHVlID0gaW5wdXRbal07CgoJCQkJaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewoJCQkJCWVycm9yKCdvdmVyZmxvdycpOwoJCQkJfQoKCQkJCWlmIChjdXJyZW50VmFsdWUgPT0gbikgewoJCQkJCS8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCgkJCQkJZm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkgewoJCQkJCQl0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTsKCQkJCQkJaWYgKHEgPCB0KSB7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCQlxTWludXNUID0gcSAtIHQ7CgkJCQkJCWJhc2VNaW51c1QgPSBiYXNlIC0gdDsKCQkJCQkJb3V0cHV0LnB1c2goCgkJCQkJCQlzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpCgkJCQkJCSk7CgkJCQkJCXEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7CgkJCQkJfQoKCQkJCQlvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CgkJCQkJYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTsKCQkJCQlkZWx0YSA9IDA7CgkJCQkJKytoYW5kbGVkQ1BDb3VudDsKCQkJCX0KCQkJfQoKCQkJKytkZWx0YTsKCQkJKytuOwoKCQl9CgkJcmV0dXJuIG91dHB1dC5qb2luKCcnKTsKCX0KCgkvKioKCSAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MKCSAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS4KCSAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgoJICogY29udmVydGVkIHRvIFVuaWNvZGUuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KCSAqIGNvbnZlcnQgdG8gVW5pY29kZS4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZQoJICogc3RyaW5nLgoJICovCglmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpCgkJCQk/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkKCQkJCTogc3RyaW5nOwoJCX0pOwoJfQoKCS8qKgoJICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCgkgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCwKCSAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpbgoJICogQVNDSUkuCgkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCSAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhCgkgKiBVbmljb2RlIHN0cmluZy4KCSAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3IKCSAqIGVtYWlsIGFkZHJlc3MuCgkgKi8KCWZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKCQlyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHsKCQkJcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpCgkJCQk/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpCgkJCQk6IHN0cmluZzsKCQl9KTsKCX0KCgkvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgkvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovCglwdW55Y29kZSA9IHsKCQkvKioKCQkgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCgkJICogQG1lbWJlck9mIHB1bnljb2RlCgkJICogQHR5cGUgU3RyaW5nCgkJICovCgkJJ3ZlcnNpb24nOiAnMS4zLjInLAoJCS8qKgoJCSAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyCgkJICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KCQkgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KCQkgKiBAbWVtYmVyT2YgcHVueWNvZGUKCQkgKiBAdHlwZSBPYmplY3QKCQkgKi8KCQkndWNzMic6IHsKCQkJJ2RlY29kZSc6IHVjczJkZWNvZGUsCgkJCSdlbmNvZGUnOiB1Y3MyZW5jb2RlCgkJfSwKCQknZGVjb2RlJzogZGVjb2RlLAoJCSdlbmNvZGUnOiBlbmNvZGUsCgkJJ3RvQVNDSUknOiB0b0FTQ0lJLAoJCSd0b1VuaWNvZGUnOiB0b1VuaWNvZGUKCX07CgoJLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCgkvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnMKCS8vIGxpa2UgdGhlIGZvbGxvd2luZzoKCWlmICgKCQl0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYKCQl0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJgoJCWRlZmluZS5hbWQKCSkgewoJCWRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHB1bnljb2RlOwoJCX0pOwoJfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CgkJaWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7CgkJCS8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCsKCQkJZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7CgkJfSBlbHNlIHsKCQkJLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC0KCQkJZm9yIChrZXkgaW4gcHVueWNvZGUpIHsKCQkJCXB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTsKCQkJfQoJCX0KCX0gZWxzZSB7CgkJLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlcgoJCXJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKCX0KCn0odGhpcykpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTp0cnVlfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoInZhbHVlImluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZXhwb3J0cy5kZWZhdWx0PWFjdGl2YXRlO3ZhciBfSHlwZXJ0eURpc2NvdmVyeT1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0h5cGVydHlEaXNjb3ZlcnknKTt2YXIgX0h5cGVydHlEaXNjb3ZlcnkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0h5cGVydHlEaXNjb3ZlcnkpO3ZhciBfU3luY2hlcj1yZXF1aXJlKCdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInKTt2YXIgX0V2ZW50RW1pdHRlcjI9cmVxdWlyZSgnLi4vdXRpbHMvRXZlbnRFbWl0dGVyLmpzJyk7dmFyIF9FdmVudEVtaXR0ZXIzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpO3ZhciBfdXJpanM9cmVxdWlyZSgndXJpanMnKTt2YXIgX3VyaWpzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmlqcyk7dmFyIF9hdmFpbGFiaWxpdHk9cmVxdWlyZSgnLi9hdmFpbGFiaWxpdHkuanMnKTt2YXIgX2F2YWlsYWJpbGl0eTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXZhaWxhYmlsaXR5KTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09Im9iamVjdCJ8fHR5cGVvZiBjYWxsPT09ImZ1bmN0aW9uIik/Y2FsbDpzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYodHlwZW9mIHN1cGVyQ2xhc3MhPT0iZnVuY3Rpb24iJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiBzdXBlckNsYXNzKTt9c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7aWYoc3VwZXJDbGFzcylPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzO30vKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8vLyBTZXJ2aWNlIEZyYW1ld29yawovLyBVdGlscwovLyBpbXBvcnQge2RpdmlkZVVSTH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMuanMnOwovKioKKiBIeXBlcnR5IFByZXNlbmNlOwoqIEBhdXRob3IgQXBpemVlIFtkZXZAYXBpemVlLmNvbV0KKiBAdmVyc2lvbiAwLjEuMAoqL3ZhciBVc2VyU3RhdHVzPWZ1bmN0aW9uKF9FdmVudEVtaXR0ZXIpe19pbmhlcml0cyhVc2VyU3RhdHVzLF9FdmVudEVtaXR0ZXIpO2Z1bmN0aW9uIFVzZXJTdGF0dXMoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVXNlclN0YXR1cyk7aWYoIWh5cGVydHlVUkwpdGhyb3cgbmV3IEVycm9yKCdUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtpZighYnVzKXRocm93IG5ldyBFcnJvcignVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7aWYoIWNvbmZpZ3VyYXRpb24pdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVXNlclN0YXR1cykuY2FsbCh0aGlzLGh5cGVydHlVUkwsYnVzLGNvbmZpZ3VyYXRpb24pKTtfdGhpcy5fc3luY2hlcj1uZXcgX1N5bmNoZXIuU3luY2hlcihoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKTtfdGhpcy5faHlwZXJ0eURpc2NvdmVyeT1uZXcgX0h5cGVydHlEaXNjb3ZlcnkyLmRlZmF1bHQoaHlwZXJ0eVVSTCxidXMpO190aGlzLl91c2VyU3RhdHVzRGVzY1VSTD0naHlwZXJ0eS1jYXRhbG9ndWU6Ly8nK25ldyBfdXJpanMyLmRlZmF1bHQoaHlwZXJ0eVVSTCkuaG9zdG5hbWUoKSsnLy53ZWxsLWtub3duL2RhdGFzY2hlbWFzL0NvbnRleHQnO190aGlzLl9oZWFydGJlYXQ9W107X3RoaXMuX3N5bmNoZXIub25Ob3RpZmljYXRpb24oZnVuY3Rpb24oZXZlbnQpe190aGlzLl9vbk5vdGlmaWNhdGlvbihldmVudCk7fSk7cmV0dXJuIF90aGlzO31fY3JlYXRlQ2xhc3MoVXNlclN0YXR1cyxbe2tleTonX29uTm90aWZpY2F0aW9uJyx2YWx1ZTpmdW5jdGlvbiBfb25Ob3RpZmljYXRpb24oZXZlbnQpe3ZhciBfdGhpczI9dGhpcztjb25zb2xlLmluZm8oJ1VzZXJTdGF0dXMgRXZlbnQgUmVjZWl2ZWQ6ICcsZXZlbnQpO2NvbnNvbGUubG9nKCdmcm9tIGh5cGVydHknLGV2ZW50LmZyb20pO2V2ZW50LmFjaygpO2lmKGV2ZW50LnNjaGVtYT09PXRoaXMuX3VzZXJTdGF0dXNEZXNjVVJMKXsvLyBTdWJzY3JpYmUgdG8gdXNlciBzdGF0dXMgcHJlc2VuY2UKdGhpcy5fc3luY2hlci5zdWJzY3JpYmUodGhpcy5fdXNlclN0YXR1c0Rlc2NVUkwsZXZlbnQudXJsKS50aGVuKGZ1bmN0aW9uKHN0YXR1c09iamVjdE9ic2VydmVyKXtjb25zb2xlLmluZm8oJy0tLS0tLS0tIFN0YXR1cyBPYnNlcnZlciByZWNlaXZlZCAtLS0tLS0tLS0nLHN0YXR1c09iamVjdE9ic2VydmVyKTtjb25zb2xlLmxvZygndHJpZ2dlciBzdGF0dXNDaGFuZ2UgZm9yJyxldmVudC5pZGVudGl0eSk7X3RoaXMyLnRyaWdnZXIoJ3N0YXR1c0NoYW5nZScse2lkZW50aXR5OmV2ZW50LmlkZW50aXR5LHN0YXR1czpfdGhpczIuZ2V0U3RhdHVzKHN0YXR1c09iamVjdE9ic2VydmVyKX0pO190aGlzMi5fbWFuYWdlUHJlc2VuY2VIZWFydGJlYXQoZXZlbnQuaWRlbnRpdHkpO3N0YXR1c09iamVjdE9ic2VydmVyLm9uQ2hhbmdlKCcqJyxmdW5jdGlvbigpe2NvbnNvbGUuaW5mbygnc3RhdHVzIGV2ZW50IHJlY2VpdmVkOicsZXZlbnQpO190aGlzMi50cmlnZ2VyKCdzdGF0dXNDaGFuZ2UnLHtpZGVudGl0eTpldmVudC5pZGVudGl0eSxzdGF0dXM6X3RoaXMyLmdldFN0YXR1cyhzdGF0dXNPYmplY3RPYnNlcnZlcil9KTtfdGhpczIuX21hbmFnZVByZXNlbmNlSGVhcnRiZWF0KGV2ZW50LmlkZW50aXR5KTt9KTtjb25zb2xlLmxvZyhldmVudC5pZGVudGl0eS5lbWFpbCwnaGFzIHN1YnNjcmliZSB0byBteSBzdGF0dXMgZGF0YSBvYmplY3QsIHNlbmQgaW52aXRlIHRvIGxpc3RlbiBtaW5lJyk7X3RoaXMyLl9zdGF0dXNPYmplY3RSZXBvcnRlci5pbnZpdGVPYnNlcnZlcnMoW2V2ZW50LmZyb21dKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe2NvbnNvbGUuZXJyb3IocmVhc29uKTt9KTt9fS8qKgogICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgYSBuZXcgc3RhdHVzIG9iamVjdCBzeW5jaGVyCiAgICogQHBhcmFtICB7VVJMLlVzZXJVUkx9IHBhcnRpY2lwYW50cyBMaXN0IG9mIFVzZXIgYWxsb3dlZAogICAqIEByZXR1cm4ge1Byb21pc2V9CiAgICovfSx7a2V5OidjcmVhdGUnLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZShwYXJ0aWNpcGFudHMpe3ZhciBfdGhpczM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTWFwcGluZyBQYXJ0aWNwYW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLScpO190aGlzMy5fbWFwcGluZ1VzZXIocGFydGljaXBhbnRzKS50aGVuKGZ1bmN0aW9uKGh5cGVydGllcyl7cmV0dXJuIF90aGlzMy5jcmVhdGVTeW5jaGVyKGh5cGVydGllcywoMCxfYXZhaWxhYmlsaXR5Mi5kZWZhdWx0KSgpKTt9KS50aGVuKGZ1bmN0aW9uKHN0YXR1c09iamVjdFJlcG9ydGVyKXtfdGhpczMuX3N0YXR1c09iamVjdFJlcG9ydGVyPXN0YXR1c09iamVjdFJlcG9ydGVyO190aGlzMy5fc3RhdHVzT2JqZWN0UmVwb3J0ZXIub25TdWJzY3JpcHRpb24oZnVuY3Rpb24oZXZlbnQpe2NvbnNvbGUuaW5mbygnLS0tLS0tLS0gU3RhdHVzIFJlcG9ydGVyIHJlY2VpdmVkIHN1YnNjcmlwdGlvbiByZXF1ZXN0IC0tLS0tLS0tLScsZXZlbnQpO2V2ZW50LmFjY2VwdCgpO2lmKGV2ZW50LnVybD09PV90aGlzMy5fc3RhdHVzT2JqZWN0UmVwb3J0ZXIuX293bmVyKXtjb25zb2xlLmxvZygnZGVmaW5lIG15IG93biBwcmVzZW5jZSBzdGF0ZSB0byBhdmFpbGFibGUnKTtfdGhpczMuc2V0U3RhdHVzKCdhdmFpbGFibGUnKTt9fSk7Ly8gc2V0IGludGVydmFsIGZvciBoZWFydGJlYXQKc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtfdGhpczMuX3NlbmRIZWFydGJlYXQoKTt9LDUwMDAwKTt9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe3JlamVjdChyZWFzb24pO30pO30pO319LHtrZXk6J2NyZWF0ZVN5bmNoZXInLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZVN5bmNoZXIoaHlwZXJ0aWVzLHN0YXR1cyl7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3luY2hlciBDcmVhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsaHlwZXJ0aWVzLHN0YXR1cyk7cmV0dXJuIHRoaXMuX3N5bmNoZXIuY3JlYXRlKHRoaXMuX3VzZXJTdGF0dXNEZXNjVVJMLGh5cGVydGllcyxzdGF0dXMpO319LHtrZXk6J2pvaW4nLHZhbHVlOmZ1bmN0aW9uIGpvaW4ocmVzb3VyY2Upe3ZhciBfdGhpczQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFN5bmNoZXIgc3Vic2NyaWJlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtfdGhpczQuX3N5bmNoZXIuc3Vic2NyaWJlKF90aGlzNC5fdXNlclN0YXR1c0Rlc2NVUkwscmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oZGF0YU9iamVjdE9ic2VydmVyKXtjb25zb2xlLmluZm8oJ0RhdGEgT2JqZWN0IE9ic2VydmVyOiAnLGRhdGFPYmplY3RPYnNlcnZlcik7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtyZWplY3QocmVhc29uKTt9KTt9KTt9fSx7a2V5OidnZXRTdGF0dXMnLHZhbHVlOmZ1bmN0aW9uIGdldFN0YXR1cyhzdGF0dXNPYnNlcnZlcil7dmFyIHN0YXRlPWZhbHNlO2lmKHR5cGVvZiBzdGF0dXNPYnNlcnZlciE9PSd1bmRlZmluZWQnKXtjb25zb2xlLmxvZygnZ2V0U3RhdHVzIGZyb20gb2JzZXJ2ZXI6JyxzdGF0dXNPYnNlcnZlci5kYXRhLnZhbHVlc1swXS52YWx1ZSk7cmV0dXJuIHN0YXR1c09ic2VydmVyLmRhdGEudmFsdWVzWzBdLnZhbHVlO31lbHNle2NvbnNvbGUubG9nKCdnZXRTdGF0dXMgZnJvbSByZXBvcnRlcjonLHRoaXMuX3N0YXR1c09iamVjdFJlcG9ydGVyLmRhdGEudmFsdWVzWzBdLnZhbHVlKTtyZXR1cm4gdGhpcy5fc3RhdHVzT2JqZWN0UmVwb3J0ZXIuZGF0YS52YWx1ZXNbMF0udmFsdWU7fXJldHVybiBzdGF0ZTt9fSx7a2V5OidzZXRTdGF0dXMnLHZhbHVlOmZ1bmN0aW9uIHNldFN0YXR1cyhuZXdTdGF0dXMpe2NvbnNvbGUubG9nKCdzZXRTdGF0dXMnLG5ld1N0YXR1cywnaW4gcmVwb3J0ZXInLHRoaXMuX3N0YXR1c09iamVjdFJlcG9ydGVyLmRhdGEpO3RoaXMuX3N0YXR1c09iamVjdFJlcG9ydGVyLmRhdGEudmFsdWVzWzBdLnZhbHVlPW5ld1N0YXR1czt0aGlzLl9zdGF0dXNPYmplY3RSZXBvcnRlci5kYXRhLnRpbWU9bmV3IERhdGUoKS5nZXRUaW1lKCk7fS8qKgogICAqIFVwZGF0ZSBzdGF0dXMgb2JqZWN0IGRhdGUKICAgKi99LHtrZXk6J19zZW5kSGVhcnRiZWF0Jyx2YWx1ZTpmdW5jdGlvbiBfc2VuZEhlYXJ0YmVhdCgpe2NvbnNvbGUubG9nKCdzZW5kIGhlYXJ0YmVhdCcpO3RoaXMuX3N0YXR1c09iamVjdFJlcG9ydGVyLmRhdGEudGltZT1uZXcgRGF0ZSgpLmdldFRpbWUoKTt9LyoqCiAgICogTW9uaXRvciB1c2VyIGFjdGl2aXR5IHdpdGhpbiBoZWFydGJlYXQgdGltZW91dCBwZXJpb2QKICAgKi99LHtrZXk6J19tYW5hZ2VQcmVzZW5jZUhlYXJ0YmVhdCcsdmFsdWU6ZnVuY3Rpb24gX21hbmFnZVByZXNlbmNlSGVhcnRiZWF0KGlkZW50aXR5KXt2YXIgX3RoaXM1PXRoaXM7Y29uc29sZS5sb2coJ3JlbmV3IGhlYXJ0YmVhdCBwZXJpb2QgZm9yJyxpZGVudGl0eSk7dmFyIGVtYWlsPWlkZW50aXR5LmVtYWlsO2lmKGVtYWlsIGluIHRoaXMuX2hlYXJ0YmVhdCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2hlYXJ0YmVhdFtlbWFpbF0pO310aGlzLl9oZWFydGJlYXRbZW1haWxdPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhlbWFpbCwnaGFzIGRpc2Nvbm5lY3QnKTtjbGVhclRpbWVvdXQoX3RoaXM1Ll9oZWFydGJlYXRbZW1haWxdKTtfdGhpczUudHJpZ2dlcignc3RhdHVzQ2hhbmdlJyx7aWRlbnRpdHk6aWRlbnRpdHksc3RhdHVzOid1bmF2YWlsYWJsZSd9KTt9LDYwMDAwKTt9fSx7a2V5OidfbWFwcGluZ1VzZXInLHZhbHVlOmZ1bmN0aW9uIF9tYXBwaW5nVXNlcih1c2VyTGlzdCl7dmFyIF90aGlzNj10aGlzO2NvbnNvbGUuaW5mbygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIF9tYXBwaW5nVXNlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyx1c2VyTGlzdCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgaHlwZXJ0aWVzPVtdO3ZhciBjb3VudD0wO2lmKHVzZXJMaXN0Lmxlbmd0aD09PTApcmVqZWN0KGh5cGVydGllcyk7dmFyIHJlc3VsdFVzZXJzPWZ1bmN0aW9uIHJlc3VsdFVzZXJzKCl7aWYoY291bnQ9PT11c2VyTGlzdC5sZW5ndGgpe2NvbnNvbGUuaW5mbygnSGF2ZSAnK2h5cGVydGllcy5sZW5ndGgrJ3VzZXJzIGZvdW5kOycpO3Jlc29sdmUoaHlwZXJ0aWVzKTt9fTt2YXIgYWN0aXZlVXNlcnM9ZnVuY3Rpb24gYWN0aXZlVXNlcnModXNlcil7Y291bnQrKztoeXBlcnRpZXMucHVzaCh1c2VyLmh5cGVydHlVUkwpO3Jlc3VsdFVzZXJzKCk7fTt2YXIgaW5hY3RpdmVVc2Vycz1mdW5jdGlvbiBpbmFjdGl2ZVVzZXJzKCl7Y291bnQrKztyZXN1bHRVc2VycygpO307dXNlckxpc3QuZm9yRWFjaChmdW5jdGlvbih1c2VyKXtjb25zb2xlLmxvZyh1c2VyKTtpZih1c2VyLmVtYWlsLmxlbmd0aCl7Y29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gX21hcHBpbmdVc2VyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nLHVzZXJMaXN0KTtyZXR1cm4gX3RoaXM2Ll9oeXBlcnR5RGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodXNlci5lbWFpbCx1c2VyLmRvbWFpbikudGhlbihhY3RpdmVVc2VycykuY2F0Y2goaW5hY3RpdmVVc2Vycyk7fX0pO30pO319XSk7cmV0dXJuIFVzZXJTdGF0dXM7fShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTtmdW5jdGlvbiBhY3RpdmF0ZShoeXBlcnR5VVJMLGJ1cyxjb25maWd1cmF0aW9uKXtyZXR1cm57bmFtZTonVXNlclN0YXR1cycsaW5zdGFuY2U6bmV3IFVzZXJTdGF0dXMoaHlwZXJ0eVVSTCxidXMsY29uZmlndXJhdGlvbil9O31tb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi4vdXRpbHMvRXZlbnRFbWl0dGVyLmpzIjo5LCIuL2F2YWlsYWJpbGl0eS5qcyI6OCwic2VydmljZS1mcmFtZXdvcmsvZGlzdC9IeXBlcnR5RGlzY292ZXJ5IjoxLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXIiOjIsInVyaWpzIjo1fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx7c2NoZW1hOiJjb250ZXh0IixpZDonXycrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsOSksdHlwZToicHJlc2VuY2UiLHRpbWU6IjAiLHZhbHVlczpbe25hbWU6ImF2YWlsYWJpbGl0eSIsdW5pdDoiYXZhaWxhYmlsaXR5Iix2YWx1ZToidW5hdmFpbGFibGUifV19KTt9Ozttb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSJpbiBkZXNjcmlwdG9yKWRlc2NyaXB0b3Iud3JpdGFibGU9dHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe2lmKHByb3RvUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO307fSgpO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fX0vKioKICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqKi8vKioKICogRXZlbnRFbWl0dGVyCiAqIEFsbCBjbGFzc2VzIHdoaWNoIGV4dGVuZHMgdGhpcywgY2FuIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgdHJpZ2dlciBldmVudHM7CiAqL3ZhciBFdmVudEVtaXR0ZXI9ZnVuY3Rpb24oKXsvKioKICAgICAqIEluaXRpYWxpemVzIHRoZSBFdmVudEVtaXR0ZXIKICAgICAqL2Z1bmN0aW9uIEV2ZW50RW1pdHRlcigpe19jbGFzc0NhbGxDaGVjayh0aGlzLEV2ZW50RW1pdHRlcik7Ly8gc2V0IHVwIGxpc3RlbmVyIGhvbGRlcgp0aGlzLl9fZXZlbnRMaXN0ZW5lcnM9e307fS8qKgogICAgICogYWRkRXZlbnRMaXN0ZW5lciBsaXN0ZW4gZm9yIGFuIGV2ZW50VHlwZQogICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgIGV2ZW50VHlwZSAtIGxpc3RlbmluZyBmb3IgdGhpcyB0eXBlIG9mIGV2ZW50CiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgY2IgICAgICAgIC0gY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBleGVjdXRlZCB3aGVuIHRoZSBldmVudCBpdCBpcyBpbnZva2VkCiAgICAgKi9fY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLFt7a2V5OiJhZGRFdmVudExpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSxjYil7Ly8gYWRkIGNhbGxiYWNrIHRvIHRoZSBsaXN0IG9mIGNhbGxiYWNrcyBmb3IgdGhpcyB0eXBlCi8vIGlmIHRoZSBsaXN0IGRvZXNuJ3QgZXhpc3QgeWV0LCBjcmVhdGUgaXQgd2l0aCB0aGUgY2FsbGJhY2sgYXMgbWVtYmVyCmlmKGNiIT11bmRlZmluZWQpe2lmKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXSl0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXT1bY2JdO2Vsc2UgdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV0ucHVzaChjYik7fX0vKioKICAgICAqIEludm9rZSB0aGUgZXZlbnRUeXBlCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHdpbGwgYmUgaW52b2tlZAogICAgICogQHBhcmFtICB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBhZGRFdmVudExpc3RlbmVyCiAgICAgKi99LHtrZXk6InRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRUeXBlLHBhcmFtcyl7Ly8gY2hlY2sgaWYgdGhlcmUgYXJlIGNhbGxiYWNrcyBmb3IgdGhpcyB0eXBlCnZhciBjYWxsYmFja3M9dGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50VHlwZV07aWYoY2FsbGJhY2tzKXtjYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbihjYil7Ly8gY2F0Y2ggZXJyb3JzIHRvIG1ha2Ugc3VyZSBldmVyeSBjYWxsYmFjayBpcyBiZWluZyBjYWxsZWQKdHJ5e2NiKHBhcmFtcyk7fWNhdGNoKGUpe2NvbnNvbGUud2FybigiY2FsbGluZyBsaXN0ZW5lciAiK2NiLm5hbWUrIiBmb3IgZXZlbnQgdHlwZSAiK2V2ZW50VHlwZSsiIHdpdGggcGFyYW1ldGVycyAnIitwYXJhbXMrIicgcmVzdWx0ZWQgaW4gYW4gZXJyb3IhIixlKTt9fSk7fX19XSk7cmV0dXJuIEV2ZW50RW1pdHRlcjt9KCk7ZXhwb3J0cy5kZWZhdWx0PUV2ZW50RW1pdHRlcjttb2R1bGUuZXhwb3J0cz1leHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XX0se30sWzddKSg3KQp9KTs=",
      "sourceCodeClassname": "UserStatus",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": 10015,
    "version": "0.1",
    "description": "Description of UserStatus",
    "language": "Javascript",
    "objectName": "UserStatus",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "hypertyType": [],
    "dataObjects": []
  }
}