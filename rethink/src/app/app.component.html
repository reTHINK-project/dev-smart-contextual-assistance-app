<notifications></notifications>

<!-- container -->
<div class="container-fluid">

  <div class="row">

    <!-- pusher -->
    <div class="mp-pusher wrapper {{contextOpened ? 'mp-pushed' : ''}}" (click)='onClickOutside($event)' id="mp-pusher">
      <nav context-menu></nav>

      <!-- scroller -->
      <div class="scroller">

        <!-- scroller-inner -->
        <div class="scroller-inner d-flex flex-column align-items-stretch">

          <div *ngIf="showAlert" [innerHTML]="notificationStatus" class="alert alert-warning m-0 rounded-0" role="alert"></div>

          <header class="header">
            <div class="row no-gutters">

              <!-- Logotipo -->
              <div class="col align-center">
                <a class="open-context" (click)="onOpenContext($event)"><i class="fa fa-lightbulb-o"></i></a>
                <a routerLink="/"><img src="../assets/img/rethinklogo2.png"></a>
              </div>

              <!-- My Identity -->
              <div class="col-6">
                <my-self *ngIf="myIdentity" [model]="myIdentity"></my-self>
              </div>

            </div>

            <div class="row">

              <div class="secondary-menu col-2">

              </div>

              <!-- breadcrumb -->
              <div class="col-10">
                <!-- TODO optimize the openContextMenu process, should be only on the 3 dots -->
                <ul [hidden]="!ready"  (openContext)="onOpenContext($event)" context-breadcrumb></ul>
              </div>

            </div>

          </header>

          <router-outlet></router-outlet>

          <!-- Loading spinner when wait for the auth and app be ready -->
          <div *ngIf="!ready" class="main-content">
            <div class="content-panel">
              <span>Loading {{ status }}</span>
            </div>
          </div>

        </div>
        <!-- /scroller-inner -->
      </div>
      <!-- /scroller -->
    </div>

  </div>
  <!-- /pusher -->
</div>
<!-- /container -->
